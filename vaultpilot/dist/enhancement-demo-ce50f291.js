"use strict";var e=require("./main-30ee03f2.js"),n=require("obsidian");class t extends n.Modal{constructor(e,n){super(e),this.plugin=n}onOpen(){const{contentEl:e}=this;e.empty(),e.createEl("h2",{text:"VaultPilot Enhancement Features Demo"}),this.createKeyboardShortcutsDemo(e),this.createProgressIndicatorDemo(e),this.createPerformanceDemo(e),this.createWebSocketDemo(e)}createKeyboardShortcutsDemo(e){const t=e.createDiv({cls:"enhancement-demo-section"});t.createEl("h3",{text:"‚å®Ô∏è Keyboard Shortcuts"});t.createEl("p").innerHTML="\n            <strong>20+ keyboard shortcuts are now available!</strong><br>\n            Try these shortcuts:\n            <ul>\n                <li><code>Ctrl+Shift+Enter</code> - Open VaultPilot Chat</li>\n                <li><code>Ctrl+Shift+S</code> - Smart Search</li>\n                <li><code>Ctrl+Space</code> - AI Completion</li>\n                <li><code>Ctrl+Shift+H</code> - Show All Shortcuts</li>\n            </ul>\n        ";t.createEl("button",{text:"Show All Keyboard Shortcuts"}).onclick=()=>{if(this.plugin.keyboardHandler){this.plugin.keyboardHandler.getShortcuts();const e=this.plugin.keyboardHandler.getShortcuts(),t=new n.Modal(this.app);t.titleEl.textContent="VaultPilot Keyboard Shortcuts";const a=t.contentEl;a.style.maxHeight="70vh",a.style.overflowY="auto",e.forEach(e=>{const n=a.createDiv({cls:"shortcut-item"});n.style.cssText="\n                        display: flex; \n                        justify-content: space-between; \n                        padding: 8px; \n                        margin: 4px 0; \n                        background: var(--background-secondary); \n                        border-radius: 4px;\n                    ";const t=n.createSpan({cls:"shortcut-keys"});t.textContent=`${e.modifiers.join(" + ")} + ${e.key.replace("Key","")}`,t.style.cssText="\n                        font-family: monospace; \n                        background: var(--background-primary-alt); \n                        padding: 2px 6px; \n                        border-radius: 3px;\n                    ";n.createSpan({cls:"shortcut-desc"}).textContent=e.description}),t.open()}}}createProgressIndicatorDemo(e){const n=e.createDiv({cls:"enhancement-demo-section"});n.createEl("h3",{text:"üìä Progress Indicators"}),n.createEl("p",{text:"Real-time progress bars with animations, ETA calculation, and WebSocket updates."});const t=n.createDiv({cls:"demo-buttons"});t.style.cssText="display: flex; gap: 10px; flex-wrap: wrap;";t.createEl("button",{text:"Quick Progress (3s)"}).onclick=()=>{this.demoQuickProgress()};t.createEl("button",{text:"Long Progress (10s)"}).onclick=()=>{this.demoLongProgress()};t.createEl("button",{text:"Multiple Progress"}).onclick=()=>{this.demoMultipleProgress()}}createPerformanceDemo(e){const t=e.createDiv({cls:"enhancement-demo-section"});t.createEl("h3",{text:"‚ö° Performance Optimization"}),t.createEl("p",{text:"Intelligent caching, request deduplication, and performance metrics."});const a=t.createDiv({cls:"demo-buttons"});a.style.cssText="display: flex; gap: 10px; flex-wrap: wrap;";a.createEl("button",{text:"Test Caching"}).onclick=()=>{this.demoCaching()};a.createEl("button",{text:"Show Metrics"}).onclick=()=>{this.showPerformanceMetrics()};a.createEl("button",{text:"Clear Cache"}).onclick=()=>{this.plugin.enhancementManager&&(this.plugin.enhancementManager.clearCache(),new n.Notice("Cache cleared successfully"))}}createWebSocketDemo(e){var t;const a=e.createDiv({cls:"enhancement-demo-section"});a.createEl("h3",{text:"üîó WebSocket Features"});const r=a.createDiv(),i=(null===(t=this.plugin.enhancementManager)||void 0===t?void 0:t.isWebSocketConnected())||!1;r.innerHTML=`\n            <p>WebSocket Status: \n                <span style="color: ${i?"var(--color-green)":"var(--color-red)"};">\n                    ${i?"üü¢ Connected":"üî¥ Disconnected"}\n                </span>\n            </p>\n            <p>Real-time features: Progress updates, Performance metrics, Dynamic shortcuts</p>\n        `;a.createEl("button",{text:"Test WebSocket Connection"}).onclick=()=>{var e;const t=null===(e=this.plugin.enhancementManager)||void 0===e?void 0:e.isWebSocketConnected();new n.Notice("WebSocket is "+(t?"connected":"disconnected"),3e3)}}demoQuickProgress(){if(!this.plugin.enhancementManager)return void new n.Notice("Enhancement Manager not initialized");const e="demo-quick-"+Date.now();this.plugin.enhancementManager.showProgress({id:e,title:"Quick Demo Task",message:"Processing...",percentage:0,eta:3,cancelable:!0});let t=0;const a=setInterval(()=>{var n;t+=33.33,t>=100&&(t=100,clearInterval(a),setTimeout(()=>{var n;null===(n=this.plugin.enhancementManager)||void 0===n||n.progressIndicator.hideProgress(e)},500)),null===(n=this.plugin.enhancementManager)||void 0===n||n.progressIndicator.updateProgress(e,{percentage:t,message:t<100?"Processing...":"Complete!",eta:t<100?(100-t)/33.33:0})},1e3)}demoLongProgress(){if(!this.plugin.enhancementManager)return void new n.Notice("Enhancement Manager not initialized");const e="demo-long-"+Date.now();this.plugin.enhancementManager.showProgress({id:e,title:"Long Running Task",message:"Analyzing vault structure...",percentage:0,eta:10,cancelable:!0});const t=[{msg:"Analyzing vault structure...",duration:2e3},{msg:"Processing files...",duration:3e3},{msg:"Generating insights...",duration:2e3},{msg:"Optimizing performance...",duration:2e3},{msg:"Finalizing results...",duration:1e3}];let a=0,r=0;const i=()=>{var n,o;if(a>=t.length)return null===(n=this.plugin.enhancementManager)||void 0===n||n.progressIndicator.updateProgress(e,{percentage:100,message:"Complete!",eta:0}),void setTimeout(()=>{var n;null===(n=this.plugin.enhancementManager)||void 0===n||n.progressIndicator.hideProgress(e)},1e3);const s=t[a],c=100/t.length;null===(o=this.plugin.enhancementManager)||void 0===o||o.progressIndicator.updateProgress(e,{percentage:r,message:s.msg,eta:2*(t.length-a)}),setTimeout(()=>{r+=c,a++,i()},s.duration)};i()}demoMultipleProgress(){if(!this.plugin.enhancementManager)return void new n.Notice("Enhancement Manager not initialized");[{id:"task1",title:"Backup Creation",duration:5e3},{id:"task2",title:"File Analysis",duration:7e3},{id:"task3",title:"Index Update",duration:3e3}].forEach((e,n)=>{setTimeout(()=>{var n;const t=`demo-multi-${e.id}-${Date.now()}`;null===(n=this.plugin.enhancementManager)||void 0===n||n.showProgress({id:t,title:e.title,message:"Starting...",percentage:0,eta:e.duration/1e3,cancelable:!0});let a=0;const r=setInterval(()=>{var n;a+=10,a>=100&&(a=100,clearInterval(r),setTimeout(()=>{var e;null===(e=this.plugin.enhancementManager)||void 0===e||e.progressIndicator.hideProgress(t)},500)),null===(n=this.plugin.enhancementManager)||void 0===n||n.progressIndicator.updateProgress(t,{percentage:a,message:a<100?"Processing...":"Complete!",eta:a<100?(100-a)/10*(e.duration/1e4):0})},e.duration/10)},1e3*n)})}demoCaching(){return e.__awaiter(this,void 0,void 0,function*(){if(!this.plugin.enhancementManager)return void new n.Notice("Enhancement Manager not initialized");const e="demo-cache-test",t=performance.now();try{yield this.plugin.enhancementManager.optimizedAPICall(e,()=>new Promise(e=>setTimeout(()=>e({data:"test response"}),1e3)));const a=performance.now()-t,r=performance.now();yield this.plugin.enhancementManager.optimizedAPICall(e,()=>new Promise(e=>setTimeout(()=>e({data:"test response"}),1e3)));const i=performance.now()-r;new n.Notice(`First request: ${Math.round(a)}ms (cache miss)\nSecond request: ${Math.round(i)}ms (cache hit)`,5e3)}catch(e){new n.Notice("Cache test failed: "+e)}})}showPerformanceMetrics(){if(!this.plugin.enhancementManager)return void new n.Notice("Enhancement Manager not initialized");const e=this.plugin.enhancementManager.getPerformanceMetrics(),t=this.plugin.enhancementManager.getCacheHitRate(),a=new n.Modal(this.app);a.titleEl.textContent="Performance Metrics";a.contentEl.innerHTML=`\n            <div class="vaultpilot-metrics-container">\n                <div class="metrics-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px;">\n                    <div class="metric-item" style="background: var(--background-secondary); padding: 12px; border-radius: 6px;">\n                        <div class="metric-label">Total Requests</div>\n                        <div class="metric-value">${e.totalRequests}</div>\n                    </div>\n                    <div class="metric-item" style="background: var(--background-secondary); padding: 12px; border-radius: 6px;">\n                        <div class="metric-label">Cache Hit Rate</div>\n                        <div class="metric-value">${Math.round(t)}%</div>\n                    </div>\n                    <div class="metric-item" style="background: var(--background-secondary); padding: 12px; border-radius: 6px;">\n                        <div class="metric-label">Avg Response Time</div>\n                        <div class="metric-value">${Math.round(e.averageResponseTime)}ms</div>\n                    </div>\n                    <div class="metric-item" style="background: var(--background-secondary); padding: 12px; border-radius: 6px;">\n                        <div class="metric-label">Cache Size</div>\n                        <div class="metric-value">${e.currentCacheSize} items</div>\n                    </div>\n                    <div class="metric-item" style="background: var(--background-secondary); padding: 12px; border-radius: 6px;">\n                        <div class="metric-label">Memory Usage</div>\n                        <div class="metric-value">${Math.round(e.memoryUsage/1024)} KB</div>\n                    </div>\n                    <div class="metric-item" style="background: var(--background-secondary); padding: 12px; border-radius: 6px;">\n                        <div class="metric-label">Fastest Response</div>\n                        <div class="metric-value">${Math.round(e.fastestResponse)}ms</div>\n                    </div>\n                </div>\n            </div>\n        `,a.open()}onClose(){const{contentEl:e}=this;e.empty()}}const a="vaultpilot-demo-styles";if(!document.getElementById(a)){const e=document.createElement("style");e.id=a,e.textContent="\n.enhancement-demo-section {\n    margin: 20px 0;\n    padding: 15px;\n    border: 1px solid var(--background-modifier-border);\n    border-radius: 8px;\n    background: var(--background-secondary);\n}\n\n.enhancement-demo-section h3 {\n    margin-top: 0;\n    color: var(--text-accent);\n}\n\n.demo-buttons {\n    margin-top: 10px;\n}\n\n.demo-buttons button {\n    padding: 8px 16px;\n    margin: 4px;\n    border: 1px solid var(--background-modifier-border);\n    border-radius: 4px;\n    background: var(--interactive-normal);\n    color: var(--text-normal);\n    cursor: pointer;\n    transition: background-color 0.2s;\n}\n\n.demo-buttons button:hover {\n    background: var(--interactive-hover);\n}\n\n.shortcut-item {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 8px;\n    margin: 4px 0;\n    background: var(--background-secondary);\n    border-radius: 4px;\n}\n\n.metric-label {\n    color: var(--text-muted);\n    font-size: 0.85em;\n    margin-bottom: 4px;\n    text-transform: uppercase;\n}\n\n.metric-value {\n    color: var(--text-normal);\n    font-size: 1.2em;\n    font-weight: 600;\n}\n",document.head.appendChild(e)}exports.VaultPilotEnhancementDemo=t;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZW5oYW5jZW1lbnQtZGVtby1jZTUwZjI5MS5qcyIsInNvdXJjZXMiOlsiLi4vc3JjL3ZhdWx0LW1hbmFnZW1lbnQvZW5oYW5jZW1lbnQtZGVtby50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFZhdWx0UGlsb3QgRW5oYW5jZW1lbnQgRmVhdHVyZXMgRGVtb1xuICogRGVtb25zdHJhdGVzIHRoZSBuZXcga2V5Ym9hcmQgc2hvcnRjdXRzLCBwcm9ncmVzcyBpbmRpY2F0b3JzLCBhbmQgcGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uXG4gKi9cblxuaW1wb3J0IHsgQXBwLCBNb2RhbCwgTm90aWNlIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IFZhdWx0UGlsb3RQbHVnaW4gZnJvbSAnLi4vbWFpbic7XG5cbmV4cG9ydCBjbGFzcyBWYXVsdFBpbG90RW5oYW5jZW1lbnREZW1vIGV4dGVuZHMgTW9kYWwge1xuICAgIHByaXZhdGUgcGx1Z2luOiBWYXVsdFBpbG90UGx1Z2luO1xuXG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogVmF1bHRQaWxvdFBsdWdpbikge1xuICAgICAgICBzdXBlcihhcHApO1xuICAgICAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICB9XG5cbiAgICBvbk9wZW4oKSB7XG4gICAgICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuICAgICAgICBjb250ZW50RWwuZW1wdHkoKTtcblxuICAgICAgICBjb250ZW50RWwuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAnVmF1bHRQaWxvdCBFbmhhbmNlbWVudCBGZWF0dXJlcyBEZW1vJyB9KTtcblxuICAgICAgICAvLyBEZW1vIFNlY3Rpb24gMTogS2V5Ym9hcmQgU2hvcnRjdXRzXG4gICAgICAgIHRoaXMuY3JlYXRlS2V5Ym9hcmRTaG9ydGN1dHNEZW1vKGNvbnRlbnRFbCk7XG5cbiAgICAgICAgLy8gRGVtbyBTZWN0aW9uIDI6IFByb2dyZXNzIEluZGljYXRvcnNcbiAgICAgICAgdGhpcy5jcmVhdGVQcm9ncmVzc0luZGljYXRvckRlbW8oY29udGVudEVsKTtcblxuICAgICAgICAvLyBEZW1vIFNlY3Rpb24gMzogUGVyZm9ybWFuY2UgT3B0aW1pemF0aW9uXG4gICAgICAgIHRoaXMuY3JlYXRlUGVyZm9ybWFuY2VEZW1vKGNvbnRlbnRFbCk7XG5cbiAgICAgICAgLy8gRGVtbyBTZWN0aW9uIDQ6IFdlYlNvY2tldCBGZWF0dXJlc1xuICAgICAgICB0aGlzLmNyZWF0ZVdlYlNvY2tldERlbW8oY29udGVudEVsKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZUtleWJvYXJkU2hvcnRjdXRzRGVtbyhjb250YWluZXI6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IHNlY3Rpb24gPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnZW5oYW5jZW1lbnQtZGVtby1zZWN0aW9uJyB9KTtcbiAgICAgICAgc2VjdGlvbi5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICfijKjvuI8gS2V5Ym9hcmQgU2hvcnRjdXRzJyB9KTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gc2VjdGlvbi5jcmVhdGVFbCgncCcpO1xuICAgICAgICBkZXNjcmlwdGlvbi5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8c3Ryb25nPjIwKyBrZXlib2FyZCBzaG9ydGN1dHMgYXJlIG5vdyBhdmFpbGFibGUhPC9zdHJvbmc+PGJyPlxuICAgICAgICAgICAgVHJ5IHRoZXNlIHNob3J0Y3V0czpcbiAgICAgICAgICAgIDx1bD5cbiAgICAgICAgICAgICAgICA8bGk+PGNvZGU+Q3RybCtTaGlmdCtFbnRlcjwvY29kZT4gLSBPcGVuIFZhdWx0UGlsb3QgQ2hhdDwvbGk+XG4gICAgICAgICAgICAgICAgPGxpPjxjb2RlPkN0cmwrU2hpZnQrUzwvY29kZT4gLSBTbWFydCBTZWFyY2g8L2xpPlxuICAgICAgICAgICAgICAgIDxsaT48Y29kZT5DdHJsK1NwYWNlPC9jb2RlPiAtIEFJIENvbXBsZXRpb248L2xpPlxuICAgICAgICAgICAgICAgIDxsaT48Y29kZT5DdHJsK1NoaWZ0K0g8L2NvZGU+IC0gU2hvdyBBbGwgU2hvcnRjdXRzPC9saT5cbiAgICAgICAgICAgIDwvdWw+XG4gICAgICAgIGA7XG5cbiAgICAgICAgY29uc3QgYnV0dG9uID0gc2VjdGlvbi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnU2hvdyBBbGwgS2V5Ym9hcmQgU2hvcnRjdXRzJyB9KTtcbiAgICAgICAgYnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5wbHVnaW4ua2V5Ym9hcmRIYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4ua2V5Ym9hcmRIYW5kbGVyLmdldFNob3J0Y3V0cygpO1xuICAgICAgICAgICAgICAgIC8vIE1hbnVhbGx5IHRyaWdnZXIgdGhlIHNob3J0Y3V0cyBoZWxwXG4gICAgICAgICAgICAgICAgY29uc3Qgc2hvcnRjdXRzID0gdGhpcy5wbHVnaW4ua2V5Ym9hcmRIYW5kbGVyLmdldFNob3J0Y3V0cygpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhlbHBNb2RhbCA9IG5ldyBNb2RhbCh0aGlzLmFwcCk7XG4gICAgICAgICAgICAgICAgaGVscE1vZGFsLnRpdGxlRWwudGV4dENvbnRlbnQgPSAnVmF1bHRQaWxvdCBLZXlib2FyZCBTaG9ydGN1dHMnO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBoZWxwTW9kYWwuY29udGVudEVsO1xuICAgICAgICAgICAgICAgIGNvbnRlbnQuc3R5bGUubWF4SGVpZ2h0ID0gJzcwdmgnO1xuICAgICAgICAgICAgICAgIGNvbnRlbnQuc3R5bGUub3ZlcmZsb3dZID0gJ2F1dG8nO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHNob3J0Y3V0cy5mb3JFYWNoKHNob3J0Y3V0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IGNvbnRlbnQuY3JlYXRlRGl2KHsgY2xzOiAnc2hvcnRjdXQtaXRlbScgfSk7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7IFxuICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOyBcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDhweDsgXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDRweCAwOyBcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTsgXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgICAgICAgICAgICAgIGA7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXlzID0gaXRlbS5jcmVhdGVTcGFuKHsgY2xzOiAnc2hvcnRjdXQta2V5cycgfSk7XG4gICAgICAgICAgICAgICAgICAgIGtleXMudGV4dENvbnRlbnQgPSBgJHtzaG9ydGN1dC5tb2RpZmllcnMuam9pbignICsgJyl9ICsgJHtzaG9ydGN1dC5rZXkucmVwbGFjZSgnS2V5JywgJycpfWA7XG4gICAgICAgICAgICAgICAgICAgIGtleXMuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBtb25vc3BhY2U7IFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5LWFsdCk7IFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMnB4IDZweDsgXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAzcHg7XG4gICAgICAgICAgICAgICAgICAgIGA7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZXNjID0gaXRlbS5jcmVhdGVTcGFuKHsgY2xzOiAnc2hvcnRjdXQtZGVzYycgfSk7XG4gICAgICAgICAgICAgICAgICAgIGRlc2MudGV4dENvbnRlbnQgPSBzaG9ydGN1dC5kZXNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBoZWxwTW9kYWwub3BlbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlUHJvZ3Jlc3NJbmRpY2F0b3JEZW1vKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgY29uc3Qgc2VjdGlvbiA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdlbmhhbmNlbWVudC1kZW1vLXNlY3Rpb24nIH0pO1xuICAgICAgICBzZWN0aW9uLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ/Cfk4ogUHJvZ3Jlc3MgSW5kaWNhdG9ycycgfSk7XG4gICAgICAgIFxuICAgICAgICBzZWN0aW9uLmNyZWF0ZUVsKCdwJywgeyBcbiAgICAgICAgICAgIHRleHQ6ICdSZWFsLXRpbWUgcHJvZ3Jlc3MgYmFycyB3aXRoIGFuaW1hdGlvbnMsIEVUQSBjYWxjdWxhdGlvbiwgYW5kIFdlYlNvY2tldCB1cGRhdGVzLicgXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGJ1dHRvbnNEaXYgPSBzZWN0aW9uLmNyZWF0ZURpdih7IGNsczogJ2RlbW8tYnV0dG9ucycgfSk7XG4gICAgICAgIGJ1dHRvbnNEaXYuc3R5bGUuY3NzVGV4dCA9ICdkaXNwbGF5OiBmbGV4OyBnYXA6IDEwcHg7IGZsZXgtd3JhcDogd3JhcDsnO1xuXG4gICAgICAgIC8vIFF1aWNrIFByb2dyZXNzIERlbW9cbiAgICAgICAgY29uc3QgcXVpY2tQcm9ncmVzc0J0biA9IGJ1dHRvbnNEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ1F1aWNrIFByb2dyZXNzICgzcyknIH0pO1xuICAgICAgICBxdWlja1Byb2dyZXNzQnRuLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRlbW9RdWlja1Byb2dyZXNzKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gTG9uZyBQcm9ncmVzcyBEZW1vXG4gICAgICAgIGNvbnN0IGxvbmdQcm9ncmVzc0J0biA9IGJ1dHRvbnNEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0xvbmcgUHJvZ3Jlc3MgKDEwcyknIH0pO1xuICAgICAgICBsb25nUHJvZ3Jlc3NCdG4ub25jbGljayA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGVtb0xvbmdQcm9ncmVzcygpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIE11bHRpcGxlIFByb2dyZXNzIERlbW9cbiAgICAgICAgY29uc3QgbXVsdGlQcm9ncmVzc0J0biA9IGJ1dHRvbnNEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ011bHRpcGxlIFByb2dyZXNzJyB9KTtcbiAgICAgICAgbXVsdGlQcm9ncmVzc0J0bi5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kZW1vTXVsdGlwbGVQcm9ncmVzcygpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlUGVyZm9ybWFuY2VEZW1vKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgY29uc3Qgc2VjdGlvbiA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdlbmhhbmNlbWVudC1kZW1vLXNlY3Rpb24nIH0pO1xuICAgICAgICBzZWN0aW9uLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ+KaoSBQZXJmb3JtYW5jZSBPcHRpbWl6YXRpb24nIH0pO1xuICAgICAgICBcbiAgICAgICAgc2VjdGlvbi5jcmVhdGVFbCgncCcsIHsgXG4gICAgICAgICAgICB0ZXh0OiAnSW50ZWxsaWdlbnQgY2FjaGluZywgcmVxdWVzdCBkZWR1cGxpY2F0aW9uLCBhbmQgcGVyZm9ybWFuY2UgbWV0cmljcy4nIFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBidXR0b25zRGl2ID0gc2VjdGlvbi5jcmVhdGVEaXYoeyBjbHM6ICdkZW1vLWJ1dHRvbnMnIH0pO1xuICAgICAgICBidXR0b25zRGl2LnN0eWxlLmNzc1RleHQgPSAnZGlzcGxheTogZmxleDsgZ2FwOiAxMHB4OyBmbGV4LXdyYXA6IHdyYXA7JztcblxuICAgICAgICAvLyBDYWNoZSBEZW1vXG4gICAgICAgIGNvbnN0IGNhY2hlQnRuID0gYnV0dG9uc0Rpdi5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnVGVzdCBDYWNoaW5nJyB9KTtcbiAgICAgICAgY2FjaGVCdG4ub25jbGljayA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGVtb0NhY2hpbmcoKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBQZXJmb3JtYW5jZSBNZXRyaWNzXG4gICAgICAgIGNvbnN0IG1ldHJpY3NCdG4gPSBidXR0b25zRGl2LmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdTaG93IE1ldHJpY3MnIH0pO1xuICAgICAgICBtZXRyaWNzQnRuLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNob3dQZXJmb3JtYW5jZU1ldHJpY3MoKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBDbGVhciBDYWNoZVxuICAgICAgICBjb25zdCBjbGVhckJ0biA9IGJ1dHRvbnNEaXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0NsZWFyIENhY2hlJyB9KTtcbiAgICAgICAgY2xlYXJCdG4ub25jbGljayA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBsdWdpbi5lbmhhbmNlbWVudE1hbmFnZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5lbmhhbmNlbWVudE1hbmFnZXIuY2xlYXJDYWNoZSgpO1xuICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoJ0NhY2hlIGNsZWFyZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVXZWJTb2NrZXREZW1vKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgY29uc3Qgc2VjdGlvbiA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdlbmhhbmNlbWVudC1kZW1vLXNlY3Rpb24nIH0pO1xuICAgICAgICBzZWN0aW9uLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ/CflJcgV2ViU29ja2V0IEZlYXR1cmVzJyB9KTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHN0YXR1c0RpdiA9IHNlY3Rpb24uY3JlYXRlRGl2KCk7XG4gICAgICAgIGNvbnN0IGlzQ29ubmVjdGVkID0gdGhpcy5wbHVnaW4uZW5oYW5jZW1lbnRNYW5hZ2VyPy5pc1dlYlNvY2tldENvbm5lY3RlZCgpIHx8IGZhbHNlO1xuICAgICAgICBcbiAgICAgICAgc3RhdHVzRGl2LmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxwPldlYlNvY2tldCBTdGF0dXM6IFxuICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPVwiY29sb3I6ICR7aXNDb25uZWN0ZWQgPyAndmFyKC0tY29sb3ItZ3JlZW4pJyA6ICd2YXIoLS1jb2xvci1yZWQpJ307XCI+XG4gICAgICAgICAgICAgICAgICAgICR7aXNDb25uZWN0ZWQgPyAn8J+foiBDb25uZWN0ZWQnIDogJ/CflLQgRGlzY29ubmVjdGVkJ31cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8cD5SZWFsLXRpbWUgZmVhdHVyZXM6IFByb2dyZXNzIHVwZGF0ZXMsIFBlcmZvcm1hbmNlIG1ldHJpY3MsIER5bmFtaWMgc2hvcnRjdXRzPC9wPlxuICAgICAgICBgO1xuXG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IHNlY3Rpb24uY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ1Rlc3QgV2ViU29ja2V0IENvbm5lY3Rpb24nIH0pO1xuICAgICAgICBidXR0b24ub25jbGljayA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbm5lY3RlZCA9IHRoaXMucGx1Z2luLmVuaGFuY2VtZW50TWFuYWdlcj8uaXNXZWJTb2NrZXRDb25uZWN0ZWQoKTtcbiAgICAgICAgICAgIG5ldyBOb3RpY2UoYFdlYlNvY2tldCBpcyAke2Nvbm5lY3RlZCA/ICdjb25uZWN0ZWQnIDogJ2Rpc2Nvbm5lY3RlZCd9YCwgMzAwMCk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkZW1vUXVpY2tQcm9ncmVzcygpIHtcbiAgICAgICAgaWYgKCF0aGlzLnBsdWdpbi5lbmhhbmNlbWVudE1hbmFnZXIpIHtcbiAgICAgICAgICAgIG5ldyBOb3RpY2UoJ0VuaGFuY2VtZW50IE1hbmFnZXIgbm90IGluaXRpYWxpemVkJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwcm9ncmVzc0lkID0gJ2RlbW8tcXVpY2stJyArIERhdGUubm93KCk7XG4gICAgICAgIHRoaXMucGx1Z2luLmVuaGFuY2VtZW50TWFuYWdlci5zaG93UHJvZ3Jlc3Moe1xuICAgICAgICAgICAgaWQ6IHByb2dyZXNzSWQsXG4gICAgICAgICAgICB0aXRsZTogJ1F1aWNrIERlbW8gVGFzaycsXG4gICAgICAgICAgICBtZXNzYWdlOiAnUHJvY2Vzc2luZy4uLicsXG4gICAgICAgICAgICBwZXJjZW50YWdlOiAwLFxuICAgICAgICAgICAgZXRhOiAzLFxuICAgICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZVxuICAgICAgICB9KTtcblxuICAgICAgICBsZXQgcHJvZ3Jlc3MgPSAwO1xuICAgICAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgIHByb2dyZXNzICs9IDMzLjMzO1xuICAgICAgICAgICAgaWYgKHByb2dyZXNzID49IDEwMCkge1xuICAgICAgICAgICAgICAgIHByb2dyZXNzID0gMTAwO1xuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5lbmhhbmNlbWVudE1hbmFnZXI/LnByb2dyZXNzSW5kaWNhdG9yLmhpZGVQcm9ncmVzcyhwcm9ncmVzc0lkKTtcbiAgICAgICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5lbmhhbmNlbWVudE1hbmFnZXI/LnByb2dyZXNzSW5kaWNhdG9yLnVwZGF0ZVByb2dyZXNzKHByb2dyZXNzSWQsIHtcbiAgICAgICAgICAgICAgICBwZXJjZW50YWdlOiBwcm9ncmVzcyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBwcm9ncmVzcyA8IDEwMCA/ICdQcm9jZXNzaW5nLi4uJyA6ICdDb21wbGV0ZSEnLFxuICAgICAgICAgICAgICAgIGV0YTogcHJvZ3Jlc3MgPCAxMDAgPyAoMTAwIC0gcHJvZ3Jlc3MpIC8gMzMuMzMgOiAwXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgMTAwMCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkZW1vTG9uZ1Byb2dyZXNzKCkge1xuICAgICAgICBpZiAoIXRoaXMucGx1Z2luLmVuaGFuY2VtZW50TWFuYWdlcikge1xuICAgICAgICAgICAgbmV3IE5vdGljZSgnRW5oYW5jZW1lbnQgTWFuYWdlciBub3QgaW5pdGlhbGl6ZWQnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHByb2dyZXNzSWQgPSAnZGVtby1sb25nLScgKyBEYXRlLm5vdygpO1xuICAgICAgICB0aGlzLnBsdWdpbi5lbmhhbmNlbWVudE1hbmFnZXIuc2hvd1Byb2dyZXNzKHtcbiAgICAgICAgICAgIGlkOiBwcm9ncmVzc0lkLFxuICAgICAgICAgICAgdGl0bGU6ICdMb25nIFJ1bm5pbmcgVGFzaycsXG4gICAgICAgICAgICBtZXNzYWdlOiAnQW5hbHl6aW5nIHZhdWx0IHN0cnVjdHVyZS4uLicsXG4gICAgICAgICAgICBwZXJjZW50YWdlOiAwLFxuICAgICAgICAgICAgZXRhOiAxMCxcbiAgICAgICAgICAgIGNhbmNlbGFibGU6IHRydWVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3Qgc3RhZ2VzID0gW1xuICAgICAgICAgICAgeyBtc2c6ICdBbmFseXppbmcgdmF1bHQgc3RydWN0dXJlLi4uJywgZHVyYXRpb246IDIwMDAgfSxcbiAgICAgICAgICAgIHsgbXNnOiAnUHJvY2Vzc2luZyBmaWxlcy4uLicsIGR1cmF0aW9uOiAzMDAwIH0sXG4gICAgICAgICAgICB7IG1zZzogJ0dlbmVyYXRpbmcgaW5zaWdodHMuLi4nLCBkdXJhdGlvbjogMjAwMCB9LFxuICAgICAgICAgICAgeyBtc2c6ICdPcHRpbWl6aW5nIHBlcmZvcm1hbmNlLi4uJywgZHVyYXRpb246IDIwMDAgfSxcbiAgICAgICAgICAgIHsgbXNnOiAnRmluYWxpemluZyByZXN1bHRzLi4uJywgZHVyYXRpb246IDEwMDAgfVxuICAgICAgICBdO1xuXG4gICAgICAgIGxldCBjdXJyZW50U3RhZ2UgPSAwO1xuICAgICAgICBsZXQgdG90YWxQcm9ncmVzcyA9IDA7XG5cbiAgICAgICAgY29uc3QgcnVuU3RhZ2UgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFN0YWdlID49IHN0YWdlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5lbmhhbmNlbWVudE1hbmFnZXI/LnByb2dyZXNzSW5kaWNhdG9yLnVwZGF0ZVByb2dyZXNzKHByb2dyZXNzSWQsIHtcbiAgICAgICAgICAgICAgICAgICAgcGVyY2VudGFnZTogMTAwLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnQ29tcGxldGUhJyxcbiAgICAgICAgICAgICAgICAgICAgZXRhOiAwXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLmVuaGFuY2VtZW50TWFuYWdlcj8ucHJvZ3Jlc3NJbmRpY2F0b3IuaGlkZVByb2dyZXNzKHByb2dyZXNzSWQpO1xuICAgICAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3Qgc3RhZ2UgPSBzdGFnZXNbY3VycmVudFN0YWdlXTtcbiAgICAgICAgICAgIGNvbnN0IHN0YWdlUHJvZ3Jlc3MgPSAxMDAgLyBzdGFnZXMubGVuZ3RoO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5lbmhhbmNlbWVudE1hbmFnZXI/LnByb2dyZXNzSW5kaWNhdG9yLnVwZGF0ZVByb2dyZXNzKHByb2dyZXNzSWQsIHtcbiAgICAgICAgICAgICAgICBwZXJjZW50YWdlOiB0b3RhbFByb2dyZXNzLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHN0YWdlLm1zZyxcbiAgICAgICAgICAgICAgICBldGE6IChzdGFnZXMubGVuZ3RoIC0gY3VycmVudFN0YWdlKSAqIDJcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0b3RhbFByb2dyZXNzICs9IHN0YWdlUHJvZ3Jlc3M7XG4gICAgICAgICAgICAgICAgY3VycmVudFN0YWdlKys7XG4gICAgICAgICAgICAgICAgcnVuU3RhZ2UoKTtcbiAgICAgICAgICAgIH0sIHN0YWdlLmR1cmF0aW9uKTtcbiAgICAgICAgfTtcblxuICAgICAgICBydW5TdGFnZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZGVtb011bHRpcGxlUHJvZ3Jlc3MoKSB7XG4gICAgICAgIGlmICghdGhpcy5wbHVnaW4uZW5oYW5jZW1lbnRNYW5hZ2VyKSB7XG4gICAgICAgICAgICBuZXcgTm90aWNlKCdFbmhhbmNlbWVudCBNYW5hZ2VyIG5vdCBpbml0aWFsaXplZCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3RhcnQgMyBkaWZmZXJlbnQgcHJvZ3Jlc3MgaW5kaWNhdG9yc1xuICAgICAgICBjb25zdCB0YXNrcyA9IFtcbiAgICAgICAgICAgIHsgaWQ6ICd0YXNrMScsIHRpdGxlOiAnQmFja3VwIENyZWF0aW9uJywgZHVyYXRpb246IDUwMDAgfSxcbiAgICAgICAgICAgIHsgaWQ6ICd0YXNrMicsIHRpdGxlOiAnRmlsZSBBbmFseXNpcycsIGR1cmF0aW9uOiA3MDAwIH0sXG4gICAgICAgICAgICB7IGlkOiAndGFzazMnLCB0aXRsZTogJ0luZGV4IFVwZGF0ZScsIGR1cmF0aW9uOiAzMDAwIH1cbiAgICAgICAgXTtcblxuICAgICAgICB0YXNrcy5mb3JFYWNoKCh0YXNrLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3NJZCA9IGBkZW1vLW11bHRpLSR7dGFzay5pZH0tJHtEYXRlLm5vdygpfWA7XG4gICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uZW5oYW5jZW1lbnRNYW5hZ2VyPy5zaG93UHJvZ3Jlc3Moe1xuICAgICAgICAgICAgICAgICAgICBpZDogcHJvZ3Jlc3NJZCxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRhc2sudGl0bGUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdTdGFydGluZy4uLicsXG4gICAgICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2U6IDAsXG4gICAgICAgICAgICAgICAgICAgIGV0YTogdGFzay5kdXJhdGlvbiAvIDEwMDAsXG4gICAgICAgICAgICAgICAgICAgIGNhbmNlbGFibGU6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGxldCBwcm9ncmVzcyA9IDA7XG4gICAgICAgICAgICAgICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHByb2dyZXNzICs9IDEwO1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvZ3Jlc3MgPj0gMTAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzcyA9IDEwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uZW5oYW5jZW1lbnRNYW5hZ2VyPy5wcm9ncmVzc0luZGljYXRvci5oaWRlUHJvZ3Jlc3MocHJvZ3Jlc3NJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uZW5oYW5jZW1lbnRNYW5hZ2VyPy5wcm9ncmVzc0luZGljYXRvci51cGRhdGVQcm9ncmVzcyhwcm9ncmVzc0lkLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZXJjZW50YWdlOiBwcm9ncmVzcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHByb2dyZXNzIDwgMTAwID8gJ1Byb2Nlc3NpbmcuLi4nIDogJ0NvbXBsZXRlIScsXG4gICAgICAgICAgICAgICAgICAgICAgICBldGE6IHByb2dyZXNzIDwgMTAwID8gKCgxMDAgLSBwcm9ncmVzcykgLyAxMCkgKiAodGFzay5kdXJhdGlvbiAvIDEwMDAwKSA6IDBcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSwgdGFzay5kdXJhdGlvbiAvIDEwKTtcbiAgICAgICAgICAgIH0sIGluZGV4ICogMTAwMCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgZGVtb0NhY2hpbmcoKSB7XG4gICAgICAgIGlmICghdGhpcy5wbHVnaW4uZW5oYW5jZW1lbnRNYW5hZ2VyKSB7XG4gICAgICAgICAgICBuZXcgTm90aWNlKCdFbmhhbmNlbWVudCBNYW5hZ2VyIG5vdCBpbml0aWFsaXplZCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdGVzdEVuZHBvaW50ID0gJ2RlbW8tY2FjaGUtdGVzdCc7XG4gICAgICAgIFxuICAgICAgICAvLyBGaXJzdCByZXF1ZXN0IChjYWNoZSBtaXNzKVxuICAgICAgICBjb25zdCBzdGFydDEgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmVuaGFuY2VtZW50TWFuYWdlci5vcHRpbWl6ZWRBUElDYWxsKFxuICAgICAgICAgICAgICAgIHRlc3RFbmRwb2ludCxcbiAgICAgICAgICAgICAgICAoKSA9PiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQoKCkgPT4gcmVzb2x2ZSh7IGRhdGE6ICd0ZXN0IHJlc3BvbnNlJyB9KSwgMTAwMCkpXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29uc3QgdGltZTEgPSBwZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0MTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU2Vjb25kIHJlcXVlc3QgKGNhY2hlIGhpdClcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0MiA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uZW5oYW5jZW1lbnRNYW5hZ2VyLm9wdGltaXplZEFQSUNhbGwoXG4gICAgICAgICAgICAgICAgdGVzdEVuZHBvaW50LFxuICAgICAgICAgICAgICAgICgpID0+IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dCgoKSA9PiByZXNvbHZlKHsgZGF0YTogJ3Rlc3QgcmVzcG9uc2UnIH0pLCAxMDAwKSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25zdCB0aW1lMiA9IHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhcnQyO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBuZXcgTm90aWNlKGBGaXJzdCByZXF1ZXN0OiAke01hdGgucm91bmQodGltZTEpfW1zIChjYWNoZSBtaXNzKVxcblNlY29uZCByZXF1ZXN0OiAke01hdGgucm91bmQodGltZTIpfW1zIChjYWNoZSBoaXQpYCwgNTAwMCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBuZXcgTm90aWNlKCdDYWNoZSB0ZXN0IGZhaWxlZDogJyArIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgc2hvd1BlcmZvcm1hbmNlTWV0cmljcygpIHtcbiAgICAgICAgaWYgKCF0aGlzLnBsdWdpbi5lbmhhbmNlbWVudE1hbmFnZXIpIHtcbiAgICAgICAgICAgIG5ldyBOb3RpY2UoJ0VuaGFuY2VtZW50IE1hbmFnZXIgbm90IGluaXRpYWxpemVkJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBtZXRyaWNzID0gdGhpcy5wbHVnaW4uZW5oYW5jZW1lbnRNYW5hZ2VyLmdldFBlcmZvcm1hbmNlTWV0cmljcygpO1xuICAgICAgICBjb25zdCBjYWNoZUhpdFJhdGUgPSB0aGlzLnBsdWdpbi5lbmhhbmNlbWVudE1hbmFnZXIuZ2V0Q2FjaGVIaXRSYXRlKCk7XG5cbiAgICAgICAgY29uc3QgbW9kYWwgPSBuZXcgTW9kYWwodGhpcy5hcHApO1xuICAgICAgICBtb2RhbC50aXRsZUVsLnRleHRDb250ZW50ID0gJ1BlcmZvcm1hbmNlIE1ldHJpY3MnO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgY29udGVudCA9IG1vZGFsLmNvbnRlbnRFbDtcbiAgICAgICAgY29udGVudC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidmF1bHRwaWxvdC1tZXRyaWNzLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXRyaWNzLWdyaWRcIiBzdHlsZT1cImRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoMjAwcHgsIDFmcikpOyBnYXA6IDE2cHg7XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXRyaWMtaXRlbVwiIHN0eWxlPVwiYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpOyBwYWRkaW5nOiAxMnB4OyBib3JkZXItcmFkaXVzOiA2cHg7XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWV0cmljLWxhYmVsXCI+VG90YWwgUmVxdWVzdHM8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXRyaWMtdmFsdWVcIj4ke21ldHJpY3MudG90YWxSZXF1ZXN0c308L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXRyaWMtaXRlbVwiIHN0eWxlPVwiYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpOyBwYWRkaW5nOiAxMnB4OyBib3JkZXItcmFkaXVzOiA2cHg7XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWV0cmljLWxhYmVsXCI+Q2FjaGUgSGl0IFJhdGU8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXRyaWMtdmFsdWVcIj4ke01hdGgucm91bmQoY2FjaGVIaXRSYXRlKX0lPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWV0cmljLWl0ZW1cIiBzdHlsZT1cImJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTsgcGFkZGluZzogMTJweDsgYm9yZGVyLXJhZGl1czogNnB4O1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldHJpYy1sYWJlbFwiPkF2ZyBSZXNwb25zZSBUaW1lPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWV0cmljLXZhbHVlXCI+JHtNYXRoLnJvdW5kKG1ldHJpY3MuYXZlcmFnZVJlc3BvbnNlVGltZSl9bXM8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXRyaWMtaXRlbVwiIHN0eWxlPVwiYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpOyBwYWRkaW5nOiAxMnB4OyBib3JkZXItcmFkaXVzOiA2cHg7XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWV0cmljLWxhYmVsXCI+Q2FjaGUgU2l6ZTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldHJpYy12YWx1ZVwiPiR7bWV0cmljcy5jdXJyZW50Q2FjaGVTaXplfSBpdGVtczwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldHJpYy1pdGVtXCIgc3R5bGU9XCJiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7IHBhZGRpbmc6IDEycHg7IGJvcmRlci1yYWRpdXM6IDZweDtcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXRyaWMtbGFiZWxcIj5NZW1vcnkgVXNhZ2U8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXRyaWMtdmFsdWVcIj4ke01hdGgucm91bmQobWV0cmljcy5tZW1vcnlVc2FnZSAvIDEwMjQpfSBLQjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1ldHJpYy1pdGVtXCIgc3R5bGU9XCJiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7IHBhZGRpbmc6IDEycHg7IGJvcmRlci1yYWRpdXM6IDZweDtcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXRyaWMtbGFiZWxcIj5GYXN0ZXN0IFJlc3BvbnNlPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWV0cmljLXZhbHVlXCI+JHtNYXRoLnJvdW5kKG1ldHJpY3MuZmFzdGVzdFJlc3BvbnNlKX1tczwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgICAgICBcbiAgICAgICAgbW9kYWwub3BlbigpO1xuICAgIH1cblxuICAgIG9uQ2xvc2UoKSB7XG4gICAgICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuICAgICAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgICB9XG59XG5cbi8vIEFkZCBzdHlsZXMgZm9yIHRoZSBkZW1vXG5jb25zdCBkZW1vU3R5bGVzID0gYFxuLmVuaGFuY2VtZW50LWRlbW8tc2VjdGlvbiB7XG4gICAgbWFyZ2luOiAyMHB4IDA7XG4gICAgcGFkZGluZzogMTVweDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbn1cblxuLmVuaGFuY2VtZW50LWRlbW8tc2VjdGlvbiBoMyB7XG4gICAgbWFyZ2luLXRvcDogMDtcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1hY2NlbnQpO1xufVxuXG4uZGVtby1idXR0b25zIHtcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xufVxuXG4uZGVtby1idXR0b25zIGJ1dHRvbiB7XG4gICAgcGFkZGluZzogOHB4IDE2cHg7XG4gICAgbWFyZ2luOiA0cHg7XG4gICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnRlcmFjdGl2ZS1ub3JtYWwpO1xuICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4ycztcbn1cblxuLmRlbW8tYnV0dG9ucyBidXR0b246aG92ZXIge1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWhvdmVyKTtcbn1cblxuLnNob3J0Y3V0LWl0ZW0ge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgcGFkZGluZzogOHB4O1xuICAgIG1hcmdpbjogNHB4IDA7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbn1cblxuLm1ldHJpYy1sYWJlbCB7XG4gICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgIGZvbnQtc2l6ZTogMC44NWVtO1xuICAgIG1hcmdpbi1ib3R0b206IDRweDtcbiAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xufVxuXG4ubWV0cmljLXZhbHVlIHtcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgIGZvbnQtc2l6ZTogMS4yZW07XG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcbn1cbmA7XG5cbi8vIEluamVjdCBkZW1vIHN0eWxlc1xuY29uc3Qgc3R5bGVJZCA9ICd2YXVsdHBpbG90LWRlbW8tc3R5bGVzJztcbmlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc3R5bGVJZCkpIHtcbiAgICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgc3R5bGUuaWQgPSBzdHlsZUlkO1xuICAgIHN0eWxlLnRleHRDb250ZW50ID0gZGVtb1N0eWxlcztcbiAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcbn1cbiJdLCJuYW1lcyI6WyJWYXVsdFBpbG90RW5oYW5jZW1lbnREZW1vIiwiTW9kYWwiLCJjb25zdHJ1Y3RvciIsImFwcCIsInBsdWdpbiIsInN1cGVyIiwidGhpcyIsIm9uT3BlbiIsImNvbnRlbnRFbCIsImVtcHR5IiwiY3JlYXRlRWwiLCJ0ZXh0IiwiY3JlYXRlS2V5Ym9hcmRTaG9ydGN1dHNEZW1vIiwiY3JlYXRlUHJvZ3Jlc3NJbmRpY2F0b3JEZW1vIiwiY3JlYXRlUGVyZm9ybWFuY2VEZW1vIiwiY3JlYXRlV2ViU29ja2V0RGVtbyIsImNvbnRhaW5lciIsInNlY3Rpb24iLCJjcmVhdGVEaXYiLCJjbHMiLCJpbm5lckhUTUwiLCJvbmNsaWNrIiwia2V5Ym9hcmRIYW5kbGVyIiwiZ2V0U2hvcnRjdXRzIiwic2hvcnRjdXRzIiwiaGVscE1vZGFsIiwidGl0bGVFbCIsInRleHRDb250ZW50IiwiY29udGVudCIsInN0eWxlIiwibWF4SGVpZ2h0Iiwib3ZlcmZsb3dZIiwiZm9yRWFjaCIsInNob3J0Y3V0IiwiaXRlbSIsImNzc1RleHQiLCJrZXlzIiwiY3JlYXRlU3BhbiIsIm1vZGlmaWVycyIsImpvaW4iLCJrZXkiLCJyZXBsYWNlIiwiZGVzY3JpcHRpb24iLCJvcGVuIiwiYnV0dG9uc0RpdiIsImRlbW9RdWlja1Byb2dyZXNzIiwiZGVtb0xvbmdQcm9ncmVzcyIsImRlbW9NdWx0aXBsZVByb2dyZXNzIiwiZGVtb0NhY2hpbmciLCJzaG93UGVyZm9ybWFuY2VNZXRyaWNzIiwiZW5oYW5jZW1lbnRNYW5hZ2VyIiwiY2xlYXJDYWNoZSIsIk5vdGljZSIsInN0YXR1c0RpdiIsImlzQ29ubmVjdGVkIiwiX2EiLCJpc1dlYlNvY2tldENvbm5lY3RlZCIsImNvbm5lY3RlZCIsInByb2dyZXNzSWQiLCJEYXRlIiwibm93Iiwic2hvd1Byb2dyZXNzIiwiaWQiLCJ0aXRsZSIsIm1lc3NhZ2UiLCJwZXJjZW50YWdlIiwiZXRhIiwiY2FuY2VsYWJsZSIsInByb2dyZXNzIiwiaW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJzZXRUaW1lb3V0IiwicHJvZ3Jlc3NJbmRpY2F0b3IiLCJoaWRlUHJvZ3Jlc3MiLCJ1cGRhdGVQcm9ncmVzcyIsInN0YWdlcyIsIm1zZyIsImR1cmF0aW9uIiwiY3VycmVudFN0YWdlIiwidG90YWxQcm9ncmVzcyIsInJ1blN0YWdlIiwibGVuZ3RoIiwic3RhZ2UiLCJzdGFnZVByb2dyZXNzIiwiX2IiLCJ0YXNrIiwiaW5kZXgiLCJ0ZXN0RW5kcG9pbnQiLCJzdGFydDEiLCJwZXJmb3JtYW5jZSIsIm9wdGltaXplZEFQSUNhbGwiLCJQcm9taXNlIiwicmVzb2x2ZSIsImRhdGEiLCJ0aW1lMSIsInN0YXJ0MiIsInRpbWUyIiwiTWF0aCIsInJvdW5kIiwiZXJyb3IiLCJtZXRyaWNzIiwiZ2V0UGVyZm9ybWFuY2VNZXRyaWNzIiwiY2FjaGVIaXRSYXRlIiwiZ2V0Q2FjaGVIaXRSYXRlIiwibW9kYWwiLCJ0b3RhbFJlcXVlc3RzIiwiYXZlcmFnZVJlc3BvbnNlVGltZSIsImN1cnJlbnRDYWNoZVNpemUiLCJtZW1vcnlVc2FnZSIsImZhc3Rlc3RSZXNwb25zZSIsIm9uQ2xvc2UiLCJzdHlsZUlkIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImNyZWF0ZUVsZW1lbnQiLCJoZWFkIiwiYXBwZW5kQ2hpbGQiXSwibWFwcGluZ3MiOiJ1RUFRTSxNQUFPQSxVQUFrQ0MsRUFBQUEsTUFHM0MsV0FBQUMsQ0FBWUMsRUFBVUMsR0FDbEJDLE1BQU1GLEdBQ05HLEtBQUtGLE9BQVNBLENBQ2pCLENBRUQsTUFBQUcsR0FDSSxNQUFNQyxVQUFFQSxHQUFjRixLQUN0QkUsRUFBVUMsUUFFVkQsRUFBVUUsU0FBUyxLQUFNLENBQUVDLEtBQU0seUNBR2pDTCxLQUFLTSw0QkFBNEJKLEdBR2pDRixLQUFLTyw0QkFBNEJMLEdBR2pDRixLQUFLUSxzQkFBc0JOLEdBRzNCRixLQUFLUyxvQkFBb0JQLEVBQzVCLENBRU8sMkJBQUFJLENBQTRCSSxHQUNoQyxNQUFNQyxFQUFVRCxFQUFVRSxVQUFVLENBQUVDLElBQUssNkJBQzNDRixFQUFRUCxTQUFTLEtBQU0sQ0FBRUMsS0FBTSwwQkFFWE0sRUFBUVAsU0FBUyxLQUN6QlUsVUFBWSw2YkFXVEgsRUFBUVAsU0FBUyxTQUFVLENBQUVDLEtBQU0sZ0NBQzNDVSxRQUFVLEtBQ2IsR0FBSWYsS0FBS0YsT0FBT2tCLGdCQUFpQixDQUM3QmhCLEtBQUtGLE9BQU9rQixnQkFBZ0JDLGVBRTVCLE1BQU1DLEVBQVlsQixLQUFLRixPQUFPa0IsZ0JBQWdCQyxlQUN4Q0UsRUFBWSxJQUFJeEIsRUFBQUEsTUFBTUssS0FBS0gsS0FDakNzQixFQUFVQyxRQUFRQyxZQUFjLGdDQUVoQyxNQUFNQyxFQUFVSCxFQUFVakIsVUFDMUJvQixFQUFRQyxNQUFNQyxVQUFZLE9BQzFCRixFQUFRQyxNQUFNRSxVQUFZLE9BRTFCUCxFQUFVUSxRQUFRQyxJQUNkLE1BQU1DLEVBQU9OLEVBQVFWLFVBQVUsQ0FBRUMsSUFBSyxrQkFDdENlLEVBQUtMLE1BQU1NLFFBQVUsNlRBU3JCLE1BQU1DLEVBQU9GLEVBQUtHLFdBQVcsQ0FBRWxCLElBQUssa0JBQ3BDaUIsRUFBS1QsWUFBYyxHQUFHTSxFQUFTSyxVQUFVQyxLQUFLLFlBQVlOLEVBQVNPLElBQUlDLFFBQVEsTUFBTyxNQUN0RkwsRUFBS1AsTUFBTU0sUUFBVSx5T0FPUkQsRUFBS0csV0FBVyxDQUFFbEIsSUFBSyxrQkFDL0JRLFlBQWNNLEVBQVNTLGNBR2hDakIsRUFBVWtCLE1BQ2IsRUFFUixDQUVPLDJCQUFBOUIsQ0FBNEJHLEdBQ2hDLE1BQU1DLEVBQVVELEVBQVVFLFVBQVUsQ0FBRUMsSUFBSyw2QkFDM0NGLEVBQVFQLFNBQVMsS0FBTSxDQUFFQyxLQUFNLDJCQUUvQk0sRUFBUVAsU0FBUyxJQUFLLENBQ2xCQyxLQUFNLHFGQUdWLE1BQU1pQyxFQUFhM0IsRUFBUUMsVUFBVSxDQUFFQyxJQUFLLGlCQUM1Q3lCLEVBQVdmLE1BQU1NLFFBQVUsNkNBR0ZTLEVBQVdsQyxTQUFTLFNBQVUsQ0FBRUMsS0FBTSx3QkFDOUNVLFFBQVUsS0FDdkJmLEtBQUt1QyxxQkFJZUQsRUFBV2xDLFNBQVMsU0FBVSxDQUFFQyxLQUFNLHdCQUM5Q1UsUUFBVSxLQUN0QmYsS0FBS3dDLG9CQUlnQkYsRUFBV2xDLFNBQVMsU0FBVSxDQUFFQyxLQUFNLHNCQUM5Q1UsUUFBVSxLQUN2QmYsS0FBS3lDLHVCQUVaLENBRU8scUJBQUFqQyxDQUFzQkUsR0FDMUIsTUFBTUMsRUFBVUQsRUFBVUUsVUFBVSxDQUFFQyxJQUFLLDZCQUMzQ0YsRUFBUVAsU0FBUyxLQUFNLENBQUVDLEtBQU0sK0JBRS9CTSxFQUFRUCxTQUFTLElBQUssQ0FDbEJDLEtBQU0seUVBR1YsTUFBTWlDLEVBQWEzQixFQUFRQyxVQUFVLENBQUVDLElBQUssaUJBQzVDeUIsRUFBV2YsTUFBTU0sUUFBVSw2Q0FHVlMsRUFBV2xDLFNBQVMsU0FBVSxDQUFFQyxLQUFNLGlCQUM5Q1UsUUFBVSxLQUNmZixLQUFLMEMsZUFJVUosRUFBV2xDLFNBQVMsU0FBVSxDQUFFQyxLQUFNLGlCQUM5Q1UsUUFBVSxLQUNqQmYsS0FBSzJDLDBCQUlRTCxFQUFXbEMsU0FBUyxTQUFVLENBQUVDLEtBQU0sZ0JBQzlDVSxRQUFVLEtBQ1hmLEtBQUtGLE9BQU84QyxxQkFDWjVDLEtBQUtGLE9BQU84QyxtQkFBbUJDLGFBQy9CLElBQUlDLEVBQUFBLE9BQU8sK0JBR3RCLENBRU8sbUJBQUFyQyxDQUFvQkMsU0FDeEIsTUFBTUMsRUFBVUQsRUFBVUUsVUFBVSxDQUFFQyxJQUFLLDZCQUMzQ0YsRUFBUVAsU0FBUyxLQUFNLENBQUVDLEtBQU0sMEJBRS9CLE1BQU0wQyxFQUFZcEMsRUFBUUMsWUFDcEJvQyxHQUE4QyxRQUFoQ0MsRUFBQWpELEtBQUtGLE9BQU84QywwQkFBb0IsSUFBQUssT0FBQSxFQUFBQSxFQUFBQywwQkFBMEIsRUFFOUVILEVBQVVqQyxVQUFZLDRFQUVRa0MsRUFBYyxxQkFBdUIsOENBQ3JEQSxFQUFjLGVBQWlCLDBLQU05QnJDLEVBQVFQLFNBQVMsU0FBVSxDQUFFQyxLQUFNLDhCQUMzQ1UsUUFBVSxXQUNiLE1BQU1vQyxFQUEwQyxRQUE5QkYsRUFBQWpELEtBQUtGLE9BQU84QywwQkFBa0IsSUFBQUssT0FBQSxFQUFBQSxFQUFFQyx1QkFDbEQsSUFBSUosRUFBTUEsT0FBQyxpQkFBZ0JLLEVBQVksWUFBYyxnQkFBa0IsS0FFOUUsQ0FFTyxpQkFBQVosR0FDSixJQUFLdkMsS0FBS0YsT0FBTzhDLG1CQUViLFlBREEsSUFBSUUsRUFBQUEsT0FBTyx1Q0FJZixNQUFNTSxFQUFhLGNBQWdCQyxLQUFLQyxNQUN4Q3RELEtBQUtGLE9BQU84QyxtQkFBbUJXLGFBQWEsQ0FDeENDLEdBQUlKLEVBQ0pLLE1BQU8sa0JBQ1BDLFFBQVMsZ0JBQ1RDLFdBQVksRUFDWkMsSUFBSyxFQUNMQyxZQUFZLElBR2hCLElBQUlDLEVBQVcsRUFDZixNQUFNQyxFQUFXQyxZQUFZLFdBQ3pCRixHQUFZLE1BQ1JBLEdBQVksTUFDWkEsRUFBVyxJQUNYRyxjQUFjRixHQUNkRyxXQUFXLFdBQ3VCLFFBQTlCakIsRUFBQWpELEtBQUtGLE9BQU84QywwQkFBa0IsSUFBQUssR0FBQUEsRUFBRWtCLGtCQUFrQkMsYUFBYWhCLElBQ2hFLE1BR3lCLFFBQWhDSCxFQUFBakQsS0FBS0YsT0FBTzhDLDBCQUFvQixJQUFBSyxHQUFBQSxFQUFBa0Isa0JBQWtCRSxlQUFlakIsRUFBWSxDQUN6RU8sV0FBWUcsRUFDWkosUUFBU0ksRUFBVyxJQUFNLGdCQUFrQixZQUM1Q0YsSUFBS0UsRUFBVyxLQUFPLElBQU1BLEdBQVksTUFBUSxLQUV0RCxJQUNOLENBRU8sZ0JBQUF0QixHQUNKLElBQUt4QyxLQUFLRixPQUFPOEMsbUJBRWIsWUFEQSxJQUFJRSxFQUFBQSxPQUFPLHVDQUlmLE1BQU1NLEVBQWEsYUFBZUMsS0FBS0MsTUFDdkN0RCxLQUFLRixPQUFPOEMsbUJBQW1CVyxhQUFhLENBQ3hDQyxHQUFJSixFQUNKSyxNQUFPLG9CQUNQQyxRQUFTLCtCQUNUQyxXQUFZLEVBQ1pDLElBQUssR0FDTEMsWUFBWSxJQUdoQixNQUFNUyxFQUFTLENBQ1gsQ0FBRUMsSUFBSywrQkFBZ0NDLFNBQVUsS0FDakQsQ0FBRUQsSUFBSyxzQkFBdUJDLFNBQVUsS0FDeEMsQ0FBRUQsSUFBSyx5QkFBMEJDLFNBQVUsS0FDM0MsQ0FBRUQsSUFBSyw0QkFBNkJDLFNBQVUsS0FDOUMsQ0FBRUQsSUFBSyx3QkFBeUJDLFNBQVUsTUFHOUMsSUFBSUMsRUFBZSxFQUNmQyxFQUFnQixFQUVwQixNQUFNQyxFQUFXLGFBQ2IsR0FBSUYsR0FBZ0JILEVBQU9NLE9BU3ZCLE9BUmdDLFFBQWhDM0IsRUFBQWpELEtBQUtGLE9BQU84QywwQkFBb0IsSUFBQUssR0FBQUEsRUFBQWtCLGtCQUFrQkUsZUFBZWpCLEVBQVksQ0FDekVPLFdBQVksSUFDWkQsUUFBUyxZQUNURSxJQUFLLFNBRVRNLFdBQVcsV0FDdUIsUUFBOUJqQixFQUFBakQsS0FBS0YsT0FBTzhDLDBCQUFrQixJQUFBSyxHQUFBQSxFQUFFa0Isa0JBQWtCQyxhQUFhaEIsSUFDaEUsS0FJUCxNQUFNeUIsRUFBUVAsRUFBT0csR0FDZkssRUFBZ0IsSUFBTVIsRUFBT00sT0FFSCxRQUFoQ0csRUFBQS9FLEtBQUtGLE9BQU84QywwQkFBb0IsSUFBQW1DLEdBQUFBLEVBQUFaLGtCQUFrQkUsZUFBZWpCLEVBQVksQ0FDekVPLFdBQVllLEVBQ1poQixRQUFTbUIsRUFBTU4sSUFDZlgsSUFBc0MsR0FBaENVLEVBQU9NLE9BQVNILEtBRzFCUCxXQUFXLEtBQ1BRLEdBQWlCSSxFQUNqQkwsSUFDQUUsS0FDREUsRUFBTUwsV0FHYkcsR0FDSCxDQUVPLG9CQUFBbEMsR0FDSixJQUFLekMsS0FBS0YsT0FBTzhDLG1CQUViLFlBREEsSUFBSUUsRUFBQUEsT0FBTyx1Q0FLRCxDQUNWLENBQUVVLEdBQUksUUFBU0MsTUFBTyxrQkFBbUJlLFNBQVUsS0FDbkQsQ0FBRWhCLEdBQUksUUFBU0MsTUFBTyxnQkFBaUJlLFNBQVUsS0FDakQsQ0FBRWhCLEdBQUksUUFBU0MsTUFBTyxlQUFnQmUsU0FBVSxNQUc5QzlDLFFBQVEsQ0FBQ3NELEVBQU1DLEtBQ2pCZixXQUFXLFdBQ1AsTUFBTWQsRUFBYSxjQUFjNEIsRUFBS3hCLE1BQU1ILEtBQUtDLFFBQ25CLFFBQTlCTCxFQUFBakQsS0FBS0YsT0FBTzhDLDBCQUFrQixJQUFBSyxHQUFBQSxFQUFFTSxhQUFhLENBQ3pDQyxHQUFJSixFQUNKSyxNQUFPdUIsRUFBS3ZCLE1BQ1pDLFFBQVMsY0FDVEMsV0FBWSxFQUNaQyxJQUFLb0IsRUFBS1IsU0FBVyxJQUNyQlgsWUFBWSxJQUdoQixJQUFJQyxFQUFXLEVBQ2YsTUFBTUMsRUFBV0MsWUFBWSxXQUN6QkYsR0FBWSxHQUNSQSxHQUFZLE1BQ1pBLEVBQVcsSUFDWEcsY0FBY0YsR0FDZEcsV0FBVyxXQUN1QixRQUE5QmpCLEVBQUFqRCxLQUFLRixPQUFPOEMsMEJBQWtCLElBQUFLLEdBQUFBLEVBQUVrQixrQkFBa0JDLGFBQWFoQixJQUNoRSxNQUd5QixRQUFoQ0gsRUFBQWpELEtBQUtGLE9BQU84QywwQkFBb0IsSUFBQUssR0FBQUEsRUFBQWtCLGtCQUFrQkUsZUFBZWpCLEVBQVksQ0FDekVPLFdBQVlHLEVBQ1pKLFFBQVNJLEVBQVcsSUFBTSxnQkFBa0IsWUFDNUNGLElBQUtFLEVBQVcsS0FBUSxJQUFNQSxHQUFZLElBQU9rQixFQUFLUixTQUFXLEtBQVMsS0FFL0VRLEVBQUtSLFNBQVcsS0FDWixJQUFSUyxJQUVWLENBRWEsV0FBQXZDLHFEQUNWLElBQUsxQyxLQUFLRixPQUFPOEMsbUJBRWIsWUFEQSxJQUFJRSxFQUFBQSxPQUFPLHVDQUlmLE1BQU1vQyxFQUFlLGtCQUdmQyxFQUFTQyxZQUFZOUIsTUFDM0IsVUFDVXRELEtBQUtGLE9BQU84QyxtQkFBbUJ5QyxpQkFDakNILEVBQ0EsSUFBTSxJQUFJSSxRQUFRQyxHQUFXckIsV0FBVyxJQUFNcUIsRUFBUSxDQUFFQyxLQUFNLGtCQUFvQixPQUV0RixNQUFNQyxFQUFRTCxZQUFZOUIsTUFBUTZCLEVBRzVCTyxFQUFTTixZQUFZOUIsWUFDckJ0RCxLQUFLRixPQUFPOEMsbUJBQW1CeUMsaUJBQ2pDSCxFQUNBLElBQU0sSUFBSUksUUFBUUMsR0FBV3JCLFdBQVcsSUFBTXFCLEVBQVEsQ0FBRUMsS0FBTSxrQkFBb0IsT0FFdEYsTUFBTUcsRUFBUVAsWUFBWTlCLE1BQVFvQyxFQUVsQyxJQUFJNUMsRUFBTUEsT0FBQyxrQkFBa0I4QyxLQUFLQyxNQUFNSixzQ0FBMENHLEtBQUtDLE1BQU1GLG1CQUF3QixJQUN4SCxDQUFDLE1BQU9HLEdBQ0wsSUFBSWhELEVBQU1BLE9BQUMsc0JBQXdCZ0QsRUFDdEMsR0FDSixDQUVPLHNCQUFBbkQsR0FDSixJQUFLM0MsS0FBS0YsT0FBTzhDLG1CQUViLFlBREEsSUFBSUUsRUFBQUEsT0FBTyx1Q0FJZixNQUFNaUQsRUFBVS9GLEtBQUtGLE9BQU84QyxtQkFBbUJvRCx3QkFDekNDLEVBQWVqRyxLQUFLRixPQUFPOEMsbUJBQW1Cc0Qsa0JBRTlDQyxFQUFRLElBQUl4RyxFQUFBQSxNQUFNSyxLQUFLSCxLQUM3QnNHLEVBQU0vRSxRQUFRQyxZQUFjLHNCQUVaOEUsRUFBTWpHLFVBQ2RZLFVBQVkscWNBS3dCaUYsRUFBUUssaVRBSVJSLEtBQUtDLE1BQU1JLDBTQUlYTCxLQUFLQyxNQUFNRSxFQUFRTSxzVEFJbkJOLEVBQVFPLHdUQUlSVixLQUFLQyxNQUFNRSxFQUFRUSxZQUFjLDhTQUlqQ1gsS0FBS0MsTUFBTUUsRUFBUVMsNkdBTS9ETCxFQUFNOUQsTUFDVCxDQUVELE9BQUFvRSxHQUNJLE1BQU12RyxVQUFFQSxHQUFjRixLQUN0QkUsRUFBVUMsT0FDYixFQUlMLE1BMERNdUcsRUFBVSx5QkFDaEIsSUFBS0MsU0FBU0MsZUFBZUYsR0FBVSxDQUNuQyxNQUFNbkYsRUFBUW9GLFNBQVNFLGNBQWMsU0FDckN0RixFQUFNaUMsR0FBS2tELEVBQ1huRixFQUFNRixZQTlEUyx5b0NBK0Rmc0YsU0FBU0csS0FBS0MsWUFBWXhGLEVBQzlCIn0=
