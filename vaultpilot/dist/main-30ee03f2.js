"use strict";var e=require("obsidian");function t(e,t,n,i){return new(n||(n=Promise))(function(o,a){function s(e){try{l(i.next(e))}catch(e){a(e)}}function r(e){try{l(i.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,r)}l((i=i.apply(e,t||[])).next())})}"function"==typeof SuppressedError&&SuppressedError;const n={enableVaultManagement:!0,autoSyncVaultStructure:!1,searchResultsLimit:50,enableSmartSearch:!0,batchOperationTimeout:3e4,showVaultStats:!0,maxSearchResults:100,defaultSearchType:"content",enableFileOperations:!0,confirmDestructiveOperations:!0,autoBackupBeforeOperations:!1};const i={backendUrl:"http://localhost:8000",apiKey:"",enableWebSocket:!0,enableCopilot:!0,enableAutoComplete:!1,defaultAgent:"",defaultMode:"ask",chatHistoryLimit:100,debugMode:!1,showIntentDebug:!1,vaultManagement:n,modelSelection:{enabled:!0,devpipePath:"../dev-pipe",monitoringInterval:3e4,fallbackEnabled:!0,cacheDuration:3e5,retryAttempts:3,timeout:3e4,debugMode:!1,userPreferences:{priority:"balanced",maxCostPerRequest:.5,preferredProviders:[],qualityThreshold:.7}}};class o extends e.PluginSettingTab{constructor(e,t){super(e,t),this.plugin=t}display(){const{containerEl:o}=this;o.empty(),o.createEl("h2",{text:"VaultPilot Settings"}),o.createEl("p",{text:"Configure your connection to EvoAgentX backend and AI features."}),o.createEl("h3",{text:"Connection"}),new e.Setting(o).setName("Backend URL").setDesc("URL of EvoAgentX backend server").addText(e=>e.setPlaceholder("http://localhost:8000").setValue(this.plugin.settings.backendUrl).onChange(e=>t(this,void 0,void 0,function*(){this.plugin.settings.backendUrl=e,yield this.plugin.saveSettings()}))),new e.Setting(o).setName("API Key").setDesc("Optional API key for authentication (if required by backend)").addText(e=>e.setPlaceholder("Enter API key...").setValue(this.plugin.settings.apiKey||"").onChange(e=>t(this,void 0,void 0,function*(){this.plugin.settings.apiKey=e,yield this.plugin.saveSettings()}))),new e.Setting(o).setName("Connection Test").setDesc("Test connection to EvoAgentX backend").addButton(e=>e.setButtonText("Test Connection").onClick(()=>t(this,void 0,void 0,function*(){yield this.testConnection()}))),o.createEl("h3",{text:"Features"}),new e.Setting(o).setName("Enable WebSocket").setDesc("Enable real-time communication for live updates and progress tracking").addToggle(e=>e.setValue(this.plugin.settings.enableWebSocket).onChange(e=>t(this,void 0,void 0,function*(){this.plugin.settings.enableWebSocket=e,yield this.plugin.saveSettings(),e?this.plugin.connectWebSocket():this.plugin.disconnectWebSocket()}))),new e.Setting(o).setName("Enable Copilot").setDesc("Enable AI-powered text completion and suggestions").addToggle(e=>e.setValue(this.plugin.settings.enableCopilot).onChange(e=>t(this,void 0,void 0,function*(){this.plugin.settings.enableCopilot=e,yield this.plugin.saveSettings()}))),new e.Setting(o).setName("Enable Auto-Complete").setDesc("Automatically suggest completions after sentence endings and new lines (with 10s cooldown)").addToggle(e=>e.setValue(this.plugin.settings.enableAutoComplete).onChange(e=>t(this,void 0,void 0,function*(){this.plugin.settings.enableAutoComplete=e,yield this.plugin.saveSettings()}))),o.createEl("h3",{text:"Agent Configuration"}),new e.Setting(o).setName("Default Agent").setDesc("Default agent to use for chat and workflows (leave empty for auto-selection)").addText(e=>e.setPlaceholder("Agent ID or name...").setValue(this.plugin.settings.defaultAgent||"").onChange(e=>t(this,void 0,void 0,function*(){this.plugin.settings.defaultAgent=e,yield this.plugin.saveSettings()}))),new e.Setting(o).setName("Default Chat Mode").setDesc("Default mode for new chat sessions: Ask for simple Q&A, Agent for complex workflows").addDropdown(e=>e.addOption("ask","Ask Mode - Simple Q&A").addOption("agent","Agent Mode - Complex Workflows").setValue(this.plugin.settings.defaultMode).onChange(e=>t(this,void 0,void 0,function*(){this.plugin.settings.defaultMode=e,yield this.plugin.saveSettings()}))),new e.Setting(o).setName("Chat History Limit").setDesc("Maximum number of chat messages to keep in history").addSlider(e=>e.setLimits(10,500,10).setValue(this.plugin.settings.chatHistoryLimit).setDynamicTooltip().onChange(e=>t(this,void 0,void 0,function*(){this.plugin.settings.chatHistoryLimit=e,yield this.plugin.saveSettings()}))),o.createEl("h3",{text:"Advanced"}),new e.Setting(o).setName("Debug Mode").setDesc("Enable debug logging and additional developer features").addToggle(e=>e.setValue(this.plugin.settings.debugMode).onChange(e=>t(this,void 0,void 0,function*(){this.plugin.settings.debugMode=e,yield this.plugin.saveSettings()}))),new e.Setting(o).setName("Show Intent Debug Overlay").setDesc("Display automatic intent detection in chat (Ask vs Agent mode)").addToggle(e=>e.setValue(this.plugin.settings.showIntentDebug).onChange(e=>t(this,void 0,void 0,function*(){this.plugin.settings.showIntentDebug=e,yield this.plugin.saveSettings()}))),o.createEl("h3",{text:"Vault Management"}),function(i,o){i.createEl("h2",{text:"Vault Management"}),i.createEl("p",{text:"Configure AI-powered vault structure analysis and file operations."}),new e.Setting(i).setName("Enable Vault Management").setDesc("Enable AI-powered vault structure analysis and file operations").addToggle(e=>{var i,a;return e.setValue(null===(a=null===(i=o.settings.vaultManagement)||void 0===i?void 0:i.enableVaultManagement)||void 0===a||a).onChange(e=>t(this,void 0,void 0,function*(){o.settings.vaultManagement||(o.settings.vaultManagement=Object.assign({},n)),o.settings.vaultManagement.enableVaultManagement=e,yield o.saveSettings(),e?o.initializeVaultManagement():o.disableVaultManagement()}))}),new e.Setting(i).setName("Auto Sync Vault Structure").setDesc("Automatically update vault structure analysis when files change").addToggle(e=>{var i,a;return e.setValue(null!==(a=null===(i=o.settings.vaultManagement)||void 0===i?void 0:i.autoSyncVaultStructure)&&void 0!==a&&a).onChange(e=>t(this,void 0,void 0,function*(){o.settings.vaultManagement||(o.settings.vaultManagement=Object.assign({},n)),o.settings.vaultManagement.autoSyncVaultStructure=e,yield o.saveSettings()}))}),new e.Setting(i).setName("Enable Smart Search").setDesc("Use AI-powered search with context and insights").addToggle(e=>{var i,a;return e.setValue(null===(a=null===(i=o.settings.vaultManagement)||void 0===i?void 0:i.enableSmartSearch)||void 0===a||a).onChange(e=>t(this,void 0,void 0,function*(){o.settings.vaultManagement||(o.settings.vaultManagement=Object.assign({},n)),o.settings.vaultManagement.enableSmartSearch=e,yield o.saveSettings()}))}),new e.Setting(i).setName("Search Results Limit").setDesc("Maximum number of search results to display").addSlider(e=>{var i,a;return e.setLimits(10,200,10).setValue(null!==(a=null===(i=o.settings.vaultManagement)||void 0===i?void 0:i.searchResultsLimit)&&void 0!==a?a:50).setDynamicTooltip().onChange(e=>t(this,void 0,void 0,function*(){o.settings.vaultManagement||(o.settings.vaultManagement=Object.assign({},n)),o.settings.vaultManagement.searchResultsLimit=e,yield o.saveSettings()}))}),new e.Setting(i).setName("Default Search Type").setDesc("Default search mode for smart search").addDropdown(e=>{var i,a;return e.addOption("content","Content Search").addOption("filename","Filename Search").addOption("tags","Tag Search").addOption("links","Link Search").addOption("comprehensive","Comprehensive Search").setValue(null!==(a=null===(i=o.settings.vaultManagement)||void 0===i?void 0:i.defaultSearchType)&&void 0!==a?a:"content").onChange(e=>t(this,void 0,void 0,function*(){o.settings.vaultManagement||(o.settings.vaultManagement=Object.assign({},n)),o.settings.vaultManagement.defaultSearchType=e,yield o.saveSettings()}))}),new e.Setting(i).setName("Enable File Operations").setDesc("Allow file creation, deletion, and modification through the interface").addToggle(e=>{var i,a;return e.setValue(null===(a=null===(i=o.settings.vaultManagement)||void 0===i?void 0:i.enableFileOperations)||void 0===a||a).onChange(e=>t(this,void 0,void 0,function*(){o.settings.vaultManagement||(o.settings.vaultManagement=Object.assign({},n)),o.settings.vaultManagement.enableFileOperations=e,yield o.saveSettings()}))}),new e.Setting(i).setName("Confirm Destructive Operations").setDesc("Show confirmation dialog for file deletion and destructive operations").addToggle(e=>{var i,a;return e.setValue(null===(a=null===(i=o.settings.vaultManagement)||void 0===i?void 0:i.confirmDestructiveOperations)||void 0===a||a).onChange(e=>t(this,void 0,void 0,function*(){o.settings.vaultManagement||(o.settings.vaultManagement=Object.assign({},n)),o.settings.vaultManagement.confirmDestructiveOperations=e,yield o.saveSettings()}))}),new e.Setting(i).setName("Auto Backup Before Operations").setDesc("Automatically create backups before destructive file operations").addToggle(e=>{var i,a;return e.setValue(null!==(a=null===(i=o.settings.vaultManagement)||void 0===i?void 0:i.autoBackupBeforeOperations)&&void 0!==a&&a).onChange(e=>t(this,void 0,void 0,function*(){o.settings.vaultManagement||(o.settings.vaultManagement=Object.assign({},n)),o.settings.vaultManagement.autoBackupBeforeOperations=e,yield o.saveSettings()}))}),new e.Setting(i).setName("Batch Operation Timeout").setDesc("Timeout for batch operations in milliseconds").addText(e=>{var i,a;return e.setPlaceholder("30000").setValue(String(null!==(a=null===(i=o.settings.vaultManagement)||void 0===i?void 0:i.batchOperationTimeout)&&void 0!==a?a:3e4)).onChange(e=>t(this,void 0,void 0,function*(){const t=parseInt(e)||3e4;o.settings.vaultManagement||(o.settings.vaultManagement=Object.assign({},n)),o.settings.vaultManagement.batchOperationTimeout=t,yield o.saveSettings()}))}),new e.Setting(i).setName("Show Vault Statistics").setDesc("Display vault statistics in modals and interfaces").addToggle(e=>{var i,a;return e.setValue(null===(a=null===(i=o.settings.vaultManagement)||void 0===i?void 0:i.showVaultStats)||void 0===a||a).onChange(e=>t(this,void 0,void 0,function*(){o.settings.vaultManagement||(o.settings.vaultManagement=Object.assign({},n)),o.settings.vaultManagement.showVaultStats=e,yield o.saveSettings()}))}),new e.Setting(i).setName("Test Vault Management Connection").setDesc("Test connection to vault management endpoints").addButton(e=>e.setButtonText("Test Connection").setCta().onClick(()=>t(this,void 0,void 0,function*(){if(!o.vaultClient)return e.setButtonText("Not Available"),void setTimeout(()=>e.setButtonText("Test Connection"),2e3);e.setButtonText("Testing..."),e.setDisabled(!0);try{(yield o.vaultClient.testConnection()).success?e.setButtonText("âœ… Connected"):e.setButtonText("âŒ Failed")}catch(t){e.setButtonText("âŒ Error")}e.setDisabled(!1),setTimeout(()=>e.setButtonText("Test Connection"),3e3)}))),i.createEl("h3",{text:"Advanced Vault Management"}),new e.Setting(i).setName("Maximum Search Results").setDesc("Absolute maximum number of search results to fetch from backend").addSlider(e=>{var i,a;return e.setLimits(50,500,25).setValue(null!==(a=null===(i=o.settings.vaultManagement)||void 0===i?void 0:i.maxSearchResults)&&void 0!==a?a:100).setDynamicTooltip().onChange(e=>t(this,void 0,void 0,function*(){o.settings.vaultManagement||(o.settings.vaultManagement=Object.assign({},n)),o.settings.vaultManagement.maxSearchResults=e,yield o.saveSettings()}))}),new e.Setting(i).setName("Reset Vault Management Settings").setDesc("Reset all vault management settings to their default values").addButton(e=>e.setButtonText("Reset to Defaults").setWarning().onClick(()=>t(this,void 0,void 0,function*(){o.settings.vaultManagement=Object.assign({},n),yield o.saveSettings();const e=o.app.setting.activeTab;e&&e.display&&e.display()})))}(o,this.plugin),o.createEl("h3",{text:"Model Selection"}),new e.Setting(o).setName("Enable Model Selection").setDesc("Enable intelligent AI model selection based on task type and requirements").addToggle(e=>{var n,o;return e.setValue(null===(o=null===(n=this.plugin.settings.modelSelection)||void 0===n?void 0:n.enabled)||void 0===o||o).onChange(e=>t(this,void 0,void 0,function*(){this.plugin.settings.modelSelection||(this.plugin.settings.modelSelection=i.modelSelection),this.plugin.settings.modelSelection.enabled=e,yield this.plugin.saveSettings(),e?yield this.plugin.initializeModelSelection():yield this.plugin.disconnectModelSelection()}))}),new e.Setting(o).setName("DevPipe Path").setDesc("Path to the DevPipe communication directory").addText(e=>{var n,o;return e.setPlaceholder("../dev-pipe").setValue(null!==(o=null===(n=this.plugin.settings.modelSelection)||void 0===n?void 0:n.devpipePath)&&void 0!==o?o:"../dev-pipe").onChange(e=>t(this,void 0,void 0,function*(){this.plugin.settings.modelSelection||(this.plugin.settings.modelSelection=i.modelSelection),this.plugin.settings.modelSelection.devpipePath=e,yield this.plugin.saveSettings()}))}),new e.Setting(o).setName("Priority Mode").setDesc("How to prioritize model selection: performance, cost, or balanced").addDropdown(e=>{var n,o;return e.addOption("performance","Performance - Best quality models").addOption("cost","Cost - Most economical models").addOption("balanced","Balanced - Optimal quality/cost ratio").setValue(null!==(o=null===(n=this.plugin.settings.modelSelection)||void 0===n?void 0:n.userPreferences.priority)&&void 0!==o?o:"balanced").onChange(e=>t(this,void 0,void 0,function*(){this.plugin.settings.modelSelection||(this.plugin.settings.modelSelection=i.modelSelection),this.plugin.settings.modelSelection.userPreferences.priority=e,yield this.plugin.saveSettings()}))}),new e.Setting(o).setName("Max Cost Per Request").setDesc("Maximum cost per AI request (in USD)").addSlider(e=>{var n,o;return e.setLimits(.01,2,.01).setValue(null!==(o=null===(n=this.plugin.settings.modelSelection)||void 0===n?void 0:n.userPreferences.maxCostPerRequest)&&void 0!==o?o:.5).setDynamicTooltip().onChange(e=>t(this,void 0,void 0,function*(){this.plugin.settings.modelSelection||(this.plugin.settings.modelSelection=i.modelSelection),this.plugin.settings.modelSelection.userPreferences.maxCostPerRequest=e,yield this.plugin.saveSettings()}))}),new e.Setting(o).setName("Model Selection Debug").setDesc("Enable debug logging for model selection decisions").addToggle(e=>{var n,o;return e.setValue(null!==(o=null===(n=this.plugin.settings.modelSelection)||void 0===n?void 0:n.debugMode)&&void 0!==o&&o).onChange(e=>t(this,void 0,void 0,function*(){this.plugin.settings.modelSelection||(this.plugin.settings.modelSelection=i.modelSelection),this.plugin.settings.modelSelection.debugMode=e,yield this.plugin.saveSettings()}))}),o.createEl("h2",{text:"Help & Documentation"}),o.createEl("h3",{text:"Information"});o.createEl("div",{cls:"setting-item-description"}).innerHTML="\n      <p><strong>VaultPilot v1.0.0</strong></p>\n      <p>Comprehensive EvoAgentX integration for Obsidian</p>\n      <p>Features: AI Chat, Copilot, Workflows, Vault Analysis, Task Planning</p>\n      <p>For help and documentation, visit the GitHub repository.</p>\n    "}testConnection(){return t(this,void 0,void 0,function*(){var t;const n=new e.Notice("Testing connection...",0);try{let i=yield this.plugin.apiClient.healthCheck();if(!i.success&&(null===(t=i.error)||void 0===t?void 0:t.includes("400"))){console.warn("Main health check failed with 400, trying alternative method");const e=yield this.plugin.apiClient.simpleHealthCheck();e.success&&e.data&&(i={success:!0,data:{status:e.data.status,version:"unknown"}})}n.hide(),i.success?new e.Notice("âœ… Connection successful!",3e3):new e.Notice(`âŒ Connection failed: ${i.error}`,5e3)}catch(t){n.hide(),new e.Notice(`âŒ Connection error: ${t instanceof Error?t.message:"Unknown error"}`,5e3)}})}}const a="vaultpilot-view";class s extends e.ItemView{constructor(e,t){super(e),this.plugin=t}getViewType(){return a}getDisplayText(){return"VaultPilot"}getIcon(){return"bot"}onOpen(){return t(this,void 0,void 0,function*(){const e=this.containerEl;e.empty(),e.addClass("vaultpilot-view");const t=e.createEl("div",{cls:"vaultpilot-header"});t.createEl("h2",{text:"ðŸ¤– VaultPilot"}),t.createEl("p",{text:"Your AI assistant for Obsidian",cls:"vaultpilot-subtitle"}),this.statusEl=e.createEl("div",{cls:"vaultpilot-status"}),this.updateStatus(),this.quickActionsEl=e.createEl("div",{cls:"vaultpilot-quick-actions"}),this.createQuickActions(),this.vaultStatsEl=e.createEl("div",{cls:"vaultpilot-vault-stats"}),this.updateVaultStats();const n=e.createEl("div",{cls:"vaultpilot-activities"});n.createEl("h3",{text:"Recent Activities"}),n.createEl("p",{text:"Activity tracking coming soon...",cls:"vaultpilot-placeholder"}),this.addStyles()})}updateStatus(){this.statusEl.empty(),this.statusEl.createEl("h3",{text:"Connection Status"});const e=this.statusEl.createEl("div",{cls:"vaultpilot-status-container"}),t=e.createEl("div",{cls:"vaultpilot-status-item"});t.createEl("span",{text:"Backend: "});const n=t.createEl("span",{cls:"vaultpilot-status-indicator",text:"Checking..."}),i=e.createEl("div",{cls:"vaultpilot-status-item"});i.createEl("span",{text:"WebSocket: "}),i.createEl("span",{cls:"vaultpilot-status-indicator",text:this.plugin.isWebSocketConnected()?"ðŸŸ¢ Connected":"ðŸ”´ Disconnected"}),this.checkBackendStatus(n)}checkBackendStatus(e){return t(this,void 0,void 0,function*(){var t;try{let n=yield this.plugin.apiClient.healthCheck();if(!n.success&&(null===(t=n.error)||void 0===t?void 0:t.includes("400"))){const e=yield this.plugin.apiClient.simpleHealthCheck();e.success&&e.data&&(n={success:!0,data:{status:e.data.status,version:"unknown"}})}n.success?(e.textContent="ðŸŸ¢ Connected",e.className="vaultpilot-status-indicator vaultpilot-status-connected"):(e.textContent="ðŸ”´ Error",e.className="vaultpilot-status-indicator vaultpilot-status-error")}catch(t){e.textContent="ðŸ”´ Offline",e.className="vaultpilot-status-indicator vaultpilot-status-offline"}})}createQuickActions(){this.quickActionsEl.empty(),this.quickActionsEl.createEl("h3",{text:"Quick Actions"});const t=this.quickActionsEl.createEl("div",{cls:"vaultpilot-actions-grid"});t.createEl("button",{text:"ðŸ’¬ Open Chat",cls:"vaultpilot-action-button"}).onclick=()=>this.plugin.openChatModal();t.createEl("button",{text:"ðŸ“Š Open Dashboard",cls:"vaultpilot-action-button"}).onclick=()=>this.plugin.activateFullTabView();t.createEl("button",{text:"âš™ï¸ Execute Workflow",cls:"vaultpilot-action-button"}).onclick=()=>this.plugin.openWorkflowModal();t.createEl("button",{text:"ðŸ” Analyze Vault",cls:"vaultpilot-action-button"}).onclick=()=>this.plugin.analyzeVault();t.createEl("button",{text:"âœ¨ Get Completion",cls:"vaultpilot-action-button"}).onclick=()=>{const t=this.app.workspace.getActiveViewOfType(e.MarkdownView);t?this.plugin.getCopilotCompletion(t.editor):new e.Notice("No active editor found")};this.quickActionsEl.createEl("button",{text:"ðŸ”„ Refresh Status",cls:"vaultpilot-refresh-button"}).onclick=()=>{this.updateStatus(),this.updateVaultStats()}}updateVaultStats(){this.vaultStatsEl.empty(),this.vaultStatsEl.createEl("h3",{text:"Vault Statistics"});const t=this.vaultStatsEl.createEl("div",{cls:"vaultpilot-stats-container"}),n=this.app.vault.getFiles(),i=this.app.vault.getMarkdownFiles();[{label:"Total Files",value:n.length.toString()},{label:"Markdown Files",value:i.length.toString()},{label:"Folders",value:this.app.vault.getAllLoadedFiles().filter(t=>t instanceof e.TFolder).length.toString()}].forEach(e=>{const n=t.createEl("div",{cls:"vaultpilot-stat-item"});n.createEl("div",{text:e.value,cls:"vaultpilot-stat-value"}),n.createEl("div",{text:e.label,cls:"vaultpilot-stat-label"})}),this.loadAgentInfo()}loadAgentInfo(){return t(this,void 0,void 0,function*(){try{console.log("VaultPilot: Loading agents in view...");const e=yield this.plugin.apiClient.getAgents();if(console.log("VaultPilot: getAgents response in view:",e),e.success&&e.data){let t=[];if(Array.isArray(e.data))t=e.data;else if(e.data&&"object"==typeof e.data){const n=e.data;n.agents&&Array.isArray(n.agents)?(t=n.agents,console.log("VaultPilot: Found agents array in view, using response.data.agents")):n.data&&Array.isArray(n.data)?(t=n.data,console.log("VaultPilot: Found nested data in view, using response.data.data")):console.warn("VaultPilot: Unexpected response format:",typeof e.data,e.data)}const n=t.length,i=t.filter(e=>e.active).length,o=this.vaultStatsEl.createEl("div",{cls:"vaultpilot-agent-stats"});o.createEl("h4",{text:"Available Agents"});o.createEl("div",{cls:"vaultpilot-agent-info"}).createEl("span",{text:`${i}/${n} active`})}}catch(e){console.error("Failed to load agents in view:",e)}})}addStyles(){if(!document.getElementById("vaultpilot-view-styles")){const e=document.createElement("style");e.id="vaultpilot-view-styles",e.textContent="\n        .vaultpilot-view {\n          padding: 20px;\n        }\n        .vaultpilot-header {\n          text-align: center;\n          margin-bottom: 30px;\n          padding-bottom: 15px;\n          border-bottom: 1px solid var(--background-modifier-border);\n        }\n        .vaultpilot-subtitle {\n          color: var(--text-muted);\n          margin-top: 5px;\n        }\n        .vaultpilot-status,\n        .vaultpilot-quick-actions,\n        .vaultpilot-vault-stats,\n        .vaultpilot-activities {\n          margin-bottom: 25px;\n        }\n        .vaultpilot-status h3,\n        .vaultpilot-quick-actions h3,\n        .vaultpilot-vault-stats h3,\n        .vaultpilot-activities h3 {\n          margin-bottom: 15px;\n          color: var(--text-normal);\n          border-bottom: 1px solid var(--background-modifier-border);\n          padding-bottom: 5px;\n        }\n        .vaultpilot-status-container {\n          display: flex;\n          flex-direction: column;\n          gap: 8px;\n        }\n        .vaultpilot-status-item {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n        .vaultpilot-status-indicator {\n          font-weight: 500;\n        }\n        .vaultpilot-status-connected {\n          color: var(--color-green);\n        }\n        .vaultpilot-status-error,\n        .vaultpilot-status-offline {\n          color: var(--color-red);\n        }\n        .vaultpilot-actions-grid {\n          display: grid;\n          grid-template-columns: 1fr 1fr;\n          gap: 10px;\n          margin-bottom: 15px;\n        }\n        .vaultpilot-action-button {\n          padding: 12px 8px;\n          background: var(--interactive-normal);\n          border: 1px solid var(--background-modifier-border);\n          border-radius: 6px;\n          color: var(--text-normal);\n          cursor: pointer;\n          font-size: 13px;\n          transition: background-color 0.2s;\n        }\n        .vaultpilot-action-button:hover {\n          background: var(--interactive-hover);\n        }\n        .vaultpilot-refresh-button {\n          width: 100%;\n          padding: 8px;\n          background: var(--interactive-accent);\n          color: var(--text-on-accent);\n          border: none;\n          border-radius: 6px;\n          cursor: pointer;\n          font-size: 12px;\n        }\n        .vaultpilot-stats-container {\n          display: grid;\n          grid-template-columns: repeat(3, 1fr);\n          gap: 15px;\n        }\n        .vaultpilot-stat-item {\n          text-align: center;\n          padding: 15px;\n          background: var(--background-secondary);\n          border-radius: 8px;\n          border: 1px solid var(--background-modifier-border);\n        }\n        .vaultpilot-stat-value {\n          font-size: 24px;\n          font-weight: bold;\n          color: var(--text-accent);\n          margin-bottom: 5px;\n        }\n        .vaultpilot-stat-label {\n          font-size: 12px;\n          color: var(--text-muted);\n        }\n        .vaultpilot-agent-stats {\n          margin-top: 15px;\n          padding: 10px;\n          background: var(--background-primary-alt);\n          border-radius: 6px;\n          border: 1px solid var(--background-modifier-border);\n        }\n        .vaultpilot-agent-stats h4 {\n          margin: 0 0 8px 0;\n          font-size: 14px;\n        }\n        .vaultpilot-agent-info {\n          font-size: 12px;\n          color: var(--text-muted);\n        }\n        .vaultpilot-placeholder {\n          color: var(--text-muted);\n          font-style: italic;\n          text-align: center;\n          padding: 20px;\n        }\n      ",document.head.appendChild(e)}}onClose(){return t(this,void 0,void 0,function*(){})}}const r="vaultpilot-full-tab-view";class l extends e.ItemView{constructor(e,t){super(e),this.plugin=t}getViewType(){return r}getDisplayText(){return"VaultPilot Dashboard"}getIcon(){return"layout-dashboard"}onOpen(){return t(this,void 0,void 0,function*(){const e=this.containerEl;e.empty(),e.addClass("vaultpilot-full-tab-view"),e.style.height="100%",e.style.overflow="hidden";const t=e.createEl("div",{cls:"vaultpilot-main-layout"}),n=t.createEl("div",{cls:"vaultpilot-left-sidebar"});this.createLeftSidebar(n);const i=t.createEl("div",{cls:"vaultpilot-main-content"});this.createMainContent(i);const o=t.createEl("div",{cls:"vaultpilot-right-sidebar"});this.createRightSidebar(o),this.addFullTabStyles()})}createLeftSidebar(e){const t=e.createEl("div",{cls:"vaultpilot-sidebar-header"});t.createEl("h2",{text:"ðŸ¤– VaultPilot"}),t.createEl("p",{text:"AI Assistant Dashboard",cls:"vaultpilot-subtitle"}),this.statusEl=e.createEl("div",{cls:"vaultpilot-status"}),this.updateStatus(),this.quickActionsEl=e.createEl("div",{cls:"vaultpilot-quick-actions"}),this.createQuickActions(),this.vaultStatsEl=e.createEl("div",{cls:"vaultpilot-vault-stats"}),this.updateVaultStats()}createMainContent(e){const t=e.createEl("div",{cls:"vaultpilot-tab-nav"}),n=t.createEl("button",{text:"ðŸ’¬ Chat",cls:"vaultpilot-tab-button active"}),i=t.createEl("button",{text:"âš™ï¸ Workflows",cls:"vaultpilot-tab-button"}),o=t.createEl("button",{text:"ðŸ“Š Analytics",cls:"vaultpilot-tab-button"}),a=e.createEl("div",{cls:"vaultpilot-tab-content"});this.chatEl=a.createEl("div",{cls:"vaultpilot-chat-section active"}),this.createChatSection(this.chatEl),this.workflowEl=a.createEl("div",{cls:"vaultpilot-workflow-section"}),this.createWorkflowSection(this.workflowEl);const s=a.createEl("div",{cls:"vaultpilot-analytics-section"});this.createAnalyticsSection(s),n.onclick=()=>this.switchTab("chat",n),i.onclick=()=>this.switchTab("workflow",i),o.onclick=()=>this.switchTab("analytics",o)}createRightSidebar(e){const t=e.createEl("div",{cls:"vaultpilot-recent-files"});t.createEl("h3",{text:"Recent Files"}),this.updateRecentFiles(t);const n=e.createEl("div",{cls:"vaultpilot-agent-status"});n.createEl("h3",{text:"Agent Status"}),this.updateAgentStatus(n);const i=e.createEl("div",{cls:"vaultpilot-activity-feed"});i.createEl("h3",{text:"Activity Feed"}),this.createActivityFeed(i)}createChatSection(e){const t=e.createEl("div",{cls:"vaultpilot-chat-content"});t.createEl("div",{cls:"vaultpilot-chat-header"}).createEl("h3",{text:"AI Chat Interface"});const n=t.createEl("div",{cls:"vaultpilot-chat-history"});n.createEl("div",{text:"Welcome! Start a conversation with your AI assistant.",cls:"vaultpilot-chat-welcome"});const i=t.createEl("div",{cls:"vaultpilot-chat-input"}),o=i.createEl("textarea",{placeholder:"Type your message here...",cls:"vaultpilot-chat-textarea"}),a=i.createEl("button",{text:"Send",cls:"vaultpilot-chat-send-button"});a.onclick=()=>{const e=o.value.trim();e&&(this.sendChatMessage(e,n),o.value="")},o.onkeydown=e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),a.click())}}createWorkflowSection(e){const t=e.createEl("div",{cls:"vaultpilot-workflow-content"});t.createEl("div",{cls:"vaultpilot-workflow-header"}).createEl("h3",{text:"Workflow Management"});const n=t.createEl("div",{cls:"vaultpilot-workflow-grid"});[{name:"Analyze Vault",icon:"ðŸ”",description:"Analyze your vault structure and content"},{name:"Generate Summary",icon:"ðŸ“",description:"Create summaries of your notes"},{name:"Link Analysis",icon:"ðŸ”—",description:"Analyze note connections and relationships"},{name:"Tag Management",icon:"ðŸ·ï¸",description:"Organize and manage your tags"},{name:"Daily Planning",icon:"ðŸ“…",description:"Plan your day based on your notes"},{name:"Knowledge Graph",icon:"ðŸ•¸ï¸",description:"Visualize your knowledge connections"},{name:"Content Search",icon:"ðŸ”Ž",description:"Advanced search across your vault"},{name:"Note Templates",icon:"ðŸ“„",description:"Create and manage note templates"},{name:"Link Assistant",icon:"ðŸ”—",description:"Intelligent link suggestions and management"}].forEach(e=>{const t=n.createEl("div",{cls:"vaultpilot-workflow-card"});t.createEl("div",{text:e.icon,cls:"vaultpilot-workflow-icon"}),t.createEl("h4",{text:e.name}),t.createEl("p",{text:e.description});t.createEl("button",{text:"Run",cls:"vaultpilot-workflow-run-button"}).onclick=()=>this.runWorkflow(e.name)})}createAnalyticsSection(e){const t=e.createEl("div",{cls:"vaultpilot-analytics-content"});t.createEl("div",{cls:"vaultpilot-analytics-header"}).createEl("h3",{text:"Vault Analytics"});const n=t.createEl("div",{cls:"vaultpilot-charts-container"}),i=n.createEl("div",{cls:"vaultpilot-chart-card"});i.createEl("h4",{text:"File Type Distribution"}),i.createEl("div",{text:"Chart visualization coming soon...",cls:"vaultpilot-chart-placeholder"});const o=n.createEl("div",{cls:"vaultpilot-chart-card"});o.createEl("h4",{text:"Note Creation Timeline"}),o.createEl("div",{text:"Timeline visualization coming soon...",cls:"vaultpilot-chart-placeholder"});const a=n.createEl("div",{cls:"vaultpilot-chart-card"});a.createEl("h4",{text:"Tag Usage"}),a.createEl("div",{text:"Tag analytics coming soon...",cls:"vaultpilot-chart-placeholder"});const s=n.createEl("div",{cls:"vaultpilot-chart-card"});s.createEl("h4",{text:"Word Count Analysis"}),s.createEl("div",{text:"Word count visualization coming soon...",cls:"vaultpilot-chart-placeholder"});const r=n.createEl("div",{cls:"vaultpilot-chart-card"});r.createEl("h4",{text:"Link Density"}),r.createEl("div",{text:"Link analysis coming soon...",cls:"vaultpilot-chart-placeholder"});const l=n.createEl("div",{cls:"vaultpilot-chart-card"});l.createEl("h4",{text:"Activity Heatmap"}),l.createEl("div",{text:"Activity heatmap coming soon...",cls:"vaultpilot-chart-placeholder"})}switchTab(e,t){var n;this.containerEl.querySelectorAll(".vaultpilot-tab-button").forEach(e=>{e.removeClass("active")}),this.containerEl.querySelectorAll(".vaultpilot-chat-section, .vaultpilot-workflow-section, .vaultpilot-analytics-section").forEach(e=>{e.removeClass("active")}),t.addClass("active"),"chat"===e?this.chatEl.addClass("active"):"workflow"===e?this.workflowEl.addClass("active"):"analytics"===e&&(null===(n=this.containerEl.querySelector(".vaultpilot-analytics-section"))||void 0===n||n.addClass("active"))}sendChatMessage(e,n){return t(this,void 0,void 0,function*(){n.createEl("div",{cls:"vaultpilot-chat-message user"}).createEl("div",{text:e});const t=n.createEl("div",{cls:"vaultpilot-chat-message assistant thinking"});t.createEl("div",{text:"Thinking..."}),n.scrollTop=n.scrollHeight;try{const i=yield this.plugin.apiClient.sendChat({message:e,context:null});if(t.remove(),i.success&&i.data){n.createEl("div",{cls:"vaultpilot-chat-message assistant"}).createEl("div",{text:i.data.response})}else{n.createEl("div",{cls:"vaultpilot-chat-message error"}).createEl("div",{text:"Error: Could not get response from AI"})}}catch(e){t.remove();n.createEl("div",{cls:"vaultpilot-chat-message error"}).createEl("div",{text:"Error: Connection failed"})}n.scrollTop=n.scrollHeight})}runWorkflow(n){return t(this,void 0,void 0,function*(){new e.Notice(`Running workflow: ${n}`);try{switch(n){case"Analyze Vault":yield this.plugin.analyzeVault();break;case"Daily Planning":yield this.plugin.planMyDay();break;default:new e.Notice(`${n} workflow is coming soon!`)}}catch(t){new e.Notice(`Error running workflow: ${n}`)}})}updateStatus(){this.statusEl.empty(),this.statusEl.createEl("h3",{text:"Connection Status"});const e=this.statusEl.createEl("div",{cls:"vaultpilot-status-container"}),t=e.createEl("div",{cls:"vaultpilot-status-item"});t.createEl("span",{text:"Backend: "});const n=t.createEl("span",{cls:"vaultpilot-status-indicator",text:"Checking..."}),i=e.createEl("div",{cls:"vaultpilot-status-item"});i.createEl("span",{text:"WebSocket: "}),i.createEl("span",{cls:"vaultpilot-status-indicator",text:this.plugin.isWebSocketConnected()?"ðŸŸ¢ Connected":"ðŸ”´ Disconnected"}),this.checkBackendStatus(n)}checkBackendStatus(e){return t(this,void 0,void 0,function*(){var t;try{let n=yield this.plugin.apiClient.healthCheck();if(!n.success&&(null===(t=n.error)||void 0===t?void 0:t.includes("400"))){const e=yield this.plugin.apiClient.simpleHealthCheck();e.success&&e.data&&(n={success:!0,data:{status:e.data.status,version:"unknown"}})}n.success?(e.textContent="ðŸŸ¢ Connected",e.className="vaultpilot-status-indicator vaultpilot-status-connected"):(e.textContent="ðŸ”´ Error",e.className="vaultpilot-status-indicator vaultpilot-status-error")}catch(t){e.textContent="ðŸ”´ Offline",e.className="vaultpilot-status-indicator vaultpilot-status-offline"}})}createQuickActions(){this.quickActionsEl.empty(),this.quickActionsEl.createEl("h3",{text:"Quick Actions"});const e=this.quickActionsEl.createEl("div",{cls:"vaultpilot-actions-grid"});e.createEl("button",{text:"ðŸ”„ Refresh",cls:"vaultpilot-action-button"}).onclick=()=>{this.updateStatus(),this.updateVaultStats()};e.createEl("button",{text:"ðŸ“‹ Sidebar View",cls:"vaultpilot-action-button"}).onclick=()=>this.plugin.activateView();e.createEl("button",{text:"ðŸ’¬ Modal Chat",cls:"vaultpilot-action-button"}).onclick=()=>this.plugin.openChatModal();e.createEl("button",{text:"âš™ï¸ Workflows",cls:"vaultpilot-action-button"}).onclick=()=>this.plugin.openWorkflowModal()}updateVaultStats(){this.vaultStatsEl.empty(),this.vaultStatsEl.createEl("h3",{text:"Vault Statistics"});const t=this.vaultStatsEl.createEl("div",{cls:"vaultpilot-stats-container"}),n=this.app.vault.getFiles(),i=this.app.vault.getMarkdownFiles();[{label:"Total Files",value:n.length.toString()},{label:"Markdown Files",value:i.length.toString()},{label:"Folders",value:this.app.vault.getAllLoadedFiles().filter(t=>t instanceof e.TFolder).length.toString()}].forEach(e=>{const n=t.createEl("div",{cls:"vaultpilot-stat-item"});n.createEl("div",{text:e.value,cls:"vaultpilot-stat-value"}),n.createEl("div",{text:e.label,cls:"vaultpilot-stat-label"})})}updateRecentFiles(e){this.app.vault.getMarkdownFiles().sort((e,t)=>t.stat.mtime-e.stat.mtime).slice(0,5).forEach(t=>{const n=e.createEl("div",{cls:"vaultpilot-recent-file"});n.createEl("span",{text:t.basename}),n.onclick=()=>{this.app.workspace.openLinkText(t.path,"",!1)}})}updateAgentStatus(e){this.loadAgentInfo(e)}loadAgentInfo(e){return t(this,void 0,void 0,function*(){try{console.log("VaultPilot: Loading agents in full-tab-view...");const t=yield this.plugin.apiClient.getAgents();if(console.log("VaultPilot: getAgents response in full-tab-view:",t),t.success&&t.data&&e){let n=[];if(Array.isArray(t.data))n=t.data;else if(t.data&&"object"==typeof t.data){const e=t.data;e.agents&&Array.isArray(e.agents)?(n=e.agents,console.log("VaultPilot: Found agents array in full-tab-view, using response.data.agents")):e.data&&Array.isArray(e.data)?(n=e.data,console.log("VaultPilot: Found nested data in full-tab-view, using response.data.data")):console.warn("VaultPilot: Unexpected response format:",typeof t.data,t.data)}const i=n.length,o=n.filter(e=>e.active).length,a=e.createEl("div",{cls:"vaultpilot-agent-info"});a.createEl("div",{text:`${o}/${i} active`}),n.forEach(e=>{const t=a.createEl("div",{cls:"vaultpilot-agent-item"});t.createEl("span",{text:e.name}),t.createEl("span",{text:e.active?"ðŸŸ¢":"ðŸ”´",cls:"vaultpilot-agent-status"})})}}catch(e){console.error("Failed to load agents in full tab view:",e)}})}createActivityFeed(e){[{time:"Just now",activity:"VaultPilot started"},{time:"5 min ago",activity:"Connection established"},{time:"1 hour ago",activity:"Last vault analysis"}].forEach(t=>{const n=e.createEl("div",{cls:"vaultpilot-activity-item"});n.createEl("div",{text:t.activity}),n.createEl("div",{text:t.time,cls:"vaultpilot-activity-time"})})}addFullTabStyles(){if(!document.getElementById("vaultpilot-full-tab-styles")){const e=document.createElement("style");e.id="vaultpilot-full-tab-styles",e.textContent='\n        /* Ensure the full tab view fills available space */\n        .workspace-leaf-content[data-type="vaultpilot-full-tab-view"] {\n          height: 100%;\n        }\n        .vaultpilot-full-tab-view {\n          height: 100%;\n          display: flex;\n          flex-direction: column;\n        }\n        .vaultpilot-main-layout {\n          display: flex;\n          flex: 1;\n          gap: 1px;\n          background: var(--background-modifier-border);\n          min-height: 0;\n        }\n        .vaultpilot-left-sidebar {\n          width: 250px;\n          background: var(--background-primary);\n          padding: 16px;\n          overflow-y: auto;\n        }\n        .vaultpilot-main-content {\n          flex: 1;\n          background: var(--background-primary);\n          display: flex;\n          flex-direction: column;\n          min-height: 0;\n        }\n        .vaultpilot-right-sidebar {\n          width: 250px;\n          background: var(--background-primary);\n          padding: 16px;\n          overflow-y: auto;\n        }\n        .vaultpilot-sidebar-header {\n          text-align: center;\n          margin-bottom: 20px;\n          padding-bottom: 15px;\n          border-bottom: 1px solid var(--background-modifier-border);\n        }\n        .vaultpilot-tab-nav {\n          display: flex;\n          background: var(--background-secondary);\n          border-bottom: 1px solid var(--background-modifier-border);\n          flex-shrink: 0;\n        }\n        .vaultpilot-tab-button {\n          flex: 1;\n          padding: 12px 16px;\n          background: transparent;\n          border: none;\n          color: var(--text-muted);\n          cursor: pointer;\n          transition: all 0.2s;\n        }\n        .vaultpilot-tab-button:hover {\n          background: var(--background-modifier-hover);\n        }\n        .vaultpilot-tab-button.active {\n          background: var(--background-primary);\n          color: var(--text-normal);\n          border-bottom: 2px solid var(--interactive-accent);\n        }\n        .vaultpilot-tab-content {\n          flex: 1;\n          display: flex;\n          flex-direction: column;\n          min-height: 0;\n          height: 100%;\n        }\n        /* Sections just flex-grow and hold their children */\n        .vaultpilot-chat-section,\n        .vaultpilot-workflow-section,\n        .vaultpilot-analytics-section {\n          display: none;           /* hidden by default */\n          flex: 1 1 0;             /* flex-grow, flex-shrink, base 0 */\n          flex-direction: column;\n          min-height: 0;           /* allow children to shrink/scroll */\n        }\n\n        /* Active section shows and flexes */\n        .vaultpilot-chat-section.active,\n        .vaultpilot-workflow-section.active,\n        .vaultpilot-analytics-section.active {\n          display: flex;           /* show & flex when active */\n        }\n\n        /* Content panels handle the scrolling */\n        .vaultpilot-chat-content,\n        .vaultpilot-workflow-content,\n        .vaultpilot-analytics-content {\n          flex: 1 1 0;             /* fill remaining space */\n          min-height: 0;           /* critical to allow overflow */\n          overflow-y: auto;        /* now *this* container scrolls */\n          padding: 16px;\n        }\n\n        /* keep special chat gaps */\n        .vaultpilot-chat-content {\n          display: flex;\n          flex-direction: column;\n          gap: 16px;\n        }\n        .vaultpilot-chat-history {\n          flex: 1;\n          overflow-y: auto;\n          border: 1px solid var(--background-modifier-border);\n          border-radius: 8px;\n          padding: 16px;\n          background: var(--background-secondary);\n          min-height: 0;\n        }\n        .vaultpilot-chat-input {\n          display: flex;\n          gap: 8px;\n        }\n        .vaultpilot-chat-textarea {\n          flex: 1;\n          min-height: 60px;\n          padding: 8px;\n          border: 1px solid var(--background-modifier-border);\n          border-radius: 6px;\n          background: var(--background-primary);\n          color: var(--text-normal);\n          resize: vertical;\n        }\n        .vaultpilot-chat-send-button {\n          padding: 8px 16px;\n          background: var(--interactive-accent);\n          color: var(--text-on-accent);\n          border: none;\n          border-radius: 6px;\n          cursor: pointer;\n          height: fit-content;\n          align-self: flex-end;\n        }\n        .vaultpilot-chat-message {\n          margin-bottom: 12px;\n          padding: 8px 12px;\n          border-radius: 8px;\n          max-width: 80%;\n        }\n        .vaultpilot-chat-message.user {\n          background: var(--interactive-accent);\n          color: var(--text-on-accent);\n          margin-left: auto;\n        }\n        .vaultpilot-chat-message.assistant {\n          background: var(--background-primary);\n          border: 1px solid var(--background-modifier-border);\n        }\n        .vaultpilot-chat-message.thinking {\n          opacity: 0.7;\n          font-style: italic;\n        }\n        .vaultpilot-chat-message.error {\n          background: var(--background-modifier-error);\n          color: var(--text-error);\n        }\n        .vaultpilot-chat-header,\n        .vaultpilot-workflow-header,\n        .vaultpilot-analytics-header {\n          margin-bottom: 16px;\n          padding-bottom: 8px;\n          border-bottom: 1px solid var(--background-modifier-border);\n        }\n        .vaultpilot-chat-header h3,\n        .vaultpilot-workflow-header h3,\n        .vaultpilot-analytics-header h3 {\n          margin: 0;\n          color: var(--text-normal);\n        }\n        .vaultpilot-workflow-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n          gap: 16px;\n          align-content: start;\n          padding: 0;\n          margin: 0;\n          width: 100%;\n        }\n        .vaultpilot-workflow-card {\n          background: var(--background-secondary);\n          border: 1px solid var(--background-modifier-border);\n          border-radius: 8px;\n          padding: 16px;\n          text-align: center;\n          transition: all 0.2s ease;\n        }\n        .vaultpilot-workflow-card:hover {\n          border-color: var(--interactive-accent);\n          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n        }\n        .vaultpilot-workflow-icon {\n          font-size: 32px;\n          margin-bottom: 8px;\n        }\n        .vaultpilot-workflow-run-button {\n          margin-top: 8px;\n          padding: 6px 12px;\n          background: var(--interactive-accent);\n          color: var(--text-on-accent);\n          border: none;\n          border-radius: 4px;\n          cursor: pointer;\n        }\n        .vaultpilot-charts-container {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n          gap: 16px;\n          align-content: start;\n          padding: 0;\n          margin: 0;\n          width: 100%;\n        }\n        .vaultpilot-chart-card {\n          background: var(--background-secondary);\n          border: 1px solid var(--background-modifier-border);\n          border-radius: 8px;\n          padding: 16px;\n          transition: all 0.2s ease;\n        }\n        .vaultpilot-chart-card:hover {\n          border-color: var(--interactive-accent);\n          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n        }\n        .vaultpilot-chart-placeholder {\n          text-align: center;\n          color: var(--text-muted);\n          font-style: italic;\n          padding: 20px;\n        }\n        .vaultpilot-recent-file {\n          padding: 4px 8px;\n          margin-bottom: 4px;\n          border-radius: 4px;\n          cursor: pointer;\n          transition: background-color 0.2s;\n        }\n        .vaultpilot-recent-file:hover {\n          background: var(--background-modifier-hover);\n        }\n        .vaultpilot-agent-item {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          padding: 4px 0;\n        }\n        .vaultpilot-activity-item {\n          margin-bottom: 8px;\n          padding: 6px 0;\n          border-bottom: 1px solid var(--background-modifier-border);\n        }\n        .vaultpilot-activity-time {\n          font-size: 11px;\n          color: var(--text-muted);\n          margin-top: 2px;\n        }\n        /* Inherit styles from original view */\n        .vaultpilot-status,\n        .vaultpilot-quick-actions,\n        .vaultpilot-vault-stats {\n          margin-bottom: 20px;\n        }\n        .vaultpilot-status h3,\n        .vaultpilot-quick-actions h3,\n        .vaultpilot-vault-stats h3 {\n          margin-bottom: 12px;\n          color: var(--text-normal);\n          border-bottom: 1px solid var(--background-modifier-border);\n          padding-bottom: 4px;\n          font-size: 14px;\n        }\n        .vaultpilot-status-container {\n          display: flex;\n          flex-direction: column;\n          gap: 6px;\n        }\n        .vaultpilot-status-item {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          font-size: 12px;\n        }\n        .vaultpilot-status-indicator {\n          font-weight: 500;\n          font-size: 11px;\n        }\n        .vaultpilot-status-connected {\n          color: var(--color-green);\n        }\n        .vaultpilot-status-error,\n        .vaultpilot-status-offline {\n          color: var(--color-red);\n        }\n        .vaultpilot-actions-grid {\n          display: grid;\n          grid-template-columns: 1fr 1fr;\n          gap: 8px;\n        }\n        .vaultpilot-action-button {\n          padding: 8px 6px;\n          background: var(--interactive-normal);\n          border: 1px solid var(--background-modifier-border);\n          border-radius: 4px;\n          color: var(--text-normal);\n          cursor: pointer;\n          font-size: 11px;\n          transition: background-color 0.2s;\n        }\n        .vaultpilot-action-button:hover {\n          background: var(--interactive-hover);\n        }\n        .vaultpilot-stats-container {\n          display: grid;\n          grid-template-columns: 1fr;\n          gap: 8px;\n        }\n        .vaultpilot-stat-item {\n          text-align: center;\n          padding: 8px;\n          background: var(--background-secondary);\n          border-radius: 4px;\n          border: 1px solid var(--background-modifier-border);\n        }\n        .vaultpilot-stat-value {\n          font-size: 18px;\n          font-weight: bold;\n          color: var(--text-accent);\n          margin-bottom: 2px;\n        }\n        .vaultpilot-stat-label {\n          font-size: 10px;\n          color: var(--text-muted);\n        }\n      ',document.head.appendChild(e)}}onClose(){return t(this,void 0,void 0,function*(){})}}let c;function d(){return t(this,void 0,void 0,function*(){const e=c.workspace.getActiveFile();if(!e)return null;return(yield c.vault.read(e)).slice(0,8e3)})}class u extends e.Modal{constructor(e,t){super(e),this.currentConversationId=null,this.messages=[],this.plugin=t}onOpen(){const{contentEl:e}=this;e.empty(),e.addClass("vaultpilot-chat-modal");const t=e.createEl("div",{cls:"vaultpilot-chat-header"});t.createEl("h2",{text:"ðŸ¤– VaultPilot Chat"});const n=t.createEl("div",{cls:"vaultpilot-chat-toolbar"});n.createEl("div",{cls:"vaultpilot-auto-mode-info",text:"âš¡ Automatic mode detection enabled"});n.createEl("button",{text:"Clear Chat",cls:"mod-cta"}).onclick=()=>this.clearChat();const i=n.createEl("select",{cls:"vaultpilot-agent-select"});i.createEl("option",{text:"Auto-select Agent",value:""}),this.loadAgents(i),this.chatContainer=e.createEl("div",{cls:"vaultpilot-chat-container"}),this.messagesEl=this.chatContainer.createEl("div",{cls:"vaultpilot-chat-messages"}),this.inputContainer=this.chatContainer.createEl("div",{cls:"vaultpilot-chat-input-container"}),this.inputEl=this.inputContainer.createEl("input",{type:"text",placeholder:"Ask a question or describe what you want to accomplish...",cls:"vaultpilot-chat-input"}),this.sendButton=this.inputContainer.createEl("button",{text:"Send",cls:"mod-cta vaultpilot-send-button"}),this.inputEl.addEventListener("keydown",e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),this.sendMessage())}),this.sendButton.onclick=()=>this.sendMessage(),this.inputEl.focus(),this.loadConversationHistory(),this.addStyles()}loadAgents(e){return t(this,void 0,void 0,function*(){try{console.log("VaultPilot: Loading agents...");const t=yield this.plugin.apiClient.getAgents();if(console.log("VaultPilot: getAgents response:",t),t.success&&t.data){console.log("VaultPilot: response.data type:",typeof t.data),console.log("VaultPilot: response.data content:",t.data);let n=[];if(Array.isArray(t.data))n=t.data;else if(t.data&&"object"==typeof t.data){const e=t.data;e.agents&&Array.isArray(e.agents)?n=e.agents:e.data&&Array.isArray(e.data)&&(n=e.data)}if(n.length>0)console.log("VaultPilot: Found",n.length,"agents"),n.forEach(t=>{e.createEl("option",{text:t.name,value:t.id})});else{console.log("VaultPilot: No agents found in response");e.createEl("option",{text:"No agents available",value:""}).disabled=!0}}else console.error("Failed to load agents: API returned error or no data:",t)}catch(e){console.error("Failed to load agents:",e)}})}loadConversationHistory(){return t(this,void 0,void 0,function*(){if(this.currentConversationId)try{const e=yield this.plugin.apiClient.getConversationHistory(this.currentConversationId);e.success&&e.data&&(this.messages=e.data.messages,this.renderMessages())}catch(e){console.error("Failed to load conversation history:",e)}})}sendMessage(){return t(this,void 0,void 0,function*(){const t=this.inputEl.value.trim();if(t){this.inputEl.disabled=!0,this.sendButton.disabled=!0,this.sendButton.textContent="Sending...",this.addMessage("user",t),this.inputEl.value="";try{const[n,i]=yield Promise.all([d(),this.plugin.apiClient.classifyIntent(t)]),o={message:t,context:n};let a;this.plugin.settings.showIntentDebug&&this.showIntentDebug(i.intent),"agent"===i.intent?(a=yield this.plugin.apiClient.runWorkflow(o),a.success&&a.data?this.addMessage("assistant",`âš™ï¸ Agent Mode (auto-detected)\n\n${a.data.result}`):this.addMessage("assistant",`Error in agent mode: ${a.error||"Failed to get response"}`)):(a=yield this.plugin.apiClient.sendChat(o,{conversation_id:this.currentConversationId||void 0,agent_id:this.getSelectedAgent()}),a.success&&a.data?(this.currentConversationId=a.data.conversation_id,this.addMessage("assistant",a.data.response)):this.addMessage("assistant",`Error: ${a.error||"Failed to get response"}`)),(null==n?void 0:n.length)||new e.Notice("âš ï¸ No vault content was sent; replies may be generic."),a.success||new e.Notice(`Chat error: ${a.error}`)}catch(t){const n=t instanceof Error?t.message:"Unknown error";this.addMessage("assistant",`Error: ${n}`),new e.Notice(`Chat error: ${n}`)}finally{this.inputEl.disabled=!1,this.sendButton.disabled=!1,this.sendButton.textContent="Send",this.inputEl.focus()}}})}getSelectedAgent(){const e=this.contentEl.querySelector(".vaultpilot-agent-select");return(null==e?void 0:e.value)||void 0}addMessage(e,t){const n={role:e,content:t,timestamp:(new Date).toISOString()};this.messages.push(n),this.renderMessage(n),this.scrollToBottom()}renderMessages(){this.messagesEl.empty(),this.messages.forEach(e=>this.renderMessage(e)),this.scrollToBottom()}renderMessage(e){const t=this.messagesEl.createEl("div",{cls:`vaultpilot-message vaultpilot-message-${e.role}`});t.createEl("div",{cls:"vaultpilot-message-role",text:"user"===e.role?"You":"VaultPilot"});t.createEl("div",{cls:"vaultpilot-message-content"}).innerHTML=this.renderMarkdown(e.content),e.timestamp&&t.createEl("div",{cls:"vaultpilot-message-time",text:new Date(e.timestamp).toLocaleTimeString()})}renderMarkdown(e){return e.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/`(.*?)`/g,"<code>$1</code>").replace(/\n/g,"<br>")}scrollToBottom(){this.messagesEl.scrollTop=this.messagesEl.scrollHeight}clearChat(){this.messages=[],this.currentConversationId=null,this.messagesEl.empty(),new e.Notice("Chat cleared")}addStyles(){if(!document.getElementById("vaultpilot-chat-styles")){const e=document.createElement("style");e.id="vaultpilot-chat-styles",e.textContent="\n        .vaultpilot-chat-modal {\n          width: 600px;\n          height: 700px;\n        }\n        .vaultpilot-chat-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 15px;\n          padding-bottom: 10px;\n          border-bottom: 1px solid var(--background-modifier-border);\n        }\n        .vaultpilot-chat-toolbar {\n          display: flex;\n          gap: 10px;\n          align-items: center;\n          flex-wrap: wrap;\n        }\n        .vaultpilot-auto-mode-info {\n          margin-right: 15px;\n          padding: 8px 12px;\n          border: 1px solid var(--background-modifier-border);\n          border-radius: 6px;\n          background: var(--background-secondary);\n          font-size: 0.85em;\n          color: var(--text-muted);\n          display: flex;\n          align-items: center;\n          gap: 6px;\n        }\n        .vaultpilot-agent-select {\n          padding: 4px 8px;\n          border: 1px solid var(--background-modifier-border);\n          border-radius: 4px;\n          background: var(--background-primary);\n          color: var(--text-normal);\n        }\n        .vaultpilot-chat-container {\n          display: flex;\n          flex-direction: column;\n          height: calc(100% - 80px);\n        }\n        .vaultpilot-chat-messages {\n          flex: 1;\n          overflow-y: auto;\n          padding: 10px;\n          border: 1px solid var(--background-modifier-border);\n          border-radius: 8px;\n          margin-bottom: 15px;\n          background: var(--background-secondary);\n        }\n        .vaultpilot-message {\n          margin-bottom: 15px;\n          padding: 10px;\n          border-radius: 8px;\n        }\n        .vaultpilot-message-user {\n          background: var(--background-primary-alt);\n          margin-left: 20px;\n        }\n        .vaultpilot-message-assistant {\n          background: var(--background-primary);\n          margin-right: 20px;\n        }\n        .vaultpilot-message-role {\n          font-weight: bold;\n          margin-bottom: 5px;\n          color: var(--text-accent);\n        }\n        .vaultpilot-message-content {\n          line-height: 1.4;\n          color: var(--text-normal);\n          user-select: text;\n        }\n        .vaultpilot-message-time {\n          font-size: 0.8em;\n          color: var(--text-muted);\n          margin-top: 5px;\n        }\n        .vaultpilot-chat-input-container {\n          display: flex;\n          gap: 10px;\n        }\n        .vaultpilot-chat-input {\n          flex: 1;\n          padding: 10px;\n          border: 1px solid var(--background-modifier-border);\n          border-radius: 6px;\n          background: var(--background-primary);\n          color: var(--text-normal);\n        }\n        .vaultpilot-send-button {\n          padding: 10px 20px;\n        }\n        .vaultpilot-intent-debug {\n          background: var(--background-modifier-success);\n          color: var(--text-normal);\n          padding: 8px 12px;\n          border-radius: 4px;\n          margin: 8px 0;\n          font-size: 0.85em;\n          text-align: center;\n          border: 1px solid var(--background-modifier-border-hover);\n          animation: fadeInOut 3s ease-in-out;\n        }\n        @keyframes fadeInOut {\n          0% { opacity: 0; transform: translateY(-10px); }\n          10% { opacity: 1; transform: translateY(0); }\n          90% { opacity: 1; transform: translateY(0); }\n          100% { opacity: 0; transform: translateY(-10px); }\n        }\n      ",document.head.appendChild(e)}}showIntentDebug(e){const t=this.messagesEl.createEl("div",{cls:"vaultpilot-intent-debug",text:"ðŸ” Intent detected: "+("agent"===e?"âš™ï¸ Agent Mode":"ðŸ’¬ Ask Mode")});setTimeout(()=>{t.remove()},3e3)}onClose(){const{contentEl:e}=this;e.empty()}}class h extends e.Modal{constructor(e,t){super(e),this.isExecuting=!1,this.plugin=t}onOpen(){const{contentEl:e}=this;e.empty(),e.addClass("vaultpilot-workflow-modal");const t=e.createEl("div",{cls:"vaultpilot-workflow-header"});t.createEl("h2",{text:"âš™ï¸ Workflow Execution"}),t.createEl("p",{text:"Define a goal and let VaultPilot create and execute a comprehensive workflow to achieve it.",cls:"vaultpilot-workflow-description"});const n=e.createEl("div",{cls:"vaultpilot-workflow-form"}),i=n.createEl("div",{cls:"vaultpilot-form-group"});i.createEl("label",{text:"Goal *",cls:"vaultpilot-form-label"}),this.goalInput=i.createEl("textarea",{placeholder:'e.g., "Create a comprehensive study plan for machine learning based on my notes"',cls:"vaultpilot-goal-input"});const o=n.createEl("div",{cls:"vaultpilot-form-group"});o.createEl("label",{text:"Additional Context (optional)",cls:"vaultpilot-form-label"}),this.contextInput=o.createEl("textarea",{placeholder:"Provide any additional context, constraints, or requirements...",cls:"vaultpilot-context-input"});const a=n.createEl("div",{cls:"vaultpilot-form-group"});a.createEl("label",{text:"Vault Integration",cls:"vaultpilot-form-label"});const s=a.createEl("label",{cls:"vaultpilot-checkbox-label"}),r=s.createEl("input",{type:"checkbox"});s.createSpan({text:"Include active file content"});const l=a.createEl("label",{cls:"vaultpilot-checkbox-label"}),c=l.createEl("input",{type:"checkbox"});l.createSpan({text:"Include all vault files (may take longer)"}),this.executeButton=n.createEl("button",{text:"Execute Workflow",cls:"mod-cta vaultpilot-execute-button"}),this.executeButton.onclick=()=>this.executeWorkflow(r.checked,c.checked),this.progressContainer=e.createEl("div",{cls:"vaultpilot-progress-container"}),this.progressContainer.style.display="none",this.resultsContainer=e.createEl("div",{cls:"vaultpilot-results-container"}),this.resultsContainer.style.display="none",this.goalInput.focus(),this.addStyles()}executeWorkflow(n,i){return t(this,void 0,void 0,function*(){const t=this.goalInput.value.trim();if(t){this.isExecuting=!0,this.executeButton.disabled=!0,this.executeButton.textContent="Executing...",this.progressContainer.style.display="block",this.resultsContainer.style.display="none";try{let e="";if(n){const t=this.app.workspace.getActiveFile();if(t){const n=yield this.app.vault.read(t);e+=`=== ${t.name} ===\n${n}\n\n`}}if(i){const t=this.app.vault.getMarkdownFiles();for(const n of t.slice(0,20)){const t=yield this.app.vault.read(n);e+=`=== ${n.name} ===\n${t}\n\n`}}const o={goal:t,context:this.contextInput.value.trim()||void 0,vault_content:e||void 0};this.plugin.isWebSocketConnected()&&this.setupProgressListener();const a=yield this.plugin.apiClient.executeWorkflow(o);if(!a.success||!a.data)throw new Error(a.error||"Workflow execution failed");yield this.displayResults(a.data)}catch(t){const n=t instanceof Error?t.message:"Unknown error";new e.Notice(`Workflow error: ${n}`),this.displayError(n)}finally{this.isExecuting=!1,this.executeButton.disabled=!1,this.executeButton.textContent="Execute Workflow"}}else new e.Notice("Please enter a goal for the workflow")})}setupProgressListener(){this.displayProgress("Analyzing goal and context..."),setTimeout(()=>{this.displayProgress("Planning workflow steps...")},1e3),setTimeout(()=>{this.displayProgress("Executing workflow...")},2e3)}displayProgress(e){this.progressContainer.innerHTML=`\n      <div class="vaultpilot-progress-item">\n        <div class="vaultpilot-progress-spinner"></div>\n        <span>${e}</span>\n      </div>\n    `}displayResults(e){return t(this,void 0,void 0,function*(){this.progressContainer.style.display="none",this.resultsContainer.style.display="block",this.resultsContainer.empty();const t=this.resultsContainer.createEl("div",{cls:"vaultpilot-results-header"});t.createEl("h3",{text:"âœ… Workflow Completed"}),t.createEl("p",{text:`Execution time: ${e.execution_time}s`,cls:"vaultpilot-execution-time"});const n=this.resultsContainer.createEl("div",{cls:"vaultpilot-result-content"});n.createEl("h4",{text:"Result"});if(n.createEl("div",{cls:"vaultpilot-result-text"}).innerHTML=this.renderMarkdown(e.result),e.steps_taken&&e.steps_taken.length>0){const t=this.resultsContainer.createEl("div",{cls:"vaultpilot-steps-container"});t.createEl("h4",{text:"Steps Taken"});const n=t.createEl("ol",{cls:"vaultpilot-steps-list"});e.steps_taken.forEach(e=>{n.createEl("li",{text:e})})}if(e.artifacts&&e.artifacts.length>0){const t=this.resultsContainer.createEl("div",{cls:"vaultpilot-artifacts-container"});t.createEl("h4",{text:"Generated Artifacts"}),e.artifacts.forEach((e,n)=>{const i=t.createEl("div",{cls:"vaultpilot-artifact"});i.createEl("h5",{text:e.title}),i.createEl("p",{text:`Type: ${e.type}`,cls:"vaultpilot-artifact-type"});i.createEl("button",{text:"Save as Note",cls:"mod-cta"}).onclick=()=>this.saveArtifactAsNote(e,n)})}this.resultsContainer.createEl("div",{cls:"vaultpilot-results-actions"}).createEl("button",{text:"Save Complete Results as Note",cls:"mod-cta"}).onclick=()=>this.saveCompleteResultsAsNote(e)})}saveArtifactAsNote(n,i){return t(this,void 0,void 0,function*(){try{const t=`${n.title.replace(/[^a-zA-Z0-9\s]/g,"")}.md`,i=`# ${n.title}\n\n${n.content}`;yield this.app.vault.create(t,i),new e.Notice(`Artifact saved as ${t}`)}catch(t){new e.Notice(`Failed to save artifact: ${t instanceof Error?t.message:"Unknown error"}`)}})}saveCompleteResultsAsNote(n){return t(this,void 0,void 0,function*(){try{const t=`VaultPilot Workflow Results ${(new Date).toISOString().split("T")[0]}.md`;let i="# VaultPilot Workflow Results\n\n";i+=`**Goal:** ${this.goalInput.value}\n\n`,i+=`**Execution Time:** ${n.execution_time}s\n\n`,i+=`## Result\n\n${n.result}\n\n`,n.steps_taken&&n.steps_taken.length>0&&(i+="## Steps Taken\n\n",n.steps_taken.forEach((e,t)=>{i+=`${t+1}. ${e}\n`}),i+="\n"),n.artifacts&&n.artifacts.length>0&&(i+="## Generated Artifacts\n\n",n.artifacts.forEach(e=>{i+=`### ${e.title}\n\n${e.content}\n\n`})),yield this.app.vault.create(t,i),new e.Notice(`Complete results saved as ${t}`)}catch(t){new e.Notice(`Failed to save results: ${t instanceof Error?t.message:"Unknown error"}`)}})}displayError(e){this.progressContainer.style.display="none",this.resultsContainer.style.display="block",this.resultsContainer.innerHTML=`\n      <div class="vaultpilot-error">\n        <h3>âŒ Workflow Failed</h3>\n        <p>${e}</p>\n      </div>\n    `}renderMarkdown(e){return e.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/`(.*?)`/g,"<code>$1</code>").replace(/\n/g,"<br>")}addStyles(){if(!document.getElementById("vaultpilot-workflow-styles")){const e=document.createElement("style");e.id="vaultpilot-workflow-styles",e.textContent="\n        .vaultpilot-workflow-modal {\n          width: 700px;\n          max-height: 80vh;\n          overflow-y: auto;\n        }\n        .vaultpilot-workflow-header {\n          margin-bottom: 20px;\n          padding-bottom: 15px;\n          border-bottom: 1px solid var(--background-modifier-border);\n        }\n        .vaultpilot-workflow-description {\n          color: var(--text-muted);\n          margin-top: 5px;\n        }\n        .vaultpilot-form-group {\n          margin-bottom: 20px;\n        }\n        .vaultpilot-form-label {\n          display: block;\n          margin-bottom: 8px;\n          font-weight: 500;\n          color: var(--text-normal);\n        }\n        .vaultpilot-goal-input,\n        .vaultpilot-context-input {\n          width: 100%;\n          min-height: 80px;\n          padding: 10px;\n          border: 1px solid var(--background-modifier-border);\n          border-radius: 6px;\n          background: var(--background-primary);\n          color: var(--text-normal);\n          resize: vertical;\n        }\n        .vaultpilot-checkbox-label {\n          display: block;\n          margin-bottom: 8px;\n          cursor: pointer;\n        }\n        .vaultpilot-checkbox-label input {\n          margin-right: 8px;\n        }\n        .vaultpilot-execute-button {\n          width: 100%;\n          padding: 12px;\n          font-size: 16px;\n        }\n        .vaultpilot-progress-container {\n          margin: 20px 0;\n          padding: 15px;\n          background: var(--background-secondary);\n          border-radius: 8px;\n          border: 1px solid var(--background-modifier-border);\n        }\n        .vaultpilot-progress-item {\n          display: flex;\n          align-items: center;\n          gap: 10px;\n        }\n        .vaultpilot-progress-spinner {\n          width: 16px;\n          height: 16px;\n          border: 2px solid var(--background-modifier-border);\n          border-top: 2px solid var(--text-accent);\n          border-radius: 50%;\n          animation: spin 1s linear infinite;\n        }\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n        .vaultpilot-results-container {\n          margin-top: 20px;\n        }\n        .vaultpilot-results-header {\n          margin-bottom: 15px;\n        }\n        .vaultpilot-execution-time {\n          color: var(--text-muted);\n          font-size: 0.9em;\n        }\n        .vaultpilot-result-content {\n          margin-bottom: 20px;\n          padding: 15px;\n          background: var(--background-secondary);\n          border-radius: 8px;\n          border: 1px solid var(--background-modifier-border);\n        }\n        .vaultpilot-result-text {\n          line-height: 1.5;\n          color: var(--text-normal);\n        }\n        .vaultpilot-steps-container,\n        .vaultpilot-artifacts-container {\n          margin-bottom: 20px;\n        }\n        .vaultpilot-steps-list {\n          padding-left: 20px;\n        }\n        .vaultpilot-artifact {\n          margin-bottom: 15px;\n          padding: 10px;\n          border: 1px solid var(--background-modifier-border);\n          border-radius: 6px;\n          background: var(--background-primary-alt);\n        }\n        .vaultpilot-artifact-type {\n          color: var(--text-muted);\n          font-size: 0.9em;\n          margin-bottom: 10px;\n        }\n        .vaultpilot-results-actions {\n          margin-top: 20px;\n          text-align: center;\n        }\n        .vaultpilot-error {\n          padding: 20px;\n          background: var(--background-primary-alt);\n          border: 1px solid var(--color-red);\n          border-radius: 8px;\n          color: var(--color-red);\n        }\n      ",document.head.appendChild(e)}}onClose(){const{contentEl:e}=this;e.empty()}}class p{constructor(e,t){this.wsCallbacks=new Map,this.baseUrl=e.replace(/\/$/,""),this.apiKey=t}makeRequest(e){return t(this,arguments,void 0,function*(e,t={}){const n=`${this.baseUrl}${e}`,i=Object.assign({"Content-Type":"application/json",Accept:"application/json"},t.headers||{});this.apiKey&&(i.Authorization=`Bearer ${this.apiKey}`);try{const e=yield fetch(n,Object.assign(Object.assign({},t),{headers:i,mode:"cors",credentials:"omit"}));let o;const a=e.headers.get("content-type");if(o=a&&a.includes("application/json")?yield e.json():yield e.text(),!e.ok){const t="object"==typeof o&&o.error?o.error:`HTTP ${e.status}: ${e.statusText}`;return console.error(`API Error [${e.status}]:`,t),{success:!1,error:t}}return{success:!0,data:"string"==typeof o?{message:o}:o}}catch(e){return console.error("API Request Error:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error occurred"}}})}healthCheck(){return t(this,void 0,void 0,function*(){console.log(`VaultPilot: Attempting health check to ${this.baseUrl}/status`);const e=yield this.makeRequest("/status",{method:"GET"});return console.log("VaultPilot: Health check result:",e),e})}simpleHealthCheck(){return t(this,void 0,void 0,function*(){try{const e=`${this.baseUrl}/status`,t=yield fetch(e,{method:"HEAD",mode:"cors",credentials:"omit"});return t.ok||405===t.status?{success:!0,data:{status:"ok"}}:{success:!1,error:`Server responded with status ${t.status}`}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Connection failed"}}})}chat(e){return t(this,void 0,void 0,function*(){return this.makeRequest("/api/obsidian/chat",{method:"POST",body:JSON.stringify(e)})})}getConversationHistory(e){return t(this,arguments,void 0,function*(e,t=50){const n={conversation_id:e,limit:t,include_messages:!0};return this.makeRequest("/api/obsidian/conversation/history",{method:"POST",body:JSON.stringify(n)})})}deleteConversation(e){return t(this,void 0,void 0,function*(){return this.makeRequest(`/api/obsidian/conversations/${e}`,{method:"DELETE"})})}getCopilotCompletion(e){return t(this,void 0,void 0,function*(){return this.makeRequest("/api/obsidian/copilot/complete",{method:"POST",body:JSON.stringify(e)})})}executeWorkflow(e){return t(this,void 0,void 0,function*(){return this.makeRequest("/api/obsidian/workflow",{method:"POST",body:JSON.stringify(e)})})}runWorkflow(e){return t(this,void 0,void 0,function*(){return this.makeRequest("/api/obsidian/workflow",{method:"POST",body:JSON.stringify({goal:e.message,context:e.context||void 0})})})}sendChat(e,n){return t(this,void 0,void 0,function*(){return this.makeRequest("/api/obsidian/chat",{method:"POST",body:JSON.stringify({message:e.message,vault_context:e.context||void 0,conversation_id:null==n?void 0:n.conversation_id,agent_id:null==n?void 0:n.agent_id,mode:"ask"})})})}getAgents(){return t(this,void 0,void 0,function*(){return this.makeRequest("/api/obsidian/agents")})}createAgent(e){return t(this,void 0,void 0,function*(){return this.makeRequest("/api/obsidian/agents/create",{method:"POST",body:JSON.stringify(e)})})}executeAgent(e){return t(this,void 0,void 0,function*(){return this.makeRequest("/api/obsidian/agent/execute",{method:"POST",body:JSON.stringify(e)})})}analyzeVaultContext(e){return t(this,void 0,void 0,function*(){return this.makeRequest("/api/obsidian/vault/context",{method:"POST",body:JSON.stringify(e)})})}planTasks(e){return t(this,void 0,void 0,function*(){return this.makeRequest("/api/obsidian/planning/tasks",{method:"POST",body:JSON.stringify(e)})})}parseIntelligence(e){return t(this,void 0,void 0,function*(){return this.makeRequest("/api/obsidian/intelligence/parse",{method:"POST",body:JSON.stringify(e)})})}classifyIntent(e){return t(this,void 0,void 0,function*(){const t=yield this.makeRequest("/api/obsidian/intelligence/parse",{method:"POST",body:JSON.stringify({message:e})});return t.success&&t.data?t.data:{intent:"ask",confidence:.5}})}explainIntent(e){return t(this,void 0,void 0,function*(){const t=yield this.makeRequest("/api/obsidian/intelligence/parse",{method:"POST",body:JSON.stringify({message:e,include_debug:!0})});return t.success&&t.data?t.data:{intent:"ask",confidence:.5,reasoning:"Classification failed, defaulting to ask mode"}})}updateMemory(e){return t(this,void 0,void 0,function*(){return this.makeRequest("/api/obsidian/memory/update",{method:"POST",body:JSON.stringify(e)})})}connectWebSocket(e){const t=this.baseUrl.replace("http","ws")+"/ws/obsidian";console.log(`VaultPilot: Attempting WebSocket connection to ${t}`),this.websocket=new WebSocket(t),this.websocket.onopen=()=>{var t;console.log("VaultPilot: WebSocket connected to EvoAgentX"),null===(t=e.onConnect)||void 0===t||t.call(e)},this.websocket.onmessage=t=>{var n,i,o,a,s,r,l;try{const l=JSON.parse(t.data);switch(console.log("VaultPilot: WebSocket message received:",l.type),l.type){case"chat":null===(n=e.onChat)||void 0===n||n.call(e,l.data);break;case"workflow_progress":null===(i=e.onWorkflowProgress)||void 0===i||i.call(e,l.data);break;case"copilot":null===(o=e.onCopilot)||void 0===o||o.call(e,l.data);break;case"vault_sync":null===(a=e.onVaultSync)||void 0===a||a.call(e,l.data);break;case"intent_debug":null===(s=e.onIntentDebug)||void 0===s||s.call(e,l.data);break;case"error":null===(r=e.onError)||void 0===r||r.call(e,l.data)}}catch(t){console.error("VaultPilot: Error parsing WebSocket message:",t),null===(l=e.onError)||void 0===l||l.call(e,"Failed to parse WebSocket message")}},this.websocket.onclose=t=>{var n;console.log("VaultPilot: WebSocket disconnected from EvoAgentX",t.code,t.reason),null===(n=e.onDisconnect)||void 0===n||n.call(e)},this.websocket.onerror=t=>{var n;console.error("VaultPilot: WebSocket error:",t),null===(n=e.onError)||void 0===n||n.call(e,"WebSocket connection error")}}disconnectWebSocket(){this.websocket&&(this.websocket.close(),this.websocket=void 0)}sendWebSocketMessage(e,t){this.websocket&&this.websocket.readyState===WebSocket.OPEN&&this.websocket.send(JSON.stringify({type:e,data:t}))}isWebSocketConnected(){var e;return(null===(e=this.websocket)||void 0===e?void 0:e.readyState)===WebSocket.OPEN}}function g(e){return e.match(/(<!-- vp:plan:start -->)([\s\S]*?)(<!-- vp:plan:end -->)/i)}function m(e){let t=/(^##\s+Schedule\b[^\n]*\n)([\s\S]*?)(?=\n##\s|$)/im,n=e.match(t);return n||(t=/(^##\s*(?:.*\s)?\bSchedule\b(?:\s.*)?$\n)([\s\S]*?)(?=\n##\s|$)/im,e.match(t))}class v{constructor(){this.logs=[],this.maxLogs=100}static getInstance(){return v.instance||(v.instance=new v),v.instance}log(e,t){const n=`[${(new Date).toISOString()}] ${e}${t?` | ${JSON.stringify(t)}`:""}`;console.log(n),this.logs.push(n),this.logs.length>this.maxLogs&&(this.logs=this.logs.slice(-this.maxLogs))}error(e,t){const n=(new Date).toISOString(),i=t instanceof Error?{message:t.message,stack:t.stack,name:t.name}:t,o=`[${n}] ERROR: ${e}${i?` | ${JSON.stringify(i)}`:""}`;console.error(o),this.logs.push(o),this.logs.length>this.maxLogs&&(this.logs=this.logs.slice(-this.maxLogs))}getLogs(){return[...this.logs]}clearLogs(){this.logs=[]}exportLogs(){return this.logs.join("\n")}analyzeApiClient(e){return e?{status:"available",available:!0,type:typeof e,methods:Object.getOwnPropertyNames(Object.getPrototypeOf(e)).filter(t=>"function"==typeof e[t]),hasPlanTasks:"function"==typeof e.planTasks,hasHealthCheck:"function"==typeof e.healthCheck}:{status:"null",available:!1}}testConnection(e){return t(this,void 0,void 0,function*(){try{if(this.log("ðŸ”— Testing EvoAgentX connection..."),!e)throw new Error("API client is null or undefined");if(!e.healthCheck)throw new Error("API client does not have healthCheck method");const t=yield e.healthCheck();return this.log("âœ… Connection test successful",t),{success:!0,result:t}}catch(e){return this.error("âŒ Connection test failed",e),{success:!1,error:e instanceof Error?e.message:String(e)}}})}testTaskPlanning(e){return t(this,arguments,void 0,function*(e,t="Test note for schedule generation"){var n,i,o,a;try{if(this.log("ðŸ“‹ Testing task planning..."),!e)throw new Error("API client is null or undefined");if(!e.planTasks)throw new Error("API client does not have planTasks method");const s=yield e.planTasks({goal:"Create a test schedule",context:t,timeframe:"1 day"});return this.log("âœ… Task planning test successful",{success:s.success,hasData:!!s.data,hasPlan:!!(null===(n=s.data)||void 0===n?void 0:n.plan),taskCount:(null===(a=null===(o=null===(i=s.data)||void 0===i?void 0:i.plan)||void 0===o?void 0:o.tasks)||void 0===a?void 0:a.length)||0}),{success:!0,result:s}}catch(e){return this.error("âŒ Task planning test failed",e),{success:!1,error:e instanceof Error?e.message:String(e)}}})}}const f=v.getInstance();class y extends Error{constructor(e,t,n){super(e),this.name="VaultManagementError",this.code=t,this.feature=n}}class b{constructor(e,t){this.baseUrl=e,this.apiKey=t}getVaultStructure(e){return t(this,void 0,void 0,function*(){try{const t=yield this.makeRequest("/api/obsidian/vault/structure",{method:"POST",body:JSON.stringify(e)});if(!t.ok)throw new y(`Failed to get vault structure: ${t.statusText}`,"STRUCTURE_FETCH_FAILED","structure");return yield t.json()}catch(e){throw this.handleVaultManagementError(e,"structure"),e}})}performFileOperation(e){return t(this,void 0,void 0,function*(){try{this.validateFileOperationRequest(e);const t=yield this.makeRequest("/api/obsidian/vault/file/operation",{method:"POST",body:JSON.stringify(e)});if(!t.ok)throw new y(`File operation failed: ${t.statusText}`,"FILE_OPERATION_FAILED","file-operations");const n=yield t.json();if(!n.success)throw new y(n.message||"File operation failed","FILE_OPERATION_FAILED","file-operations");return n}catch(e){throw this.handleVaultManagementError(e,"file-operations"),e}})}performBatchOperations(e){return t(this,void 0,void 0,function*(){try{if(!e.operations||0===e.operations.length)throw new y("No operations specified for batch request","INVALID_BATCH_REQUEST","batch-operations");e.operations.forEach((e,t)=>{try{this.validateFileOperationRequest(e)}catch(e){throw new y(`Invalid operation at index ${t}: ${e.message||e}`,"INVALID_BATCH_OPERATION","batch-operations")}});const t=yield this.makeRequest("/api/obsidian/vault/file/batch",{method:"POST",body:JSON.stringify(e)});if(!t.ok)throw new y(`Batch operations failed: ${t.statusText}`,"BATCH_OPERATION_FAILED","batch-operations");const n=yield t.json();if(!n.success)throw new y(n.message||"Batch operations failed","BATCH_OPERATION_FAILED","batch-operations");return n}catch(e){throw this.handleVaultManagementError(e,"batch-operations"),e}})}searchVault(e){return t(this,void 0,void 0,function*(){try{if(!e.query||0===e.query.trim().length)throw new y("Search query cannot be empty","INVALID_SEARCH_QUERY","search");const t=yield this.makeRequest("/api/obsidian/vault/search",{method:"POST",body:JSON.stringify(e)});if(!t.ok)throw new y(`Search failed: ${t.statusText}`,"SEARCH_FAILED","search");return yield t.json()}catch(e){throw this.handleVaultManagementError(e,"search"),e}})}organizeVault(e){return t(this,void 0,void 0,function*(){try{const t=yield this.makeRequest("/api/obsidian/vault/organize",{method:"POST",body:JSON.stringify(e)});if(!t.ok)throw new y(`Organization analysis failed: ${t.statusText}`,"ORGANIZATION_FAILED","organization");return yield t.json()}catch(e){throw this.handleVaultManagementError(e,"organization"),e}})}backupVault(e){return t(this,void 0,void 0,function*(){try{const t=yield this.makeRequest("/api/obsidian/vault/backup",{method:"POST",body:JSON.stringify(e)});if(!t.ok)throw new y(`Backup failed: ${t.statusText}`,"BACKUP_FAILED","backup");return yield t.json()}catch(e){throw this.handleVaultManagementError(e,"backup"),e}})}createFile(e,n){return t(this,arguments,void 0,function*(e,t,n=!1){return this.performFileOperation({operation:"create",file_path:e,content:t,backup:n})})}updateFile(e,n){return t(this,arguments,void 0,function*(e,t,n=!0){return this.performFileOperation({operation:"update",file_path:e,content:t,backup:n})})}deleteFile(e){return t(this,arguments,void 0,function*(e,t=!0){return this.performFileOperation({operation:"delete",file_path:e,backup:t})})}moveFile(e,n){return t(this,arguments,void 0,function*(e,t,n=!0){return this.performFileOperation({operation:"move",file_path:e,new_path:t,backup:n})})}copyFile(e,n){return t(this,void 0,void 0,function*(){return this.performFileOperation({operation:"copy",file_path:e,new_path:n})})}quickSearch(e){return t(this,arguments,void 0,function*(e,t=20){return this.searchVault({query:e,search_type:"comprehensive",max_results:t,include_content:!0})})}makeRequest(e){return t(this,arguments,void 0,function*(e,t={}){const n=`${this.baseUrl.replace(/\/$/,"")}${e}`,i=Object.assign({"Content-Type":"application/json"},t.headers||{});this.apiKey&&(i.Authorization=`Bearer ${this.apiKey}`);const o=Object.assign(Object.assign({},t),{headers:i});try{return yield fetch(n,o)}catch(e){throw new y(`Network request failed: ${e.message||e}`,"NETWORK_ERROR","api")}})}validateFileOperationRequest(e){if(!e.file_path||0===e.file_path.trim().length)throw new y("File path is required","INVALID_FILE_PATH","validation");if(!("move"!==e.operation&&"copy"!==e.operation||e.new_path&&0!==e.new_path.trim().length))throw new y("New path is required for move/copy operations","INVALID_NEW_PATH","validation");if(("create"===e.operation||"update"===e.operation)&&void 0===e.content)throw new y("Content is required for create/update operations","INVALID_CONTENT","validation")}handleVaultManagementError(t,n){console.error(`Vault management error in ${n}:`,t),t instanceof y?new e.Notice(`Vault ${n} error: ${t.message}`,5e3):new e.Notice(`Vault ${n} operation failed`,3e3)}testConnection(){return t(this,void 0,void 0,function*(){try{const e=yield this.makeRequest("/api/obsidian/vault/structure",{method:"POST",body:JSON.stringify({include_content:!1,max_depth:1})});return e.ok?{success:!0,message:"Vault management connection successful"}:{success:!1,message:`Connection failed: ${e.status} ${e.statusText}`}}catch(e){return{success:!1,message:`Connection error: ${e.message||e}`}}})}}class w{static detect(){const e={platform:"unknown",hasFileSystem:!1,hasWebSocket:!1,hasHTTP:!1,capabilities:[]};return"undefined"!=typeof window&&window.app&&window.app.workspace?e.platform="obsidian":"undefined"!=typeof window?e.platform="browser":void 0!==globalThis.process&&globalThis.process.versions&&globalThis.process.versions.node&&(e.platform="node"),e.hasHTTP="undefined"!=typeof fetch,e.hasWebSocket="undefined"!=typeof WebSocket,e.hasFileSystem=void 0!==globalThis.require&&"node"===e.platform,e.hasHTTP&&e.capabilities.push("http"),e.hasWebSocket&&e.capabilities.push("websocket"),e.hasFileSystem&&e.capabilities.push("filesystem"),e}static isObsidian(){return"obsidian"===this.detect().platform}static canUseFileSystem(){return this.detect().hasFileSystem}static canUseWebSocket(){return this.detect().hasWebSocket}static getOptimalTransport(){const e=this.detect();if(e.hasWebSocket)return"websocket";if(e.hasHTTP)return"http";if(e.hasFileSystem)return"filesystem";throw new Error("No suitable transport available")}}class C{constructor(e){this.isConnected=!1,this.messageId=1,this.pendingRequests=new Map,this.eventListeners=new Map,this.config=e,this.environment=w.detect(),this.serverUrl=e.server_url,this.config.debug_mode&&console.log("DevPipe Environment:",this.environment)}on(e,t){this.eventListeners.has(e)||this.eventListeners.set(e,[]),this.eventListeners.get(e).push(t)}off(e,t){const n=this.eventListeners.get(e);if(n){const e=n.indexOf(t);e>-1&&n.splice(e,1)}}emit(e,t){const n=this.eventListeners.get(e);n&&n.forEach(e=>e(t))}initialize(){return t(this,void 0,void 0,function*(){try{if(!this.environment.hasHTTP)throw new Error("HTTP transport not available in this environment");yield this.testConnection(),this.isConnected=!0,this.emit("connected",{status:"connected",environment:this.environment.platform,transport:"http"}),this.config.debug_mode&&console.log("DevPipe client initialized successfully")}catch(e){throw this.emit("error",e),new Error(`Failed to initialize DevPipe client: ${e instanceof Error?e.message:"Unknown error"}`)}})}testConnection(){return t(this,void 0,void 0,function*(){try{const e=yield fetch(`${this.serverUrl}/api/v1/devpipe/health`,{method:"GET",headers:{"Content-Type":"application/json"},signal:AbortSignal.timeout(5e3)});if(!e.ok)throw new Error(`DevPipe server not accessible: ${e.status} ${e.statusText}`)}catch(e){if(e instanceof Error&&"TypeError"===e.name&&e.message.includes("Failed to fetch"))try{if((yield fetch(`${this.serverUrl}/status`,{method:"GET",headers:{"Content-Type":"application/json"},signal:AbortSignal.timeout(3e3)})).ok)return void console.warn("DevPipe endpoint not available, but backend is accessible")}catch(t){throw new Error(`DevPipe server not accessible and fallback failed: ${e.message}`)}throw e}})}sendMessage(e,n){return t(this,arguments,void 0,function*(e,t,n=3e4){if(!this.isConnected)throw new Error("DevPipe client not connected");const i=this.generateMessageId(),o={id:i,timestamp:(new Date).toISOString(),type:e,payload:t,sender:"vaultpilot-plugin",recipient:"evoagentx-backend",priority:"normal"};return new Promise((e,t)=>{const a=window.setTimeout(()=>{this.pendingRequests.delete(i),t(new Error(`Request timeout after ${n}ms`))},n);this.pendingRequests.set(i,{resolve:e,reject:t,timeout:a}),this.sendMessageToServer(o).catch(e=>{this.pendingRequests.delete(i),window.clearTimeout(a),t(e)})})})}sendMessageToServer(e){return t(this,void 0,void 0,function*(){try{const t=yield fetch(`${this.serverUrl}/api/v1/devpipe/message`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`DevPipe server error: ${t.status}`);const n=yield t.json();if(n.response&&n.response.id===e.id){const t=this.pendingRequests.get(e.id);t&&(window.clearTimeout(t.timeout),this.pendingRequests.delete(e.id),t.resolve(n.response.payload))}return this.config.debug_mode&&console.log("DevPipe message sent successfully:",e.type),n}catch(e){throw this.config.debug_mode&&console.error("Error sending DevPipe message:",e),e}})}generateMessageId(){return`msg_${Date.now()}_${this.messageId++}`}disconnect(){return t(this,void 0,void 0,function*(){const e=Array.from(this.pendingRequests.entries());for(const[t,n]of e)window.clearTimeout(n.timeout),n.reject(new Error("DevPipe client disconnected"));this.pendingRequests.clear(),this.isConnected=!1,this.emit("disconnected",{status:"disconnected"})})}isReady(){return this.isConnected}getPendingRequestCount(){return this.pendingRequests.size}}class S extends Error{constructor(e,t,n,i){super(t),this.name="ModelSelectionError",this.code=e,this.details=n,this.suggestions=i}}class x{constructor(e,t="",n={}){this.cachedHealth=[],this.lastHealthUpdate=0,this.eventListeners=new Map,this.config={devpipe_path:t,server_url:e,monitoring_interval:n.monitoring_interval||3e4,fallback_enabled:!1!==n.fallback_enabled,cache_duration:n.cache_duration||3e5,retry_attempts:n.retry_attempts||3,timeout:n.timeout||3e4,debug_mode:n.debug_mode||!1},this.devPipeClient=new C(this.config),this.userPreferences={priority:"balanced",max_cost_per_request:.5,preferred_providers:[],fallback_enabled:!0,quality_threshold:.7,timeout_preference:3e4},this.setupEventListeners()}setupEventListeners(){this.devPipeClient.on("connected",()=>{this.emit("connected",{status:"connected"})}),this.devPipeClient.on("disconnected",()=>{this.emit("disconnected",{status:"disconnected"})}),this.devPipeClient.on("health-updated",e=>{this.cachedHealth=e,this.lastHealthUpdate=Date.now(),this.emit("health-updated",e)}),this.devPipeClient.on("performance-metrics",e=>{this.emit("performance-metrics",e)})}initialize(){return t(this,void 0,void 0,function*(){try{yield this.devPipeClient.initialize(),yield this.refreshModelHealth(),this.startHealthMonitoring(),this.config.debug_mode&&console.log("ModelSelectionService initialized successfully")}catch(e){throw new Error(`Failed to initialize ModelSelectionService: ${e instanceof Error?e.message:"Unknown error"}`)}})}selectModel(e){return t(this,void 0,void 0,function*(){try{return yield this.performSelection(e)}catch(t){if(this.config.fallback_enabled)return yield this.fallbackSelection(e,t);throw t}})}performSelection(e){return t(this,void 0,void 0,function*(){if(!this.devPipeClient.isReady())throw new S("NO_HEALTHY_MODELS","DevPipe client not connected",{},["Check server connection","Retry initialization"]);const t=Object.assign(Object.assign({},e),{user_preferences:this.userPreferences,timeout_ms:e.timeout_ms||this.config.timeout});return yield this.devPipeClient.sendMessage("model-selection-request",t,this.config.timeout)})}fallbackSelection(e,n){return t(this,void 0,void 0,function*(){console.warn("Model selection failed, using fallback:",n);const t=this.getCachedSelection(e);return t||this.staticModelSelection(e)})}staticModelSelection(e){const t={"text-generation":{name:"gpt-3.5-turbo",cost:.002},"code-generation":{name:"gpt-4",cost:.03},chat:{name:"gpt-3.5-turbo",cost:.002},summarization:{name:"gpt-3.5-turbo",cost:.002},translation:{name:"gpt-3.5-turbo",cost:.002}},n=t[e.task_type]||t["text-generation"];return{selected_model:{id:n.name,name:n.name,provider:"openai",capabilities:[{type:e.task_type,score:.8}],cost_per_token:n.cost,max_tokens:4e3,response_time_avg_ms:2e3,availability_score:.9,quality_score:.8},reasoning:"Fallback selection due to service unavailability",fallback_models:[],estimated_cost:100*n.cost,estimated_time_ms:2e3,selection_metadata:{selection_time_ms:0,factors_considered:["fallback"],confidence_score:.5}}}getCachedSelection(e){return null}selectModel_OLD(e){return t(this,void 0,void 0,function*(){if(!this.devPipeClient.isReady())throw new S("NO_HEALTHY_MODELS","DevPipe client not connected",{},["Check server connection","Retry initialization"]);try{const t=Object.assign(Object.assign({},e),{user_preferences:this.userPreferences,timeout_ms:e.timeout_ms||this.config.timeout}),n=yield this.devPipeClient.sendMessage("model-selection-request",t,e.timeout_ms||this.config.timeout);return this.emit("model-selected",n),this.config.debug_mode&&console.log("Model selected:",n.selected_model.name,"for task:",e.task_type),n}catch(e){if(e instanceof Error){if(e.message.includes("timeout"))throw new S("TIMEOUT","Model selection request timed out",{originalError:e},["Increase timeout","Check server performance"]);if(e.message.includes("budget")||e.message.includes("cost"))throw new S("BUDGET_EXCEEDED","Request exceeds budget limits",{originalError:e},["Increase budget","Use lower cost models"])}throw new S("SERVICE_UNAVAILABLE","Model selection service unavailable",{originalError:e},["Check server status","Retry request"])}})}getModelHealth(){return t(this,void 0,void 0,function*(){return this.cachedHealth.length>0&&Date.now()-this.lastHealthUpdate<this.config.cache_duration?this.cachedHealth:yield this.refreshModelHealth()})}refreshModelHealth(){return t(this,void 0,void 0,function*(){try{const e=yield this.devPipeClient.sendMessage("health-check-request",{},1e4);return this.cachedHealth=e,this.lastHealthUpdate=Date.now(),e}catch(e){return this.config.debug_mode&&console.warn("Failed to refresh model health:",e),this.cachedHealth}})}updatePreferences(e){return t(this,void 0,void 0,function*(){this.userPreferences=Object.assign(Object.assign({},this.userPreferences),e);try{yield this.devPipeClient.sendMessage("preferences-update",this.userPreferences,5e3),this.emit("preferences-updated",this.userPreferences),this.config.debug_mode&&console.log("User preferences updated:",this.userPreferences)}catch(e){this.config.debug_mode&&console.warn("Failed to sync preferences with server:",e)}})}getPreferences(){return Object.assign({},this.userPreferences)}startHealthMonitoring(){this.config.monitoring_interval>0&&setInterval(()=>t(this,void 0,void 0,function*(){try{yield this.refreshModelHealth()}catch(e){this.config.debug_mode&&console.warn("Health monitoring failed:",e)}}),this.config.monitoring_interval)}on(e,t){this.eventListeners.has(e)||this.eventListeners.set(e,[]),this.eventListeners.get(e).push(t)}off(e,t){const n=this.eventListeners.get(e);if(n){const e=n.indexOf(t);e>-1&&n.splice(e,1)}}emit(e,t){const n=this.eventListeners.get(e);n&&n.forEach(e=>{try{e(t)}catch(e){this.config.debug_mode&&console.error("Event listener error:",e)}})}selectForTask(e){return t(this,arguments,void 0,function*(e,t="medium"){return this.selectModel({task_type:e,quality_requirement:t})})}selectCostOptimized(e){return t(this,arguments,void 0,function*(e,t=.01){return this.selectModel({task_type:e,quality_requirement:"medium",max_cost:t})})}selectHighPerformance(e){return t(this,void 0,void 0,function*(){return this.selectModel({task_type:e,quality_requirement:"high"})})}isConnected(){return this.devPipeClient.isReady()}getConfig(){return Object.assign({},this.config)}disconnect(){return t(this,void 0,void 0,function*(){yield this.devPipeClient.disconnect()})}}class k extends e.Modal{constructor(e,t){super(e),this.plugin=t,this.vaultClient=t.vaultClient}setFocusPath(e){return this.focusPath=e,this}onOpen(){return t(this,void 0,void 0,function*(){const{contentEl:e}=this;e.empty(),e.addClass("vault-structure-modal");const t=e.createEl("div",{cls:"modal-header"});t.createEl("h2",{text:"Vault Structure Analysis"});const n=t.createEl("button",{text:"ðŸ”„ Refresh",cls:"mod-cta"}),i=e.createDiv({cls:"vault-loading"});i.setText("ðŸ” Analyzing vault structure...");try{const t=yield this.vaultClient.getVaultStructure({include_content:!1,max_depth:5});i.remove(),this.renderStructure(e,t),n.onclick=()=>{this.onOpen()}}catch(t){i.setText("âŒ Failed to load vault structure"),console.error(t);e.createEl("button",{text:"Retry",cls:"mod-cta"}).onclick=()=>this.onOpen()}})}renderStructure(e,t){e.createDiv({cls:"vault-stats"}).innerHTML=`\n      <div class="stat-grid">\n        <div class="stat-item">\n          <span class="stat-icon">ðŸ“</span>\n          <span class="stat-label">Files</span>\n          <span class="stat-value">${t.total_files}</span>\n        </div>\n        <div class="stat-item">\n          <span class="stat-icon">ðŸ“‚</span>\n          <span class="stat-label">Folders</span>\n          <span class="stat-value">${t.total_folders}</span>\n        </div>\n        <div class="stat-item">\n          <span class="stat-icon">ðŸ’¾</span>\n          <span class="stat-label">Size</span>\n          <span class="stat-value">${(t.total_size/1024/1024).toFixed(2)} MB</span>\n        </div>\n      </div>\n    `;const n=e.createDiv({cls:"vault-tree-container"});n.createEl("h3",{text:"Folder Structure"});const i=n.createDiv({cls:"vault-tree"});if(this.renderFolder(i,t.structure,0),t.recent_files.length>0){const n=e.createDiv({cls:"recent-files-container"});n.createEl("h3",{text:"Recent Files"});const i=n.createDiv({cls:"recent-files"});t.recent_files.slice(0,10).forEach(e=>{i.createDiv({cls:"recent-file"}).innerHTML=`\n          <span class="file-icon">ðŸ“„</span>\n          <span class="file-name">${e.name}</span>\n          <span class="file-date">${new Date(e.modified).toLocaleDateString()}</span>\n        `})}if(t.orphaned_files.length>0){const n=e.createDiv({cls:"orphaned-files-container"});n.createEl("h3",{text:"âš ï¸ Orphaned Files"});const i=n.createDiv({cls:"orphaned-files"});t.orphaned_files.forEach(e=>{i.createDiv({cls:"orphaned-file"}).innerHTML=`\n          <span class="file-icon">ðŸ”—</span>\n          <span class="file-path">${e.path}</span>\n        `})}}renderFolder(e,t,n){const i=e.createDiv({cls:"folder-item",attr:{"data-level":n.toString()}});i.innerHTML=`\n      <span class="folder-toggle">â–¶</span>\n      <span class="folder-icon">ðŸ“</span>\n      <span class="folder-name">${t.name}</span>\n      <span class="folder-count">(${t.children.length})</span>\n    `;const o=e.createDiv({cls:"folder-children",attr:{style:"display: none;"}}),a=i.querySelector(".folder-toggle");a.onclick=()=>{const e="none"!==o.style.display;o.style.display=e?"none":"block",a.textContent=e?"â–¶":"â–¼"},t.children.forEach(e=>{if("folder"===e.type)this.renderFolder(o,e,n+1);else{o.createDiv({cls:"file-item",attr:{"data-level":(n+1).toString()}}).innerHTML=`\n          <span class="file-icon">ðŸ“„</span>\n          <span class="file-name">${e.name}</span>\n          <span class="file-size">${(e.size/1024).toFixed(1)}KB</span>\n        `}})}onClose(){const{contentEl:e}=this;e.empty()}}class E extends e.Modal{constructor(e,t){super(e),this.plugin=t,this.vaultClient=t.vaultClient}setInitialQuery(e,t){return this.initialQuery=e,this.searchType=t,this}onOpen(){return t(this,void 0,void 0,function*(){const{contentEl:n}=this;n.empty(),n.addClass("smart-search-modal"),n.createEl("h2",{text:"ðŸ” Smart Vault Search"});const i=n.createDiv({cls:"search-form"}),o=i.createEl("input",{type:"text",placeholder:"Enter search query...",cls:"search-query-input"});this.initialQuery&&(o.value=this.initialQuery);const a=i.createEl("select",{cls:"search-type-select"});[{value:"comprehensive",label:"Comprehensive"},{value:"content",label:"Content"},{value:"filename",label:"Filename"},{value:"tags",label:"Tags"},{value:"links",label:"Links"}].forEach(e=>{const t=a.createEl("option",{value:e.value});t.textContent=e.label,e.value===(this.searchType||"comprehensive")&&(t.selected=!0)});const s=i.createEl("button",{text:"Search",cls:"mod-cta search-button"}),r=n.createDiv({cls:"search-results-container"}),l=()=>t(this,void 0,void 0,function*(){var t;const n=o.value.trim();if(!n)return void new e.Notice("Please enter a search query");s.textContent="Searching...",s.disabled=!0,r.empty();const i=r.createDiv({cls:"search-loading"});i.textContent="ðŸ” Searching vault...";try{const e=yield this.vaultClient.searchVault({query:n,search_type:a.value,max_results:(null===(t=this.plugin.settings.vaultManagement)||void 0===t?void 0:t.searchResultsLimit)||50,include_content:!0});i.remove(),this.renderSearchResults(r,e)}catch(e){i.textContent="âŒ Search failed",console.error("Search error:",e)}finally{s.textContent="Search",s.disabled=!1}});s.onclick=l,o.addEventListener("keypress",e=>{"Enter"===e.key&&l()}),this.initialQuery&&l(),o.focus()})}renderSearchResults(e,t){if(e.createEl("h3",{text:`Search Results (${t.total_found})`}),t.insights){e.createDiv({cls:"search-insights"}).innerHTML=`\n        <div class="insights-header">ðŸ§  AI Insights</div>\n        <div class="insights-content">${t.insights}</div>\n      `}if(0===t.results.length)return void e.createDiv({cls:"no-results",text:"No results found. Try a different search term or type."});const n=e.createDiv({cls:"search-results-list"});if(t.results.forEach(e=>{const t=n.createDiv({cls:"search-result"});t.innerHTML=`\n        <div class="result-header">\n          <span class="result-file-name">${e.file_name}</span>\n          <span class="result-match-type">${e.match_type}</span>\n          <span class="result-score">${(100*e.score).toFixed(0)}%</span>\n        </div>\n        <div class="result-path">${e.file_path}</div>\n        <div class="result-preview">${e.preview}</div>\n        ${e.matches.length>0?`\n          <div class="result-matches">\n            <strong>Matches:</strong> ${e.matches.join(", ")}\n          </div>\n        `:""}\n      `,t.onclick=()=>{this.app.workspace.openLinkText(e.file_path,""),this.close()}}),t.suggested_queries&&t.suggested_queries.length>0){const n=e.createDiv({cls:"suggested-queries"});n.createEl("h4",{text:"ðŸ’¡ Suggested Queries"});const i=n.createDiv({cls:"suggestions-list"});t.suggested_queries.forEach(e=>{i.createEl("button",{text:e,cls:"suggestion-button"}).onclick=()=>{const t=this.contentEl.querySelector(".search-query-input");t&&(t.value=e,t.dispatchEvent(new KeyboardEvent("keypress",{key:"Enter"})))}})}}onClose(){const{contentEl:e}=this;e.empty()}}class T extends e.Modal{constructor(e,t){super(e),this.plugin=t,this.vaultClient=t.vaultClient}setInitialPath(e){return this.initialPath=e,this}setOperation(e){return this.operation=e,this}onOpen(){return t(this,void 0,void 0,function*(){const{contentEl:t}=this;t.empty(),t.addClass("file-operations-modal"),t.createEl("h2",{text:"ðŸ“ File Operations Manager"}),new e.Setting(t).setName("Operation").setDesc("Select the file operation to perform").addDropdown(e=>e.addOption("create","Create File").addOption("update","Update File").addOption("delete","Delete File").addOption("move","Move File").addOption("copy","Copy File").setValue(this.operation||"create").onChange(e=>{this.operation=e,this.updateOperationForm()})),t.createDiv({cls:"operation-form"}),this.updateOperationForm()})}updateOperationForm(){const t=this.contentEl.querySelector(".operation-form");if(!t)return;t.empty();const n=this.operation||"create";new e.Setting(t).setName("File Path").setDesc("Path to the file (including filename)").addText(e=>e.setPlaceholder("path/to/file.md").setValue(this.initialPath||"").onChange(e=>this.initialPath=e)),"move"!==n&&"copy"!==n||new e.Setting(t).setName("New Path").setDesc("Destination path for the file").addText(e=>e.setPlaceholder("new/path/to/file.md")),"create"!==n&&"update"!==n||new e.Setting(t).setName("Content").setDesc("File content").addTextArea(e=>{e.setPlaceholder("Enter file content..."),"create"===n&&e.setValue("# New File\n\nContent goes here...")}),"create"!==n&&new e.Setting(t).setName("Create Backup").setDesc("Create a backup before performing the operation").addToggle(e=>e.setValue(!0)),new e.Setting(t).addButton(e=>e.setButtonText(`Execute ${n.charAt(0).toUpperCase()+n.slice(1)}`).setCta().onClick(()=>this.executeOperation()))}executeOperation(){return t(this,void 0,void 0,function*(){var t;const n=this.operation||"create",i=this.contentEl.querySelector('input[placeholder*="path/to/file"]'),o=this.contentEl.querySelector('input[placeholder*="new/path"]'),a=this.contentEl.querySelector("textarea"),s=this.contentEl.querySelector('input[type="checkbox"]');if(!(null==i?void 0:i.value))return void new e.Notice("File path is required");const r={operation:n,file_path:i.value,backup:null===(t=null==s?void 0:s.checked)||void 0===t||t};(null==o?void 0:o.value)&&(r.new_path=o.value),(null==a?void 0:a.value)&&(r.content=a.value);try{new e.Notice(`Performing ${n}...`);const t=yield this.vaultClient.performFileOperation(r);new e.Notice(`âœ… ${n} successful: ${t.message}`),this.close()}catch(t){new e.Notice(`âŒ ${n} failed: ${t.message}`)}})}onClose(){const{contentEl:e}=this;e.empty()}}var M,D,P,R;!function(e){e.HTTP="http",e.WEBSOCKET="websocket",e.FILESYSTEM="filesystem"}(M||(M={})),function(e){e.CONNECTED="connected",e.DISCONNECTED="disconnected",e.MESSAGE="message",e.ERROR="error",e.HEALTH_CHECK="health_check",e.RECONNECTING="reconnecting"}(D||(D={}));class A{constructor(e){this.state="closed",this.failureCount=0,this.lastFailureTime=0,this.nextAttempt=0,this.config=e}execute(e){return t(this,void 0,void 0,function*(){if("open"===this.state){if(Date.now()<this.nextAttempt)throw new Error("Circuit breaker is OPEN");this.state="half-open"}try{const t=yield e();return this.onSuccess(),t}catch(e){throw this.onFailure(),e}})}onSuccess(){this.failureCount=0,this.state="closed"}onFailure(){this.failureCount++,this.lastFailureTime=Date.now(),this.failureCount>=this.config.failureThreshold&&(this.state="open",this.nextAttempt=Date.now()+this.config.resetTimeout)}getState(){return this.state}}class O{constructor(e,t){this.eventListeners=new Map,this.connected=!1,this.initialized=!1,this.type=e,this.id=`${e}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,this.config=t,this.healthStatus={status:"disconnected",lastCheck:Date.now(),latency:0,errorRate:0,consecutiveFailures:0,uptime:0},this.circuitBreaker=new A({failureThreshold:5,resetTimeout:3e4,monitoringPeriod:1e4}),this.metrics={messagesSent:0,messagesReceived:0,errors:0,totalLatency:0,lastActivity:Date.now()},this.debug(`Transport ${this.id} created`)}on(e,t){const n=e.toString();this.eventListeners.has(n)||this.eventListeners.set(n,[]),this.eventListeners.get(n).push(t)}off(e,t){const n=e.toString(),i=this.eventListeners.get(n);if(i){const e=i.indexOf(t);e>-1&&i.splice(e,1)}}emit(e,t){const n=e.toString(),i=this.eventListeners.get(n);i&&i.forEach(e=>{try{e(t)}catch(e){this.debug(`Error in event listener for ${n}:`,e)}})}performHealthCheck(){return t(this,void 0,void 0,function*(){const e=Date.now();try{yield this.doHealthCheck();const t=Date.now()-e;return this.healthStatus.status="healthy",this.healthStatus.latency=t,this.healthStatus.consecutiveFailures=0,this.healthStatus.lastCheck=Date.now(),this.emit(D.HEALTH_CHECK,{success:!0,latency:t}),{success:!0,latency:t,timestamp:Date.now()}}catch(t){this.healthStatus.status="failing",this.healthStatus.consecutiveFailures++,this.healthStatus.lastCheck=Date.now();const n=t instanceof Error?t.message:"Unknown error";return this.emit(D.HEALTH_CHECK,{success:!1,error:n}),{success:!1,error:n,latency:Date.now()-e,timestamp:Date.now()}}})}executeWithCircuitBreaker(e,n){return t(this,void 0,void 0,function*(){const t=Date.now();try{const n=yield this.circuitBreaker.execute(e),i=Date.now()-t;return this.updateMetrics(!0,i),n}catch(e){const i=Date.now()-t;throw this.updateMetrics(!1,i),this.debug(`Operation ${n} failed:`,e),e}})}updateMetrics(e,t){e?(this.metrics.messagesSent++,this.metrics.totalLatency+=t):this.metrics.errors++,this.metrics.lastActivity=Date.now()}generateMessageId(){return`msg-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}debug(e,...t){this.config.debug&&console.log(`[${this.type}:${this.id}] ${e}`,...t)}calculateReliability(){const e=this.metrics.messagesSent+this.metrics.errors;return 0===e?1:this.metrics.messagesSent/e}isAvailable(){return this.initialized&&"open"!==this.circuitBreaker.getState()}isConnected(){return this.connected&&this.isAvailable()}getHealthStatus(){return Object.assign({},this.healthStatus)}initialize(e){return t(this,void 0,void 0,function*(){this.config=Object.assign(Object.assign({},this.config),e),yield this.doInitialize(),this.initialized=!0,this.debug("Transport initialized")})}destroy(){return t(this,void 0,void 0,function*(){yield this.disconnect(),this.eventListeners.clear(),this.initialized=!1,this.debug("Transport destroyed")})}}class N{constructor(e){this.activeConnections=0,this.queue=[],this.maxConnections=e.maxConnections}acquire(e){return t(this,void 0,void 0,function*(){return new Promise((n,i)=>{const o=()=>t(this,void 0,void 0,function*(){this.activeConnections++;try{const t=yield e();n(t)}catch(e){i(e)}finally{if(this.activeConnections--,this.queue.length>0){const e=this.queue.shift();e&&e()}}});this.activeConnections<this.maxConnections?o():this.queue.push(o)})})}}class I extends O{constructor(e){super(M.HTTP,e),this.pendingRequests=new Map,this.messageQueue=[],this.processingQueue=!1,this.httpConfig=e.http||{enableSSE:!0,maxConnections:10,keepAlive:!0,compression:!0},this.connectionPool=new N({maxConnections:this.httpConfig.maxConnections||10,keepAlive:!1!==this.httpConfig.keepAlive,timeout:e.timeout})}doInitialize(){return t(this,void 0,void 0,function*(){if(!w.detect().hasHTTP)throw new Error("HTTP transport not supported in this environment");this.debug("HTTP transport initialized")})}connect(){return t(this,void 0,void 0,function*(){try{yield this.doHealthCheck(),this.httpConfig.enableSSE&&this.config.serverUrl&&(yield this.setupSSE()),this.connected=!0,this.healthStatus.status="healthy",this.emit(D.CONNECTED,{transport:this.type}),this.debug("HTTP transport connected")}catch(e){throw this.emit(D.ERROR,e),e}})}disconnect(){return t(this,void 0,void 0,function*(){const e=Array.from(this.pendingRequests.values());for(const t of e)clearTimeout(t.timeout),t.reject(new Error("Transport disconnected"));this.pendingRequests.clear(),this.sseConnection&&(this.sseConnection.close(),this.sseConnection=void 0),this.connected=!1,this.healthStatus.status="disconnected",this.emit(D.DISCONNECTED,{transport:this.type}),this.debug("HTTP transport disconnected")})}send(e){return t(this,void 0,void 0,function*(){if(!this.isConnected())throw new Error("HTTP transport not connected");return e.id||(e.id=this.generateMessageId()),e.timestamp=Date.now(),this.executeWithCircuitBreaker(()=>t(this,void 0,void 0,function*(){return this.sendHttpRequest(e)}),"http_send")})}sendHttpRequest(e){return t(this,void 0,void 0,function*(){return new Promise((t,n)=>{const i=setTimeout(()=>{this.pendingRequests.delete(e.id),n(new Error(`Request timeout after ${this.config.timeout}ms`))},this.config.timeout),o={id:e.id,message:e,resolve:n=>{clearTimeout(i),this.pendingRequests.delete(e.id),t(n)},reject:t=>{clearTimeout(i),this.pendingRequests.delete(e.id),n(t)},timeout:i,timestamp:Date.now()};this.pendingRequests.set(e.id,o),this.performHttpRequest(e,o)})})}performHttpRequest(e,n){return t(this,void 0,void 0,function*(){try{const i=yield this.connectionPool.acquire(()=>t(this,void 0,void 0,function*(){const t=yield fetch(`${this.config.serverUrl}/api/v1/devpipe/message`,{method:"POST",headers:Object.assign({"Content-Type":"application/json"},this.httpConfig.compression&&{"Accept-Encoding":"gzip, deflate"}),body:JSON.stringify(e)});if(!t.ok)throw new Error(`HTTP ${t.status}: ${t.statusText}`);return t.json()}));if(i&&i.id===e.id){const e={id:i.id,success:!0,payload:i.payload||i,timestamp:Date.now()};n.resolve(e)}else this.debug(`Waiting for async response for message ${e.id}`)}catch(e){n.reject(e instanceof Error?e:new Error("HTTP request failed"))}})}setupSSE(){return t(this,void 0,void 0,function*(){if(!this.config.serverUrl)throw new Error("Server URL required for SSE");return new Promise((e,t)=>{const n=`${this.config.serverUrl}/api/v1/devpipe/stream`;this.sseConnection=new EventSource(n),this.sseConnection.onopen=()=>{this.debug("SSE connection established"),e()},this.sseConnection.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleSSEMessage(t)}catch(e){this.debug("Failed to parse SSE message:",e)}},this.sseConnection.onerror=e=>{var n;this.debug("SSE connection error:",e),(null===(n=this.sseConnection)||void 0===n?void 0:n.readyState)===EventSource.CONNECTING?this.emit(D.RECONNECTING,{transport:this.type}):(this.emit(D.ERROR,e),t(e))}})})}handleSSEMessage(e){if("response"===e.type&&e.id){const t=this.pendingRequests.get(e.id);if(t){const n={id:e.id,success:!1!==e.success,payload:e.payload,error:e.error,timestamp:Date.now()};t.resolve(n)}}else this.emit(D.MESSAGE,e)}doHealthCheck(){return t(this,void 0,void 0,function*(){if(!this.config.serverUrl)throw new Error("No server URL configured");const e=yield fetch(`${this.config.serverUrl}/api/v1/devpipe/health`,{method:"GET",headers:{"Content-Type":"application/json"},signal:AbortSignal.timeout(5e3)});if(!e.ok)throw new Error(`Health check failed: ${e.status} ${e.statusText}`)})}getCapabilities(){return{supportsRealtime:!!this.httpConfig.enableSSE,supportsBidirectional:!!this.httpConfig.enableSSE,supportsFileSystem:!1,supportsStreaming:!0,maxMessageSize:10485760,averageLatency:this.healthStatus.latency,maxConcurrentConnections:this.httpConfig.maxConnections||10,reliability:this.calculateReliability(),supportedEnvironments:["browser","node","obsidian"]}}}class ${constructor(e,t=[],n={}){this.reconnectAttempts=0,this.shouldReconnect=!0,this.url=e,this.protocols=t,this.options=n,this.maxReconnectAttempts=n.maxReconnectAttempts||10,this.reconnectDelay=n.reconnectDelay||1e3,this.connect()}connect(){try{this.ws=new WebSocket(this.url,this.protocols),this.ws.onopen=e=>{this.reconnectAttempts=0,this.onopen&&this.onopen(e)},this.ws.onclose=e=>{this.onclose&&this.onclose(e),this.shouldReconnect&&this.reconnectAttempts<this.maxReconnectAttempts&&setTimeout(()=>this.reconnect(),this.reconnectDelay*Math.pow(2,this.reconnectAttempts))},this.ws.onmessage=e=>{this.onmessage&&this.onmessage(e)},this.ws.onerror=e=>{this.onerror&&this.onerror(e)}}catch(e){this.onerror&&this.onerror(new Event("error"))}}reconnect(){this.shouldReconnect&&this.reconnectAttempts<this.maxReconnectAttempts&&(this.reconnectAttempts++,this.connect())}send(e){if(!this.ws||this.ws.readyState!==WebSocket.OPEN)throw new Error("WebSocket not connected");this.ws.send(e)}close(){this.shouldReconnect=!1,this.ws&&this.ws.close()}get readyState(){return this.ws?this.ws.readyState:WebSocket.CLOSED}}class F extends O{constructor(e){super(M.WEBSOCKET,e),this.responseHandlers=new Map,this.wsConfig=e.websocket||{heartbeatInterval:3e4,reconnectDelay:1e3,maxReconnectAttempts:10,persistMessages:!1},this.messageQueue={messages:[],maxSize:1e3,persistToDisk:this.wsConfig.persistMessages||!1}}doInitialize(){return t(this,void 0,void 0,function*(){if(!w.detect().hasWebSocket)throw new Error("WebSocket transport not supported in this environment");this.debug("WebSocket transport initialized")})}connect(){return t(this,void 0,void 0,function*(){if(!this.config.serverUrl)throw new Error("Server URL required for WebSocket transport");return new Promise((e,t)=>{const n=this.config.serverUrl.replace(/^http/,"ws")+"/api/v1/devpipe/ws";this.websocket=new $(n,[],{connectionTimeout:this.config.timeout,debug:this.config.debug,maxReconnectAttempts:this.wsConfig.maxReconnectAttempts,reconnectDelay:this.wsConfig.reconnectDelay}),this.websocket.onopen=()=>{this.connected=!0,this.healthStatus.status="healthy",this.startHeartbeat(),this.emit(D.CONNECTED,{transport:this.type}),this.debug("WebSocket connected"),e()},this.websocket.onerror=e=>{this.debug("WebSocket error:",e),this.emit(D.ERROR,e),this.connected||t(new Error("Failed to connect WebSocket"))},this.websocket.onmessage=e=>{this.handleMessage(e.data)},this.websocket.onclose=()=>{this.connected=!1,this.healthStatus.status="disconnected",this.stopHeartbeat(),this.emit(D.DISCONNECTED,{transport:this.type}),this.debug("WebSocket disconnected")}})})}disconnect(){return t(this,void 0,void 0,function*(){const e=Array.from(this.responseHandlers.values());for(const t of e)clearTimeout(t.timeout),t.reject(new Error("Transport disconnected"));this.responseHandlers.clear(),this.stopHeartbeat(),this.websocket&&(this.websocket.close(),this.websocket=void 0),this.connected=!1,this.healthStatus.status="disconnected",this.emit(D.DISCONNECTED,{transport:this.type}),this.debug("WebSocket transport disconnected")})}send(e){return t(this,void 0,void 0,function*(){if(!this.isConnected())throw new Error("WebSocket transport not connected");return e.id||(e.id=this.generateMessageId()),e.timestamp=Date.now(),this.executeWithCircuitBreaker(()=>t(this,void 0,void 0,function*(){return this.sendWebSocketMessage(e)}),"websocket_send")})}sendWebSocketMessage(e){return t(this,void 0,void 0,function*(){return new Promise((t,n)=>{const i=setTimeout(()=>{this.responseHandlers.delete(e.id),n(new Error(`WebSocket request timeout after ${this.config.timeout}ms`))},this.config.timeout),o={resolve:n=>{clearTimeout(i),this.responseHandlers.delete(e.id),t(n)},reject:t=>{clearTimeout(i),this.responseHandlers.delete(e.id),n(t)},timeout:i,timestamp:Date.now()};this.responseHandlers.set(e.id,o);try{this.websocket.send(JSON.stringify(e))}catch(t){clearTimeout(i),this.responseHandlers.delete(e.id),n(t)}})})}handleMessage(e){try{const t=JSON.parse(e);if("pong"===t.type)return void this.debug("Received heartbeat pong");if("response"===t.type&&t.replyTo){const e=this.responseHandlers.get(t.replyTo);if(e){const n={id:t.id,success:!1!==t.success,payload:t.payload,error:t.error,timestamp:Date.now()};e.resolve(n)}}else if("health_pong"===t.type&&t.id){const e=this.responseHandlers.get(t.id);if(e){const n={id:t.id,success:!0,payload:{status:"healthy"},timestamp:Date.now()};e.resolve(n)}}else this.emit(D.MESSAGE,t)}catch(e){this.debug("Failed to handle WebSocket message:",e),this.emit(D.ERROR,e)}}startHeartbeat(){this.heartbeatInterval||(this.heartbeatInterval=setInterval(()=>{if(this.isConnected())try{this.websocket.send(JSON.stringify({type:"ping",timestamp:Date.now()}))}catch(e){this.debug("Failed to send heartbeat:",e)}},this.wsConfig.heartbeatInterval||3e4))}stopHeartbeat(){this.heartbeatInterval&&(clearInterval(this.heartbeatInterval),this.heartbeatInterval=void 0)}doHealthCheck(){return t(this,void 0,void 0,function*(){if(!this.isConnected())throw new Error("WebSocket not connected");return new Promise((e,t)=>{const n=setTimeout(()=>{t(new Error("Health check timeout"))},5e3),i=this.generateMessageId(),o={resolve:()=>{clearTimeout(n),e()},reject:e=>{clearTimeout(n),t(e)},timeout:n,timestamp:Date.now()};this.responseHandlers.set(i,o);try{this.websocket.send(JSON.stringify({type:"health_ping",id:i,timestamp:Date.now()}))}catch(e){clearTimeout(n),this.responseHandlers.delete(i),t(e)}})})}getCapabilities(){return{supportsRealtime:!0,supportsBidirectional:!0,supportsFileSystem:!1,supportsStreaming:!0,maxMessageSize:1048576,averageLatency:this.healthStatus.latency,maxConcurrentConnections:1,reliability:this.calculateReliability(),supportedEnvironments:["browser","node","obsidian"]}}}class V{constructor(e=5e3){this.locks=new Set,this.lockTimeout=e}acquireLock(e){return t(this,void 0,void 0,function*(){return new Promise((t,n)=>{const i=()=>{this.locks.has(e)?setTimeout(i,100):(this.locks.add(e),t())};setTimeout(()=>{n(new Error(`Failed to acquire lock for ${e} within ${this.lockTimeout}ms`))},this.lockTimeout),i()})})}releaseLock(e){this.locks.delete(e)}}class z{constructor(){this.watchers=new Map,this.callbacks=new Map}watch(e,n){this.callbacks.set(e,n);const i=setInterval(()=>t(this,void 0,void 0,function*(){try{if(yield this.fileExists(e)){const t=yield this.readFile(e);n(t),this.unwatch(e)}}catch(e){}}),500);this.watchers.set(e,i)}unwatch(e){const t=this.watchers.get(e);t&&(clearInterval(t),this.watchers.delete(e)),this.callbacks.delete(e)}fileExists(e){return t(this,void 0,void 0,function*(){var t,n,i;if("undefined"!=typeof window&&(null===(i=null===(n=null===(t=window.app)||void 0===t?void 0:t.vault)||void 0===n?void 0:n.adapter)||void 0===i?void 0:i.exists))return window.app.vault.adapter.exists(e);if(void 0!==globalThis.require)try{const t=globalThis.require("fs").promises;return yield t.access(e),!0}catch(e){return!1}return!1})}readFile(e){return t(this,void 0,void 0,function*(){var t,n,i;if("undefined"!=typeof window&&(null===(i=null===(n=null===(t=window.app)||void 0===t?void 0:t.vault)||void 0===n?void 0:n.adapter)||void 0===i?void 0:i.read))return window.app.vault.adapter.read(e);if(void 0!==globalThis.require){return globalThis.require("fs").promises.readFile(e,"utf-8")}throw new Error("File reading not supported in this environment")})}}class L extends O{constructor(e){super(M.FILESYSTEM,e),this.pendingRequests=new Map,this.messageQueue=[],this.fsConfig=e.filesystem||{watchInterval:500,lockTimeout:5e3,maxQueueSize:100},this.devPipePath=e.devPipePath||"./devpipe",this.fileWatcher=new z,this.lockManager=new V(this.fsConfig.lockTimeout)}doInitialize(){return t(this,void 0,void 0,function*(){if(!w.detect().hasFileSystem)throw new Error("FileSystem transport not supported in this environment");yield this.ensureDirectoryExists(this.devPipePath),this.debug("FileSystem transport initialized")})}connect(){return t(this,void 0,void 0,function*(){try{yield this.doHealthCheck(),this.setupIncomingMessageWatcher(),this.connected=!0,this.healthStatus.status="healthy",this.emit(D.CONNECTED,{transport:this.type}),this.debug("FileSystem transport connected")}catch(e){throw this.emit(D.ERROR,e),e}})}disconnect(){return t(this,void 0,void 0,function*(){const e=Array.from(this.pendingRequests.values());for(const t of e)clearTimeout(t.timeout),this.fileWatcher.unwatch(t.responseFile),t.reject(new Error("Transport disconnected"));this.pendingRequests.clear(),this.connected=!1,this.healthStatus.status="disconnected",this.emit(D.DISCONNECTED,{transport:this.type}),this.debug("FileSystem transport disconnected")})}send(e){return t(this,void 0,void 0,function*(){if(!this.isConnected())throw new Error("FileSystem transport not connected");return e.id||(e.id=this.generateMessageId()),e.timestamp=Date.now(),this.executeWithCircuitBreaker(()=>t(this,void 0,void 0,function*(){return this.sendFileMessage(e)}),"filesystem_send")})}sendFileMessage(e){return t(this,void 0,void 0,function*(){const t=`${this.devPipePath}/request_${e.id}.json`,n=`${this.devPipePath}/response_${e.id}.json`;return new Promise((i,o)=>{const a=setTimeout(()=>{this.pendingRequests.delete(e.id),this.fileWatcher.unwatch(n),o(new Error(`FileSystem request timeout after ${this.config.timeout}ms`))},this.config.timeout),s={id:e.id,message:e,resolve:t=>{clearTimeout(a),this.pendingRequests.delete(e.id),this.fileWatcher.unwatch(n),i(t)},reject:t=>{clearTimeout(a),this.pendingRequests.delete(e.id),this.fileWatcher.unwatch(n),o(t)},timeout:a,timestamp:Date.now(),requestFile:t,responseFile:n};this.pendingRequests.set(e.id,s),this.fileWatcher.watch(n,e=>{try{const t=JSON.parse(e),n={id:t.id,success:!1!==t.success,payload:t.payload,error:t.error,timestamp:Date.now()};s.resolve(n)}catch(e){s.reject(new Error("Failed to parse response file"))}}),this.writeRequestFile(t,e,s)})})}writeRequestFile(e,n,i){return t(this,void 0,void 0,function*(){try{yield this.lockManager.acquireLock(e),yield this.writeFile(e,JSON.stringify(n,null,2)),this.lockManager.releaseLock(e)}catch(t){this.lockManager.releaseLock(e),i.reject(t instanceof Error?t:new Error("Failed to write request file"))}})}setupIncomingMessageWatcher(){this.debug("Incoming message watcher setup completed")}ensureDirectoryExists(e){return t(this,void 0,void 0,function*(){var t,n,i;if("undefined"!=typeof window&&(null===(i=null===(n=null===(t=window.app)||void 0===t?void 0:t.vault)||void 0===n?void 0:n.adapter)||void 0===i?void 0:i.mkdir))try{yield window.app.vault.adapter.mkdir(e)}catch(e){}else if(void 0!==globalThis.require)try{const t=globalThis.require("fs").promises;yield t.mkdir(e,{recursive:!0})}catch(e){}})}writeFile(e,n){return t(this,void 0,void 0,function*(){var t,i,o;if("undefined"!=typeof window&&(null===(o=null===(i=null===(t=window.app)||void 0===t?void 0:t.vault)||void 0===i?void 0:i.adapter)||void 0===o?void 0:o.write))return window.app.vault.adapter.write(e,n);if(void 0!==globalThis.require){return globalThis.require("fs").promises.writeFile(e,n,"utf-8")}throw new Error("File writing not supported in this environment")})}readFile(e){return t(this,void 0,void 0,function*(){var t,n,i;if("undefined"!=typeof window&&(null===(i=null===(n=null===(t=window.app)||void 0===t?void 0:t.vault)||void 0===n?void 0:n.adapter)||void 0===i?void 0:i.read))return window.app.vault.adapter.read(e);if(void 0!==globalThis.require){return globalThis.require("fs").promises.readFile(e,"utf-8")}throw new Error("File reading not supported in this environment")})}doHealthCheck(){return t(this,void 0,void 0,function*(){const e=`${this.devPipePath}/health_check_${Date.now()}.tmp`;try{yield this.writeFile(e,"health_check");if("health_check"!==(yield this.readFile(e)))throw new Error("File content mismatch during health check");yield this.deleteFile(e)}catch(e){throw new Error(`FileSystem health check failed: ${e instanceof Error?e.message:"Unknown error"}`)}})}deleteFile(e){return t(this,void 0,void 0,function*(){var t,n,i;if("undefined"!=typeof window&&(null===(i=null===(n=null===(t=window.app)||void 0===t?void 0:t.vault)||void 0===n?void 0:n.adapter)||void 0===i?void 0:i.remove))try{yield window.app.vault.adapter.remove(e)}catch(e){}else if(void 0!==globalThis.require)try{const t=globalThis.require("fs").promises;yield t.unlink(e)}catch(e){}})}getCapabilities(){return{supportsRealtime:!1,supportsBidirectional:!0,supportsFileSystem:!0,supportsStreaming:!1,maxMessageSize:10485760,averageLatency:this.healthStatus.latency,maxConcurrentConnections:1,reliability:this.calculateReliability(),supportedEnvironments:["node","obsidian"]}}}class q{constructor(){this.metrics=new Map,this.latencyHistory=new Map,this.MAX_HISTORY_SIZE=100}recordLatency(e,t){const n=this.getOrCreateMetrics(e),i=this.getOrCreateHistory(e);i.push(t),i.length>this.MAX_HISTORY_SIZE&&i.shift(),n.averageLatency=i.reduce((e,t)=>e+t,0)/i.length,n.minLatency=Math.min(n.minLatency,t),n.maxLatency=Math.max(n.maxLatency,t),n.lastActivity=Date.now()}recordSuccess(e){const t=this.getOrCreateMetrics(e);t.totalRequests++,t.successfulRequests++,t.lastActivity=Date.now()}recordFailure(e,t){const n=this.getOrCreateMetrics(e);n.totalRequests++,n.failedRequests++,n.lastActivity=Date.now()}getMetrics(e){return this.getOrCreateMetrics(e)}getOrCreateMetrics(e){return this.metrics.has(e)||this.metrics.set(e,{totalRequests:0,successfulRequests:0,failedRequests:0,averageLatency:0,minLatency:1/0,maxLatency:0,uptime:0,lastActivity:Date.now()}),this.metrics.get(e)}getOrCreateHistory(e){return this.latencyHistory.has(e)||this.latencyHistory.set(e,[]),this.latencyHistory.get(e)}}class _{constructor(e){this.schedules=new Map,this.eventListeners=new Map,this.metricsCollector=e||new q}startMonitoring(e,t=3e4){const n={transport:e,interval:t,lastCheck:0,consecutiveFailures:0};this.schedules.set(e.id,n),e.on(D.HEALTH_CHECK,t=>{t.success?(this.metricsCollector.recordLatency(e.type,t.latency),this.metricsCollector.recordSuccess(e.type),n.consecutiveFailures=0):(this.metricsCollector.recordFailure(e.type,new Error(t.error||"Health check failed")),n.consecutiveFailures++),this.emit("health-updated",this.assessTransportHealth(e))}),this.monitoringInterval||this.startPeriodicChecks()}stopMonitoring(e){this.schedules.delete(e.id),0===this.schedules.size&&this.monitoringInterval&&(clearInterval(this.monitoringInterval),this.monitoringInterval=void 0)}assessTransportHealth(e){const t=this.metricsCollector.getMetrics(e.type),n=e.getHealthStatus();e.getCapabilities();const i=this.calculateAvailabilityScore(e),o=this.calculateLatencyScore(n.latency),a=this.calculateReliabilityScore(t),s=this.calculateErrorRateScore(t),r=.3*i+.25*o+.3*a+.15*s;let l,c;return l=r>=.9?"excellent":r>=.7?"good":r>=.5?"fair":r>=.3?"poor":"failing",c=r>=.7?"use":r>=.4?"monitor":"avoid",{transport:e.type,score:r,status:l,metrics:{availability:i,latency:o,reliability:a,errorRate:1-s},recommendation:c}}calculateAvailabilityScore(e){if(!e.isAvailable())return 0;if(!e.isConnected())return.3;const t=this.schedules.get(e.id);if(!t)return.8;const n=Math.min(.1*t.consecutiveFailures,.5);return Math.max(1-n,0)}calculateLatencyScore(e){return e<=50?1:e<=200?.8:e<=1e3?.6:Math.max(.2,1-e/5e3)}calculateReliabilityScore(e){if(0===e.totalRequests)return.5;return e.successfulRequests/e.totalRequests}calculateErrorRateScore(e){if(0===e.totalRequests)return 1;const t=e.failedRequests/e.totalRequests;return Math.max(0,1-t)}startPeriodicChecks(){this.monitoringInterval=setInterval(()=>{const e=Date.now(),t=Array.from(this.schedules.values());for(const n of t)e-n.lastCheck>=n.interval&&(n.lastCheck=e,n.transport.performHealthCheck().catch(e=>{}))},5e3)}on(e,t){this.eventListeners.has(e)||this.eventListeners.set(e,[]),this.eventListeners.get(e).push(t)}off(e,t){const n=this.eventListeners.get(e);if(n){const e=n.indexOf(t);e>-1&&n.splice(e,1)}}emit(e,t){const n=this.eventListeners.get(e);n&&n.forEach(n=>{try{n(t)}catch(t){console.error(`Error in health monitor event listener for ${e}:`,t)}})}getMetricsCollector(){return this.metricsCollector}}class H{constructor(e){this.criteria=e}calculateScore(e,n){return t(this,void 0,void 0,function*(){const t=e.getCapabilities(),i=e.getHealthStatus();let o=.5;(null==n?void 0:n.requiresRealtime)&&t.supportsRealtime&&(o+=.3),(null==n?void 0:n.maxLatency)&&t.averageLatency<=n.maxLatency&&(o+=.2),o=Math.min(o,1);const a=Math.max(0,1-t.averageLatency/5e3),s=t.reliability;let r=1;e.type===M.HTTP?r=.8:e.type===M.WEBSOCKET?r=.9:e.type===M.FILESYSTEM&&(r=1);let l=1;e.isAvailable()?e.isConnected()?"failing"===i.status?l=.1:"degraded"===i.status&&(l=.5):l=.3:l=0;const c=(a*this.criteria.latencyWeight+s*this.criteria.reliabilityWeight+o*this.criteria.capabilityWeight+r*this.criteria.costWeight)*l;return Math.max(0,Math.min(1,c))})}selectBest(e,n){return new Promise(i=>t(this,void 0,void 0,function*(){if(0===e.length)return void i(null);const o=yield Promise.all(e.map(e=>t(this,void 0,void 0,function*(){return{transport:e,score:yield this.calculateScore(e,n)}})));o.sort((e,t)=>t.score-e.score),i(o[0].transport)}))}}class W{constructor(e){this.transports=new Map,this.eventListeners=new Map,this.failoverInProgress=!1,this.config=e,this.fallbackChain=e.fallbackChain||[M.WEBSOCKET,M.HTTP,M.FILESYSTEM],this.healthMonitor=new _,this.selector=new H(e.selectionCriteria),this.initializeTransports(),this.setupHealthMonitoring()}initializeTransports(){return t(this,void 0,void 0,function*(){const e=w.detect(),t=new I(this.config.transportConfigs.http);if(yield t.initialize(this.config.transportConfigs.http),this.transports.set(M.HTTP,t),e.hasWebSocket&&this.config.transportConfigs.websocket){const e=new F(this.config.transportConfigs.websocket);yield e.initialize(this.config.transportConfigs.websocket),this.transports.set(M.WEBSOCKET,e)}if(e.hasFileSystem&&this.config.transportConfigs.filesystem){const e=new L(this.config.transportConfigs.filesystem);yield e.initialize(this.config.transportConfigs.filesystem),this.transports.set(M.FILESYSTEM,e)}const n=Array.from(this.transports.values());for(const e of n)this.setupTransportEventHandlers(e);this.debug(`Initialized ${this.transports.size} transports`)})}setupTransportEventHandlers(e){e.on(D.CONNECTED,()=>{this.debug(`Transport ${e.type} connected`),this.emit("transport_connected",{transport:e.type})}),e.on(D.DISCONNECTED,()=>{this.debug(`Transport ${e.type} disconnected`),this.emit("transport_disconnected",{transport:e.type}),this.activeTransport===e&&!1!==this.config.autoFailover&&this.handleTransportFailure(e)}),e.on(D.ERROR,t=>{this.debug(`Transport ${e.type} error:`,t),this.emit("transport_error",{transport:e.type,error:t})}),e.on(D.MESSAGE,e=>{this.emit("message",e)})}setupHealthMonitoring(){const e=Array.from(this.transports.values());for(const t of e)this.healthMonitor.startMonitoring(t,this.config.healthCheckInterval||3e4);this.healthMonitor.on("health-updated",e=>{var t;this.emit("health_updated",e),(null===(t=this.activeTransport)||void 0===t?void 0:t.type)!==e.transport||"avoid"!==e.recommendation||this.failoverInProgress||this.selectOptimalTransport()})}selectOptimalTransport(e){return t(this,void 0,void 0,function*(){const t=Array.from(this.transports.values()).filter(e=>e.isAvailable());if(0===t.length)throw new Error("No available transports");const n=yield this.selector.selectBest(t,e);if(!n)throw new Error("No suitable transport found");return this.activeTransport!==n&&(yield this.switchTransport(n,"optimization")),n})}switchTransport(e,n){return t(this,void 0,void 0,function*(){const t=this.activeTransport;try{this.debug(`Switching transport from ${(null==t?void 0:t.type)||"none"} to ${e.type} (${n})`),e.isConnected()||(yield e.connect()),this.activeTransport=e,t&&t!==e&&t.disconnect().catch(e=>{this.debug(`Error disconnecting old transport ${t.type}:`,e)}),this.emit("transport_switched",{from:null==t?void 0:t.type,to:e.type,reason:n})}catch(e){throw t&&t.isConnected()&&(this.activeTransport=t),e}})}handleTransportFailure(e){return t(this,void 0,void 0,function*(){if(!this.failoverInProgress){this.failoverInProgress=!0;try{this.debug(`Handling failure of transport ${e.type}`),this.emit("transport_failed",{transport:e.type,timestamp:Date.now()});for(const t of this.fallbackChain){if(t===e.type)continue;const n=this.transports.get(t);if(n&&n.isAvailable())try{return yield this.switchTransport(n,"failover"),void this.debug(`Successfully failed over to ${t}`)}catch(e){this.debug(`Failover to ${t} failed:`,e);continue}}throw new Error("All transports failed")}finally{this.failoverInProgress=!1}}})}send(e,n){return t(this,void 0,void 0,function*(){if(this.activeTransport||(yield this.selectOptimalTransport(n)),!this.activeTransport)throw new Error("No active transport available");try{return yield this.activeTransport.send(e)}catch(t){if(this.debug(`Send failed on ${this.activeTransport.type}, attempting failover`),yield this.handleTransportFailure(this.activeTransport),this.activeTransport)return yield this.activeTransport.send(e);throw t}})}connect(){return t(this,void 0,void 0,function*(){yield this.selectOptimalTransport()})}disconnect(){return t(this,void 0,void 0,function*(){const e=Array.from(this.transports.values()).map(e=>e.disconnect().catch(t=>{this.debug(`Error disconnecting transport ${e.type}:`,t)}));yield Promise.all(e),this.activeTransport=void 0})}getActiveTransport(){return this.activeTransport}getAvailableTransports(){return Array.from(this.transports.values()).filter(e=>e.isAvailable())}getTransportHealth(){const e=new Map,t=Array.from(this.transports.values());for(const n of t)e.set(n.type,this.healthMonitor.assessTransportHealth(n));return e}on(e,t){this.eventListeners.has(e)||this.eventListeners.set(e,[]),this.eventListeners.get(e).push(t)}off(e,t){const n=this.eventListeners.get(e);if(n){const e=n.indexOf(t);e>-1&&n.splice(e,1)}}emit(e,t){const n=this.eventListeners.get(e);n&&n.forEach(n=>{try{n(t)}catch(t){this.debug(`Error in transport manager event listener for ${e}:`,t)}})}debug(e,...t){this.config.debug&&console.log(`[TransportManager] ${e}`,...t)}}!function(e){e[e.WELCOME=0]="WELCOME",e[e.ENVIRONMENT_DETECTION=1]="ENVIRONMENT_DETECTION",e[e.PREFERENCES=2]="PREFERENCES",e[e.VALIDATION=3]="VALIDATION",e[e.COMPLETION=4]="COMPLETION"}(P||(P={}));class U extends e.Modal{constructor(e,t,n={}){super(e),this.currentStep=0,this.totalSteps=5,this.stepElements=[],this.plugin=t,this.config=n;const i={selectionCriteria:{latencyWeight:.3,reliabilityWeight:.4,capabilityWeight:.2,costWeight:.1},fallbackChain:[M.HTTP,M.WEBSOCKET,M.FILESYSTEM],transportConfigs:{http:{serverUrl:t.settings.backendUrl,timeout:3e4,retryAttempts:3,debug:t.settings.debugMode}}};this.transportManager=new W(i),this.progress={currentStep:0,totalSteps:this.totalSteps,completedSteps:new Array(this.totalSteps).fill(!1),userPreferences:{enableRealTimeUpdates:!0,performanceMode:"balanced",enableAnalytics:!0}},this.modalEl.addClass("vaultpilot-onboarding")}onOpen(){return t(this,void 0,void 0,function*(){const{contentEl:e}=this;e.empty(),this.modalEl.addClass("vaultpilot-onboarding-modal"),this.createHeader(),this.createProgressBar(),e.createDiv("onboarding-step-container"),this.createNavigation(),yield this.renderCurrentStep()})}createHeader(){const{contentEl:e}=this,t=e.createDiv("onboarding-header");t.createEl("h2",{text:"Welcome to VaultPilot"}),t.createEl("p",{text:"Let's set up your optimal configuration for the best experience",cls:"onboarding-subtitle"})}createProgressBar(){const{contentEl:e}=this,t=e.createDiv("onboarding-progress"),n=t.createDiv("progress-steps");for(let e=0;e<this.totalSteps;e++){const t=n.createDiv("progress-step");t.addClass(0===e?"active":"inactive"),t.createSpan({text:(e+1).toString()}),this.stepElements.push(t)}this.progressBar=t.createDiv("progress-bar");this.progressBar.createDiv("progress-fill").style.width=1/this.totalSteps*100+"%"}createNavigation(){const{contentEl:t}=this,n=t.createDiv("onboarding-navigation");this.previousButton=new e.ButtonComponent(n).setButtonText("Previous").setClass("mod-muted").onClick(()=>this.previousStep()),this.skipButton=new e.ButtonComponent(n).setButtonText("Skip Setup").setClass("mod-muted").onClick(()=>this.skipOnboarding()),this.nextButton=new e.ButtonComponent(n).setButtonText("Next").setCta().onClick(()=>this.nextStep()),this.updateNavigationState()}renderCurrentStep(){return t(this,void 0,void 0,function*(){const{contentEl:e}=this,t=e.querySelector(".onboarding-step-container");switch(t.empty(),this.updateProgressIndicators(),this.currentStep){case P.WELCOME:yield this.renderWelcomeStep(t);break;case P.ENVIRONMENT_DETECTION:yield this.renderEnvironmentStep(t);break;case P.PREFERENCES:yield this.renderPreferencesStep(t);break;case P.VALIDATION:yield this.renderValidationStep(t);break;case P.COMPLETION:yield this.renderCompletionStep(t)}this.updateNavigationState()})}renderWelcomeStep(e){return t(this,void 0,void 0,function*(){const t=e.createDiv("onboarding-step welcome-step");t.createEl("h3",{text:"Welcome to VaultPilot"}),t.createEl("p",{text:"VaultPilot provides intelligent transport management and optimization for your Obsidian experience. This wizard will help you configure the optimal settings for your environment."});const n=t.createDiv("welcome-features");n.createEl("h4",{text:"What you'll get:"});const i=n.createEl("ul");i.createEl("li",{text:"ðŸš€ Intelligent transport selection and failover"}),i.createEl("li",{text:"ðŸ“Š Real-time performance monitoring"}),i.createEl("li",{text:"ðŸ’¡ AI-powered optimization suggestions"}),i.createEl("li",{text:"ðŸ”§ Advanced configuration options"}),i.createEl("li",{text:"ðŸ“ˆ Usage analytics and insights"});t.createDiv("estimated-time").createEl("p",{text:"â±ï¸ Estimated setup time: 2-3 minutes",cls:"muted"})})}renderEnvironmentStep(e){return t(this,void 0,void 0,function*(){const t=e.createDiv("onboarding-step environment-step");if(t.createEl("h3",{text:"Environment Detection"}),t.createEl("p",{text:"Analyzing your environment to recommend optimal transport configuration..."}),this.config.skipEnvironmentDetection||this.progress.detectedCapabilities)this.progress.detectedCapabilities&&this.renderEnvironmentResults(t);else{t.createDiv("detection-status").createEl("p",{text:"ðŸ” Detecting capabilities...",cls:"detection-loading"});try{this.progress.detectedCapabilities=yield this.detectEnvironment(),this.renderEnvironmentResults(t)}catch(e){this.renderEnvironmentError(t,e)}}})}detectEnvironment(){return t(this,void 0,void 0,function*(){yield new Promise(e=>setTimeout(e,1e3));const e=w.detect();let t="obsidian";"browser"!==e.platform&&"node"!==e.platform&&"obsidian"!==e.platform||(t=e.platform);const n={platform:t,webSocketSupported:e.hasWebSocket,fileSystemAccess:e.hasFileSystem,httpCapabilities:e.hasHTTP,recommendedTransport:"http",performanceEstimate:"good"};return n.webSocketSupported&&n.httpCapabilities?(n.recommendedTransport="websocket",n.performanceEstimate="excellent"):n.httpCapabilities?(n.recommendedTransport="http",n.performanceEstimate="good"):n.fileSystemAccess&&(n.recommendedTransport="filesystem",n.performanceEstimate="fair"),n})}renderEnvironmentResults(e){const t=e.createDiv("environment-results"),n=this.progress.detectedCapabilities;t.createEl("h4",{text:"âœ… Detection Complete"});const i=t.createDiv("capabilities-list"),o=i.createDiv("capability-item");o.createSpan({text:n.webSocketSupported?"âœ…":"âŒ",cls:"capability-icon"}),o.createSpan({text:"WebSocket Support"});const a=i.createDiv("capability-item");a.createSpan({text:n.httpCapabilities?"âœ…":"âŒ",cls:"capability-icon"}),a.createSpan({text:"HTTP Transport"});const s=i.createDiv("capability-item");s.createSpan({text:n.fileSystemAccess?"âœ…":"âŒ",cls:"capability-icon"}),s.createSpan({text:"FileSystem Access"});const r=t.createDiv("environment-recommendation");r.createEl("h4",{text:"Recommendation"}),r.createEl("p",{text:`Based on your environment, we recommend using ${n.recommendedTransport} transport for ${n.performanceEstimate} performance.`})}renderEnvironmentError(e,t){const n=e.createDiv("environment-error");n.createEl("h4",{text:"âš ï¸ Detection Failed"}),n.createEl("p",{text:"Unable to automatically detect your environment capabilities. You can proceed with default settings or manually configure later."}),this.plugin.settings.debugMode&&n.createEl("p",{text:`Error: ${t.message}`,cls:"error-details"})}renderPreferencesStep(n){return t(this,void 0,void 0,function*(){const t=n.createDiv("onboarding-step preferences-step");t.createEl("h3",{text:"Performance Preferences"}),t.createEl("p",{text:"Configure your preferences for optimal performance:"});const i=t.createDiv("preferences-container");new e.Setting(i).setName("Performance Mode").setDesc("Choose your preferred balance between speed and reliability").addDropdown(e=>{e.addOption("performance","Performance (Prioritize Speed)"),e.addOption("balanced","Balanced (Recommended)"),e.addOption("reliability","Reliability (Prioritize Stability)"),e.setValue(this.progress.userPreferences.performanceMode),e.onChange(e=>{this.progress.userPreferences.performanceMode=e})}),new e.Setting(i).setName("Real-time Updates").setDesc("Enable real-time dashboard updates and live monitoring").addToggle(e=>{e.setValue(this.progress.userPreferences.enableRealTimeUpdates),e.onChange(e=>{this.progress.userPreferences.enableRealTimeUpdates=e})}),new e.Setting(i).setName("Usage Analytics").setDesc("Enable anonymous usage analytics to improve recommendations").addToggle(e=>{e.setValue(this.progress.userPreferences.enableAnalytics),e.onChange(e=>{this.progress.userPreferences.enableAnalytics=e})})})}renderValidationStep(e){return t(this,void 0,void 0,function*(){const t=e.createDiv("onboarding-step validation-step");if(t.createEl("h3",{text:"Configuration Validation"}),t.createEl("p",{text:"Testing your configuration and establishing performance baseline..."}),this.config.skipValidation||this.progress.validationResults)this.progress.validationResults&&this.renderValidationResults(t);else{t.createDiv("validation-status").createEl("p",{text:"ðŸ§ª Running validation tests...",cls:"validation-loading"});try{this.progress.validationResults=yield this.validateConfiguration(),this.renderValidationResults(t)}catch(e){this.renderValidationError(t,e)}}})}validateConfiguration(){return t(this,void 0,void 0,function*(){var e,t;yield new Promise(e=>setTimeout(e,2e3));const n={transportsWorking:["http"],transportsFailing:[],recommendedConfiguration:{},performanceBaseline:{avgResponseTime:150,reliability:.98,throughput:1e3}};return(null===(e=this.progress.detectedCapabilities)||void 0===e?void 0:e.webSocketSupported)&&n.transportsWorking.push("websocket"),(null===(t=this.progress.detectedCapabilities)||void 0===t?void 0:t.fileSystemAccess)&&n.transportsWorking.push("filesystem"),n})}renderValidationResults(e){const t=e.createDiv("validation-results"),n=this.progress.validationResults;t.createEl("h4",{text:"âœ… Validation Complete"});const i=t.createDiv("working-transports");i.createEl("h5",{text:"Working Transports:"});const o=i.createEl("ul");n.transportsWorking.forEach(e=>{o.createEl("li",{text:`âœ… ${e.toUpperCase()}`})});const a=t.createDiv("performance-baseline");a.createEl("h5",{text:"Performance Baseline:"});const s=a.createEl("ul");s.createEl("li",{text:`Average Response Time: ${n.performanceBaseline.avgResponseTime}ms`}),s.createEl("li",{text:`Reliability: ${(100*n.performanceBaseline.reliability).toFixed(1)}%`}),s.createEl("li",{text:`Throughput: ${n.performanceBaseline.throughput} requests/min`})}renderValidationError(e,t){const n=e.createDiv("validation-error");n.createEl("h4",{text:"âš ï¸ Validation Issues"}),n.createEl("p",{text:"Some validation tests failed, but you can still proceed. You can adjust settings later if needed."}),this.plugin.settings.debugMode&&n.createEl("p",{text:`Error: ${t.message}`,cls:"error-details"})}renderCompletionStep(e){return t(this,void 0,void 0,function*(){const t=e.createDiv("onboarding-step completion-step");t.createEl("h3",{text:"ðŸŽ‰ Setup Complete!"}),t.createEl("p",{text:"VaultPilot has been configured with your optimal settings."});const n=t.createDiv("setup-summary");n.createEl("h4",{text:"Configuration Summary:"});const i=n.createEl("ul");i.createEl("li",{text:`Performance Mode: ${this.progress.userPreferences.performanceMode}`}),i.createEl("li",{text:"Real-time Updates: "+(this.progress.userPreferences.enableRealTimeUpdates?"Enabled":"Disabled")}),i.createEl("li",{text:"Analytics: "+(this.progress.userPreferences.enableAnalytics?"Enabled":"Disabled")}),this.progress.detectedCapabilities&&i.createEl("li",{text:`Recommended Transport: ${this.progress.detectedCapabilities.recommendedTransport}`});const o=t.createDiv("next-steps");o.createEl("h4",{text:"What's Next:"});const a=o.createEl("ul");a.createEl("li",{text:"ðŸ“Š Check the dashboard for real-time status"}),a.createEl("li",{text:"âš™ï¸ Adjust advanced settings as needed"}),a.createEl("li",{text:"ðŸ’¡ Review AI-powered recommendations"}),a.createEl("li",{text:"ðŸ“ˆ Monitor performance analytics"})})}updateProgressIndicators(){this.stepElements.forEach((e,t)=>{e.removeClass("active","completed","inactive"),t<this.currentStep?e.addClass("completed"):t===this.currentStep?e.addClass("active"):e.addClass("inactive")});const e=this.progressBar.querySelector(".progress-fill");if(e){const t=(this.currentStep+1)/this.totalSteps*100;e.style.width=`${t}%`}}updateNavigationState(){this.previousButton.setDisabled(0===this.currentStep),this.currentStep===this.totalSteps-1?this.nextButton.setButtonText("Finish"):this.nextButton.setButtonText("Next"),this.currentStep===this.totalSteps-1?this.skipButton.buttonEl.style.display="none":this.skipButton.buttonEl.style.display=""}nextStep(){return t(this,void 0,void 0,function*(){this.currentStep<this.totalSteps-1?(this.progress.completedSteps[this.currentStep]=!0,this.currentStep++,yield this.renderCurrentStep()):yield this.finishOnboarding()})}previousStep(){return t(this,void 0,void 0,function*(){this.currentStep>0&&(this.currentStep--,yield this.renderCurrentStep())})}skipOnboarding(){return t(this,void 0,void 0,function*(){confirm("Are you sure you want to skip the setup wizard? You can access these settings later in the plugin settings.")&&(yield this.finishOnboarding(!0))})}finishOnboarding(){return t(this,arguments,void 0,function*(t=!1){try{t?new e.Notice("âš ï¸ Onboarding skipped - using default settings"):(yield this.applyConfiguration(),new e.Notice("âœ… VaultPilot configuration applied successfully!")),this.plugin.settings.onboardingComplete=!0,yield this.plugin.saveSettings(),this.close()}catch(t){console.error("Failed to apply onboarding configuration:",t),new e.Notice("âŒ Failed to apply configuration. Please check settings manually.")}})}applyConfiguration(){return t(this,void 0,void 0,function*(){const e=this.progress.userPreferences;if(this.plugin.settings.performanceMode=e.performanceMode,this.plugin.settings.enableRealTimeUpdates=e.enableRealTimeUpdates,this.plugin.settings.enableAnalytics=e.enableAnalytics,this.progress.detectedCapabilities){const t=this.progress.detectedCapabilities,n={selectionCriteria:this.getSelectionCriteriaForMode(e.performanceMode),fallbackChain:this.buildFallbackChain(t),transportConfigs:{http:{baseUrl:this.plugin.settings.backendUrl},websocket:t.webSocketSupported?{url:this.plugin.settings.webSocketUrl}:void 0,filesystem:t.fileSystemAccess?{basePath:".vaultpilot"}:void 0},autoFailover:!0,debug:this.plugin.settings.debugMode};this.plugin.settings.transportConfig=n}yield this.plugin.saveSettings()})}getSelectionCriteriaForMode(e){switch(e){case"performance":return{latencyWeight:.6,reliabilityWeight:.2,capabilityWeight:.1,costWeight:.1};case"reliability":return{latencyWeight:.1,reliabilityWeight:.6,capabilityWeight:.2,costWeight:.1};default:return{latencyWeight:.3,reliabilityWeight:.3,capabilityWeight:.2,costWeight:.2}}}buildFallbackChain(e){const t=[];return e.webSocketSupported&&t.push("websocket"),e.httpCapabilities&&t.push("http"),e.fileSystemAccess&&t.push("filesystem"),t}onClose(){const{contentEl:e}=this;e.empty()}}class B extends e.Component{constructor(e,t,n={updateInterval:2e3,showAdvancedMetrics:!0,enableRealTimeUpdates:!0}){super(),this.statusCards=new Map,this.isRealTimeEnabled=!0,this.containerEl=e,this.plugin=t,this.config=n,this.isRealTimeEnabled=n.enableRealTimeUpdates}onload(){return t(this,void 0,void 0,function*(){this.initializeDashboard(),this.isRealTimeEnabled&&(this.startRealTimeUpdates(),this.setupEventListeners()),yield this.updateDashboard()})}onunload(){this.stopRealTimeUpdates(),this.removeEventListeners()}initializeDashboard(){this.containerEl.empty(),this.containerEl.addClass("transport-dashboard"),this.createHeader(),this.createSystemHealthSection(),this.createTransportStatusSection(),this.createPerformanceMetricsSection(),this.createChartsSection(),this.createControlsSection()}createHeader(){const e=this.containerEl.createDiv("dashboard-header");e.createEl("h2",{text:"Transport Dashboard"});const t=e.createDiv("last-update");t.createSpan({text:"Last updated: ",cls:"label"});t.createSpan({cls:"timestamp"}).textContent=(new Date).toLocaleTimeString();const n=e.createDiv("realtime-indicator");this.isRealTimeEnabled?n.createSpan({text:"ðŸŸ¢ Real-time",cls:"realtime-active"}):n.createSpan({text:"âšª Manual refresh",cls:"realtime-inactive"})}createSystemHealthSection(){const e=this.containerEl.createDiv("system-health-section");e.createEl("h3",{text:"System Health"}),this.systemHealthContainer=e.createDiv("system-health-container"),this.renderSystemHealthPlaceholder()}createTransportStatusSection(){const e=this.containerEl.createDiv("transport-status-section");e.createEl("h3",{text:"Transport Status"});const t=e.createDiv("transport-cards-container");[M.HTTP,M.WEBSOCKET,M.FILESYSTEM].forEach(e=>{const n=this.createTransportCard(t,e);this.statusCards.set(e,n)})}createTransportCard(e,t){const n=e.createDiv("transport-status-card");n.addClass(`transport-${t}`),n.addClass("status-unknown");const i=n.createDiv("card-header");i.createEl("h4",{text:t.toUpperCase()});i.createDiv("status-badge").textContent="Unknown";const o=n.createDiv("card-metrics"),a=o.createDiv("metric");a.createSpan({text:"Response Time",cls:"metric-label"}),a.createSpan({text:"--",cls:"metric-value response-time"});const s=o.createDiv("metric");s.createSpan({text:"Success Rate",cls:"metric-label"}),s.createSpan({text:"--",cls:"metric-value success-rate"});const r=o.createDiv("metric");r.createSpan({text:"Errors",cls:"metric-label"}),r.createSpan({text:"--",cls:"metric-value error-count"});n.createDiv("connection-state").createSpan({text:"Disconnected",cls:"connection-status"});const l=n.createDiv("card-actions");l.createEl("button",{text:"Test",cls:"mod-muted"}).onclick=()=>this.testTransport(t);return l.createEl("button",{text:"Switch To",cls:"mod-cta"}).onclick=()=>this.switchToTransport(t),n}createPerformanceMetricsSection(){const e=this.containerEl.createDiv("performance-metrics-section");e.createEl("h3",{text:"Performance Metrics"}),this.metricsContainer=e.createDiv("metrics-container"),this.renderPerformanceMetricsPlaceholder()}createChartsSection(){const e=this.containerEl.createDiv("charts-section");e.createEl("h3",{text:"Performance Trends"}),this.chartsContainer=e.createDiv("charts-container"),this.renderChartsPlaceholder()}createControlsSection(){const e=this.containerEl.createDiv("controls-section").createDiv("dashboard-controls");e.createEl("button",{text:"ðŸ”„ Refresh",cls:"mod-cta"}).onclick=()=>this.manualRefresh();e.createEl("button",{text:"ðŸ“Š Export Data",cls:"mod-muted"}).onclick=()=>this.exportData();e.createEl("button",{text:"âš™ï¸ Settings",cls:"mod-muted"}).onclick=()=>this.openDashboardSettings();const t=e.createDiv("realtime-toggle");t.createSpan({text:"Real-time updates: "});const n=t.createEl("input",{type:"checkbox"});n.checked=this.isRealTimeEnabled,n.onchange=()=>this.toggleRealTimeUpdates(n.checked)}updateDashboard(){return t(this,void 0,void 0,function*(){try{this.currentHealth=yield this.getSystemHealth(),this.renderSystemHealth(this.currentHealth),yield this.updateTransportStatuses(),this.currentMetrics=yield this.getPerformanceMetrics(),this.renderPerformanceMetrics(this.currentMetrics),this.updateTimestamp()}catch(e){console.error("Failed to update dashboard:",e),this.renderError("Failed to update dashboard data")}})}getSystemHealth(){return t(this,void 0,void 0,function*(){this.transportManager;const e={overall:"good",activeTransport:"http",availableTransports:["http","websocket"],lastHealthCheck:new Date,uptime:Date.now()-this.plugin.app.vault.adapter.started||0,totalRequests:Math.floor(1e4*Math.random()),totalErrors:Math.floor(100*Math.random())},t=e.totalErrors/e.totalRequests;return e.overall=t<.01?"excellent":t<.05?"good":t<.1?"fair":t<.2?"poor":"critical",e})}getPerformanceMetrics(){return t(this,void 0,void 0,function*(){return{averageResponseTime:150+100*Math.random(),p95ResponseTime:300+200*Math.random(),requestsPerMinute:100+50*Math.random(),errorRate:.05*Math.random(),transportDistribution:{http:.7,websocket:.25,filesystem:.05},trends:{responseTime:this.generateTrendData(150,20),errorRate:this.generateTrendData(.02,.01),throughput:this.generateTrendData(100,20),timestamps:this.generateTimestamps(20)}}})}generateTrendData(e,t,n=20){const i=[];for(let o=0;o<n;o++)i.push(e+(Math.random()-.5)*t*2);return i}generateTimestamps(e){const t=[],n=new Date;for(let i=e-1;i>=0;i--)t.push(new Date(n.getTime()-6e4*i));return t}updateTransportStatuses(){return t(this,void 0,void 0,function*(){const e=[M.HTTP,M.WEBSOCKET,M.FILESYSTEM];for(const t of e){const e=yield this.getTransportStatus(t);this.updateTransportCard(t,e)}})}getTransportStatus(e){return t(this,void 0,void 0,function*(){const t=Math.random()>.2,n=100+200*Math.random(),i=.9+.1*Math.random(),o={type:e,status:t?i>.95?"healthy":"degraded":"disconnected",lastResponseTime:n,successRate:i,errorCount:Math.floor(10*Math.random()),capabilities:this.getTransportCapabilities(e),connectionState:t?"connected":"disconnected"};return t||(o.lastError="Connection timeout"),o})}getTransportCapabilities(e){switch(e){case M.HTTP:return["RESTful API","Connection Pooling","Retry Logic"];case M.WEBSOCKET:return["Real-time","Bidirectional","Auto-reconnect"];case M.FILESYSTEM:return["Local Storage","File Locking","Offline Support"];default:return[]}}updateTransportCard(e,t){const n=this.statusCards.get(e);if(!n)return;n.className=`transport-status-card transport-${e} status-${t.status}`;n.querySelector(".status-badge").textContent=t.status.charAt(0).toUpperCase()+t.status.slice(1);n.querySelector(".response-time").textContent=`${t.lastResponseTime.toFixed(0)}ms`;n.querySelector(".success-rate").textContent=`${(100*t.successRate).toFixed(1)}%`;n.querySelector(".error-count").textContent=t.errorCount.toString();const i=n.querySelector(".connection-status");i.textContent=t.connectionState.charAt(0).toUpperCase()+t.connectionState.slice(1),i.className=`connection-status state-${t.connectionState}`;n.querySelector(".mod-cta").disabled="failing"===t.status||"disconnected"===t.connectionState}renderSystemHealth(e){this.systemHealthContainer.empty();const t=this.systemHealthContainer.createDiv("health-grid"),n=t.createDiv("health-item overall-health");n.addClass(`health-${e.overall}`),n.createEl("h4",{text:"Overall Health"}),n.createEl("span",{text:e.overall.charAt(0).toUpperCase()+e.overall.slice(1),cls:"health-value"});const i=t.createDiv("health-item");i.createEl("h4",{text:"Active Transport"}),i.createEl("span",{text:e.activeTransport.toUpperCase(),cls:"health-value"});const o=t.createDiv("health-item");o.createEl("h4",{text:"Uptime"}),o.createEl("span",{text:this.formatUptime(e.uptime),cls:"health-value"});const a=t.createDiv("health-item");a.createEl("h4",{text:"Total Requests"}),a.createEl("span",{text:e.totalRequests.toLocaleString(),cls:"health-value"});const s=t.createDiv("health-item");s.createEl("h4",{text:"Error Rate"});const r=e.totalErrors/e.totalRequests*100;s.createEl("span",{text:`${r.toFixed(2)}%`,cls:"health-value"})}renderPerformanceMetrics(e){this.metricsContainer.empty();const t=this.metricsContainer.createDiv("metrics-grid"),n=t.createDiv("metric-item");n.createEl("h4",{text:"Avg Response Time"}),n.createEl("span",{text:`${e.averageResponseTime.toFixed(0)}ms`,cls:"metric-value"});const i=t.createDiv("metric-item");i.createEl("h4",{text:"P95 Response Time"}),i.createEl("span",{text:`${e.p95ResponseTime.toFixed(0)}ms`,cls:"metric-value"});const o=t.createDiv("metric-item");o.createEl("h4",{text:"Requests/Min"}),o.createEl("span",{text:e.requestsPerMinute.toFixed(0),cls:"metric-value"});const a=t.createDiv("metric-item");a.createEl("h4",{text:"Error Rate"}),a.createEl("span",{text:`${(100*e.errorRate).toFixed(2)}%`,cls:"metric-value"});const s=this.metricsContainer.createDiv("transport-distribution");s.createEl("h4",{text:"Transport Usage Distribution"});const r=s.createDiv("distribution-bars");Object.entries(e.transportDistribution).forEach(([e,t])=>{const n=r.createDiv("distribution-bar");n.createSpan({text:e.toUpperCase(),cls:"transport-label"});n.createDiv("bar-container").createDiv("bar-fill").style.width=100*t+"%",n.createSpan({text:`${(100*t).toFixed(1)}%`,cls:"percentage-label"})})}renderSystemHealthPlaceholder(){this.systemHealthContainer.createEl("p",{text:"Loading system health data...",cls:"placeholder-text"})}renderPerformanceMetricsPlaceholder(){this.metricsContainer.createEl("p",{text:"Loading performance metrics...",cls:"placeholder-text"})}renderChartsPlaceholder(){this.chartsContainer.createEl("p",{text:"Performance charts will be displayed here",cls:"placeholder-text"})}renderError(e){this.containerEl.createDiv("dashboard-error").createEl("p",{text:`Error: ${e}`,cls:"error-message"})}formatUptime(e){const t=Math.floor(e/1e3),n=Math.floor(t/60),i=Math.floor(n/60),o=Math.floor(i/24);return o>0?`${o}d ${i%24}h`:i>0?`${i}h ${n%60}m`:`${n}m ${t%60}s`}updateTimestamp(){const e=this.containerEl.querySelector(".timestamp");e&&(e.textContent=(new Date).toLocaleTimeString())}startRealTimeUpdates(){this.updateInterval&&clearInterval(this.updateInterval),this.updateInterval=window.setInterval(()=>{this.updateDashboard()},this.config.updateInterval)}stopRealTimeUpdates(){this.updateInterval&&(clearInterval(this.updateInterval),this.updateInterval=void 0)}setupEventListeners(){this.transportManager&&console.log("Setting up transport event listeners")}removeEventListeners(){this.transportManager&&console.log("Removing transport event listeners")}onTransportSwitched(t){var n;new e.Notice(`Transport switched to ${(null===(n=t.transport)||void 0===n?void 0:n.toUpperCase())||"unknown"}`),this.updateDashboard()}onHealthChanged(e){console.log("Health changed:",e),this.updateDashboard()}onErrorOccurred(e){console.warn("Transport error occurred:",e),this.updateDashboard()}toggleRealTimeUpdates(t){this.isRealTimeEnabled=t,this.config.enableRealTimeUpdates=t,t?(this.startRealTimeUpdates(),new e.Notice("Real-time updates enabled")):(this.stopRealTimeUpdates(),new e.Notice("Real-time updates disabled"));const n=this.containerEl.querySelector(".realtime-indicator");n&&(n.empty(),t?n.createSpan({text:"ðŸŸ¢ Real-time",cls:"realtime-active"}):n.createSpan({text:"âšª Manual refresh",cls:"realtime-inactive"}))}manualRefresh(){return t(this,void 0,void 0,function*(){const t=this.containerEl.querySelector(".mod-cta");t&&(t.disabled=!0,t.textContent="ðŸ”„ Refreshing...");try{yield this.updateDashboard(),new e.Notice("Dashboard refreshed successfully")}catch(t){new e.Notice("Failed to refresh dashboard"),console.error("Manual refresh failed:",t)}finally{t&&(t.disabled=!1,t.textContent="ðŸ”„ Refresh")}})}testTransport(n){return t(this,void 0,void 0,function*(){new e.Notice(`Testing ${n} transport...`);try{const t=yield this.performTransportTest(n);t.success?new e.Notice(`âœ… ${n} transport test successful`):new e.Notice(`âŒ ${n} transport test failed: ${t.error}`);const i=yield this.getTransportStatus(n);this.updateTransportCard(n,i)}catch(t){new e.Notice(`âŒ ${n} transport test failed`),console.error(`Transport test failed for ${n}:`,t)}})}performTransportTest(e){return t(this,void 0,void 0,function*(){yield new Promise(e=>setTimeout(e,1e3));const e=Math.random()>.2;return{success:e,error:e?void 0:"Connection timeout"}})}switchToTransport(n){return t(this,void 0,void 0,function*(){if(confirm(`Switch to ${n} transport as primary?`))try{new e.Notice(`âœ… Switched to ${n} transport`),yield this.updateDashboard()}catch(t){new e.Notice(`âŒ Failed to switch to ${n} transport`),console.error("Transport switch failed:",t)}})}exportData(){const t={timestamp:(new Date).toISOString(),systemHealth:this.currentHealth,performanceMetrics:this.currentMetrics,exportedBy:"VaultPilot Transport Dashboard"},n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),i=URL.createObjectURL(n),o=document.createElement("a");o.href=i,o.download=`vaultpilot-dashboard-${(new Date).toISOString().split("T")[0]}.json`,o.click(),URL.revokeObjectURL(i),new e.Notice("Dashboard data exported successfully")}openDashboardSettings(){new e.Notice("Dashboard settings will open in a future update")}}class j extends e.Component{constructor(e,t,n={showExpertOptions:!1,enableRealTimeValidation:!0,allowImportExport:!0}){super(),this.profiles=[],this.hasUnsavedChanges=!1,this.containerEl=e,this.plugin=t,this.config=n,this.currentConfiguration=this.getDefaultConfiguration(),this.loadProfiles()}onload(){return t(this,void 0,void 0,function*(){this.initializeInterface(),yield this.loadCurrentConfiguration(),this.renderSettings(),this.config.enableRealTimeValidation&&this.startRealTimeValidation()})}onunload(){if(this.validationTimeout&&clearTimeout(this.validationTimeout),this.hasUnsavedChanges){confirm("You have unsaved changes. Would you like to save them?")&&this.saveConfiguration()}}initializeInterface(){this.containerEl.empty(),this.containerEl.addClass("advanced-settings"),this.createHeader(),this.createProfileManagement(),this.createValidationSection(),this.createConfigurationSections(),this.createPreviewSection(),this.createActionButtons()}createHeader(){const e=this.containerEl.createDiv("settings-header");e.createEl("h2",{text:"Advanced Settings"}),e.createEl("p",{text:"Fine-tune VaultPilot configuration for optimal performance",cls:"settings-subtitle"});const t=e.createDiv("expert-toggle").createEl("label");t.createSpan({text:"Expert Mode"});const n=t.createEl("input",{type:"checkbox"});n.checked=this.config.showExpertOptions,n.addEventListener("change",()=>{this.config.showExpertOptions=n.checked,this.updateExpertOptionsVisibility()})}createProfileManagement(){const e=this.containerEl.createDiv("profile-management-section");e.createEl("h3",{text:"Configuration Profiles"});const t=e.createDiv("profile-controls"),n=t.createDiv("profile-selector-container");n.createSpan({text:"Current Profile:",cls:"profile-label"}),this.profileSelector=n.createEl("select",{cls:"profile-selector"}),this.updateProfileSelector(),this.profileSelector.addEventListener("change",()=>{this.loadProfile(this.profileSelector.value)});const i=t.createDiv("profile-actions");i.createEl("button",{text:"Save as New Profile",cls:"mod-muted"}).addEventListener("click",()=>this.showSaveProfileModal());if(i.createEl("button",{text:"Delete Profile",cls:"mod-warning"}).addEventListener("click",()=>this.deleteCurrentProfile()),this.config.allowImportExport){i.createEl("button",{text:"Import",cls:"mod-muted"}).addEventListener("click",()=>this.importConfiguration());i.createEl("button",{text:"Export",cls:"mod-muted"}).addEventListener("click",()=>this.exportConfiguration())}}createValidationSection(){const e=this.containerEl.createDiv("validation-section");e.createEl("h3",{text:"Configuration Status"}),this.validationContainer=e.createDiv("validation-container"),this.renderValidationPlaceholder()}createConfigurationSections(){this.configurationContainer=this.containerEl.createDiv("configuration-sections"),this.createTransportSettings(),this.createPerformanceSettings(),this.createMonitoringSettings(),this.createUISettings(),this.createPrivacySettings()}createTransportSettings(){const t=this.configurationContainer.createDiv("config-section transport-section");t.createEl("h4",{text:"ðŸš€ Transport Configuration"});const n=t.createDiv("settings-container");new e.Setting(n).setName("Primary Transport").setDesc("Choose the preferred transport method").addDropdown(e=>{e.addOption(M.HTTP,"HTTP (Reliable)"),e.addOption(M.WEBSOCKET,"WebSocket (Real-time)"),e.addOption(M.FILESYSTEM,"FileSystem (Offline)"),e.setValue(this.currentConfiguration.transport.primaryTransport),e.onChange(e=>{this.currentConfiguration.transport.primaryTransport=e,this.onConfigurationChange()})}),this.createFallbackChainConfig(n),this.createSelectionCriteriaConfig(n),this.createTimeoutConfig(n),this.createRetryPolicyConfig(n)}createFallbackChainConfig(t){const n=new e.Setting(t).setName("Fallback Chain").setDesc("Configure transport fallback order").controlEl.createDiv("fallback-chain-config"),i=n.createDiv("chain-display");this.updateFallbackChainDisplay(i);const o=n.createDiv("add-transport-buttons");[M.HTTP,M.WEBSOCKET,M.FILESYSTEM].forEach(e=>{o.createEl("button",{text:`Add ${e.toUpperCase()}`,cls:"mod-muted add-transport-btn"}).addEventListener("click",()=>{this.currentConfiguration.transport.fallbackChain.includes(e)||(this.currentConfiguration.transport.fallbackChain.push(e),this.updateFallbackChainDisplay(i),this.onConfigurationChange())})})}updateFallbackChainDisplay(e){e.empty();const t=this.currentConfiguration.transport.fallbackChain;t.forEach((n,i)=>{const o=e.createDiv("chain-item");o.createSpan({text:`${i+1}. ${n.toUpperCase()}`,cls:"chain-label"});const a=o.createDiv("chain-actions");if(i>0){a.createEl("button",{text:"â†‘",cls:"mod-muted chain-btn"}).addEventListener("click",()=>{[t[i],t[i-1]]=[t[i-1],t[i]],this.updateFallbackChainDisplay(e),this.onConfigurationChange()})}if(i<t.length-1){a.createEl("button",{text:"â†“",cls:"mod-muted chain-btn"}).addEventListener("click",()=>{[t[i],t[i+1]]=[t[i+1],t[i]],this.updateFallbackChainDisplay(e),this.onConfigurationChange()})}a.createEl("button",{text:"âœ•",cls:"mod-warning chain-btn"}).addEventListener("click",()=>{t.splice(i,1),this.updateFallbackChainDisplay(e),this.onConfigurationChange()})})}createSelectionCriteriaConfig(t){const n=t.createDiv("selection-criteria-container");n.createEl("h5",{text:"Transport Selection Criteria"});const i=this.currentConfiguration.transport.selectionCriteria;new e.Setting(n).setName("Latency Priority").setDesc("How much to prioritize low latency (0-100%)").addSlider(e=>{e.setLimits(0,100,5),e.setValue(100*i.latencyWeight),e.onChange(e=>{i.latencyWeight=e/100,this.normalizeSelectionCriteria(),this.onConfigurationChange()}),e.setDynamicTooltip()}),new e.Setting(n).setName("Reliability Priority").setDesc("How much to prioritize reliability (0-100%)").addSlider(e=>{e.setLimits(0,100,5),e.setValue(100*i.reliabilityWeight),e.onChange(e=>{i.reliabilityWeight=e/100,this.normalizeSelectionCriteria(),this.onConfigurationChange()}),e.setDynamicTooltip()}),new e.Setting(n).setName("Feature Priority").setDesc("How much to prioritize advanced features (0-100%)").addSlider(e=>{e.setLimits(0,100,5),e.setValue(100*i.capabilityWeight),e.onChange(e=>{i.capabilityWeight=e/100,this.normalizeSelectionCriteria(),this.onConfigurationChange()}),e.setDynamicTooltip()}),new e.Setting(n).setName("Efficiency Priority").setDesc("How much to prioritize resource efficiency (0-100%)").addSlider(e=>{e.setLimits(0,100,5),e.setValue(100*i.costWeight),e.onChange(e=>{i.costWeight=e/100,this.normalizeSelectionCriteria(),this.onConfigurationChange()}),e.setDynamicTooltip()})}createTimeoutConfig(t){if(!this.config.showExpertOptions)return;const n=t.createDiv("timeout-config-container expert-option");n.createEl("h5",{text:"Timeout Configuration"});const i=this.currentConfiguration.transport.timeouts;new e.Setting(n).setName("Connection Timeout").setDesc("Maximum time to wait for initial connection (ms)").addText(e=>{e.setValue(i.connection.toString()),e.onChange(e=>{const t=parseInt(e,10);!isNaN(t)&&t>0&&(i.connection=t,this.onConfigurationChange())})}),new e.Setting(n).setName("Request Timeout").setDesc("Maximum time to wait for request completion (ms)").addText(e=>{e.setValue(i.request.toString()),e.onChange(e=>{const t=parseInt(e,10);!isNaN(t)&&t>0&&(i.request=t,this.onConfigurationChange())})})}createRetryPolicyConfig(t){if(!this.config.showExpertOptions)return;const n=t.createDiv("retry-policy-container expert-option");n.createEl("h5",{text:"Retry Policy"});const i=this.currentConfiguration.transport.retryPolicy;new e.Setting(n).setName("Max Retry Attempts").setDesc("Maximum number of retry attempts for failed requests").addSlider(e=>{e.setLimits(0,10,1),e.setValue(i.maxAttempts),e.onChange(e=>{i.maxAttempts=e,this.onConfigurationChange()}),e.setDynamicTooltip()}),new e.Setting(n).setName("Backoff Multiplier").setDesc("Exponential backoff multiplier for retry delays").addSlider(e=>{e.setLimits(1,5,.1),e.setValue(i.backoffMultiplier),e.onChange(e=>{i.backoffMultiplier=e,this.onConfigurationChange()}),e.setDynamicTooltip()})}createPerformanceSettings(){const t=this.configurationContainer.createDiv("config-section performance-section");t.createEl("h4",{text:"âš¡ Performance Configuration"});const n=t.createDiv("settings-container");new e.Setting(n).setName("Performance Mode").setDesc("Balance between speed, reliability, and resource usage").addDropdown(e=>{e.addOption("performance","Performance (Prioritize Speed)"),e.addOption("balanced","Balanced (Recommended)"),e.addOption("reliability","Reliability (Prioritize Stability)"),e.setValue(this.currentConfiguration.performance.mode),e.onChange(e=>{this.currentConfiguration.performance.mode=e,this.applyPerformanceModePreset(e),this.onConfigurationChange()})}),new e.Setting(n).setName("Connection Pooling").setDesc("Reuse connections to improve performance").addToggle(e=>{e.setValue(this.currentConfiguration.performance.enableConnectionPooling),e.onChange(e=>{this.currentConfiguration.performance.enableConnectionPooling=e,this.onConfigurationChange()})}),new e.Setting(n).setName("Compression").setDesc("Enable data compression to reduce bandwidth usage").addToggle(e=>{e.setValue(this.currentConfiguration.performance.enableCompression),e.onChange(e=>{this.currentConfiguration.performance.enableCompression=e,this.onConfigurationChange()})}),new e.Setting(n).setName("Response Caching").setDesc("Cache responses to improve performance").addToggle(e=>{e.setValue(this.currentConfiguration.performance.enableCaching),e.onChange(e=>{this.currentConfiguration.performance.enableCaching=e,this.onConfigurationChange()})}),this.config.showExpertOptions&&(new e.Setting(n).setName("Max Concurrent Requests").setDesc("Maximum number of simultaneous requests").setClass("expert-option").addSlider(e=>{e.setLimits(1,20,1),e.setValue(this.currentConfiguration.performance.maxConcurrentRequests),e.onChange(e=>{this.currentConfiguration.performance.maxConcurrentRequests=e,this.onConfigurationChange()}),e.setDynamicTooltip()}),new e.Setting(n).setName("Cache Size (MB)").setDesc("Maximum cache size in megabytes").setClass("expert-option").addSlider(e=>{e.setLimits(1,100,5),e.setValue(this.currentConfiguration.performance.cacheSize),e.onChange(e=>{this.currentConfiguration.performance.cacheSize=e,this.onConfigurationChange()}),e.setDynamicTooltip()}))}createMonitoringSettings(){const t=this.configurationContainer.createDiv("config-section monitoring-section");t.createEl("h4",{text:"ðŸ“Š Monitoring Configuration"});const n=t.createDiv("settings-container");new e.Setting(n).setName("Health Checks").setDesc("Monitor transport health automatically").addToggle(e=>{e.setValue(this.currentConfiguration.monitoring.enableHealthChecks),e.onChange(e=>{this.currentConfiguration.monitoring.enableHealthChecks=e,this.onConfigurationChange()})}),new e.Setting(n).setName("Performance Metrics").setDesc("Collect detailed performance metrics").addToggle(e=>{e.setValue(this.currentConfiguration.monitoring.enableMetrics),e.onChange(e=>{this.currentConfiguration.monitoring.enableMetrics=e,this.onConfigurationChange()})}),new e.Setting(n).setName("Predictive Alerts").setDesc("Get early warnings about potential issues").addToggle(e=>{e.setValue(this.currentConfiguration.monitoring.enablePredictiveAlerts),e.onChange(e=>{this.currentConfiguration.monitoring.enablePredictiveAlerts=e,this.onConfigurationChange()})})}createUISettings(){const t=this.configurationContainer.createDiv("config-section ui-section");t.createEl("h4",{text:"ðŸŽ¨ User Interface"});const n=t.createDiv("settings-container");new e.Setting(n).setName("Theme").setDesc("Choose the interface theme").addDropdown(e=>{e.addOption("auto","Auto (Follow Obsidian)"),e.addOption("light","Light"),e.addOption("dark","Dark"),e.setValue(this.currentConfiguration.ui.theme),e.onChange(e=>{this.currentConfiguration.ui.theme=e,this.onConfigurationChange()})}),new e.Setting(n).setName("Animations").setDesc("Enable UI animations and transitions").addToggle(e=>{e.setValue(this.currentConfiguration.ui.enableAnimations),e.onChange(e=>{this.currentConfiguration.ui.enableAnimations=e,this.onConfigurationChange()})}),new e.Setting(n).setName("Advanced Metrics").setDesc("Show detailed metrics in dashboard").addToggle(e=>{e.setValue(this.currentConfiguration.ui.showAdvancedMetrics),e.onChange(e=>{this.currentConfiguration.ui.showAdvancedMetrics=e,this.onConfigurationChange()})}),new e.Setting(n).setName("Dashboard Refresh Rate").setDesc("How often to update the dashboard (seconds)").addSlider(e=>{e.setLimits(1,60,1),e.setValue(this.currentConfiguration.ui.dashboardRefreshRate),e.onChange(e=>{this.currentConfiguration.ui.dashboardRefreshRate=e,this.onConfigurationChange()}),e.setDynamicTooltip()})}createPrivacySettings(){const t=this.configurationContainer.createDiv("config-section privacy-section");t.createEl("h4",{text:"ðŸ”’ Privacy & Data"});const n=t.createDiv("settings-container");new e.Setting(n).setName("Usage Analytics").setDesc("Help improve VaultPilot by sharing anonymous usage data").addToggle(e=>{e.setValue(this.currentConfiguration.privacy.enableAnalytics),e.onChange(e=>{this.currentConfiguration.privacy.enableAnalytics=e,this.onConfigurationChange()})}),new e.Setting(n).setName("Data Retention").setDesc("How long to keep performance and usage data (days)").addSlider(e=>{e.setLimits(1,90,1),e.setValue(this.currentConfiguration.privacy.dataRetentionDays),e.onChange(e=>{this.currentConfiguration.privacy.dataRetentionDays=e,this.onConfigurationChange()}),e.setDynamicTooltip()})}createPreviewSection(){const e=this.containerEl.createDiv("preview-section");e.createEl("h3",{text:"Configuration Preview"}),this.previewContainer=e.createDiv("preview-container"),this.updatePreview()}createActionButtons(){const e=this.containerEl.createDiv("settings-actions");e.createEl("button",{text:"Save Configuration",cls:"mod-cta"}).addEventListener("click",()=>this.saveConfiguration());e.createEl("button",{text:"Reset to Defaults",cls:"mod-warning"}).addEventListener("click",()=>this.resetToDefaults());e.createEl("button",{text:"Test Configuration",cls:"mod-muted"}).addEventListener("click",()=>this.testConfiguration())}renderSettings(){this.onConfigurationChange()}loadCurrentConfiguration(){return t(this,void 0,void 0,function*(){try{this.plugin.settings.advancedConfiguration&&(this.currentConfiguration=Object.assign({},this.plugin.settings.advancedConfiguration))}catch(t){console.error("Failed to load current configuration:",t),new e.Notice("Failed to load configuration, using defaults")}})}getDefaultConfiguration(){return{transport:{primaryTransport:M.HTTP,fallbackChain:[M.HTTP,M.WEBSOCKET],selectionCriteria:{latencyWeight:.3,reliabilityWeight:.3,capabilityWeight:.2,costWeight:.2},timeouts:{connection:5e3,request:3e4,retry:1e3},retryPolicy:{maxAttempts:3,backoffMultiplier:2,maxBackoffTime:1e4}},performance:{mode:"balanced",enableConnectionPooling:!0,maxConcurrentRequests:5,enableCompression:!0,enableCaching:!0,cacheSize:10},monitoring:{enableHealthChecks:!0,healthCheckInterval:3e4,enableMetrics:!0,metricsRetention:7,enablePredictiveAlerts:!0},ui:{theme:"auto",enableAnimations:!0,showAdvancedMetrics:!1,dashboardRefreshRate:2,enableNotifications:!0},privacy:{enableAnalytics:!0,shareUsageData:!1,dataRetentionDays:30}}}onConfigurationChange(){this.hasUnsavedChanges=!0,this.config.enableRealTimeValidation&&this.scheduleValidation(),this.updatePreview()}scheduleValidation(){this.validationTimeout&&clearTimeout(this.validationTimeout),this.validationTimeout=window.setTimeout(()=>{this.validateConfiguration()},500)}validateConfiguration(){return t(this,void 0,void 0,function*(){const e=[],t=[];0===this.currentConfiguration.transport.fallbackChain.length&&e.push({field:"transport.fallbackChain",message:"At least one transport must be configured in the fallback chain",severity:"error",suggestion:"Add at least one transport to the fallback chain"});const n=this.currentConfiguration.transport.selectionCriteria,i=n.latencyWeight+n.reliabilityWeight+n.capabilityWeight+n.costWeight;Math.abs(i-1)>.01&&t.push({field:"transport.selectionCriteria",message:"Selection criteria weights should sum to 100%",impact:"medium",recommendation:"Adjust the weights so they total 100%"});const o=this.currentConfiguration.transport.timeouts;o.connection>=o.request&&t.push({field:"transport.timeouts",message:"Connection timeout should be less than request timeout",impact:"low",recommendation:"Set connection timeout to be less than request timeout"}),this.currentConfiguration.performance.maxConcurrentRequests>10&&t.push({field:"performance.maxConcurrentRequests",message:"High concurrent request limit may impact performance",impact:"medium",recommendation:"Consider reducing to 5-10 for optimal performance"});const a=this.estimateConfigurationImpact(),s={isValid:0===e.length,errors:e,warnings:t,estimatedImpact:a};return this.validationResult=s,this.renderValidationResult(s),s})}estimateConfigurationImpact(){let e=0,t=0,n=0;const i=this.currentConfiguration;switch(i.performance.mode){case"performance":e+=20,t-=5,n+=15;break;case"reliability":e-=5,t+=20,n+=5}return i.performance.enableConnectionPooling&&(e+=15,n+=10),i.performance.enableCompression&&(e+=5,n+=5),i.performance.enableCaching&&(e+=10,n+=i.performance.cacheSize),{performanceChange:Math.max(-50,Math.min(50,e)),reliabilityChange:Math.max(-50,Math.min(50,t)),resourceUsage:Math.max(0,Math.min(100,n))}}renderValidationResult(e){if(this.validationContainer.empty(),e.isValid&&0===e.warnings.length){this.validationContainer.createDiv("validation-success").createSpan({text:"âœ… Configuration is valid",cls:"validation-message"})}else e.errors.forEach(e=>{const t=this.validationContainer.createDiv("validation-error");t.createSpan({text:"âŒ",cls:"validation-icon"}),t.createSpan({text:e.message,cls:"validation-message"}),e.suggestion&&t.createSpan({text:e.suggestion,cls:"validation-suggestion"})}),e.warnings.forEach(e=>{const t=this.validationContainer.createDiv("validation-warning");t.createSpan({text:"âš ï¸",cls:"validation-icon"}),t.createSpan({text:e.message,cls:"validation-message"}),e.recommendation&&t.createSpan({text:e.recommendation,cls:"validation-suggestion"})});const t=e.estimatedImpact,n=this.validationContainer.createDiv("validation-impact");n.createEl("h5",{text:"Estimated Impact:"});const i=n.createDiv("impact-grid"),o=i.createDiv("impact-item");o.createSpan({text:"Performance:",cls:"impact-label"}),o.createSpan({text:`${t.performanceChange>0?"+":""}${t.performanceChange}%`,cls:"impact-value "+(t.performanceChange>0?"positive":t.performanceChange<0?"negative":"neutral")});const a=i.createDiv("impact-item");a.createSpan({text:"Reliability:",cls:"impact-label"}),a.createSpan({text:`${t.reliabilityChange>0?"+":""}${t.reliabilityChange}%`,cls:"impact-value "+(t.reliabilityChange>0?"positive":t.reliabilityChange<0?"negative":"neutral")});const s=i.createDiv("impact-item");s.createSpan({text:"Resource Usage:",cls:"impact-label"}),s.createSpan({text:`${t.resourceUsage}%`,cls:"impact-value "+(t.resourceUsage>70?"high":t.resourceUsage>30?"medium":"low")})}renderValidationPlaceholder(){this.validationContainer.createEl("p",{text:"Configuration validation will appear here...",cls:"validation-placeholder"})}updatePreview(){this.previewContainer.empty();this.previewContainer.createEl("pre",{cls:"config-preview"}).textContent=JSON.stringify(this.currentConfiguration,null,2)}normalizeSelectionCriteria(){const e=this.currentConfiguration.transport.selectionCriteria,t=e.latencyWeight+e.reliabilityWeight+e.capabilityWeight+e.costWeight;t>0&&(e.latencyWeight/=t,e.reliabilityWeight/=t,e.capabilityWeight/=t,e.costWeight/=t)}applyPerformanceModePreset(e){const t=this.currentConfiguration.performance;switch(e){case"performance":t.enableConnectionPooling=!0,t.maxConcurrentRequests=10,t.enableCompression=!1,t.enableCaching=!0;break;case"reliability":t.enableConnectionPooling=!0,t.maxConcurrentRequests=3,t.enableCompression=!0,t.enableCaching=!1;break;default:t.enableConnectionPooling=!0,t.maxConcurrentRequests=5,t.enableCompression=!0,t.enableCaching=!0}}updateExpertOptionsVisibility(){this.containerEl.querySelectorAll(".expert-option").forEach(e=>{this.config.showExpertOptions?e.removeClass("hidden"):e.addClass("hidden")})}updateProfileSelector(){this.profileSelector.empty();this.profileSelector.createEl("option",{value:"default"}).textContent="Default Configuration",this.profiles.forEach(e=>{this.profileSelector.createEl("option",{value:e.id}).textContent=e.name})}loadProfiles(){try{const e=this.plugin.settings.configurationProfiles||[];this.profiles=e.map(e=>Object.assign(Object.assign({},e),{created:new Date(e.created),lastModified:new Date(e.lastModified)}))}catch(e){console.error("Failed to load configuration profiles:",e),this.profiles=[]}}loadProfile(e){if("default"===e)this.currentConfiguration=this.getDefaultConfiguration();else{const t=this.profiles.find(t=>t.id===e);t&&(this.currentConfiguration=Object.assign({},t.config))}this.renderSettings(),this.onConfigurationChange()}showSaveProfileModal(){const e=prompt("Enter profile name:");if(!e)return;const t=prompt("Enter profile description (optional):")||"";this.saveAsProfile(e,t)}saveAsProfile(t,n){const i={id:`profile-${Date.now()}`,name:t,description:n,config:Object.assign({},this.currentConfiguration),created:new Date,lastModified:new Date,isDefault:!1};this.profiles.push(i),this.updateProfileSelector(),this.saveProfiles(),new e.Notice(`Profile "${t}" saved successfully`)}deleteCurrentProfile(){const t=this.profileSelector.value;if("default"===t)return void new e.Notice("Cannot delete the default profile");const n=this.profiles.find(e=>e.id===t);if(!n)return;confirm(`Delete profile "${n.name}"?`)&&(this.profiles=this.profiles.filter(e=>e.id!==t),this.updateProfileSelector(),this.saveProfiles(),this.loadProfile("default"),new e.Notice(`Profile "${n.name}" deleted`))}saveConfiguration(){return t(this,void 0,void 0,function*(){try{if(!(yield this.validateConfiguration()).isValid){if(!confirm("Configuration has errors. Save anyway?"))return}this.plugin.settings.advancedConfiguration=Object.assign({},this.currentConfiguration),yield this.plugin.saveSettings(),this.hasUnsavedChanges=!1,new e.Notice("âœ… Configuration saved successfully")}catch(t){console.error("Failed to save configuration:",t),new e.Notice("âŒ Failed to save configuration")}})}resetToDefaults(){confirm("Reset all settings to default values? This cannot be undone.")&&(this.currentConfiguration=this.getDefaultConfiguration(),this.renderSettings(),this.onConfigurationChange(),new e.Notice("Configuration reset to defaults"))}testConfiguration(){return t(this,void 0,void 0,function*(){new e.Notice("Testing configuration...");try{yield new Promise(e=>setTimeout(e,2e3));const t={success:Math.random()>.2,latency:200*Math.random()+50,errors:Math.random()>.8?["Connection timeout"]:[]};t.success?new e.Notice(`âœ… Configuration test passed (${t.latency.toFixed(0)}ms average)`):new e.Notice(`âŒ Configuration test failed: ${t.errors.join(", ")}`)}catch(t){console.error("Configuration test failed:",t),new e.Notice("âŒ Configuration test failed")}})}exportConfiguration(){const t={version:"1.0",timestamp:(new Date).toISOString(),configuration:this.currentConfiguration,profiles:this.profiles},n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),i=URL.createObjectURL(n),o=document.createElement("a");o.href=i,o.download=`vaultpilot-config-${(new Date).toISOString().split("T")[0]}.json`,o.click(),URL.revokeObjectURL(i),new e.Notice("Configuration exported successfully")}importConfiguration(){const t=document.createElement("input");t.type="file",t.accept=".json",t.onchange=t=>{var n;const i=null===(n=t.target.files)||void 0===n?void 0:n[0];if(!i)return;const o=new FileReader;o.onload=t=>{var n;try{const i=JSON.parse(null===(n=t.target)||void 0===n?void 0:n.result);i.configuration&&(this.currentConfiguration=i.configuration,this.renderSettings(),this.onConfigurationChange(),new e.Notice("Configuration imported successfully")),i.profiles&&(this.profiles=i.profiles.map(e=>Object.assign(Object.assign({},e),{created:new Date(e.created),lastModified:new Date(e.lastModified)})),this.updateProfileSelector(),this.saveProfiles())}catch(t){console.error("Failed to import configuration:",t),new e.Notice("âŒ Failed to import configuration: Invalid file format")}},o.readAsText(i)},t.click()}saveProfiles(){try{this.plugin.settings.configurationProfiles=this.profiles,this.plugin.saveSettings()}catch(e){console.error("Failed to save profiles:",e)}}startRealTimeValidation(){console.log("Real-time validation enabled")}}!function(e){e.TRANSPORT_OPTIMIZATION="transport_optimization",e.PERFORMANCE_TUNING="performance_tuning",e.ERROR_REDUCTION="error_reduction",e.COST_OPTIMIZATION="cost_optimization",e.FEATURE_ADOPTION="feature_adoption",e.CONFIGURATION_IMPROVEMENT="configuration_improvement",e.PROACTIVE_MAINTENANCE="proactive_maintenance"}(R||(R={}));class K{constructor(){this.performanceHistory=[],this.behaviorPatterns=new Map,this.appliedRecommendations=new Map,this.insightCache=new Map,this.predictionModels=new Map,this.ANALYSIS_WINDOW=6048e5,this.MIN_DATA_POINTS=10,this.CONFIDENCE_THRESHOLD=.7,this.initializePredictionModels()}generateRecommendations(e){return t(this,void 0,void 0,function*(){const t=[];try{const n=yield this.analyzeOptimizationOpportunities(e),i=yield this.generateTransportRecommendations(e,n);t.push(...i);const o=yield this.generatePerformanceRecommendations(e,n);t.push(...o);const a=yield this.generateConfigurationRecommendations(e);t.push(...a);const s=yield this.generateMaintenanceRecommendations(e);t.push(...s);const r=this.prioritizeRecommendations(t);return r.forEach(e=>{this.appliedRecommendations.set(e.id,e)}),r}catch(e){return console.error("Failed to generate recommendations:",e),[]}})}analyzeOptimizationOpportunities(e){return t(this,void 0,void 0,function*(){const t=[];e.performanceMetrics.errorRate>.05&&t.push({area:"transport",impact:"high",effort:"medium",description:"High error rate detected, transport optimization recommended",metrics:{currentValue:e.performanceMetrics.errorRate,potentialValue:.01,improvement:(e.performanceMetrics.errorRate-.01)/e.performanceMetrics.errorRate}}),e.performanceMetrics.averageLatency>500&&t.push({area:"configuration",impact:"medium",effort:"low",description:"High latency detected, configuration tuning recommended",metrics:{currentValue:e.performanceMetrics.averageLatency,potentialValue:200,improvement:(e.performanceMetrics.averageLatency-200)/e.performanceMetrics.averageLatency}});const n=Object.values(e.performanceMetrics.transportUsage),i=Math.max(...n),o=Math.min(...n);return i/(o||.001)>10&&t.push({area:"usage",impact:"medium",effort:"low",description:"Unbalanced transport usage detected, load balancing recommended",metrics:{currentValue:i/(o||.001),potentialValue:3,improvement:.3}}),t})}generateTransportRecommendations(e,n){return t(this,void 0,void 0,function*(){const t=[],n=yield this.determineOptimalTransport(e);return n!==e.currentTransport&&t.push({id:`transport-switch-${Date.now()}`,type:R.TRANSPORT_OPTIMIZATION,priority:"high",title:`Switch to ${n} Transport`,description:`Based on your usage patterns and environment, ${n} transport would provide better performance.`,rationale:this.generateTransportSwitchRationale(e,n),expectedImpact:{performanceImprovement:25,errorReduction:40,reliabilityImprovement:30,confidenceScore:.85},implementation:{difficulty:"easy",estimatedTime:"1 minute",steps:[{id:"switch-transport",title:"Switch Primary Transport",description:`Change primary transport to ${n}`,action:"automatic"}],reversible:!0,riskLevel:"low"},category:"Transport",tags:["performance","optimization","transport"],created:new Date}),e.performanceMetrics.errorRate>.02&&t.push({id:`fallback-optimization-${Date.now()}`,type:R.TRANSPORT_OPTIMIZATION,priority:"medium",title:"Optimize Transport Fallback Chain",description:"Configure intelligent fallback to reduce error impact.",rationale:"Current error rate suggests fallback mechanisms could be improved.",expectedImpact:{performanceImprovement:15,errorReduction:60,reliabilityImprovement:45,confidenceScore:.75},implementation:{difficulty:"medium",estimatedTime:"5 minutes",steps:[{id:"configure-fallback",title:"Configure Fallback Chain",description:"Set up intelligent transport fallback",action:"manual"}],reversible:!0,riskLevel:"low"},category:"Reliability",tags:["fallback","reliability","error-reduction"],created:new Date}),t})}generatePerformanceRecommendations(e,n){return t(this,void 0,void 0,function*(){const t=[];return e.performanceMetrics.averageLatency>1e3&&t.push({id:`timeout-optimization-${Date.now()}`,type:R.PERFORMANCE_TUNING,priority:"medium",title:"Optimize Request Timeouts",description:"Adjust timeout settings to reduce wait times for failed requests.",rationale:"High average latency indicates timeout settings may need adjustment.",expectedImpact:{performanceImprovement:20,errorReduction:10,reliabilityImprovement:15,confidenceScore:.8},implementation:{difficulty:"easy",estimatedTime:"2 minutes",steps:[{id:"adjust-timeouts",title:"Adjust Timeout Settings",description:"Optimize request timeout values",action:"manual"}],reversible:!0,riskLevel:"low"},category:"Performance",tags:["timeout","latency","performance"],created:new Date}),e.performanceMetrics.throughput<100&&t.push({id:`connection-pooling-${Date.now()}`,type:R.PERFORMANCE_TUNING,priority:"high",title:"Enable Connection Pooling",description:"Enable connection pooling to improve throughput and reduce connection overhead.",rationale:"Low throughput suggests connection pooling could provide significant benefits.",expectedImpact:{performanceImprovement:40,errorReduction:20,reliabilityImprovement:25,confidenceScore:.9},implementation:{difficulty:"medium",estimatedTime:"3 minutes",steps:[{id:"enable-pooling",title:"Enable Connection Pooling",description:"Configure HTTP connection pooling",action:"automatic"}],reversible:!0,riskLevel:"low"},category:"Performance",tags:["connection-pooling","throughput","performance"],created:new Date}),t})}generateConfigurationRecommendations(e){return t(this,void 0,void 0,function*(){const t=[];return e.performanceMetrics.errorRate>.03&&t.push({id:`retry-config-${Date.now()}`,type:R.CONFIGURATION_IMPROVEMENT,priority:"medium",title:"Optimize Retry Configuration",description:"Fine-tune retry attempts and backoff strategy to handle transient errors better.",rationale:"Error rate suggests retry configuration could be optimized.",expectedImpact:{performanceImprovement:10,errorReduction:35,reliabilityImprovement:40,confidenceScore:.75},implementation:{difficulty:"medium",estimatedTime:"5 minutes",steps:[{id:"configure-retry",title:"Configure Retry Strategy",description:"Set up exponential backoff retry strategy",action:"manual"}],reversible:!0,riskLevel:"low"},category:"Configuration",tags:["retry","error-handling","reliability"],created:new Date}),t})}generateMaintenanceRecommendations(e){return t(this,void 0,void 0,function*(){const e=[],t={id:`health-monitoring-${Date.now()}`,type:R.PROACTIVE_MAINTENANCE,priority:"low",title:"Enhance Health Monitoring",description:"Set up comprehensive health monitoring to detect issues early.",rationale:"Proactive monitoring can prevent issues before they impact users.",expectedImpact:{performanceImprovement:5,errorReduction:25,reliabilityImprovement:35,confidenceScore:.8},implementation:{difficulty:"easy",estimatedTime:"2 minutes",steps:[{id:"enable-monitoring",title:"Enable Enhanced Monitoring",description:"Turn on comprehensive health monitoring",action:"automatic"}],reversible:!0,riskLevel:"low"},category:"Maintenance",tags:["monitoring","proactive","health"],created:new Date};return e.push(t),e})}determineOptimalTransport(e){return t(this,void 0,void 0,function*(){const t=e.environmentContext,n=e.userBehavior,i={};for(const o of e.availableTransports){let e=0;switch(o){case M.WEBSOCKET:e+="excellent"===t.connectivity?40:20,e+=t.latency<50?30:10,e+="high"===n.performanceSensitivity?20:10,e+="high"===n.usageFrequency?10:0;break;case M.HTTP:e+=30,e+="poor"===t.connectivity?20:10,e+="low"===n.errorTolerance?20:10,e+=15;break;case M.FILESYSTEM:e+="poor"===t.connectivity?40:5,e+="low"===n.usageFrequency?20:0,e+=10}i[o]=e}return Object.entries(i).reduce((e,t)=>i[e[0]]>i[t[0]]?e:t)[0]})}generateTransportSwitchRationale(e,t){const n=e.currentTransport,i=e.environmentContext;let o=`Switching from ${n} to ${t} is recommended because: `;switch(t){case M.WEBSOCKET:o+="WebSocket provides real-time communication with lower latency, ","excellent"===i.connectivity?o+="and your excellent connectivity supports stable WebSocket connections.":o+="which would benefit your usage patterns.";break;case M.HTTP:o+="HTTP offers superior reliability and error handling, ",e.performanceMetrics.errorRate>.05?o+="which is especially important given your current error rate.":o+="providing a more stable foundation for your usage.";break;case M.FILESYSTEM:o+="FileSystem transport provides offline capability and local storage benefits, ","poor"===i.connectivity?o+="which is ideal for your current connectivity situation.":o+="offering better performance for your usage patterns."}return o}prioritizeRecommendations(e){return e.sort((e,t)=>{const n={critical:4,high:3,medium:2,low:1},i=n[t.priority]-n[e.priority];if(0!==i)return i;const o=e.expectedImpact.performanceImprovement*e.expectedImpact.confidenceScore;return t.expectedImpact.performanceImprovement*t.expectedImpact.confidenceScore-o})}generateInsights(e){return t(this,void 0,void 0,function*(){var t,n,i;const o=this.generateInsightCacheKey(e);if(this.insightCache.has(o)){const e=this.insightCache.get(o);if(Date.now()-(null===(i=null===(n=null===(t=e[0])||void 0===t?void 0:t.insights[0])||void 0===n?void 0:n.data)||void 0===i?void 0:i.timestamp)<6e5)return e}const a=[],s=yield this.generatePerformanceInsights(e);a.push({name:"Performance",description:"Current performance analysis and trends",priority:1,insights:s});const r=yield this.generateUsageInsights(e);a.push({name:"Usage Patterns",description:"Analysis of your usage patterns and behavior",priority:2,insights:r});const l=yield this.generateTransportInsights(e);return a.push({name:"Transport Analysis",description:"Transport performance and optimization opportunities",priority:3,insights:l}),this.insightCache.set(o,a),a})}generatePerformanceInsights(e){return t(this,void 0,void 0,function*(){const t=[],n=e.performanceMetrics;return n.averageLatency<200?t.push({id:"low-latency",title:"Excellent Response Time",description:`Your average response time of ${n.averageLatency}ms is excellent.`,type:"positive",confidence:.9,data:{latency:n.averageLatency,timestamp:Date.now()},actionable:!1,related:[]}):n.averageLatency>500&&t.push({id:"high-latency",title:"High Response Time Detected",description:`Your average response time of ${n.averageLatency}ms could be improved.`,type:"warning",confidence:.85,data:{latency:n.averageLatency,timestamp:Date.now()},actionable:!0,related:[]}),n.errorRate<.01?t.push({id:"low-error-rate",title:"Low Error Rate",description:`Your error rate of ${(100*n.errorRate).toFixed(2)}% is very good.`,type:"positive",confidence:.9,data:{errorRate:n.errorRate,timestamp:Date.now()},actionable:!1,related:[]}):n.errorRate>.05&&t.push({id:"high-error-rate",title:"High Error Rate",description:`Your error rate of ${(100*n.errorRate).toFixed(2)}% needs attention.`,type:"critical",confidence:.95,data:{errorRate:n.errorRate,timestamp:Date.now()},actionable:!0,related:[]}),t})}generateUsageInsights(e){return t(this,void 0,void 0,function*(){const t=[],n=e.userBehavior;return t.push({id:"usage-frequency",title:"Usage Pattern Analysis",description:`Your usage frequency is ${n.usageFrequency}. ${this.getUsageFrequencyAdvice(n.usageFrequency)}`,type:"neutral",confidence:.8,data:{frequency:n.usageFrequency,timestamp:Date.now()},actionable:"medium"!==n.usageFrequency,related:[]}),n.peakUsageHours.length>0&&t.push({id:"peak-usage",title:"Peak Usage Hours",description:`Your peak usage occurs during hours: ${n.peakUsageHours.join(", ")}. Consider optimizing for these times.`,type:"neutral",confidence:.7,data:{peakHours:n.peakUsageHours,timestamp:Date.now()},actionable:!0,related:[]}),t})}generateTransportInsights(e){return t(this,void 0,void 0,function*(){const t=[],n=e.performanceMetrics.transportUsage,i=Object.values(n).reduce((e,t)=>e+t,0),o=Object.entries(n).reduce((e,t)=>n[e[0]]>n[t[0]]?e:t);if(i>0){const e=n[o[0]]/i*100;e>80?t.push({id:"transport-concentration",title:"Heavy Reliance on Single Transport",description:`You're using ${o[0]} for ${e.toFixed(1)}% of requests. Consider load balancing.`,type:"warning",confidence:.8,data:{distribution:n,dominant:o[0],timestamp:Date.now()},actionable:!0,related:[]}):t.push({id:"balanced-transport-usage",title:"Good Transport Distribution",description:"Your transport usage is well balanced across available options.",type:"positive",confidence:.75,data:{distribution:n,timestamp:Date.now()},actionable:!1,related:[]})}return t})}generatePredictiveAlerts(e){return t(this,void 0,void 0,function*(){const t=[],n=this.analyzePerformanceTrend(e);return n.declining&&n.severity>.7&&t.push({id:`perf-degradation-${Date.now()}`,type:"performance_degradation",severity:"warning",probability:n.severity,timeframe:"24h",description:"Performance degradation trend detected. Response times may increase significantly.",preventiveActions:[],triggers:["increasing_latency","error_rate_rise"]}),e.performanceMetrics.errorRate>.1&&t.push({id:`transport-failure-${Date.now()}`,type:"transport_failure",severity:"error",probability:Math.min(2*e.performanceMetrics.errorRate,.9),timeframe:"1h",description:`${e.currentTransport} transport showing high error rate. Failure risk is elevated.`,preventiveActions:[],triggers:["high_error_rate","connection_instability"]}),t})}analyzePerformanceTrend(e){const t=e.performanceMetrics.averageLatency,n=e.performanceMetrics.errorRate,i=(Math.min(t/1e3,1)+Math.min(10*n,1))/2;return{declining:i>.5,severity:i}}getUsageFrequencyAdvice(e){switch(e){case"low":return"Consider using FileSystem transport for better offline capability.";case"high":return"WebSocket transport might provide better performance for your intensive usage.";default:return"Your current configuration should work well for your usage patterns."}}generateInsightCacheKey(e){return`insights-${e.sessionId}-${e.currentTransport}-${Math.floor(Date.now()/6e5)}`}initializePredictionModels(){this.predictionModels.set("performance_trend",{type:"linear_regression",features:["latency","error_rate","throughput"],trained:!1}),this.predictionModels.set("failure_prediction",{type:"classification",features:["error_rate","latency_variance","connection_failures"],trained:!1})}trackRecommendationEffectiveness(e,t){const n=this.appliedRecommendations.get(e);n&&(n.effectiveness=t,n.appliedAt=new Date,console.log(`Recommendation ${e} effectiveness: ${t}`))}getRecommendationStats(){const e=Array.from(this.appliedRecommendations.values()).filter(e=>e.appliedAt),t=e.filter(e=>void 0!==e.effectiveness),n={};return e.forEach(e=>{n[e.type]=(n[e.type]||0)+1}),{total:this.appliedRecommendations.size,applied:e.length,averageEffectiveness:t.length>0?t.reduce((e,t)=>e+(t.effectiveness||0),0)/t.length:0,byType:n}}}class J extends e.Component{constructor(e,t={}){super(),this.plugin=e,this.config=Object.assign({enableOnboarding:!0,enableDashboard:!0,enableRecommendations:!0,enableAdvancedSettings:!0,autoShowOnboarding:!e.settings.onboardingComplete},t),this.recommendationEngine=new K}onload(){return t(this,void 0,void 0,function*(){console.log("Phase 3 Integration loading..."),this.registerCommands(),yield this.setupComponents(),this.config.autoShowOnboarding&&this.showOnboarding(),this.config.enableRecommendations&&this.startRecommendationEngine(),console.log("Phase 3 Integration loaded successfully")})}onunload(){console.log("Phase 3 Integration unloading..."),this.cleanup()}registerCommands(){this.config.enableOnboarding&&this.plugin.addCommand({id:"show-onboarding",name:"Show Setup Wizard",callback:()=>this.showOnboarding()}),this.config.enableDashboard&&this.plugin.addCommand({id:"show-dashboard",name:"Show Transport Dashboard",callback:()=>this.showDashboard()}),this.config.enableAdvancedSettings&&this.plugin.addCommand({id:"show-advanced-settings",name:"Show Advanced Settings",callback:()=>this.showAdvancedSettings()}),this.config.enableRecommendations&&this.plugin.addCommand({id:"show-recommendations",name:"Show AI Recommendations",callback:()=>this.showRecommendations()}),this.plugin.addCommand({id:"quick-optimize",name:"Quick Performance Optimization",callback:()=>this.quickOptimize()})}setupComponents(){return t(this,void 0,void 0,function*(){this.loadPhase3Styles(),this.config.enableDashboard&&this.setupDashboard(),this.config.enableAdvancedSettings&&this.setupAdvancedSettings()})}loadPhase3Styles(){if(document.getElementById("vaultpilot-phase3-styles"))return;const e=document.createElement("style");e.id="vaultpilot-phase3-styles",e.textContent="\n/* VaultPilot Phase 3 Component Styles */\n\n/* Onboarding Wizard Styles */\n.vaultpilot-onboarding-modal {\n  width: 600px;\n  max-width: 90vw;\n}\n\n.vaultpilot-onboarding {\n  max-height: 80vh;\n  overflow-y: auto;\n}\n\n.onboarding-header {\n  text-align: center;\n  margin-bottom: 20px;\n  padding-bottom: 15px;\n  border-bottom: 1px solid var(--background-modifier-border);\n}\n\n.onboarding-subtitle {\n  color: var(--text-muted);\n  margin-top: 5px;\n}\n\n.onboarding-progress {\n  margin-bottom: 25px;\n}\n\n.progress-steps {\n  display: flex;\n  justify-content: center;\n  gap: 15px;\n  margin-bottom: 15px;\n}\n\n.progress-step {\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: bold;\n  font-size: 14px;\n  transition: all 0.3s ease;\n}\n\n.progress-step.active {\n  background-color: var(--interactive-accent);\n  color: var(--text-on-accent);\n}\n\n.progress-step.completed {\n  background-color: var(--color-green);\n  color: white;\n}\n\n.progress-step.inactive {\n  background-color: var(--background-modifier-border);\n  color: var(--text-muted);\n}\n\n.progress-bar {\n  height: 4px;\n  background-color: var(--background-modifier-border);\n  border-radius: 2px;\n  overflow: hidden;\n}\n\n.progress-fill {\n  height: 100%;\n  background-color: var(--interactive-accent);\n  transition: width 0.3s ease;\n}\n\n.onboarding-step-container {\n  min-height: 300px;\n  margin-bottom: 20px;\n}\n\n.onboarding-step {\n  padding: 20px 0;\n}\n\n.onboarding-navigation {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 10px;\n  padding-top: 20px;\n  border-top: 1px solid var(--background-modifier-border);\n}\n\n/* Transport Dashboard Styles */\n.transport-dashboard {\n  padding: 20px;\n  max-width: 100%;\n  overflow-x: auto;\n}\n\n.dashboard-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 25px;\n  padding-bottom: 15px;\n  border-bottom: 1px solid var(--background-modifier-border);\n}\n\n.status-card {\n  background: var(--background-secondary);\n  border: 1px solid var(--background-modifier-border);\n  border-radius: 8px;\n  padding: 16px;\n  margin: 8px 0;\n}\n\n.status-card.healthy {\n  border-left: 4px solid var(--color-green);\n}\n\n.status-card.warning {\n  border-left: 4px solid var(--color-orange);\n}\n\n.status-card.error {\n  border-left: 4px solid var(--color-red);\n}\n\n.metrics-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 15px;\n  margin: 20px 0;\n}\n\n.metric-card {\n  background: var(--background-primary);\n  border: 1px solid var(--background-modifier-border);\n  border-radius: 6px;\n  padding: 15px;\n  text-align: center;\n}\n\n.metric-value {\n  font-size: 24px;\n  font-weight: bold;\n  color: var(--interactive-accent);\n}\n\n.metric-label {\n  font-size: 12px;\n  color: var(--text-muted);\n  margin-top: 5px;\n}\n\n/* Advanced Settings Styles */\n.advanced-settings {\n  padding: 20px;\n}\n\n.settings-section {\n  margin-bottom: 30px;\n  padding-bottom: 20px;\n  border-bottom: 1px solid var(--background-modifier-border);\n}\n\n.settings-section:last-child {\n  border-bottom: none;\n}\n\n.section-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 15px;\n}\n\n.section-title {\n  font-size: 16px;\n  font-weight: 600;\n  color: var(--text-normal);\n}\n\n.profile-manager {\n  background: var(--background-secondary);\n  border-radius: 8px;\n  padding: 15px;\n  margin: 15px 0;\n}\n\n.profiles-list {\n  margin: 15px 0;\n}\n\n.profile-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 8px 12px;\n  margin: 5px 0;\n  background: var(--background-primary);\n  border: 1px solid var(--background-modifier-border);\n  border-radius: 4px;\n}\n\n.profile-item.active {\n  border-color: var(--interactive-accent);\n  background: var(--background-modifier-hover);\n}\n\n.config-group {\n  background: var(--background-secondary);\n  border-radius: 6px;\n  padding: 15px;\n  margin: 10px 0;\n}\n\n.config-row {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 10px 0;\n}\n\n.validation-status {\n  font-size: 12px;\n  padding: 4px 8px;\n  border-radius: 4px;\n  margin-left: 10px;\n}\n\n.validation-status.valid {\n  background: var(--background-modifier-success);\n  color: var(--color-green);\n}\n\n.validation-status.invalid {\n  background: var(--background-modifier-error);\n  color: var(--color-red);\n}\n\n/* Modal Styles */\n.vaultpilot-phase3-modal {\n  width: 700px;\n  max-width: 95vw;\n}\n\n.modal-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n  padding-bottom: 15px;\n  border-bottom: 1px solid var(--background-modifier-border);\n}\n\n.modal-actions {\n  display: flex;\n  gap: 10px;\n  margin-top: 20px;\n  padding-top: 15px;\n  border-top: 1px solid var(--background-modifier-border);\n}\n\n/* Recommendation Engine Styles */\n.recommendations-container {\n  margin: 20px 0;\n}\n\n.recommendation-card {\n  background: var(--background-secondary);\n  border: 1px solid var(--background-modifier-border);\n  border-radius: 8px;\n  padding: 16px;\n  margin: 12px 0;\n}\n\n.recommendation-card.high-priority {\n  border-left: 4px solid var(--color-red);\n}\n\n.recommendation-card.medium-priority {\n  border-left: 4px solid var(--color-orange);\n}\n\n.recommendation-card.low-priority {\n  border-left: 4px solid var(--color-green);\n}\n\n.recommendation-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 10px;\n}\n\n.recommendation-title {\n  font-weight: 600;\n  color: var(--text-normal);\n}\n\n.recommendation-actions {\n  display: flex;\n  gap: 8px;\n  margin-top: 15px;\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n  .vaultpilot-onboarding-modal,\n  .vaultpilot-phase3-modal {\n    width: 95vw;\n  }\n  \n  .metrics-grid {\n    grid-template-columns: 1fr;\n  }\n  \n  .dashboard-header,\n  .modal-header {\n    flex-direction: column;\n    gap: 10px;\n    text-align: center;\n  }\n  \n  .config-row {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 10px;\n  }\n}\n",document.head.appendChild(e)}setupDashboard(){console.log("Dashboard setup ready")}setupAdvancedSettings(){console.log("Advanced settings setup ready")}showOnboarding(){this.config.enableOnboarding?(this.onboardingWizard&&this.onboardingWizard.close(),this.onboardingWizard=new U(this.plugin.app,this.plugin),this.onboardingWizard.open()):new e.Notice("Onboarding is disabled")}showDashboard(){if(!this.config.enableDashboard)return void new e.Notice("Dashboard is disabled");new Q(this.plugin).open()}showAdvancedSettings(){if(!this.config.enableAdvancedSettings)return void new e.Notice("Advanced settings are disabled");new Y(this.plugin).open()}showRecommendations(){return t(this,void 0,void 0,function*(){if(this.config.enableRecommendations){new e.Notice("Generating AI recommendations...");try{const t=yield this.buildRecommendationContext(),n=yield this.recommendationEngine.generateRecommendations(t);if(n.length>0){new G(this.plugin,n,this.recommendationEngine).open()}else new e.Notice("No recommendations available at this time")}catch(t){console.error("Failed to generate recommendations:",t),new e.Notice("Failed to generate recommendations")}}else new e.Notice("Recommendations are disabled")})}quickOptimize(){return t(this,void 0,void 0,function*(){new e.Notice("Running quick optimization...");try{const t=yield this.buildRecommendationContext(),n=(yield this.recommendationEngine.generateRecommendations(t)).filter(e=>"easy"===e.implementation.difficulty&&e.implementation.steps.some(e=>"automatic"===e.action));if(n.length>0){const t=n[0];yield this.applyRecommendation(t),new e.Notice(`âœ… Applied: ${t.title}`)}else new e.Notice('No quick optimizations available. Use "Show AI Recommendations" for manual optimizations.')}catch(t){console.error("Quick optimization failed:",t),new e.Notice("Quick optimization failed")}})}buildRecommendationContext(){return t(this,void 0,void 0,function*(){return{sessionId:`session-${Date.now()}`,timestamp:new Date,currentTransport:M.HTTP,availableTransports:[M.HTTP,M.WEBSOCKET,M.FILESYSTEM],performanceMetrics:{averageLatency:150+100*Math.random(),errorRate:.05*Math.random(),throughput:100+50*Math.random(),reliability:.95+.05*Math.random(),transportUsage:{[M.HTTP]:.7,[M.WEBSOCKET]:.25,[M.FILESYSTEM]:.05},timeWindow:"1h"},userBehavior:{usageFrequency:"medium",peakUsageHours:[9,10,11,14,15,16],preferredFeatures:["dashboard","recommendations"],errorTolerance:"medium",performanceSensitivity:"medium"},environmentContext:{platform:"obsidian",connectivity:"good",bandwidth:50,latency:30,stability:.95}}})}applyRecommendation(e){return t(this,void 0,void 0,function*(){try{console.log(`Applying recommendation: ${e.title}`);const t=e.implementation.steps.filter(e=>"automatic"===e.action);for(const e of t)switch(e.id){case"switch-transport":console.log("Switching transport as recommended");break;case"enable-pooling":console.log("Enabling connection pooling");break;case"enable-monitoring":console.log("Enabling enhanced monitoring");break;default:console.log(`Unknown automatic step: ${e.id}`)}return this.recommendationEngine.trackRecommendationEffectiveness(e.id,.8),!0}catch(e){return console.error("Failed to apply recommendation:",e),!1}})}startRecommendationEngine(){console.log("Starting recommendation engine..."),this.generateBackgroundRecommendations(),setInterval(()=>{this.generateBackgroundRecommendations()},18e5)}generateBackgroundRecommendations(){return t(this,void 0,void 0,function*(){try{const t=yield this.buildRecommendationContext(),n=yield this.recommendationEngine.generateRecommendations(t),i=n.filter(e=>"critical"===e.priority);i.length>0&&new e.Notice(`âš ï¸ ${i.length} critical optimization(s) available. Use Command Palette > "Show AI Recommendations"`),console.log(`Generated ${n.length} recommendations (${i.length} critical)`)}catch(e){console.error("Background recommendation generation failed:",e)}})}cleanup(){this.onboardingWizard&&this.onboardingWizard.close(),this.transportDashboard&&this.transportDashboard.unload(),this.advancedSettings&&this.advancedSettings.unload()}showOnboardingIfNeeded(){return t(this,void 0,void 0,function*(){return!(this.plugin.settings.onboardingComplete||!this.config.enableOnboarding)&&(this.showOnboarding(),!0)})}getRecommendationEngine(){return this.recommendationEngine}refreshDashboard(){return t(this,void 0,void 0,function*(){this.transportDashboard&&console.log("Refreshing dashboard...")})}}class Q extends e.Modal{constructor(e){super(e.app),this.plugin=e,this.modalEl.addClass("dashboard-modal")}onOpen(){const{contentEl:e}=this;e.empty(),this.dashboard=new B(e,this.plugin),this.dashboard.load()}onClose(){this.dashboard&&this.dashboard.unload();const{contentEl:e}=this;e.empty()}}class Y extends e.Modal{constructor(e){super(e.app),this.plugin=e,this.modalEl.addClass("advanced-settings-modal")}onOpen(){const{contentEl:e}=this;e.empty(),this.settings=new j(e,this.plugin),this.settings.load()}onClose(){this.settings&&this.settings.unload();const{contentEl:e}=this;e.empty()}}class G extends e.Modal{constructor(e,t,n){super(e.app),this.plugin=e,this.recommendations=t,this.engine=n,this.modalEl.addClass("recommendations-modal")}onOpen(){const{contentEl:e}=this;e.empty(),e.createEl("h2",{text:"ðŸ¤– AI-Powered Recommendations"}),e.createEl("p",{text:"Here are personalized recommendations to optimize your VaultPilot experience:",cls:"recommendations-subtitle"});const t=e.createDiv("recommendations-list");this.recommendations.forEach((e,n)=>{this.renderRecommendation(t,e,n)});const n=e.createDiv("recommendations-footer");n.createEl("p",{text:`Generated ${this.recommendations.length} recommendations based on your usage patterns`,cls:"recommendations-stats"});n.createEl("button",{text:"Close",cls:"mod-cta"}).addEventListener("click",()=>this.close())}renderRecommendation(e,n,i){const o=e.createDiv("recommendation-item");o.addClass(`priority-${n.priority}`);o.createDiv("rec-header").createEl("h3",{text:n.title}).createEl("span",{text:n.priority.toUpperCase(),cls:`priority-badge ${n.priority}`}),o.createEl("p",{text:n.description,cls:"rec-description"});const a=o.createDiv("rec-impact");a.createEl("h4",{text:"Expected Impact:"});const s=a.createEl("ul");s.createEl("li",{text:`Performance: +${n.expectedImpact.performanceImprovement}%`}),s.createEl("li",{text:`Error Reduction: ${n.expectedImpact.errorReduction}%`}),s.createEl("li",{text:`Reliability: +${n.expectedImpact.reliabilityImprovement}%`}),s.createEl("li",{text:`Confidence: ${(100*n.expectedImpact.confidenceScore).toFixed(0)}%`});const r=o.createDiv("rec-implementation");if(r.createEl("h4",{text:"Implementation:"}),r.createEl("p",{text:`Difficulty: ${n.implementation.difficulty} | Time: ${n.implementation.estimatedTime}`}),n.implementation.steps.length>0){const e=r.createEl("ol");n.implementation.steps.forEach(t=>{const n=e.createEl("li");n.createEl("strong",{text:t.title}),n.createSpan({text:` - ${t.description}`}),"automatic"===t.action&&n.createSpan({text:" (Automatic)",cls:"step-automatic"})})}const l=o.createDiv("rec-actions");if(n.implementation.steps.some(e=>"automatic"===e.action)){const e=l.createEl("button",{text:"Apply Automatically",cls:"mod-cta"});e.addEventListener("click",()=>t(this,void 0,void 0,function*(){e.disabled=!0,e.textContent="Applying...";try{(yield this.applyRecommendation(n))?(e.textContent="âœ… Applied",e.removeClass("mod-cta"),e.addClass("mod-success")):(e.textContent="âŒ Failed",e.disabled=!1)}catch(t){e.textContent="âŒ Error",e.disabled=!1}}))}l.createEl("button",{text:"Dismiss",cls:"mod-muted"}).addEventListener("click",()=>{o.style.display="none"});const c=o.createDiv("rec-rationale"),d=c.createEl("button",{text:"Show Rationale",cls:"rationale-toggle"}),u=c.createDiv("rationale-content");u.style.display="none",u.createEl("p",{text:n.rationale}),d.addEventListener("click",()=>{"none"===u.style.display?(u.style.display="block",d.textContent="Hide Rationale"):(u.style.display="none",d.textContent="Show Rationale")})}applyRecommendation(n){return t(this,void 0,void 0,function*(){try{return yield new Promise(e=>setTimeout(e,1e3)),this.engine.trackRecommendationEffectiveness(n.id,.8),new e.Notice(`âœ… Applied recommendation: ${n.title}`),!0}catch(t){return console.error("Failed to apply recommendation:",t),new e.Notice(`âŒ Failed to apply recommendation: ${n.title}`),!1}})}onClose(){const{contentEl:e}=this;e.empty()}}class X extends e.Component{constructor(e){super(),this.activeProgress=new Map,this.progressContainer=null,this.updateInterval=null,this.plugin=e,this.app=e.app,this.initializeContainer()}initializeContainer(){this.progressContainer=document.createElement("div"),this.progressContainer.className="vaultpilot-progress-container",this.progressContainer.style.cssText="\n            position: fixed;\n            top: 20px;\n            right: 20px;\n            z-index: 10000;\n            pointer-events: none;\n            max-width: 400px;\n        ",document.body.appendChild(this.progressContainer)}showProgress(e){this.activeProgress.set(e.id,e),this.renderProgress(e),e.timeout&&setTimeout(()=>{this.hideProgress(e.id)},e.timeout)}updateProgress(e,t){const n=this.activeProgress.get(e);if(n){const i=Object.assign(Object.assign({},n),t);this.activeProgress.set(e,i),this.renderProgress(i)}}hideProgress(e){this.activeProgress.delete(e);const t=document.getElementById(`progress-${e}`);t&&(t.style.animation="slideOutRight 0.3s ease-in",setTimeout(()=>{t.remove()},300))}renderProgress(e){var t;let n=document.getElementById(`progress-${e.id}`);n?this.updateProgressElement(n,e):(n=this.createProgressElement(e),null===(t=this.progressContainer)||void 0===t||t.appendChild(n))}createProgressElement(e){const t=document.createElement("div");return t.id=`progress-${e.id}`,t.className="vaultpilot-progress-item",t.style.cssText="\n            background: var(--background-primary);\n            border: 1px solid var(--background-modifier-border);\n            border-radius: 8px;\n            padding: 12px 16px;\n            margin-bottom: 8px;\n            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n            animation: slideInRight 0.3s ease-out;\n            pointer-events: auto;\n            min-width: 300px;\n        ",this.updateProgressElement(t,e),t}updateProgressElement(e,t){const n=t.percentage||0,i=t.eta?this.formatETA(t.eta):"";if(e.innerHTML=`\n            <div class="progress-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">\n                <div class="progress-title" style="font-weight: 600; color: var(--text-normal);">\n                    ${t.title}\n                </div>\n                ${t.cancelable?'<button class="progress-cancel" style="background: none; border: none; color: var(--text-muted); cursor: pointer;">Ã—</button>':""}\n            </div>\n            ${t.message?`<div class="progress-message" style="color: var(--text-muted); font-size: 0.9em; margin-bottom: 8px;">${t.message}</div>`:""}\n            <div class="progress-bar-container" style="background: var(--background-modifier-border); border-radius: 4px; height: 6px; overflow: hidden;">\n                <div class="progress-bar" style="\n                    background: var(--interactive-accent);\n                    height: 100%;\n                    width: ${n}%;\n                    transition: width 0.3s ease;\n                    border-radius: 4px;\n                "></div>\n            </div>\n            <div class="progress-info" style="display: flex; justify-content: space-between; margin-top: 8px; font-size: 0.8em; color: var(--text-muted);">\n                <span>${Math.round(n)}%</span>\n                ${i?`<span>ETA: ${i}</span>`:""}\n            </div>\n        `,t.cancelable){const n=e.querySelector(".progress-cancel");null==n||n.addEventListener("click",()=>{this.hideProgress(t.id),this.plugin.app.workspace.trigger("vaultpilot:progress-cancelled",t.id)})}}formatETA(e){if(e<60)return`${Math.round(e)}s`;if(e<3600){return`${Math.floor(e/60)}m ${Math.round(e%60)}s`}return`${Math.floor(e/3600)}h ${Math.floor(e%3600/60)}m`}getActiveProgress(){return Array.from(this.activeProgress.values())}clearAllProgress(){for(const e of this.activeProgress.keys())this.hideProgress(e)}onunload(){this.progressContainer&&this.progressContainer.remove(),this.updateInterval&&clearInterval(this.updateInterval)}}class Z extends e.Component{constructor(e){super(),this.cache=new Map,this.requestQueue=new Map,this.maxCacheSize=100,this.defaultTTL=3e5,this.plugin=e,this.initializeMetrics(),this.startCleanupInterval()}initializeMetrics(){this.metrics={totalRequests:0,cacheHits:0,cacheMisses:0,averageResponseTime:0,slowestResponse:0,fastestResponse:1/0,currentCacheSize:0,memoryUsage:0}}optimizedRequest(e,n){return t(this,arguments,void 0,function*(e,t,n={}){const i=performance.now();if(this.metrics.totalRequests++,!n.skipCache){const t=this.getFromCache(e);if(t)return this.metrics.cacheHits++,this.updateResponseTimeMetrics(performance.now()-i),t}this.metrics.cacheMisses++;const o=this.requestQueue.get(e);if(o)return o;const a=this.executeRequest(t,e,n.ttl||this.defaultTTL);this.requestQueue.set(e,a);try{const e=yield a;return this.updateResponseTimeMetrics(performance.now()-i),e}finally{this.requestQueue.delete(e)}})}executeRequest(e,n,i){return t(this,void 0,void 0,function*(){try{const t=yield e();return this.setCache(n,t,i),t}catch(e){throw e}})}getFromCache(e){const t=this.cache.get(e);return t?Date.now()-t.timestamp>t.ttl?(this.cache.delete(e),null):(t.hitCount++,t.data):null}setCache(e,t,n){this.cache.size>=this.maxCacheSize&&this.evictLeastUsed();const i={data:t,timestamp:Date.now(),ttl:n,hitCount:0,size:this.estimateSize(t)};this.cache.set(e,i),this.updateCacheMetrics()}evictLeastUsed(){let e="",t=1/0;for(const[n,i]of this.cache.entries())i.hitCount<t&&(t=i.hitCount,e=n);e&&this.cache.delete(e)}estimateSize(e){return 2*JSON.stringify(e).length}updateResponseTimeMetrics(e){const t=this.metrics.averageResponseTime,n=this.metrics.totalRequests;this.metrics.averageResponseTime=(t*(n-1)+e)/n,e>this.metrics.slowestResponse&&(this.metrics.slowestResponse=e),e<this.metrics.fastestResponse&&(this.metrics.fastestResponse=e)}updateCacheMetrics(){this.metrics.currentCacheSize=this.cache.size,this.metrics.memoryUsage=Array.from(this.cache.values()).reduce((e,t)=>e+t.size,0)}startCleanupInterval(){setInterval(()=>{this.cleanupExpiredEntries()},6e4)}cleanupExpiredEntries(){const e=Date.now();for(const[t,n]of this.cache.entries())e-n.timestamp>n.ttl&&this.cache.delete(t);this.updateCacheMetrics()}getMetrics(){return Object.assign({},this.metrics)}getCacheHitRate(){const e=this.metrics.cacheHits+this.metrics.cacheMisses;return e>0?this.metrics.cacheHits/e*100:0}clearCache(){this.cache.clear(),this.updateCacheMetrics()}setCacheConfig(e,t){this.maxCacheSize=e,this.defaultTTL=t}onunload(){this.clearCache()}}class ee extends e.Component{constructor(e){super(),this.ws=null,this.reconnectInterval=null,this.isConnected=!1,this.messageHandlers=new Map,this.plugin=e,this.setupMessageHandlers()}setupMessageHandlers(){this.messageHandlers.set("progress_update",e=>{const t=this.plugin.enhancementManager;(null==t?void 0:t.progressIndicator)&&t.progressIndicator.updateProgress(e.id,{percentage:e.percentage,message:e.message,eta:e.eta})}),this.messageHandlers.set("performance_stats",e=>{console.log("Performance stats:",e)}),this.messageHandlers.set("ping",()=>{this.send({type:"pong",data:{},timestamp:Date.now()})})}connect(e){if(!this.ws||this.ws.readyState!==WebSocket.OPEN)try{this.ws=new WebSocket(e),this.ws.onopen=()=>{this.isConnected=!0,console.log("VaultPilot WebSocket connected"),this.reconnectInterval&&(clearInterval(this.reconnectInterval),this.reconnectInterval=null)},this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleMessage(t)}catch(e){console.error("Failed to parse WebSocket message:",e)}},this.ws.onclose=()=>{this.isConnected=!1,console.log("VaultPilot WebSocket disconnected"),this.startReconnect(e)},this.ws.onerror=e=>{console.error("VaultPilot WebSocket error:",e)}}catch(t){console.error("Failed to connect WebSocket:",t),this.startReconnect(e)}}handleMessage(e){const t=this.messageHandlers.get(e.type);t&&t(e.data)}startReconnect(e){this.reconnectInterval||(this.reconnectInterval=window.setInterval(()=>{console.log("Attempting to reconnect VaultPilot WebSocket..."),this.connect(e)},5e3))}send(e){return!(!this.ws||this.ws.readyState!==WebSocket.OPEN)&&(this.ws.send(JSON.stringify(e)),!0)}disconnect(){this.reconnectInterval&&(clearInterval(this.reconnectInterval),this.reconnectInterval=null),this.ws&&(this.ws.close(),this.ws=null),this.isConnected=!1}isSocketConnected(){return this.isConnected}onunload(){this.disconnect()}}class te extends e.Component{constructor(e){super(),this.isInitialized=!1,this.plugin=e,this.progressIndicator=new X(e),this.responseOptimizer=new Z(e),this.webSocketHandler=new ee(e)}initialize(){return t(this,void 0,void 0,function*(){if(!this.isInitialized)try{this.addChild(this.progressIndicator),this.addChild(this.responseOptimizer),this.addChild(this.webSocketHandler);const e=this.plugin.settings.backendUrl.replace(/^http/,"ws")+"/api/obsidian/ws/enhanced";this.webSocketHandler.connect(e),this.isInitialized=!0,console.log("VaultPilot Enhancement Manager initialized")}catch(e){console.error("Failed to initialize Enhancement Manager:",e)}})}showProgress(e){this.progressIndicator.showProgress(e)}optimizedAPICall(e,n,i){return t(this,void 0,void 0,function*(){return this.responseOptimizer.optimizedRequest(e,n,i)})}getPerformanceMetrics(){return this.responseOptimizer.getMetrics()}getCacheHitRate(){return this.responseOptimizer.getCacheHitRate()}clearCache(){this.responseOptimizer.clearCache()}isWebSocketConnected(){return this.webSocketHandler.isSocketConnected()}onunload(){this.isInitialized=!1,super.onunload()}}class ne{constructor(e){this.shortcuts=new Map,this.contextMenuEnabled=!0,this.plugin=e,this.app=e.app,this.initializeDefaultShortcuts()}initializeDefaultShortcuts(){[{key:"Enter",modifiers:["Ctrl","Shift"],command:"vaultpilot:open-chat",description:"Open VaultPilot Chat",context:"global"},{key:"KeyS",modifiers:["Ctrl","Shift"],command:"vaultpilot:smart-search",description:"Smart Search",context:"global"},{key:"KeyC",modifiers:["Ctrl","Shift"],command:"vaultpilot:quick-chat",description:"Quick Chat with Selection",context:"editor"},{key:"Space",modifiers:["Ctrl"],command:"vaultpilot:copilot-complete",description:"Get AI Completion",context:"editor"},{key:"KeyW",modifiers:["Ctrl","Shift"],command:"vaultpilot:execute-workflow",description:"Execute Workflow",context:"global"},{key:"KeyA",modifiers:["Ctrl","Shift"],command:"vaultpilot:analyze-vault",description:"Analyze Current Vault",context:"global"},{key:"KeyD",modifiers:["Ctrl","Shift"],command:"vaultpilot:open-dashboard",description:"Open VaultPilot Dashboard",context:"global"},{key:"KeyP",modifiers:["Ctrl","Shift"],command:"vaultpilot:plan-my-day",description:"Plan My Day",context:"global"},{key:"KeyV",modifiers:["Ctrl","Shift"],command:"vaultpilot:vault-structure",description:"View Vault Structure",context:"global"},{key:"KeyF",modifiers:["Ctrl","Shift"],command:"vaultpilot:file-operations",description:"File Operations",context:"global"},{key:"KeyO",modifiers:["Ctrl","Shift"],command:"vaultpilot:vault-organizer",description:"Vault Organizer",context:"global"},{key:"KeyB",modifiers:["Ctrl","Shift"],command:"vaultpilot:batch-operations",description:"Batch Operations",context:"global"},{key:"KeyH",modifiers:["Ctrl","Shift"],command:"vaultpilot:show-shortcuts",description:"Show Keyboard Shortcuts",context:"global"},{key:"KeyR",modifiers:["Ctrl","Shift"],command:"vaultpilot:refresh-cache",description:"Refresh Cache",context:"global"},{key:"KeyM",modifiers:["Ctrl","Shift"],command:"vaultpilot:performance-metrics",description:"Show Performance Metrics",context:"global"},{key:"KeyG",modifiers:["Ctrl","Shift"],command:"vaultpilot:agent-marketplace",description:"Agent Marketplace",context:"global"},{key:"KeyE",modifiers:["Ctrl","Shift"],command:"vaultpilot:agent-evolution",description:"Agent Evolution Status",context:"global"},{key:"KeyQ",modifiers:["Alt"],command:"vaultpilot:quick-note",description:"Quick Note Creation",context:"global"},{key:"KeyI",modifiers:["Ctrl","Alt"],command:"vaultpilot:insert-template",description:"Insert Template",context:"editor"},{key:"KeyL",modifiers:["Ctrl","Shift"],command:"vaultpilot:link-analyzer",description:"Analyze Links",context:"editor"},{key:"KeyT",modifiers:["Ctrl","Shift"],command:"vaultpilot:tag-manager",description:"Tag Manager",context:"global"},{key:"KeyZ",modifiers:["Ctrl","Shift"],command:"vaultpilot:enhancement-demo",description:"Enhancement Features Demo",context:"global"}].forEach(e=>{this.addShortcut(e)})}addShortcut(e){const t=this.getShortcutKey(e);this.shortcuts.set(t,e)}removeShortcut(e){const t=this.getShortcutKey(e);this.shortcuts.delete(t)}getShortcutKey(e){return`${e.modifiers.sort().join("+")}_${e.key}`}handleKeyDown(e){const t=[];e.ctrlKey&&t.push("Ctrl"),e.shiftKey&&t.push("Shift"),e.altKey&&t.push("Alt"),e.metaKey&&t.push("Meta");const n=e.code,i=`${t.sort().join("+")}_${n}`,o=this.shortcuts.get(i);if(o&&!1!==o.enabled){const t=this.getCurrentContext();if(this.isShortcutValidForContext(o,t))return e.preventDefault(),e.stopPropagation(),this.executeCommand(o.command),!0}return!1}getCurrentContext(){if(this.app.workspace.getActiveViewOfType(e.MarkdownView))return"editor";return document.querySelectorAll(".modal").length>0?"modal":"global"}isShortcutValidForContext(e,t){return!e.context||(e.context===t||"global"===e.context)}executeCommand(t){var n,i;const o=t.replace("vaultpilot:","");switch(o){case"open-chat":this.plugin.openChatModal();break;case"smart-search":this.plugin.openSmartSearchModal();break;case"quick-chat":const t=null===(n=this.app.workspace.getActiveViewOfType(e.MarkdownView))||void 0===n?void 0:n.editor;t&&this.plugin.quickChatWithSelection(t);break;case"copilot-complete":const a=null===(i=this.app.workspace.getActiveViewOfType(e.MarkdownView))||void 0===i?void 0:i.editor;a&&this.plugin.getCopilotCompletion(a);break;case"execute-workflow":this.plugin.openWorkflowModal();break;case"analyze-vault":this.plugin.analyzeVault();break;case"open-dashboard":this.plugin.activateFullTabView();break;case"plan-my-day":this.plugin.planMyDay();break;case"vault-structure":this.plugin.openVaultStructureModal();break;case"file-operations":this.plugin.openFileOperationsModal();break;case"vault-organizer":this.plugin.openVaultOrganizerModal();break;case"batch-operations":this.plugin.openBatchOperationsModal();break;case"show-shortcuts":this.showShortcutsHelp();break;case"refresh-cache":this.refreshCache();break;case"performance-metrics":this.showPerformanceMetrics();break;case"agent-marketplace":this.openAgentMarketplace();break;case"agent-evolution":this.showAgentEvolution();break;case"quick-note":this.createQuickNote();break;case"insert-template":this.insertTemplate();break;case"link-analyzer":this.analyzeLinks();break;case"tag-manager":this.openTagManager();break;case"enhancement-demo":this.openEnhancementDemo();break;default:new e.Notice(`Unknown command: ${o}`)}}showShortcutsHelp(){const t=Array.from(this.shortcuts.values()),n=this.generateShortcutsHelpContent(t),i=new e.Modal(this.app);i.titleEl.textContent="VaultPilot Keyboard Shortcuts",i.contentEl.innerHTML=n,i.open()}generateShortcutsHelpContent(e){const t=this.categorizeShortcuts(e);let n='<div class="vaultpilot-shortcuts-help">';for(const[e,i]of Object.entries(t))n+='<div class="shortcut-category">',n+=`<h3>${e}</h3>`,n+='<div class="shortcut-list">',i.forEach(e=>{const t=`${e.modifiers.join(" + ")} + ${e.key.replace("Key","")}`;n+='<div class="shortcut-item">',n+=`<span class="shortcut-keys">${t}</span>`,n+=`<span class="shortcut-desc">${e.description}</span>`,n+="</div>"}),n+="</div></div>";return n+="</div>",n}categorizeShortcuts(e){const t={"Core Features":[],"Vault Management":[],"Agent Features":[],"Quick Actions":[],System:[]};return e.forEach(e=>{const n=e.command.replace("vaultpilot:","");["open-chat","copilot-complete","execute-workflow","analyze-vault"].includes(n)?t["Core Features"].push(e):["vault-structure","file-operations","vault-organizer","batch-operations"].includes(n)?t["Vault Management"].push(e):["agent-marketplace","agent-evolution"].includes(n)?t["Agent Features"].push(e):["quick-note","insert-template","link-analyzer","tag-manager"].includes(n)?t["Quick Actions"].push(e):t.System.push(e)}),t}refreshCache(){new e.Notice("Cache refreshed successfully")}showPerformanceMetrics(){new e.Notice("Performance metrics feature coming soon")}openAgentMarketplace(){new e.Notice("Agent marketplace feature coming soon")}showAgentEvolution(){new e.Notice("Agent evolution status feature coming soon")}createQuickNote(){this.app.vault.create(`Quick Note ${(new Date).toISOString().slice(0,19)}.md`,"# Quick Note\n\n").then(e=>{this.app.workspace.getLeaf().openFile(e)})}insertTemplate(){new e.Notice("Template insertion feature coming soon")}analyzeLinks(){new e.Notice("Link analyzer feature coming soon")}openTagManager(){new e.Notice("Tag manager feature coming soon")}openEnhancementDemo(){Promise.resolve().then(function(){return require("./enhancement-demo-ce50f291.js")}).then(({VaultPilotEnhancementDemo:e})=>{new e(this.app,this.plugin).open()}).catch(t=>{console.error("Failed to load enhancement demo:",t),new e.Notice("Enhancement demo failed to load")})}getShortcuts(){return Array.from(this.shortcuts.values())}isEnabled(){return this.contextMenuEnabled}setEnabled(e){this.contextMenuEnabled=e}}class ie{static createEnhancedCommands(t){return[{id:"vaultpilot-enhanced-chat",name:"Enhanced AI Chat",description:"Open enhanced AI chat with real-time progress",callback:()=>t.openChatModal(),category:"AI Features",priority:1},{id:"vaultpilot-smart-search",name:"Smart Search",description:"AI-powered search with context awareness",callback:()=>t.openSmartSearchModal(),category:"Search",priority:2},{id:"vaultpilot-quick-completion",name:"Quick AI Completion",description:"Get AI completion for current context",editorCallback:e=>t.getCopilotCompletion(e),category:"AI Features",priority:3},{id:"vaultpilot-workflow-enhanced",name:"Enhanced Workflow Execution",description:"Execute workflows with progress tracking",callback:()=>t.openWorkflowModal(),category:"Automation",priority:4},{id:"vaultpilot-vault-analysis",name:"Enhanced Vault Analysis",description:"Comprehensive vault analysis with optimization",callback:()=>t.analyzeVault(),category:"Analytics",priority:5},{id:"vaultpilot-enhancement-demo",name:"Enhancement Features Demo",description:"Demonstrate keyboard shortcuts, progress indicators, and performance features",callback:()=>{Promise.resolve().then(function(){return require("./enhancement-demo-ce50f291.js")}).then(({VaultPilotEnhancementDemo:e})=>{new e(t.app,t).open()}).catch(t=>{console.error("Failed to load enhancement demo:",t),new e.Notice("Enhancement demo failed to load")})},category:"Demo",priority:10}]}}class oe extends e.Plugin{constructor(){super(...arguments),this.websocketConnected=!1,this.copilotEnabled=!1}onload(){return t(this,void 0,void 0,function*(){var t,n,i,d;yield this.loadSettings(),this.loadEnhancedUIStyles(),d=this.app,c=d,this.apiClient=new p(this.settings.backendUrl,this.settings.apiKey),(null===(t=this.settings.vaultManagement)||void 0===t?void 0:t.enableVaultManagement)&&this.initializeVaultManagement(),(null===(n=this.settings.modelSelection)||void 0===n?void 0:n.enabled)&&this.initializeModelSelection().catch(e=>{this.settings.debugMode&&console.warn("Model selection initialization failed during plugin load:",e)});try{let t=yield this.apiClient.healthCheck();if(!t.success&&(null===(i=t.error)||void 0===i?void 0:i.includes("400"))){console.warn("Main health check failed with 400, trying alternative method");const e=yield this.apiClient.simpleHealthCheck();e.success&&e.data&&(t={success:!0,data:{status:e.data.status,version:"unknown"}})}t.success?(new e.Notice("âœ… VaultPilot connected to EvoAgentX",3e3),this.settings.enableWebSocket&&this.connectWebSocket()):(console.error("Health check failed:",t.error),new e.Notice("âš ï¸ EvoAgentX backend offline - some features may not work",5e3))}catch(t){console.error("Health check error:",t),new e.Notice("âš ï¸ Cannot connect to EvoAgentX backend",5e3)}this.registerView(a,e=>new s(e,this)),this.registerView(r,e=>new l(e,this));const u=this.addRibbonIcon("bot","VaultPilot",e=>{e.ctrlKey||e.metaKey?this.activateFullTabView():this.openChatModal()});u.addClass("vaultpilot-ribbon-class"),u.title="VaultPilot (Ctrl+click for Dashboard)",this.addCommand({id:"open-chat",name:"Open Chat",callback:()=>this.openChatModal()}),this.addCommand({id:"execute-workflow",name:"Execute Workflow",callback:()=>this.openWorkflowModal()}),this.addCommand({id:"analyze-vault",name:"Analyze Current Vault",callback:()=>this.analyzeVault()}),this.addCommand({id:"copilot-complete",name:"Get AI Completion",editorCallback:e=>this.getCopilotCompletion(e)}),this.addCommand({id:"quick-chat",name:"Quick Chat with Selection",editorCallback:e=>this.quickChatWithSelection(e)}),this.addCommand({id:"plan-tasks",name:"Plan Tasks from Note",editorCallback:e=>this.planTasksFromNote(e)}),this.addCommand({id:"plan-my-day",name:"Plan My Day",callback:()=>this.planMyDay()}),this.addCommand({id:"plan-my-day-debug",name:"Plan My Day - Debug Connection",callback:()=>this.debugPlanMyDay()}),this.addCommand({id:"test-model-selection",name:"Test Smart Model Selection",callback:()=>this.testModelSelection()}),this.addCommand({id:"show-model-health",name:"Show Model Health Status",callback:()=>this.showModelHealth()}),this.addCommand({id:"retry-model-selection",name:"Retry Model Selection Initialization",callback:()=>this.retryModelSelectionManual()}),this.addCommand({id:"check-service-status",name:"Check VaultPilot Service Status",callback:()=>this.checkServiceStatus()}),this.addCommand({id:"open-vaultpilot-view",name:"Open VaultPilot View",callback:()=>this.activateView()}),this.addCommand({id:"open-vaultpilot-full-tab",name:"Open VaultPilot Dashboard",callback:()=>this.activateFullTabView()}),this.registerVaultManagementCommands(),this.initializePhase3(),this.initializeEnhancementManager(),this.settings.enableCopilot&&this.settings.enableAutoComplete&&this.registerDomEvent(document,"keyup",this.handleKeyUp.bind(this)),this.addSettingTab(new o(this.app,this))})}onunload(){return t(this,void 0,void 0,function*(){this.app.workspace.detachLeavesOfType(a),this.app.workspace.detachLeavesOfType(r),this.disconnectWebSocket(),yield this.disconnectModelSelection(),this.disablePhase3(),this.disableEnhancementManager()})}connectWebSocket(){this.websocketConnected||this.apiClient.connectWebSocket({onChat:e=>{console.log("WebSocket chat update:",e)},onWorkflowProgress:t=>{new e.Notice(`Workflow: ${t.step}`,2e3)},onCopilot:e=>{this.handleCopilotSuggestion(e)},onVaultSync:e=>{console.log("Vault sync update:",e)},onIntentDebug:e=>{this.settings.showIntentDebug&&this.settings.debugMode&&console.log("Intent debug:",e)},onError:t=>{new e.Notice(`WebSocket error: ${t}`,5e3)},onConnect:()=>{this.websocketConnected=!0,this.settings.debugMode&&new e.Notice("WebSocket connected",2e3)},onDisconnect:()=>{this.websocketConnected=!1,this.settings.debugMode&&new e.Notice("WebSocket disconnected",2e3)}})}disconnectWebSocket(){this.apiClient.disconnectWebSocket(),this.websocketConnected=!1}isWebSocketConnected(){return this.websocketConnected}openChatModal(){new u(this.app,this).open()}openWorkflowModal(){new h(this.app,this).open()}analyzeVault(){return t(this,void 0,void 0,function*(){const t=new e.Notice("Analyzing vault...",0);try{const n=this.app.vault.getMarkdownFiles();let i="";for(const e of n.slice(0,10)){const t=yield this.app.vault.read(e);i+=`=== ${e.name} ===\n${t}\n\n`}const o=yield this.apiClient.analyzeVaultContext({content:i,analysis_type:"insights"});if(t.hide(),!o.success||!o.data)throw new Error(o.error||"Analysis failed");{const t=(new Date).toISOString().split("T")[0],n=`Vault Analysis ${t}.md`;let i=`# Vault Analysis - ${t}\n\n`;i+=`## Analysis\n\n${o.data.analysis}\n\n`,o.data.insights&&o.data.insights.length>0&&(i+="## Key Insights\n\n",o.data.insights.forEach(e=>{i+=`- ${e}\n`}),i+="\n"),o.data.recommendations&&o.data.recommendations.length>0&&(i+="## Recommendations\n\n",o.data.recommendations.forEach(e=>{i+=`- ${e}\n`})),yield this.app.vault.create(n,i),new e.Notice(`Vault analysis saved as ${n}`)}}catch(n){t.hide(),new e.Notice(`Analysis error: ${n instanceof Error?n.message:"Unknown error"}`)}})}getCopilotCompletion(n){return t(this,void 0,void 0,function*(){if(!this.settings.enableCopilot)return void new e.Notice("Copilot is disabled in settings");const t=n.getCursor(),i=n.getLine(t.line).substring(0,t.ch),o=n.getValue();if(o&&0!==o.trim().length)try{const a=yield this.apiClient.getCopilotCompletion({text:o,cursor_position:n.posToOffset(t),file_type:"markdown",context:i});a.success&&a.data?(n.replaceRange(a.data.completion,t),new e.Notice("Completion inserted",2e3)):new e.Notice(`Copilot error: ${a.error}`)}catch(t){new e.Notice(`Copilot error: ${t instanceof Error?t.message:"Unknown error"}`)}else new e.Notice("Cannot complete empty text")})}quickChatWithSelection(n){return t(this,void 0,void 0,function*(){const t=n.getSelection();if(t)try{const i=yield this.apiClient.chat({message:`Please explain or analyze this text: "${t}"`,vault_context:n.getValue()});if(i.success&&i.data){const t=n.getCursor("to"),o=`\n\n**VaultPilot Analysis:**\n${i.data.response}\n\n`;n.replaceRange(o,t),new e.Notice("Analysis inserted",2e3)}else new e.Notice(`Chat error: ${i.error}`)}catch(t){new e.Notice(`Chat error: ${t instanceof Error?t.message:"Unknown error"}`)}else new e.Notice("No text selected")})}planTasksFromNote(n){return t(this,void 0,void 0,function*(){const t=n.getValue(),i=this.app.workspace.getActiveFile();if(!t.trim())return void new e.Notice("No content to analyze");const o=new e.Notice("Planning tasks...",0);try{const n=yield this.apiClient.planTasks({goal:`Create a task plan based on this note: ${(null==i?void 0:i.name)||"Untitled"}`,context:t,timeframe:"1 week"});if(o.hide(),!n.success||!n.data)throw new Error(n.error||"Task planning failed");{const t=(new Date).toISOString().split("T")[0],o=`Task Plan - ${(null==i?void 0:i.basename)||"Untitled"} - ${t}.md`;let a=`# ${n.data.plan.title}\n\n`;a+=`${n.data.plan.description}\n\n`,a+=`**Estimated Duration:** ${n.data.plan.estimated_duration}\n\n`,n.data.plan.tasks&&n.data.plan.tasks.length>0&&(a+="## Tasks\n\n",n.data.plan.tasks.forEach(e=>{const t="completed"===e.status?"[x]":"[ ]";a+=`${t} **${e.title}** (${e.priority} priority)\n`,a+=`   ${e.description}\n`,a+=`   *Estimated time: ${e.estimated_time}*\n\n`})),n.data.milestones&&n.data.milestones.length>0&&(a+="## Milestones\n\n",n.data.milestones.forEach(e=>{a+=`- **${e.title}** (${e.target_date})\n`,a+=`  ${e.description}\n\n`})),yield this.app.vault.create(o,a),new e.Notice(`Task plan saved as ${o}`)}}catch(t){o.hide(),new e.Notice(`Task planning error: ${t instanceof Error?t.message:"Unknown error"}`)}})}planMyDay(){return t(this,void 0,void 0,function*(){var n,i;console.log("ðŸš€ [Plan My Day] Command started");const o=this.app.workspace.getActiveFile();if(!o)return console.warn("âš ï¸ [Plan My Day] No active file found"),void new e.Notice("No active noteâ€”open today's daily note first.");console.log("ðŸ“ [Plan My Day] Active file:",{name:o.name,path:o.path,extension:o.extension});const a=new e.Notice("Planning your day with AI...",0);try{console.log("ðŸ“– [Plan My Day] Reading file content...");const s=yield this.app.vault.read(o);if(console.log("ðŸ“ [Plan My Day] File content read:",{length:s.length,hasContent:s.trim().length>0,firstLine:s.split("\n")[0],lineCount:s.split("\n").length}),console.log("ðŸ” [Plan My Day] Checking API client..."),console.log("ðŸ”— [Plan My Day] API client status:",{exists:!!this.apiClient,type:typeof this.apiClient,isConnected:this.apiClient?"available":"not available"}),!this.apiClient){const e="API client not initialized. Check VaultPilot settings and connection.";throw console.error("âŒ [Plan My Day] Error:",e),new Error(e)}console.log("ðŸ“¤ [Plan My Day] Fetching schedule from EvoAgentX...");const{scheduleMarkdown:r,headline:l}=yield function(e,n){return t(this,void 0,void 0,function*(){var t,i,o;if(console.log("ðŸ”„ [Plan My Day] Starting schedule fetch..."),console.log("ðŸ“ [Plan My Day] Note text length:",e.length),console.log("ðŸ”— [Plan My Day] API client type:",typeof n),!n){const e="API client is null or undefined";throw console.error("âŒ [Plan My Day] Error:",e),new Error(e)}if(!n.planTasks){const e="API client does not have planTasks method";throw console.error("âŒ [Plan My Day] Error:",e),console.log("ðŸ” [Plan My Day] Available methods:",Object.getOwnPropertyNames(n)),new Error(e)}try{console.log("ðŸ“¤ [Plan My Day] Sending request to EvoAgentX...");const a=yield n.planTasks({goal:"Create a daily schedule based on this note content",context:e,timeframe:"1 day"});if(console.log("ðŸ“¥ [Plan My Day] Received response:",{success:a.success,hasData:!!a.data,error:a.error}),console.log("ðŸ” [Plan My Day] Raw response data:",JSON.stringify(a.data,null,2)),console.log("ðŸ” [Plan My Day] Response data type:",typeof a.data),console.log("ðŸ” [Plan My Day] Response data keys:",a.data?Object.keys(a.data):"no data"),!a.success){const e=a.error||"Failed to generate schedule";throw console.error("âŒ [Plan My Day] API Error:",e),new Error(e)}if(!a.data){const e="No data in API response";throw console.error("âŒ [Plan My Day] Error:",e),console.log("ðŸ” [Plan My Day] Full response:",a),new Error(e)}const s=a.data.data||a.data;if(console.log("ðŸ“‹ [Plan My Day] Response data structure:",{hasPlan:!!s.plan,planKeys:s.plan?Object.keys(s.plan):null,hasTasks:!!(null===(t=s.plan)||void 0===t?void 0:t.tasks),taskCount:(null===(o=null===(i=s.plan)||void 0===i?void 0:i.tasks)||void 0===o?void 0:o.length)||0}),!s.plan){const e="No plan data in API response";throw console.error("âŒ [Plan My Day] Error:",e),console.log("ðŸ” [Plan My Day] Full response data:",a.data),console.log("ðŸ” [Plan My Day] Actual data:",s),new Error(e)}const r=s.plan.tasks||[];if(console.log("ðŸ“ [Plan My Day] Processing tasks:",r.length),0===r.length)return console.warn("âš ï¸ [Plan My Day] No tasks in response, creating fallback schedule"),{scheduleMarkdown:"| Time | Task |\n|------|------|\n| 9:00 AM | Plan your day |\n| 10:00 AM | Start working |\n| 12:00 PM | Lunch break |",headline:"ðŸ“… Basic schedule created (no tasks found in note)"};let l="| Time | Task |\n|------|------|\n";r.forEach((e,t)=>{var n,i;console.log(`ðŸ“‹ [Plan My Day] Processing task ${t+1}:`,{title:e.title,description:null===(n=e.description)||void 0===n?void 0:n.substring(0,100),priority:e.priority,estimatedTime:e.estimated_time});const o=null===(i=e.description)||void 0===i?void 0:i.match(/(\d{1,2}:\d{2})/),a=o?o[1]:`${9+Math.floor(1.5*t)}:${30*t%60||"00"}`;l+=`| ${a} | ${e.title} |\n`});const c={scheduleMarkdown:l,headline:`âœ¨ Smart schedule created with ${r.length} tasks!`};return console.log("âœ… [Plan My Day] Schedule generated successfully:",{markdownLength:l.length,taskCount:r.length,headline:c.headline}),c}catch(e){throw console.error("âŒ [Plan My Day] Fetch error:",e),console.error("ðŸ” [Plan My Day] Error stack:",e instanceof Error?e.stack:"No stack trace"),e instanceof Error?new Error(`Schedule fetch failed: ${e.message}`):new Error(`Schedule fetch failed: ${String(e)}`)}})}(s,this.apiClient);if(console.log("ðŸ“‹ [Plan My Day] Schedule received:",{markdownLength:r.length,headline:l,firstLine:r.split("\n")[0]}),console.log("âœ… [Plan My Day] Validating schedule..."),!function(e){console.log("ðŸ” [Plan My Day] Validating schedule markdown:",{length:e.length,trimmedLength:e.trim().length,isString:"string"==typeof e,preview:e.substring(0,100)});const t=e.trim().length>0;return console.log("âœ… [Plan My Day] Validation result:",t),t}(r)){const e="Invalid schedule data received from API";throw console.error("âŒ [Plan My Day] Validation failed:",{scheduleMarkdown:r.substring(0,200),length:r.length}),new Error(e)}console.log("ðŸ“ [Plan My Day] Injecting schedule into note...");const c=g(s),d=m(s);console.log("ðŸ” [Plan My Day] Existing sections:",{hasPlanWrapper:!!c,hasScheduleSection:!!d,planContent:null===(n=null==c?void 0:c[2])||void 0===n?void 0:n.substring(0,50),scheduleHeading:null===(i=null==d?void 0:d[1])||void 0===i?void 0:i.substring(0,50)});const u=function(e,t){var n,i,o;console.log("ðŸ“ [Plan My Day] Injecting schedule:",{originalLength:e.length,scheduleLength:t.length,hasOriginalContent:e.trim().length>0});const a=g(e);if(a){console.log("ðŸ”„ [Plan My Day] Replacing existing plan section with comment wrapper"),console.log("ðŸ“‹ [Plan My Day] Found wrapped plan section:",{startComment:a[1],contentLength:(null===(n=a[2])||void 0===n?void 0:n.length)||0,endComment:a[3]});const[i,o,,s]=a,r=`${o}\n${t}\n${s}`,l=e.replace(i,r);return console.log("âœ… [Plan My Day] Plan section replaced within comment wrapper"),l}const s=m(e);if(s){console.log("ðŸ”„ [Plan My Day] Replacing existing schedule section"),console.log("ðŸ“‹ [Plan My Day] Found section:",{headingMatch:null===(i=s[1])||void 0===i?void 0:i.substring(0,50),contentMatch:null===(o=s[2])||void 0===o?void 0:o.substring(0,100)});const[n,a]=s,r=a+t,l=e.replace(n,r);return console.log("âœ… [Plan My Day] Schedule section replaced"),l}{console.log("âž• [Plan My Day] Adding new plan section with comment wrapper at top");const n=`\x3c!-- vp:plan:start --\x3e\n${t}\n\x3c!-- vp:plan:end --\x3e\n\n`+e;return console.log("âœ… [Plan My Day] New plan section with wrapper added at top"),n}}(s,r);console.log("ðŸ’¾ [Plan My Day] Updating file...",{originalLength:s.length,updatedLength:u.length,changed:s!==u}),yield this.app.vault.modify(o,u),console.log("âœ… [Plan My Day] File updated successfully"),a.hide();const h=l?`${l} âœ…`:"Schedule inserted âœ…";console.log("ðŸŽ‰ [Plan My Day] Success:",h),new e.Notice(h)}catch(t){if(console.error("âŒ [Plan My Day] Operation failed:",t),console.error("ðŸ” [Plan My Day] Error details:",{message:t instanceof Error?t.message:String(t),stack:t instanceof Error?t.stack:"No stack trace",type:typeof t,name:t instanceof Error?t.name:"Unknown"}),a.hide(),t instanceof Error){const n=t.message;console.log("ðŸ” [Plan My Day] Analyzing error message:",n),n.includes("API client not initialized")?(console.error("âŒ [Plan My Day] API client not initialized"),new e.Notice("Planning error: VaultPilot not connected to EvoAgentX. Check settings and restart plugin.")):n.includes("does not have planTasks method")?(console.error("âŒ [Plan My Day] API client missing planTasks method"),new e.Notice("Planning error: EvoAgentX API client outdated. Please update VaultPilot plugin.")):n.includes("JSON")||n.includes("Invalid schedule data")?(console.error("âŒ [Plan My Day] Invalid response format"),new e.Notice("Planning error: Invalid response format from EvoAgentX")):n.includes("fetch")||n.includes("network")||n.includes("Failed to fetch")?(console.error("âŒ [Plan My Day] Network error"),new e.Notice("Planning error: Unable to connect to EvoAgentX server. Check your connection and server status.")):n.includes("Failed to generate schedule")||n.includes("Schedule fetch failed")?(console.error("âŒ [Plan My Day] Schedule generation failed"),new e.Notice("Planning error: EvoAgentX task planning failed. Check server logs for details.")):n.includes("No data in API response")?(console.error("âŒ [Plan My Day] Empty API response"),new e.Notice("Planning error: EvoAgentX returned empty response. Try again or check server status.")):(console.error("âŒ [Plan My Day] Unhandled error"),new e.Notice(`Planning error: ${n.substring(0,100)}${n.length>100?"...":""}`))}else console.error("âŒ [Plan My Day] Non-Error object thrown"),new e.Notice("Planning error: Unknown error occurred with EvoAgentX");console.log("ðŸ” [Plan My Day] Full error log completed")}})}debugPlanMyDay(){return t(this,void 0,void 0,function*(){console.log("ðŸ” [Plan My Day Debug] Starting comprehensive debug..."),f.clearLogs();const t=new e.Notice("Running Plan My Day diagnostics...",0);try{const n=this.app.workspace.getActiveFile();f.log("ðŸ“ Active file check",{hasActiveFile:!!n,fileName:null==n?void 0:n.name,fileExtension:null==n?void 0:n.extension});const i=f.analyzeApiClient(this.apiClient);if(f.log("ðŸ”— API client analysis",i),this.apiClient){const e=yield f.testConnection(this.apiClient);if(f.log("ðŸŒ Connection test result",e),e.success){const e=yield f.testTaskPlanning(this.apiClient,"Test note with some tasks:\n- Write code\n- Test functionality\n- Review results");f.log("ðŸ“‹ Task planning test result",e)}}f.log("âš™ï¸ Plugin settings",{backendUrl:this.settings.backendUrl,hasApiKey:!!this.settings.apiKey,debugMode:this.settings.debugMode}),t.hide();const o=f.getLogs();console.log("ðŸ” [Plan My Day Debug] Complete diagnostic log:",o);const a=o.slice(-5).join("\n");if(new e.Notice(`Debug complete! Check console for full logs.\n\nLast entries:\n${a}`,1e4),n){const t=`# Plan My Day Debug Report\n\nGenerated: ${(new Date).toISOString()}\n\n## Diagnostic Results\n\n\`\`\`\n${f.exportLogs()}\n\`\`\``;yield this.app.vault.create(`Plan My Day Debug - ${Date.now()}.md`,t),new e.Notice("Debug report saved as new note!")}}catch(n){t.hide(),f.error("Debug process failed",n),new e.Notice(`Debug failed: ${n instanceof Error?n.message:String(n)}`)}})}activateView(){return t(this,void 0,void 0,function*(){const e=this.app.workspace.getLeavesOfType(a);if(0===e.length){const e=this.app.workspace.getRightLeaf(!1);e&&(yield e.setViewState({type:a,active:!0}))}else this.app.workspace.revealLeaf(e[0])})}activateFullTabView(){return t(this,void 0,void 0,function*(){const e=this.app.workspace.getLeavesOfType(r);if(0===e.length){const e=this.app.workspace.getLeaf("tab");e&&(yield e.setViewState({type:r,active:!0}))}else this.app.workspace.revealLeaf(e[0])})}initializeVaultManagement(){var e;(null===(e=this.settings.vaultManagement)||void 0===e?void 0:e.enableVaultManagement)&&(this.vaultClient=new b(this.settings.backendUrl,this.settings.apiKey),this.settings.debugMode&&console.log("Vault management initialized"))}disableVaultManagement(){this.vaultClient=null,this.settings.debugMode&&console.log("Vault management disabled")}registerVaultManagementCommands(){[{id:"vaultpilot-vault-structure",name:"View Vault Structure",callback:function(){console.log("Opening vault structure modal"),this.openVaultStructureModal?this.openVaultStructureModal():new e.Notice("Vault structure feature not available")}},{id:"vaultpilot-smart-search",name:"Smart Vault Search",callback:function(){console.log("Opening smart search modal"),this.openSmartSearchModal?this.openSmartSearchModal():new e.Notice("Smart search feature not available")}},{id:"vaultpilot-file-operations",name:"File Operations Manager",callback:function(){console.log("Opening file operations modal"),this.openFileOperationsModal?this.openFileOperationsModal():new e.Notice("File operations feature not available")}},{id:"vaultpilot-organize-vault",name:"AI Vault Organization",callback:function(){console.log("Opening vault organizer modal"),this.openVaultOrganizerModal?this.openVaultOrganizerModal():new e.Notice("Vault organizer feature not available")}},{id:"vaultpilot-batch-operations",name:"Batch File Operations",callback:function(){console.log("Opening batch operations modal"),this.openBatchOperationsModal?this.openBatchOperationsModal():new e.Notice("Batch operations feature not available")}},{id:"vaultpilot-quick-search-selection",name:"Quick Search Selected Text",editorCallback:function(t){const n=t.getSelection();n.trim()?(console.log("Quick search for:",n.trim()),this.openSmartSearchModal?this.openSmartSearchModal(n.trim()):new e.Notice("Smart search feature not available")):new e.Notice("Please select text to search for")}},{id:"vaultpilot-vault-health-check",name:"Vault Health Check",callback:function(){return t(this,void 0,void 0,function*(){try{if(!this.vaultClient)return void new e.Notice("Vault management not initialized");new e.Notice("Running vault health check...");const t=yield this.vaultClient.testConnection();if(!t.success)return void new e.Notice(`Health check failed: ${t.message}`,5e3);const n=yield this.vaultClient.getVaultStructure({include_content:!1,max_depth:1}),i=yield this.vaultClient.searchVault({query:"test",max_results:1});new e.Notice(`âœ… Vault Health Check Passed\nðŸ“ ${n.total_files} files, ${n.total_folders} folders\nðŸ” Search: ${i.results.length} results\nðŸ’¾ Size: ${(n.total_size/1024/1024).toFixed(2)} MB`,8e3)}catch(t){console.error("Vault health check failed:",t),new e.Notice(`âŒ Health check failed: ${t.message}`,5e3)}})}},{id:"vaultpilot-vault-backup",name:"Create Vault Backup",callback:function(){return t(this,void 0,void 0,function*(){try{if(!this.vaultClient)return void new e.Notice("Vault management not initialized");new e.Notice("Creating vault backup...");const t=yield this.vaultClient.backupVault({include_settings:!0,compression:!0,backup_name:`vaultpilot-backup-${(new Date).toISOString().split("T")[0]}`});new e.Notice(`âœ… Backup created successfully\nðŸ“¦ ${t.files_backed_up} files\nðŸ’¾ Size: ${(t.backup_size/1024/1024).toFixed(2)} MB\nðŸ“ Location: ${t.backup_path}`,8e3)}catch(t){console.error("Backup failed:",t),new e.Notice(`âŒ Backup failed: ${t.message}`,5e3)}})}},{id:"vaultpilot-search-content",name:"Search Content",editorCallback:function(t){const n=t.getSelection().trim()||"Enter search query";this.openSmartSearchModal?this.openSmartSearchModal(n,"content"):new e.Notice("Smart search feature not available")}},{id:"vaultpilot-search-filenames",name:"Search Filenames",callback:function(){this.openSmartSearchModal?this.openSmartSearchModal("","filename"):new e.Notice("Smart search feature not available")}},{id:"vaultpilot-recent-files",name:"View Recent Files",callback:function(){return t(this,void 0,void 0,function*(){try{if(!this.vaultClient)return void new e.Notice("Vault management not initialized");const t=yield this.vaultClient.getVaultStructure({include_content:!1});if(0===t.recent_files.length)return void new e.Notice("No recent files found");const n=t.recent_files.slice(0,10).map(e=>`â€¢ ${e.name} (${e.modified})`).join("\n");new e.Notice(`ðŸ“ Recent Files:\n${n}`,1e4)}catch(t){console.error("Failed to get recent files:",t),new e.Notice(`âŒ Failed to get recent files: ${t.message}`,5e3)}})}}].forEach(e=>{var t,n;this.addCommand(Object.assign(Object.assign({},e),{callback:null===(t=e.callback)||void 0===t?void 0:t.bind(this),editorCallback:null===(n=e.editorCallback)||void 0===n?void 0:n.bind(this)}))})}openVaultStructureModal(){this.vaultClient?new k(this.app,this).open():new e.Notice("Vault management not available")}openSmartSearchModal(t,n){if(!this.vaultClient)return void new e.Notice("Vault management not available");const i=new E(this.app,this);t&&i.setInitialQuery(t,n),i.open()}openFileOperationsModal(t,n){if(!this.vaultClient)return void new e.Notice("Vault management not available");const i=new T(this.app,this);t&&i.setInitialPath(t),n&&i.setOperation(n),i.open()}openVaultOrganizerModal(){new e.Notice("Vault organizer modal not yet implemented")}openBatchOperationsModal(){new e.Notice("Batch operations modal not yet implemented")}initializePhase3(){try{this.phase3Integration=new J(this,{autoShowOnboarding:!this.settings.onboardingComplete}),this.phase3Integration.onload(),this.settings.debugMode&&console.log("Phase 3 features initialized successfully"),this.settings.onboardingComplete||setTimeout(()=>{var e;null===(e=this.phase3Integration)||void 0===e||e.showOnboardingIfNeeded()},1e3)}catch(t){console.error("Failed to initialize Phase 3 features:",t),this.settings.debugMode&&new e.Notice("Phase 3 features failed to initialize - check console for details",5e3)}}disablePhase3(){this.phase3Integration&&(this.phase3Integration.onunload(),this.phase3Integration=void 0),this.settings.debugMode&&console.log("Phase 3 features disabled")}initializeEnhancementManager(){try{this.enhancementManager=new te(this),this.enhancementManager.initialize().then(()=>{this.settings.debugMode&&console.log("VaultPilot Enhancement Manager initialized successfully")}).catch(e=>{console.error("Failed to initialize Enhancement Manager:",e)}),this.keyboardHandler=new ne(this),this.registerDomEvent(document,"keydown",e=>{var t;null===(t=this.keyboardHandler)||void 0===t||t.handleKeyDown(e)});ie.createEnhancedCommands(this).forEach(e=>{this.addCommand({id:e.id,name:e.name,callback:e.callback,editorCallback:e.editorCallback,checkCallback:e.checkCallback})}),this.settings.debugMode&&console.log("Keyboard shortcuts and enhanced commands initialized")}catch(t){console.error("Failed to initialize Enhancement Manager:",t),this.settings.debugMode&&new e.Notice("Enhancement features failed to initialize - check console for details",5e3)}}disableEnhancementManager(){this.enhancementManager&&(this.enhancementManager.unload(),this.enhancementManager=void 0),this.keyboardHandler&&(this.keyboardHandler=void 0),this.settings.debugMode&&console.log("Enhancement Manager disabled")}handleKeyUp(e){if(!this.settings.enableAutoComplete||!this.settings.enableCopilot)return;e.target.classList.contains("cm-content")&&this.shouldTriggerAutoComplete(e)&&(clearTimeout(this.autoCompleteTimeout),this.autoCompleteTimeout=setTimeout(()=>{this.triggerAutoCompletion()},3e3))}shouldTriggerAutoComplete(t){if(-1!==["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Tab","Shift","Control","Alt","Meta","Escape"].indexOf(t.key))return!1;const n=this.app.workspace.getActiveViewOfType(e.MarkdownView);if(!n)return!1;const i=n.editor,o=i.getCursor(),a=i.getLine(o.line);if(o.ch!==a.length)return!1;const s=a.slice(-1);return-1!==[".","!","?",":","\n"].indexOf(s)&&" "===t.key||"Enter"===t.key&&a.trim().length>10}triggerAutoCompletion(){return t(this,void 0,void 0,function*(){const t=this.app.workspace.getActiveViewOfType(e.MarkdownView);if(!t)return;const n=t.editor,i=n.getCursor(),o=n.getLine(i.line),a=n.getValue();if(o.trim().length<10||i.ch!==o.length)return;if(!a||0===a.trim().length)return;const s=Date.now();if(!(s-(this.lastAutoCompleteRequest||0)<1e4)){this.lastAutoCompleteRequest=s;try{const t=yield this.apiClient.getCopilotCompletion({text:a,cursor_position:n.posToOffset(i),file_type:"markdown"});t.success&&t.data&&t.data.suggestions.length>0&&this.settings.debugMode&&new e.Notice(`Auto-suggestion: ${t.data.suggestions[0]}`,3e3)}catch(e){this.settings.debugMode&&console.error("Auto-completion error:",e)}}})}handleCopilotSuggestion(t){this.settings.debugMode&&new e.Notice(`Live suggestion: ${t.completion}`,2e3)}loadSettings(){return t(this,void 0,void 0,function*(){this.settings=Object.assign({},i,yield this.loadData())})}saveSettings(){return t(this,void 0,void 0,function*(){var e,t;yield this.saveData(this.settings),this.apiClient=new p(this.settings.backendUrl,this.settings.apiKey),(null===(e=this.settings.vaultManagement)||void 0===e?void 0:e.enableVaultManagement)?this.initializeVaultManagement():this.disableVaultManagement(),(null===(t=this.settings.modelSelection)||void 0===t?void 0:t.enabled)?yield this.initializeModelSelection():yield this.disconnectModelSelection(),this.settings.enableWebSocket&&!this.websocketConnected?this.connectWebSocket():!this.settings.enableWebSocket&&this.websocketConnected&&this.disconnectWebSocket()})}initializeModelSelection(){return t(this,void 0,void 0,function*(){var t;if(null===(t=this.settings.modelSelection)||void 0===t?void 0:t.enabled)try{if(!w.detect().hasHTTP)throw new Error("HTTP transport not available");this.modelSelectionService=new x(this.settings.backendUrl,this.settings.modelSelection.devpipePath,{monitoring_interval:this.settings.modelSelection.monitoringInterval,fallback_enabled:this.settings.modelSelection.fallbackEnabled,cache_duration:this.settings.modelSelection.cacheDuration,retry_attempts:this.settings.modelSelection.retryAttempts,timeout:this.settings.modelSelection.timeout,debug_mode:this.settings.modelSelection.debugMode}),yield this.modelSelectionService.updatePreferences({priority:this.settings.modelSelection.userPreferences.priority,max_cost_per_request:this.settings.modelSelection.userPreferences.maxCostPerRequest,preferred_providers:this.settings.modelSelection.userPreferences.preferredProviders,fallback_enabled:this.settings.modelSelection.fallbackEnabled,quality_threshold:this.settings.modelSelection.userPreferences.qualityThreshold,timeout_preference:this.settings.modelSelection.timeout}),yield this.modelSelectionService.initialize(),this.settings.debugMode&&console.log("ModelSelectionService initialized successfully"),new e.Notice("ðŸ¤– Smart model selection enabled",3e3)}catch(t){console.error("Failed to initialize ModelSelectionService:",t),t instanceof Error&&(t.message.includes("not accessible")||t.message.includes("Failed to fetch")?this.settings.debugMode&&new e.Notice("âš ï¸ Model selection service unavailable - using fallback mode",4e3):t.message.includes("transport not available")?new e.Notice("âš ï¸ Model selection not supported in this environment",5e3):this.settings.debugMode&&new e.Notice("âš ï¸ Model selection initialization failed",3e3)),this.settings.modelSelection.retryAttempts>0&&setTimeout(()=>{this.retryModelSelectionInit(1)},1e4)}else this.settings.debugMode&&console.log("Model selection disabled in settings")})}retryModelSelectionInit(e){return t(this,void 0,void 0,function*(){var t;if(e>((null===(t=this.settings.modelSelection)||void 0===t?void 0:t.retryAttempts)||3))this.settings.debugMode&&console.log("Model selection initialization retry limit reached");else try{this.settings.debugMode&&console.log(`Retrying model selection initialization (attempt ${e})`),yield this.initializeModelSelection()}catch(t){const n=Math.min(3e4,5e3*Math.pow(2,e-1));setTimeout(()=>{this.retryModelSelectionInit(e+1)},n)}})}checkServiceStatus(){return t(this,void 0,void 0,function*(){var t,n;const i=new e.Notice("Checking VaultPilot service status...",0);try{let o="ðŸ” VaultPilot Service Status:\n\n";try{const e=yield this.apiClient.healthCheck();e.success?(o+="âœ… Main Backend: Connected\n",o+=`   Server: ${this.settings.backendUrl}\n`):(o+="âŒ Main Backend: Failed\n",o+=`   Error: ${e.error}\n`)}catch(e){o+="âŒ Main Backend: Connection Error\n"}this.isWebSocketConnected()?o+="âœ… WebSocket: Connected\n":o+="âŒ WebSocket: Disconnected\n",(null===(t=this.settings.modelSelection)||void 0===t?void 0:t.enabled)?this.modelSelectionService&&this.modelSelectionService.isConnected()?o+="âœ… Model Selection: Connected\n":(o+="âŒ Model Selection: Not Available\n",this.modelSelectionService?o+="   Reason: Service disconnected\n":o+="   Reason: Service not initialized\n"):o+="âš ï¸ Model Selection: Disabled in settings\n",(null===(n=this.settings.vaultManagement)||void 0===n?void 0:n.enableVaultManagement)?this.vaultClient?o+="âœ… Vault Management: Enabled\n":o+="âŒ Vault Management: Failed to initialize\n":o+="âš ï¸ Vault Management: Disabled in settings\n",i.hide(),new e.Notice(o,15e3),this.settings.debugMode&&console.log("VaultPilot Service Status:",o)}catch(t){i.hide(),new e.Notice(`âŒ Failed to check service status: ${t instanceof Error?t.message:"Unknown error"}`,5e3)}})}retryModelSelectionManual(){return t(this,void 0,void 0,function*(){if(this.modelSelectionService&&this.modelSelectionService.isConnected())return void new e.Notice("Model selection already connected",3e3);const t=new e.Notice("Retrying model selection initialization...",0);try{yield this.initializeModelSelection(),t.hide(),new e.Notice("âœ… Model selection connected successfully",3e3)}catch(n){t.hide(),new e.Notice(`âŒ Model selection retry failed: ${n instanceof Error?n.message:"Unknown error"}`,5e3)}})}disconnectModelSelection(){return t(this,void 0,void 0,function*(){if(this.modelSelectionService)try{yield this.modelSelectionService.disconnect(),this.modelSelectionService=void 0,this.settings.debugMode&&console.log("ModelSelectionService disconnected")}catch(e){console.error("Error disconnecting ModelSelectionService:",e)}})}testModelSelection(){return t(this,void 0,void 0,function*(){if(!this.modelSelectionService)return void new e.Notice("âŒ Model selection service not initialized",5e3);const t=new e.Notice("ðŸ¤– Testing model selection...",0);try{const n=[{type:"text-generation",quality:"medium"},{type:"code-generation",quality:"high"},{type:"chat",quality:"low"},{type:"summarization",quality:"medium"}];let i=[];for(const e of n)try{const t=yield this.modelSelectionService.selectForTask(e.type,e.quality);i.push(`âœ… ${e.type}: ${t.selected_model.name} ($${t.estimated_cost.toFixed(4)})`)}catch(t){i.push(`âŒ ${e.type}: Failed - ${t instanceof Error?t.message:"Unknown error"}`)}t.hide();const o=i.join("\n");new e.Notice(`Model Selection Test Results:\n${o}`,1e4),this.settings.debugMode&&console.log("Model selection test results:",i)}catch(n){t.hide(),new e.Notice(`âŒ Model selection test failed: ${n instanceof Error?n.message:"Unknown error"}`,5e3)}})}showModelHealth(){return t(this,void 0,void 0,function*(){if(!this.modelSelectionService)return void new e.Notice("âŒ Model selection service not initialized",5e3);const t=new e.Notice("ðŸ¥ Checking model health...",0);try{const n=yield this.modelSelectionService.getModelHealth();if(t.hide(),0===n.length)return void new e.Notice("âš ï¸ No model health information available",5e3);const i=n.map(e=>`${"healthy"===e.status?"âœ…":"degraded"===e.status?"âš ï¸":"âŒ"} ${e.model_id}: ${e.status} (${e.response_time}ms, ${e.availability_percentage}%)`).join("\n");new e.Notice(`Model Health Status:\n${i}`,15e3),this.settings.debugMode&&console.log("Model health status:",n)}catch(n){t.hide(),new e.Notice(`âŒ Failed to get model health: ${n instanceof Error?n.message:"Unknown error"}`,5e3)}})}getBestModelForTask(e){return t(this,arguments,void 0,function*(e,t="medium"){var n,i;if(this.modelSelectionService&&this.modelSelectionService.isConnected())try{const n=yield this.modelSelectionService.selectForTask(e,t);return this.settings.debugMode&&console.log(`Selected model ${n.selected_model.name} for ${e} task`),n}catch(e){this.settings.debugMode&&console.warn("Model selection failed, using default:",e),(null===(n=this.settings.modelSelection)||void 0===n?void 0:n.enabled)&&!this.modelSelectionService.isConnected()&&this.retryModelSelectionInit(1).catch(()=>{})}else(null===(i=this.settings.modelSelection)||void 0===i?void 0:i.enabled)&&!this.modelSelectionService&&(this.settings.debugMode&&console.log("Model selection service not initialized, attempting initialization..."),this.initializeModelSelection().catch(()=>{}));return null})}loadEnhancedUIStyles(){const e="vaultpilot-enhanced-ui-styles",t=document.getElementById(e);t&&t.remove();const n=document.createElement("style");n.id=e,n.textContent='\n      /* VaultPilot Enhanced UI Styles */\n      @import url("app://obsidian.md/vault-management/enhanced-ui-styles.css");\n      \n      /* Fallback styles in case import fails */\n      .vaultpilot-progress-container {\n        position: fixed;\n        top: 20px;\n        right: 20px;\n        z-index: 10000;\n        pointer-events: none;\n        max-width: 400px;\n        font-family: var(--font-interface);\n      }\n      \n      .vaultpilot-progress-item {\n        background: var(--background-primary);\n        border: 1px solid var(--background-modifier-border);\n        border-radius: 8px;\n        padding: 12px 16px;\n        margin-bottom: 8px;\n        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n        min-width: 300px;\n        pointer-events: auto;\n        animation: slideInRight 0.3s ease-out;\n      }\n      \n      @keyframes slideInRight {\n        from { transform: translateX(100%); opacity: 0; }\n        to { transform: translateX(0); opacity: 1; }\n      }\n      \n      @keyframes slideOutRight {\n        from { transform: translateX(0); opacity: 1; }\n        to { transform: translateX(100%); opacity: 0; }\n      }\n    ',document.head.appendChild(n),this.settings.debugMode&&console.log("Enhanced UI styles loaded")}}exports.VaultPilotPlugin=oe,exports.__awaiter=t;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi0zMGVlMDNmMi5qcyIsInNvdXJjZXMiOlsiLi4vc3JjL3ZhdWx0LXNldHRpbmdzLnRzIiwiLi4vc3JjL3NldHRpbmdzLnRzIiwiLi4vc3JjL3ZpZXcudHMiLCIuLi9zcmMvZnVsbC10YWItdmlldy50cyIsIi4uL3NyYy92YXVsdC11dGlscy50cyIsIi4uL3NyYy9jaGF0LW1vZGFsLnRzIiwiLi4vc3JjL3dvcmtmbG93LW1vZGFsLnRzIiwiLi4vc3JjL2FwaS1jbGllbnQudHMiLCIuLi9zcmMvcGxhbm5lci50cyIsIi4uL3NyYy9wbGFuLW15LWRheS1kZWJ1Zy50cyIsIi4uL3NyYy92YXVsdC10eXBlcy50cyIsIi4uL3NyYy92YXVsdC1hcGktY2xpZW50LnRzIiwiLi4vc3JjL3V0aWxzL0Vudmlyb25tZW50RGV0ZWN0b3IudHMiLCIuLi9zcmMvZGV2cGlwZS9EZXZQaXBlQ2xpZW50LnRzIiwiLi4vc3JjL3R5cGVzL01vZGVsU2VsZWN0aW9uLnRzIiwiLi4vc3JjL3NlcnZpY2VzL01vZGVsU2VsZWN0aW9uU2VydmljZS50cyIsIi4uL3NyYy92YXVsdC1tb2RhbHMudHMiLCIuLi9zcmMvZGV2cGlwZS90cmFuc3BvcnRzL0RldlBpcGVUcmFuc3BvcnQudHMiLCIuLi9zcmMvY29tcG9uZW50cy9PbmJvYXJkaW5nV2l6YXJkLnRzIiwiLi4vc3JjL3NlcnZpY2VzL1JlY29tbWVuZGF0aW9uRW5naW5lLnRzIiwiLi4vc3JjL2RldnBpcGUvdHJhbnNwb3J0cy9CYXNlVHJhbnNwb3J0LnRzIiwiLi4vc3JjL2RldnBpcGUvdHJhbnNwb3J0cy9IVFRQVHJhbnNwb3J0LnRzIiwiLi4vc3JjL2RldnBpcGUvdHJhbnNwb3J0cy9XZWJTb2NrZXRUcmFuc3BvcnQudHMiLCIuLi9zcmMvZGV2cGlwZS90cmFuc3BvcnRzL0ZpbGVTeXN0ZW1UcmFuc3BvcnQudHMiLCIuLi9zcmMvZGV2cGlwZS9tb25pdG9yaW5nL1RyYW5zcG9ydEhlYWx0aE1vbml0b3IudHMiLCIuLi9zcmMvZGV2cGlwZS9UcmFuc3BvcnRNYW5hZ2VyLnRzIiwiLi4vc3JjL2NvbXBvbmVudHMvVHJhbnNwb3J0RGFzaGJvYXJkLnRzIiwiLi4vc3JjL2NvbXBvbmVudHMvQWR2YW5jZWRTZXR0aW5ncy50cyIsIi4uL3NyYy9jb21wb25lbnRzL1BoYXNlM0ludGVncmF0aW9uLnRzIiwiLi4vc3JjL3ZhdWx0LW1hbmFnZW1lbnQvZW5oYW5jZWQtdWktY29tcG9uZW50cy50cyIsIi4uL3NyYy92YXVsdC1tYW5hZ2VtZW50L2VuaGFuY2VkLWNvbW1hbmRzLnRzIiwiLi4vc3JjL21haW4udHMiLCIuLi9zcmMvdmF1bHQtY29tbWFuZHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBTZXR0aW5ncyBFeHRlbnNpb25zIGZvciBWYXVsdFBpbG90IFZhdWx0IE1hbmFnZW1lbnRcbiAqL1xuXG5pbXBvcnQgeyBTZXR0aW5nIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgVmF1bHRNYW5hZ2VtZW50U2V0dGluZ3MgfSBmcm9tICcuL3ZhdWx0LXR5cGVzJztcblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfVkFVTFRfTUFOQUdFTUVOVF9TRVRUSU5HUzogVmF1bHRNYW5hZ2VtZW50U2V0dGluZ3MgPSB7XG4gIGVuYWJsZVZhdWx0TWFuYWdlbWVudDogdHJ1ZSxcbiAgYXV0b1N5bmNWYXVsdFN0cnVjdHVyZTogZmFsc2UsXG4gIHNlYXJjaFJlc3VsdHNMaW1pdDogNTAsXG4gIGVuYWJsZVNtYXJ0U2VhcmNoOiB0cnVlLFxuICBiYXRjaE9wZXJhdGlvblRpbWVvdXQ6IDMwMDAwLFxuICBzaG93VmF1bHRTdGF0czogdHJ1ZSxcbiAgbWF4U2VhcmNoUmVzdWx0czogMTAwLFxuICBkZWZhdWx0U2VhcmNoVHlwZTogJ2NvbnRlbnQnLFxuICBlbmFibGVGaWxlT3BlcmF0aW9uczogdHJ1ZSxcbiAgY29uZmlybURlc3RydWN0aXZlT3BlcmF0aW9uczogdHJ1ZSxcbiAgYXV0b0JhY2t1cEJlZm9yZU9wZXJhdGlvbnM6IGZhbHNlXG59O1xuXG4vKipcbiAqIEFkZCB2YXVsdCBtYW5hZ2VtZW50IHNldHRpbmdzIHRvIHRoZSBzZXR0aW5ncyB0YWJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZFZhdWx0TWFuYWdlbWVudFNldHRpbmdzKGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCwgcGx1Z2luOiBhbnkpIHtcbiAgLy8gVmF1bHQgTWFuYWdlbWVudCBTZWN0aW9uIEhlYWRlclxuICBjb250YWluZXJFbC5jcmVhdGVFbCgnaDInLCB7IHRleHQ6ICdWYXVsdCBNYW5hZ2VtZW50JyB9KTtcbiAgY29udGFpbmVyRWwuY3JlYXRlRWwoJ3AnLCB7IFxuICAgIHRleHQ6ICdDb25maWd1cmUgQUktcG93ZXJlZCB2YXVsdCBzdHJ1Y3R1cmUgYW5hbHlzaXMgYW5kIGZpbGUgb3BlcmF0aW9ucy4nIFxuICB9KTtcblxuICAvLyBFbmFibGUgVmF1bHQgTWFuYWdlbWVudFxuICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAuc2V0TmFtZSgnRW5hYmxlIFZhdWx0IE1hbmFnZW1lbnQnKVxuICAgIC5zZXREZXNjKCdFbmFibGUgQUktcG93ZXJlZCB2YXVsdCBzdHJ1Y3R1cmUgYW5hbHlzaXMgYW5kIGZpbGUgb3BlcmF0aW9ucycpXG4gICAgLmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXG4gICAgICAuc2V0VmFsdWUocGx1Z2luLnNldHRpbmdzLnZhdWx0TWFuYWdlbWVudD8uZW5hYmxlVmF1bHRNYW5hZ2VtZW50ID8/IHRydWUpXG4gICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgIGlmICghcGx1Z2luLnNldHRpbmdzLnZhdWx0TWFuYWdlbWVudCkge1xuICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy52YXVsdE1hbmFnZW1lbnQgPSB7IC4uLkRFRkFVTFRfVkFVTFRfTUFOQUdFTUVOVF9TRVRUSU5HUyB9O1xuICAgICAgICB9XG4gICAgICAgIHBsdWdpbi5zZXR0aW5ncy52YXVsdE1hbmFnZW1lbnQuZW5hYmxlVmF1bHRNYW5hZ2VtZW50ID0gdmFsdWU7XG4gICAgICAgIGF3YWl0IHBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgXG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgIHBsdWdpbi5pbml0aWFsaXplVmF1bHRNYW5hZ2VtZW50KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGx1Z2luLmRpc2FibGVWYXVsdE1hbmFnZW1lbnQoKTtcbiAgICAgICAgfVxuICAgICAgfSkpO1xuXG4gIC8vIEF1dG8gU3luYyBWYXVsdCBTdHJ1Y3R1cmVcbiAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgLnNldE5hbWUoJ0F1dG8gU3luYyBWYXVsdCBTdHJ1Y3R1cmUnKVxuICAgIC5zZXREZXNjKCdBdXRvbWF0aWNhbGx5IHVwZGF0ZSB2YXVsdCBzdHJ1Y3R1cmUgYW5hbHlzaXMgd2hlbiBmaWxlcyBjaGFuZ2UnKVxuICAgIC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxuICAgICAgLnNldFZhbHVlKHBsdWdpbi5zZXR0aW5ncy52YXVsdE1hbmFnZW1lbnQ/LmF1dG9TeW5jVmF1bHRTdHJ1Y3R1cmUgPz8gZmFsc2UpXG4gICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgIGlmICghcGx1Z2luLnNldHRpbmdzLnZhdWx0TWFuYWdlbWVudCkge1xuICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy52YXVsdE1hbmFnZW1lbnQgPSB7IC4uLkRFRkFVTFRfVkFVTFRfTUFOQUdFTUVOVF9TRVRUSU5HUyB9O1xuICAgICAgICB9XG4gICAgICAgIHBsdWdpbi5zZXR0aW5ncy52YXVsdE1hbmFnZW1lbnQuYXV0b1N5bmNWYXVsdFN0cnVjdHVyZSA9IHZhbHVlO1xuICAgICAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICB9KSk7XG5cbiAgLy8gRW5hYmxlIFNtYXJ0IFNlYXJjaFxuICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAuc2V0TmFtZSgnRW5hYmxlIFNtYXJ0IFNlYXJjaCcpXG4gICAgLnNldERlc2MoJ1VzZSBBSS1wb3dlcmVkIHNlYXJjaCB3aXRoIGNvbnRleHQgYW5kIGluc2lnaHRzJylcbiAgICAuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcbiAgICAgIC5zZXRWYWx1ZShwbHVnaW4uc2V0dGluZ3MudmF1bHRNYW5hZ2VtZW50Py5lbmFibGVTbWFydFNlYXJjaCA/PyB0cnVlKVxuICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICBpZiAoIXBsdWdpbi5zZXR0aW5ncy52YXVsdE1hbmFnZW1lbnQpIHtcbiAgICAgICAgICBwbHVnaW4uc2V0dGluZ3MudmF1bHRNYW5hZ2VtZW50ID0geyAuLi5ERUZBVUxUX1ZBVUxUX01BTkFHRU1FTlRfU0VUVElOR1MgfTtcbiAgICAgICAgfVxuICAgICAgICBwbHVnaW4uc2V0dGluZ3MudmF1bHRNYW5hZ2VtZW50LmVuYWJsZVNtYXJ0U2VhcmNoID0gdmFsdWU7XG4gICAgICAgIGF3YWl0IHBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgIH0pKTtcblxuICAvLyBTZWFyY2ggUmVzdWx0cyBMaW1pdFxuICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAuc2V0TmFtZSgnU2VhcmNoIFJlc3VsdHMgTGltaXQnKVxuICAgIC5zZXREZXNjKCdNYXhpbXVtIG51bWJlciBvZiBzZWFyY2ggcmVzdWx0cyB0byBkaXNwbGF5JylcbiAgICAuYWRkU2xpZGVyKHNsaWRlciA9PiBzbGlkZXJcbiAgICAgIC5zZXRMaW1pdHMoMTAsIDIwMCwgMTApXG4gICAgICAuc2V0VmFsdWUocGx1Z2luLnNldHRpbmdzLnZhdWx0TWFuYWdlbWVudD8uc2VhcmNoUmVzdWx0c0xpbWl0ID8/IDUwKVxuICAgICAgLnNldER5bmFtaWNUb29sdGlwKClcbiAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgaWYgKCFwbHVnaW4uc2V0dGluZ3MudmF1bHRNYW5hZ2VtZW50KSB7XG4gICAgICAgICAgcGx1Z2luLnNldHRpbmdzLnZhdWx0TWFuYWdlbWVudCA9IHsgLi4uREVGQVVMVF9WQVVMVF9NQU5BR0VNRU5UX1NFVFRJTkdTIH07XG4gICAgICAgIH1cbiAgICAgICAgcGx1Z2luLnNldHRpbmdzLnZhdWx0TWFuYWdlbWVudC5zZWFyY2hSZXN1bHRzTGltaXQgPSB2YWx1ZTtcbiAgICAgICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgfSkpO1xuXG4gIC8vIERlZmF1bHQgU2VhcmNoIFR5cGVcbiAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgLnNldE5hbWUoJ0RlZmF1bHQgU2VhcmNoIFR5cGUnKVxuICAgIC5zZXREZXNjKCdEZWZhdWx0IHNlYXJjaCBtb2RlIGZvciBzbWFydCBzZWFyY2gnKVxuICAgIC5hZGREcm9wZG93bihkcm9wZG93biA9PiBkcm9wZG93blxuICAgICAgLmFkZE9wdGlvbignY29udGVudCcsICdDb250ZW50IFNlYXJjaCcpXG4gICAgICAuYWRkT3B0aW9uKCdmaWxlbmFtZScsICdGaWxlbmFtZSBTZWFyY2gnKVxuICAgICAgLmFkZE9wdGlvbigndGFncycsICdUYWcgU2VhcmNoJylcbiAgICAgIC5hZGRPcHRpb24oJ2xpbmtzJywgJ0xpbmsgU2VhcmNoJylcbiAgICAgIC5hZGRPcHRpb24oJ2NvbXByZWhlbnNpdmUnLCAnQ29tcHJlaGVuc2l2ZSBTZWFyY2gnKVxuICAgICAgLnNldFZhbHVlKHBsdWdpbi5zZXR0aW5ncy52YXVsdE1hbmFnZW1lbnQ/LmRlZmF1bHRTZWFyY2hUeXBlID8/ICdjb250ZW50JylcbiAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgaWYgKCFwbHVnaW4uc2V0dGluZ3MudmF1bHRNYW5hZ2VtZW50KSB7XG4gICAgICAgICAgcGx1Z2luLnNldHRpbmdzLnZhdWx0TWFuYWdlbWVudCA9IHsgLi4uREVGQVVMVF9WQVVMVF9NQU5BR0VNRU5UX1NFVFRJTkdTIH07XG4gICAgICAgIH1cbiAgICAgICAgcGx1Z2luLnNldHRpbmdzLnZhdWx0TWFuYWdlbWVudC5kZWZhdWx0U2VhcmNoVHlwZSA9IHZhbHVlIGFzIGFueTtcbiAgICAgICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgfSkpO1xuXG4gIC8vIEVuYWJsZSBGaWxlIE9wZXJhdGlvbnNcbiAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgLnNldE5hbWUoJ0VuYWJsZSBGaWxlIE9wZXJhdGlvbnMnKVxuICAgIC5zZXREZXNjKCdBbGxvdyBmaWxlIGNyZWF0aW9uLCBkZWxldGlvbiwgYW5kIG1vZGlmaWNhdGlvbiB0aHJvdWdoIHRoZSBpbnRlcmZhY2UnKVxuICAgIC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxuICAgICAgLnNldFZhbHVlKHBsdWdpbi5zZXR0aW5ncy52YXVsdE1hbmFnZW1lbnQ/LmVuYWJsZUZpbGVPcGVyYXRpb25zID8/IHRydWUpXG4gICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgIGlmICghcGx1Z2luLnNldHRpbmdzLnZhdWx0TWFuYWdlbWVudCkge1xuICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy52YXVsdE1hbmFnZW1lbnQgPSB7IC4uLkRFRkFVTFRfVkFVTFRfTUFOQUdFTUVOVF9TRVRUSU5HUyB9O1xuICAgICAgICB9XG4gICAgICAgIHBsdWdpbi5zZXR0aW5ncy52YXVsdE1hbmFnZW1lbnQuZW5hYmxlRmlsZU9wZXJhdGlvbnMgPSB2YWx1ZTtcbiAgICAgICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgfSkpO1xuXG4gIC8vIENvbmZpcm0gRGVzdHJ1Y3RpdmUgT3BlcmF0aW9uc1xuICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAuc2V0TmFtZSgnQ29uZmlybSBEZXN0cnVjdGl2ZSBPcGVyYXRpb25zJylcbiAgICAuc2V0RGVzYygnU2hvdyBjb25maXJtYXRpb24gZGlhbG9nIGZvciBmaWxlIGRlbGV0aW9uIGFuZCBkZXN0cnVjdGl2ZSBvcGVyYXRpb25zJylcbiAgICAuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcbiAgICAgIC5zZXRWYWx1ZShwbHVnaW4uc2V0dGluZ3MudmF1bHRNYW5hZ2VtZW50Py5jb25maXJtRGVzdHJ1Y3RpdmVPcGVyYXRpb25zID8/IHRydWUpXG4gICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgIGlmICghcGx1Z2luLnNldHRpbmdzLnZhdWx0TWFuYWdlbWVudCkge1xuICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy52YXVsdE1hbmFnZW1lbnQgPSB7IC4uLkRFRkFVTFRfVkFVTFRfTUFOQUdFTUVOVF9TRVRUSU5HUyB9O1xuICAgICAgICB9XG4gICAgICAgIHBsdWdpbi5zZXR0aW5ncy52YXVsdE1hbmFnZW1lbnQuY29uZmlybURlc3RydWN0aXZlT3BlcmF0aW9ucyA9IHZhbHVlO1xuICAgICAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICB9KSk7XG5cbiAgLy8gQXV0byBCYWNrdXAgQmVmb3JlIE9wZXJhdGlvbnNcbiAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgLnNldE5hbWUoJ0F1dG8gQmFja3VwIEJlZm9yZSBPcGVyYXRpb25zJylcbiAgICAuc2V0RGVzYygnQXV0b21hdGljYWxseSBjcmVhdGUgYmFja3VwcyBiZWZvcmUgZGVzdHJ1Y3RpdmUgZmlsZSBvcGVyYXRpb25zJylcbiAgICAuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcbiAgICAgIC5zZXRWYWx1ZShwbHVnaW4uc2V0dGluZ3MudmF1bHRNYW5hZ2VtZW50Py5hdXRvQmFja3VwQmVmb3JlT3BlcmF0aW9ucyA/PyBmYWxzZSlcbiAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgaWYgKCFwbHVnaW4uc2V0dGluZ3MudmF1bHRNYW5hZ2VtZW50KSB7XG4gICAgICAgICAgcGx1Z2luLnNldHRpbmdzLnZhdWx0TWFuYWdlbWVudCA9IHsgLi4uREVGQVVMVF9WQVVMVF9NQU5BR0VNRU5UX1NFVFRJTkdTIH07XG4gICAgICAgIH1cbiAgICAgICAgcGx1Z2luLnNldHRpbmdzLnZhdWx0TWFuYWdlbWVudC5hdXRvQmFja3VwQmVmb3JlT3BlcmF0aW9ucyA9IHZhbHVlO1xuICAgICAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICB9KSk7XG5cbiAgLy8gQmF0Y2ggT3BlcmF0aW9uIFRpbWVvdXRcbiAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgLnNldE5hbWUoJ0JhdGNoIE9wZXJhdGlvbiBUaW1lb3V0JylcbiAgICAuc2V0RGVzYygnVGltZW91dCBmb3IgYmF0Y2ggb3BlcmF0aW9ucyBpbiBtaWxsaXNlY29uZHMnKVxuICAgIC5hZGRUZXh0KHRleHQgPT4gdGV4dFxuICAgICAgLnNldFBsYWNlaG9sZGVyKCczMDAwMCcpXG4gICAgICAuc2V0VmFsdWUoU3RyaW5nKHBsdWdpbi5zZXR0aW5ncy52YXVsdE1hbmFnZW1lbnQ/LmJhdGNoT3BlcmF0aW9uVGltZW91dCA/PyAzMDAwMCkpXG4gICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgIGNvbnN0IHRpbWVvdXQgPSBwYXJzZUludCh2YWx1ZSkgfHwgMzAwMDA7XG4gICAgICAgIGlmICghcGx1Z2luLnNldHRpbmdzLnZhdWx0TWFuYWdlbWVudCkge1xuICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy52YXVsdE1hbmFnZW1lbnQgPSB7IC4uLkRFRkFVTFRfVkFVTFRfTUFOQUdFTUVOVF9TRVRUSU5HUyB9O1xuICAgICAgICB9XG4gICAgICAgIHBsdWdpbi5zZXR0aW5ncy52YXVsdE1hbmFnZW1lbnQuYmF0Y2hPcGVyYXRpb25UaW1lb3V0ID0gdGltZW91dDtcbiAgICAgICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgfSkpO1xuXG4gIC8vIFNob3cgVmF1bHQgU3RhdHNcbiAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgLnNldE5hbWUoJ1Nob3cgVmF1bHQgU3RhdGlzdGljcycpXG4gICAgLnNldERlc2MoJ0Rpc3BsYXkgdmF1bHQgc3RhdGlzdGljcyBpbiBtb2RhbHMgYW5kIGludGVyZmFjZXMnKVxuICAgIC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxuICAgICAgLnNldFZhbHVlKHBsdWdpbi5zZXR0aW5ncy52YXVsdE1hbmFnZW1lbnQ/LnNob3dWYXVsdFN0YXRzID8/IHRydWUpXG4gICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgIGlmICghcGx1Z2luLnNldHRpbmdzLnZhdWx0TWFuYWdlbWVudCkge1xuICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy52YXVsdE1hbmFnZW1lbnQgPSB7IC4uLkRFRkFVTFRfVkFVTFRfTUFOQUdFTUVOVF9TRVRUSU5HUyB9O1xuICAgICAgICB9XG4gICAgICAgIHBsdWdpbi5zZXR0aW5ncy52YXVsdE1hbmFnZW1lbnQuc2hvd1ZhdWx0U3RhdHMgPSB2YWx1ZTtcbiAgICAgICAgYXdhaXQgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgfSkpO1xuXG4gIC8vIFRlc3QgQ29ubmVjdGlvbiBCdXR0b25cbiAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgLnNldE5hbWUoJ1Rlc3QgVmF1bHQgTWFuYWdlbWVudCBDb25uZWN0aW9uJylcbiAgICAuc2V0RGVzYygnVGVzdCBjb25uZWN0aW9uIHRvIHZhdWx0IG1hbmFnZW1lbnQgZW5kcG9pbnRzJylcbiAgICAuYWRkQnV0dG9uKGJ1dHRvbiA9PiBidXR0b25cbiAgICAgIC5zZXRCdXR0b25UZXh0KCdUZXN0IENvbm5lY3Rpb24nKVxuICAgICAgLnNldEN0YSgpXG4gICAgICAub25DbGljayhhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghcGx1Z2luLnZhdWx0Q2xpZW50KSB7XG4gICAgICAgICAgYnV0dG9uLnNldEJ1dHRvblRleHQoJ05vdCBBdmFpbGFibGUnKTtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IGJ1dHRvbi5zZXRCdXR0b25UZXh0KCdUZXN0IENvbm5lY3Rpb24nKSwgMjAwMCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgYnV0dG9uLnNldEJ1dHRvblRleHQoJ1Rlc3RpbmcuLi4nKTtcbiAgICAgICAgYnV0dG9uLnNldERpc2FibGVkKHRydWUpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcGx1Z2luLnZhdWx0Q2xpZW50LnRlc3RDb25uZWN0aW9uKCk7XG4gICAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgICBidXR0b24uc2V0QnV0dG9uVGV4dCgn4pyFIENvbm5lY3RlZCcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBidXR0b24uc2V0QnV0dG9uVGV4dCgn4p2MIEZhaWxlZCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBidXR0b24uc2V0QnV0dG9uVGV4dCgn4p2MIEVycm9yJyk7XG4gICAgICAgIH1cblxuICAgICAgICBidXR0b24uc2V0RGlzYWJsZWQoZmFsc2UpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IGJ1dHRvbi5zZXRCdXR0b25UZXh0KCdUZXN0IENvbm5lY3Rpb24nKSwgMzAwMCk7XG4gICAgICB9KSk7XG5cbiAgLy8gQWR2YW5jZWQgU2V0dGluZ3MgU2VjdGlvblxuICBjb250YWluZXJFbC5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdBZHZhbmNlZCBWYXVsdCBNYW5hZ2VtZW50JyB9KTtcblxuICAvLyBNYXggU2VhcmNoIFJlc3VsdHNcbiAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgLnNldE5hbWUoJ01heGltdW0gU2VhcmNoIFJlc3VsdHMnKVxuICAgIC5zZXREZXNjKCdBYnNvbHV0ZSBtYXhpbXVtIG51bWJlciBvZiBzZWFyY2ggcmVzdWx0cyB0byBmZXRjaCBmcm9tIGJhY2tlbmQnKVxuICAgIC5hZGRTbGlkZXIoc2xpZGVyID0+IHNsaWRlclxuICAgICAgLnNldExpbWl0cyg1MCwgNTAwLCAyNSlcbiAgICAgIC5zZXRWYWx1ZShwbHVnaW4uc2V0dGluZ3MudmF1bHRNYW5hZ2VtZW50Py5tYXhTZWFyY2hSZXN1bHRzID8/IDEwMClcbiAgICAgIC5zZXREeW5hbWljVG9vbHRpcCgpXG4gICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgIGlmICghcGx1Z2luLnNldHRpbmdzLnZhdWx0TWFuYWdlbWVudCkge1xuICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy52YXVsdE1hbmFnZW1lbnQgPSB7IC4uLkRFRkFVTFRfVkFVTFRfTUFOQUdFTUVOVF9TRVRUSU5HUyB9O1xuICAgICAgICB9XG4gICAgICAgIHBsdWdpbi5zZXR0aW5ncy52YXVsdE1hbmFnZW1lbnQubWF4U2VhcmNoUmVzdWx0cyA9IHZhbHVlO1xuICAgICAgICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICB9KSk7XG5cbiAgLy8gUmVzZXQgdG8gRGVmYXVsdHMgQnV0dG9uXG4gIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgIC5zZXROYW1lKCdSZXNldCBWYXVsdCBNYW5hZ2VtZW50IFNldHRpbmdzJylcbiAgICAuc2V0RGVzYygnUmVzZXQgYWxsIHZhdWx0IG1hbmFnZW1lbnQgc2V0dGluZ3MgdG8gdGhlaXIgZGVmYXVsdCB2YWx1ZXMnKVxuICAgIC5hZGRCdXR0b24oYnV0dG9uID0+IGJ1dHRvblxuICAgICAgLnNldEJ1dHRvblRleHQoJ1Jlc2V0IHRvIERlZmF1bHRzJylcbiAgICAgIC5zZXRXYXJuaW5nKClcbiAgICAgIC5vbkNsaWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgcGx1Z2luLnNldHRpbmdzLnZhdWx0TWFuYWdlbWVudCA9IHsgLi4uREVGQVVMVF9WQVVMVF9NQU5BR0VNRU5UX1NFVFRJTkdTIH07XG4gICAgICAgIGF3YWl0IHBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFJlZnJlc2ggdGhlIHNldHRpbmdzIGRpc3BsYXlcbiAgICAgICAgY29uc3Qgc2V0dGluZ3NUYWIgPSBwbHVnaW4uYXBwLnNldHRpbmcuYWN0aXZlVGFiO1xuICAgICAgICBpZiAoc2V0dGluZ3NUYWIgJiYgc2V0dGluZ3NUYWIuZGlzcGxheSkge1xuICAgICAgICAgIHNldHRpbmdzVGFiLmRpc3BsYXkoKTtcbiAgICAgICAgfVxuICAgICAgfSkpO1xufVxuXG4vKipcbiAqIFZhbGlkYXRlIHZhdWx0IG1hbmFnZW1lbnQgc2V0dGluZ3NcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlVmF1bHRNYW5hZ2VtZW50U2V0dGluZ3Moc2V0dGluZ3M6IFZhdWx0TWFuYWdlbWVudFNldHRpbmdzKTogc3RyaW5nW10ge1xuICBjb25zdCBlcnJvcnM6IHN0cmluZ1tdID0gW107XG5cbiAgaWYgKHNldHRpbmdzLnNlYXJjaFJlc3VsdHNMaW1pdCA8IDEgfHwgc2V0dGluZ3Muc2VhcmNoUmVzdWx0c0xpbWl0ID4gMTAwMCkge1xuICAgIGVycm9ycy5wdXNoKCdTZWFyY2ggcmVzdWx0cyBsaW1pdCBtdXN0IGJlIGJldHdlZW4gMSBhbmQgMTAwMCcpO1xuICB9XG5cbiAgaWYgKHNldHRpbmdzLm1heFNlYXJjaFJlc3VsdHMgPCBzZXR0aW5ncy5zZWFyY2hSZXN1bHRzTGltaXQpIHtcbiAgICBlcnJvcnMucHVzaCgnTWF4aW11bSBzZWFyY2ggcmVzdWx0cyBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBzZWFyY2ggcmVzdWx0cyBsaW1pdCcpO1xuICB9XG5cbiAgaWYgKHNldHRpbmdzLmJhdGNoT3BlcmF0aW9uVGltZW91dCA8IDEwMDAgfHwgc2V0dGluZ3MuYmF0Y2hPcGVyYXRpb25UaW1lb3V0ID4gMzAwMDAwKSB7XG4gICAgZXJyb3JzLnB1c2goJ0JhdGNoIG9wZXJhdGlvbiB0aW1lb3V0IG11c3QgYmUgYmV0d2VlbiAxIHNlY29uZCBhbmQgNSBtaW51dGVzJyk7XG4gIH1cblxuICBjb25zdCB2YWxpZFNlYXJjaFR5cGVzID0gWydjb250ZW50JywgJ2ZpbGVuYW1lJywgJ3RhZ3MnLCAnbGlua3MnLCAnY29tcHJlaGVuc2l2ZSddO1xuICBpZiAoIXZhbGlkU2VhcmNoVHlwZXMuaW5jbHVkZXMoc2V0dGluZ3MuZGVmYXVsdFNlYXJjaFR5cGUpKSB7XG4gICAgZXJyb3JzLnB1c2goJ0ludmFsaWQgZGVmYXVsdCBzZWFyY2ggdHlwZScpO1xuICB9XG5cbiAgcmV0dXJuIGVycm9ycztcbn1cblxuLyoqXG4gKiBHZXQgdmF1bHQgbWFuYWdlbWVudCBzZXR0aW5ncyB3aXRoIGRlZmF1bHRzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRWYXVsdE1hbmFnZW1lbnRTZXR0aW5ncyhwbHVnaW5TZXR0aW5nczogYW55KTogVmF1bHRNYW5hZ2VtZW50U2V0dGluZ3Mge1xuICByZXR1cm4ge1xuICAgIC4uLkRFRkFVTFRfVkFVTFRfTUFOQUdFTUVOVF9TRVRUSU5HUyxcbiAgICAuLi4ocGx1Z2luU2V0dGluZ3MudmF1bHRNYW5hZ2VtZW50IHx8IHt9KVxuICB9O1xufVxuIiwiaW1wb3J0IHsgQXBwLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nLCBOb3RpY2UgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgdHlwZSBWYXVsdFBpbG90UGx1Z2luIGZyb20gJy4vbWFpbic7XG5pbXBvcnQgeyBWYXVsdFBpbG90U2V0dGluZ3MsIE1vZGVsU2VsZWN0aW9uU2V0dGluZ3MgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IGFkZFZhdWx0TWFuYWdlbWVudFNldHRpbmdzLCBERUZBVUxUX1ZBVUxUX01BTkFHRU1FTlRfU0VUVElOR1MgfSBmcm9tICcuL3ZhdWx0LXNldHRpbmdzJztcblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0VUVElOR1M6IFZhdWx0UGlsb3RTZXR0aW5ncyA9IHtcbiAgYmFja2VuZFVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMCcsXG4gIGFwaUtleTogJycsXG4gIGVuYWJsZVdlYlNvY2tldDogdHJ1ZSxcbiAgZW5hYmxlQ29waWxvdDogdHJ1ZSxcbiAgZW5hYmxlQXV0b0NvbXBsZXRlOiBmYWxzZSwgLy8gRGlzYWJsZWQgYnkgZGVmYXVsdCB0byBwcmV2ZW50IGZyZXF1ZW50IHJlcXVlc3RzXG4gIGRlZmF1bHRBZ2VudDogJycsXG4gIGRlZmF1bHRNb2RlOiAnYXNrJyxcbiAgY2hhdEhpc3RvcnlMaW1pdDogMTAwLFxuICBkZWJ1Z01vZGU6IGZhbHNlLFxuICBzaG93SW50ZW50RGVidWc6IGZhbHNlLFxuICB2YXVsdE1hbmFnZW1lbnQ6IERFRkFVTFRfVkFVTFRfTUFOQUdFTUVOVF9TRVRUSU5HUyxcbiAgbW9kZWxTZWxlY3Rpb246IHtcbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIGRldnBpcGVQYXRoOiAnLi4vZGV2LXBpcGUnLFxuICAgIG1vbml0b3JpbmdJbnRlcnZhbDogMzAwMDAsXG4gICAgZmFsbGJhY2tFbmFibGVkOiB0cnVlLFxuICAgIGNhY2hlRHVyYXRpb246IDMwMDAwMCxcbiAgICByZXRyeUF0dGVtcHRzOiAzLFxuICAgIHRpbWVvdXQ6IDMwMDAwLFxuICAgIGRlYnVnTW9kZTogZmFsc2UsXG4gICAgdXNlclByZWZlcmVuY2VzOiB7XG4gICAgICBwcmlvcml0eTogJ2JhbGFuY2VkJyxcbiAgICAgIG1heENvc3RQZXJSZXF1ZXN0OiAwLjUwLFxuICAgICAgcHJlZmVycmVkUHJvdmlkZXJzOiBbXSxcbiAgICAgIHF1YWxpdHlUaHJlc2hvbGQ6IDAuN1xuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IGNsYXNzIFZhdWx0UGlsb3RTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG4gIHBsdWdpbjogVmF1bHRQaWxvdFBsdWdpbjtcblxuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBWYXVsdFBpbG90UGx1Z2luKSB7XG4gICAgc3VwZXIoYXBwLCBwbHVnaW4pO1xuICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICB9XG5cbiAgZGlzcGxheSgpOiB2b2lkIHtcbiAgICBjb25zdCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzO1xuICAgIGNvbnRhaW5lckVsLmVtcHR5KCk7XG4gICAgXG4gICAgY29udGFpbmVyRWwuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAnVmF1bHRQaWxvdCBTZXR0aW5ncycgfSk7XG4gICAgY29udGFpbmVyRWwuY3JlYXRlRWwoJ3AnLCB7IFxuICAgICAgdGV4dDogJ0NvbmZpZ3VyZSB5b3VyIGNvbm5lY3Rpb24gdG8gRXZvQWdlbnRYIGJhY2tlbmQgYW5kIEFJIGZlYXR1cmVzLicgXG4gICAgfSk7XG5cbiAgICAvLyBDb25uZWN0aW9uIFNldHRpbmdzXG4gICAgY29udGFpbmVyRWwuY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnQ29ubmVjdGlvbicgfSk7XG5cbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKCdCYWNrZW5kIFVSTCcpXG4gICAgICAuc2V0RGVzYygnVVJMIG9mIEV2b0FnZW50WCBiYWNrZW5kIHNlcnZlcicpXG4gICAgICAuYWRkVGV4dCh0ZXh0ID0+XG4gICAgICAgIHRleHRcbiAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMCcpXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmJhY2tlbmRVcmwpXG4gICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jIHZhbHVlID0+IHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmJhY2tlbmRVcmwgPSB2YWx1ZTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZSgnQVBJIEtleScpXG4gICAgICAuc2V0RGVzYygnT3B0aW9uYWwgQVBJIGtleSBmb3IgYXV0aGVudGljYXRpb24gKGlmIHJlcXVpcmVkIGJ5IGJhY2tlbmQpJylcbiAgICAgIC5hZGRUZXh0KHRleHQgPT5cbiAgICAgICAgdGV4dFxuICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcignRW50ZXIgQVBJIGtleS4uLicpXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmFwaUtleSB8fCAnJylcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgdmFsdWUgPT4ge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuYXBpS2V5ID0gdmFsdWU7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICB9KVxuICAgICAgKTtcblxuICAgIC8vIFRlc3QgY29ubmVjdGlvbiBidXR0b25cbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKCdDb25uZWN0aW9uIFRlc3QnKVxuICAgICAgLnNldERlc2MoJ1Rlc3QgY29ubmVjdGlvbiB0byBFdm9BZ2VudFggYmFja2VuZCcpXG4gICAgICAuYWRkQnV0dG9uKGJ1dHRvbiA9PlxuICAgICAgICBidXR0b25cbiAgICAgICAgICAuc2V0QnV0dG9uVGV4dCgnVGVzdCBDb25uZWN0aW9uJylcbiAgICAgICAgICAub25DbGljayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnRlc3RDb25uZWN0aW9uKCk7XG4gICAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAvLyBGZWF0dXJlIFNldHRpbmdzXG4gICAgY29udGFpbmVyRWwuY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnRmVhdHVyZXMnIH0pO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZSgnRW5hYmxlIFdlYlNvY2tldCcpXG4gICAgICAuc2V0RGVzYygnRW5hYmxlIHJlYWwtdGltZSBjb21tdW5pY2F0aW9uIGZvciBsaXZlIHVwZGF0ZXMgYW5kIHByb2dyZXNzIHRyYWNraW5nJylcbiAgICAgIC5hZGRUb2dnbGUodG9nZ2xlID0+XG4gICAgICAgIHRvZ2dsZVxuICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVXZWJTb2NrZXQpXG4gICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jIHZhbHVlID0+IHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmVuYWJsZVdlYlNvY2tldCA9IHZhbHVlO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uY29ubmVjdFdlYlNvY2tldCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uZGlzY29ubmVjdFdlYlNvY2tldCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZSgnRW5hYmxlIENvcGlsb3QnKVxuICAgICAgLnNldERlc2MoJ0VuYWJsZSBBSS1wb3dlcmVkIHRleHQgY29tcGxldGlvbiBhbmQgc3VnZ2VzdGlvbnMnKVxuICAgICAgLmFkZFRvZ2dsZSh0b2dnbGUgPT5cbiAgICAgICAgdG9nZ2xlXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmVuYWJsZUNvcGlsb3QpXG4gICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jIHZhbHVlID0+IHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmVuYWJsZUNvcGlsb3QgPSB2YWx1ZTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZSgnRW5hYmxlIEF1dG8tQ29tcGxldGUnKVxuICAgICAgLnNldERlc2MoJ0F1dG9tYXRpY2FsbHkgc3VnZ2VzdCBjb21wbGV0aW9ucyBhZnRlciBzZW50ZW5jZSBlbmRpbmdzIGFuZCBuZXcgbGluZXMgKHdpdGggMTBzIGNvb2xkb3duKScpXG4gICAgICAuYWRkVG9nZ2xlKHRvZ2dsZSA9PlxuICAgICAgICB0b2dnbGVcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZW5hYmxlQXV0b0NvbXBsZXRlKVxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyB2YWx1ZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVBdXRvQ29tcGxldGUgPSB2YWx1ZTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgLy8gQWdlbnQgU2V0dGluZ3NcbiAgICBjb250YWluZXJFbC5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdBZ2VudCBDb25maWd1cmF0aW9uJyB9KTtcblxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoJ0RlZmF1bHQgQWdlbnQnKVxuICAgICAgLnNldERlc2MoJ0RlZmF1bHQgYWdlbnQgdG8gdXNlIGZvciBjaGF0IGFuZCB3b3JrZmxvd3MgKGxlYXZlIGVtcHR5IGZvciBhdXRvLXNlbGVjdGlvbiknKVxuICAgICAgLmFkZFRleHQodGV4dCA9PlxuICAgICAgICB0ZXh0XG4gICAgICAgICAgLnNldFBsYWNlaG9sZGVyKCdBZ2VudCBJRCBvciBuYW1lLi4uJylcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVmYXVsdEFnZW50IHx8ICcnKVxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyB2YWx1ZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5kZWZhdWx0QWdlbnQgPSB2YWx1ZTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZSgnRGVmYXVsdCBDaGF0IE1vZGUnKVxuICAgICAgLnNldERlc2MoJ0RlZmF1bHQgbW9kZSBmb3IgbmV3IGNoYXQgc2Vzc2lvbnM6IEFzayBmb3Igc2ltcGxlIFEmQSwgQWdlbnQgZm9yIGNvbXBsZXggd29ya2Zsb3dzJylcbiAgICAgIC5hZGREcm9wZG93bihkcm9wZG93biA9PlxuICAgICAgICBkcm9wZG93blxuICAgICAgICAgIC5hZGRPcHRpb24oJ2FzaycsICdBc2sgTW9kZSAtIFNpbXBsZSBRJkEnKVxuICAgICAgICAgIC5hZGRPcHRpb24oJ2FnZW50JywgJ0FnZW50IE1vZGUgLSBDb21wbGV4IFdvcmtmbG93cycpXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmRlZmF1bHRNb2RlKVxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyB2YWx1ZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5kZWZhdWx0TW9kZSA9IHZhbHVlIGFzICdhc2snIHwgJ2FnZW50JztcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZSgnQ2hhdCBIaXN0b3J5IExpbWl0JylcbiAgICAgIC5zZXREZXNjKCdNYXhpbXVtIG51bWJlciBvZiBjaGF0IG1lc3NhZ2VzIHRvIGtlZXAgaW4gaGlzdG9yeScpXG4gICAgICAuYWRkU2xpZGVyKHNsaWRlciA9PlxuICAgICAgICBzbGlkZXJcbiAgICAgICAgICAuc2V0TGltaXRzKDEwLCA1MDAsIDEwKVxuICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5jaGF0SGlzdG9yeUxpbWl0KVxuICAgICAgICAgIC5zZXREeW5hbWljVG9vbHRpcCgpXG4gICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jIHZhbHVlID0+IHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmNoYXRIaXN0b3J5TGltaXQgPSB2YWx1ZTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgLy8gQWR2YW5jZWQgU2V0dGluZ3NcbiAgICBjb250YWluZXJFbC5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdBZHZhbmNlZCcgfSk7XG5cbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKCdEZWJ1ZyBNb2RlJylcbiAgICAgIC5zZXREZXNjKCdFbmFibGUgZGVidWcgbG9nZ2luZyBhbmQgYWRkaXRpb25hbCBkZXZlbG9wZXIgZmVhdHVyZXMnKVxuICAgICAgLmFkZFRvZ2dsZSh0b2dnbGUgPT5cbiAgICAgICAgdG9nZ2xlXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmRlYnVnTW9kZSlcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgdmFsdWUgPT4ge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVidWdNb2RlID0gdmFsdWU7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICB9KVxuICAgICAgKTtcblxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoJ1Nob3cgSW50ZW50IERlYnVnIE92ZXJsYXknKVxuICAgICAgLnNldERlc2MoJ0Rpc3BsYXkgYXV0b21hdGljIGludGVudCBkZXRlY3Rpb24gaW4gY2hhdCAoQXNrIHZzIEFnZW50IG1vZGUpJylcbiAgICAgIC5hZGRUb2dnbGUodG9nZ2xlID0+XG4gICAgICAgIHRvZ2dsZVxuICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93SW50ZW50RGVidWcpXG4gICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jIHZhbHVlID0+IHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dJbnRlbnREZWJ1ZyA9IHZhbHVlO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAvLyBWYXVsdCBNYW5hZ2VtZW50IFNldHRpbmdzXG4gICAgY29udGFpbmVyRWwuY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnVmF1bHQgTWFuYWdlbWVudCcgfSk7XG4gICAgYWRkVmF1bHRNYW5hZ2VtZW50U2V0dGluZ3MoY29udGFpbmVyRWwsIHRoaXMucGx1Z2luKTtcblxuICAgIC8vIE1vZGVsIFNlbGVjdGlvbiBTZXR0aW5nc1xuICAgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ01vZGVsIFNlbGVjdGlvbicgfSk7XG4gICAgXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZSgnRW5hYmxlIE1vZGVsIFNlbGVjdGlvbicpXG4gICAgICAuc2V0RGVzYygnRW5hYmxlIGludGVsbGlnZW50IEFJIG1vZGVsIHNlbGVjdGlvbiBiYXNlZCBvbiB0YXNrIHR5cGUgYW5kIHJlcXVpcmVtZW50cycpXG4gICAgICAuYWRkVG9nZ2xlKHRvZ2dsZSA9PlxuICAgICAgICB0b2dnbGVcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MubW9kZWxTZWxlY3Rpb24/LmVuYWJsZWQgPz8gdHJ1ZSlcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgdmFsdWUgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnBsdWdpbi5zZXR0aW5ncy5tb2RlbFNlbGVjdGlvbikge1xuICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5tb2RlbFNlbGVjdGlvbiA9IERFRkFVTFRfU0VUVElOR1MubW9kZWxTZWxlY3Rpb24hO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MubW9kZWxTZWxlY3Rpb24uZW5hYmxlZCA9IHZhbHVlO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAvLyBJbml0aWFsaXplIG1vZGVsIHNlbGVjdGlvbiBzZXJ2aWNlIGlmIGVuYWJsZWRcbiAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uaW5pdGlhbGl6ZU1vZGVsU2VsZWN0aW9uKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBEaXNjb25uZWN0IG1vZGVsIHNlbGVjdGlvbiBzZXJ2aWNlIGlmIGRpc2FibGVkXG4gICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmRpc2Nvbm5lY3RNb2RlbFNlbGVjdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZSgnRGV2UGlwZSBQYXRoJylcbiAgICAgIC5zZXREZXNjKCdQYXRoIHRvIHRoZSBEZXZQaXBlIGNvbW11bmljYXRpb24gZGlyZWN0b3J5JylcbiAgICAgIC5hZGRUZXh0KHRleHQgPT5cbiAgICAgICAgdGV4dFxuICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcignLi4vZGV2LXBpcGUnKVxuICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5tb2RlbFNlbGVjdGlvbj8uZGV2cGlwZVBhdGggPz8gJy4uL2Rldi1waXBlJylcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgdmFsdWUgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnBsdWdpbi5zZXR0aW5ncy5tb2RlbFNlbGVjdGlvbikge1xuICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5tb2RlbFNlbGVjdGlvbiA9IERFRkFVTFRfU0VUVElOR1MubW9kZWxTZWxlY3Rpb24hO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MubW9kZWxTZWxlY3Rpb24uZGV2cGlwZVBhdGggPSB2YWx1ZTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZSgnUHJpb3JpdHkgTW9kZScpXG4gICAgICAuc2V0RGVzYygnSG93IHRvIHByaW9yaXRpemUgbW9kZWwgc2VsZWN0aW9uOiBwZXJmb3JtYW5jZSwgY29zdCwgb3IgYmFsYW5jZWQnKVxuICAgICAgLmFkZERyb3Bkb3duKGRyb3Bkb3duID0+XG4gICAgICAgIGRyb3Bkb3duXG4gICAgICAgICAgLmFkZE9wdGlvbigncGVyZm9ybWFuY2UnLCAnUGVyZm9ybWFuY2UgLSBCZXN0IHF1YWxpdHkgbW9kZWxzJylcbiAgICAgICAgICAuYWRkT3B0aW9uKCdjb3N0JywgJ0Nvc3QgLSBNb3N0IGVjb25vbWljYWwgbW9kZWxzJylcbiAgICAgICAgICAuYWRkT3B0aW9uKCdiYWxhbmNlZCcsICdCYWxhbmNlZCAtIE9wdGltYWwgcXVhbGl0eS9jb3N0IHJhdGlvJylcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MubW9kZWxTZWxlY3Rpb24/LnVzZXJQcmVmZXJlbmNlcy5wcmlvcml0eSA/PyAnYmFsYW5jZWQnKVxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyB2YWx1ZSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMucGx1Z2luLnNldHRpbmdzLm1vZGVsU2VsZWN0aW9uKSB7XG4gICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLm1vZGVsU2VsZWN0aW9uID0gREVGQVVMVF9TRVRUSU5HUy5tb2RlbFNlbGVjdGlvbiE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5tb2RlbFNlbGVjdGlvbi51c2VyUHJlZmVyZW5jZXMucHJpb3JpdHkgPSB2YWx1ZSBhcyAncGVyZm9ybWFuY2UnIHwgJ2Nvc3QnIHwgJ2JhbGFuY2VkJztcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZSgnTWF4IENvc3QgUGVyIFJlcXVlc3QnKVxuICAgICAgLnNldERlc2MoJ01heGltdW0gY29zdCBwZXIgQUkgcmVxdWVzdCAoaW4gVVNEKScpXG4gICAgICAuYWRkU2xpZGVyKHNsaWRlciA9PlxuICAgICAgICBzbGlkZXJcbiAgICAgICAgICAuc2V0TGltaXRzKDAuMDEsIDIuMDAsIDAuMDEpXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLm1vZGVsU2VsZWN0aW9uPy51c2VyUHJlZmVyZW5jZXMubWF4Q29zdFBlclJlcXVlc3QgPz8gMC41MClcbiAgICAgICAgICAuc2V0RHluYW1pY1Rvb2x0aXAoKVxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyB2YWx1ZSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMucGx1Z2luLnNldHRpbmdzLm1vZGVsU2VsZWN0aW9uKSB7XG4gICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLm1vZGVsU2VsZWN0aW9uID0gREVGQVVMVF9TRVRUSU5HUy5tb2RlbFNlbGVjdGlvbiE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5tb2RlbFNlbGVjdGlvbi51c2VyUHJlZmVyZW5jZXMubWF4Q29zdFBlclJlcXVlc3QgPSB2YWx1ZTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZSgnTW9kZWwgU2VsZWN0aW9uIERlYnVnJylcbiAgICAgIC5zZXREZXNjKCdFbmFibGUgZGVidWcgbG9nZ2luZyBmb3IgbW9kZWwgc2VsZWN0aW9uIGRlY2lzaW9ucycpXG4gICAgICAuYWRkVG9nZ2xlKHRvZ2dsZSA9PlxuICAgICAgICB0b2dnbGVcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MubW9kZWxTZWxlY3Rpb24/LmRlYnVnTW9kZSA/PyBmYWxzZSlcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgdmFsdWUgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnBsdWdpbi5zZXR0aW5ncy5tb2RlbFNlbGVjdGlvbikge1xuICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5tb2RlbFNlbGVjdGlvbiA9IERFRkFVTFRfU0VUVElOR1MubW9kZWxTZWxlY3Rpb24hO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MubW9kZWxTZWxlY3Rpb24uZGVidWdNb2RlID0gdmFsdWU7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICB9KVxuICAgICAgKTtcblxuICAgIC8vIEhlbHAgc2VjdGlvblxuICAgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ0hlbHAgJiBEb2N1bWVudGF0aW9uJyB9KTtcblxuICAgIC8vIEluZm9ybWF0aW9uIHNlY3Rpb25cbiAgICBjb250YWluZXJFbC5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdJbmZvcm1hdGlvbicgfSk7XG4gICAgY29uc3QgaW5mb0VsID0gY29udGFpbmVyRWwuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnc2V0dGluZy1pdGVtLWRlc2NyaXB0aW9uJyB9KTtcbiAgICBpbmZvRWwuaW5uZXJIVE1MID0gYFxuICAgICAgPHA+PHN0cm9uZz5WYXVsdFBpbG90IHYxLjAuMDwvc3Ryb25nPjwvcD5cbiAgICAgIDxwPkNvbXByZWhlbnNpdmUgRXZvQWdlbnRYIGludGVncmF0aW9uIGZvciBPYnNpZGlhbjwvcD5cbiAgICAgIDxwPkZlYXR1cmVzOiBBSSBDaGF0LCBDb3BpbG90LCBXb3JrZmxvd3MsIFZhdWx0IEFuYWx5c2lzLCBUYXNrIFBsYW5uaW5nPC9wPlxuICAgICAgPHA+Rm9yIGhlbHAgYW5kIGRvY3VtZW50YXRpb24sIHZpc2l0IHRoZSBHaXRIdWIgcmVwb3NpdG9yeS48L3A+XG4gICAgYDtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgdGVzdENvbm5lY3Rpb24oKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3Qgbm90aWNlID0gbmV3IE5vdGljZSgnVGVzdGluZyBjb25uZWN0aW9uLi4uJywgMCk7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGxldCByZXNwb25zZSA9IGF3YWl0IHRoaXMucGx1Z2luLmFwaUNsaWVudC5oZWFsdGhDaGVjaygpO1xuICAgICAgXG4gICAgICAvLyBJZiB0aGUgbWFpbiBoZWFsdGggY2hlY2sgZmFpbHMgd2l0aCBhIDQwMCwgdHJ5IHRoZSBzaW1wbGUgY2hlY2tcbiAgICAgIGlmICghcmVzcG9uc2Uuc3VjY2VzcyAmJiByZXNwb25zZS5lcnJvcj8uaW5jbHVkZXMoJzQwMCcpKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignTWFpbiBoZWFsdGggY2hlY2sgZmFpbGVkIHdpdGggNDAwLCB0cnlpbmcgYWx0ZXJuYXRpdmUgbWV0aG9kJyk7XG4gICAgICAgIGNvbnN0IHNpbXBsZVJlc3BvbnNlID0gYXdhaXQgdGhpcy5wbHVnaW4uYXBpQ2xpZW50LnNpbXBsZUhlYWx0aENoZWNrKCk7XG4gICAgICAgIGlmIChzaW1wbGVSZXNwb25zZS5zdWNjZXNzICYmIHNpbXBsZVJlc3BvbnNlLmRhdGEpIHtcbiAgICAgICAgICByZXNwb25zZSA9IHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICBkYXRhOiB7IHN0YXR1czogc2ltcGxlUmVzcG9uc2UuZGF0YS5zdGF0dXMsIHZlcnNpb246ICd1bmtub3duJyB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICBub3RpY2UuaGlkZSgpO1xuICAgICAgXG4gICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xuICAgICAgICBuZXcgTm90aWNlKCfinIUgQ29ubmVjdGlvbiBzdWNjZXNzZnVsIScsIDMwMDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3IE5vdGljZShg4p2MIENvbm5lY3Rpb24gZmFpbGVkOiAke3Jlc3BvbnNlLmVycm9yfWAsIDUwMDApO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBub3RpY2UuaGlkZSgpO1xuICAgICAgbmV3IE5vdGljZShg4p2MIENvbm5lY3Rpb24gZXJyb3I6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YCwgNTAwMCk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBJdGVtVmlldywgV29ya3NwYWNlTGVhZiwgTm90aWNlLCBNYXJrZG93blZpZXcsIFRGb2xkZXIgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgdHlwZSBWYXVsdFBpbG90UGx1Z2luIGZyb20gJy4vbWFpbic7XG5cbmV4cG9ydCBjb25zdCBWSUVXX1RZUEVfVkFVTFRQSUxPVCA9ICd2YXVsdHBpbG90LXZpZXcnO1xuXG5leHBvcnQgY2xhc3MgVmF1bHRQaWxvdFZpZXcgZXh0ZW5kcyBJdGVtVmlldyB7XG4gIHBsdWdpbjogVmF1bHRQaWxvdFBsdWdpbjtcbiAgcHJpdmF0ZSBzdGF0dXNFbCE6IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIHF1aWNrQWN0aW9uc0VsITogSFRNTEVsZW1lbnQ7XG4gIHByaXZhdGUgdmF1bHRTdGF0c0VsITogSFRNTEVsZW1lbnQ7XG5cbiAgY29uc3RydWN0b3IobGVhZjogV29ya3NwYWNlTGVhZiwgcGx1Z2luOiBWYXVsdFBpbG90UGx1Z2luKSB7XG4gICAgc3VwZXIobGVhZik7XG4gICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gIH1cblxuICBnZXRWaWV3VHlwZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiBWSUVXX1RZUEVfVkFVTFRQSUxPVDtcbiAgfVxuXG4gIGdldERpc3BsYXlUZXh0KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuICdWYXVsdFBpbG90JztcbiAgfVxuXG4gIGdldEljb24oKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJ2JvdCc7XG4gIH1cblxuICBhc3luYyBvbk9wZW4oKSB7XG4gICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXJFbDtcbiAgICBjb250YWluZXIuZW1wdHkoKTtcbiAgICBjb250YWluZXIuYWRkQ2xhc3MoJ3ZhdWx0cGlsb3QtdmlldycpO1xuXG4gICAgLy8gSGVhZGVyXG4gICAgY29uc3QgaGVhZGVyRWwgPSBjb250YWluZXIuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAndmF1bHRwaWxvdC1oZWFkZXInIH0pO1xuICAgIGhlYWRlckVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ/CfpJYgVmF1bHRQaWxvdCcgfSk7XG4gICAgaGVhZGVyRWwuY3JlYXRlRWwoJ3AnLCB7IFxuICAgICAgdGV4dDogJ1lvdXIgQUkgYXNzaXN0YW50IGZvciBPYnNpZGlhbicsXG4gICAgICBjbHM6ICd2YXVsdHBpbG90LXN1YnRpdGxlJ1xuICAgIH0pO1xuXG4gICAgLy8gU3RhdHVzIHNlY3Rpb25cbiAgICB0aGlzLnN0YXR1c0VsID0gY29udGFpbmVyLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3ZhdWx0cGlsb3Qtc3RhdHVzJyB9KTtcbiAgICB0aGlzLnVwZGF0ZVN0YXR1cygpO1xuXG4gICAgLy8gUXVpY2sgYWN0aW9uc1xuICAgIHRoaXMucXVpY2tBY3Rpb25zRWwgPSBjb250YWluZXIuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAndmF1bHRwaWxvdC1xdWljay1hY3Rpb25zJyB9KTtcbiAgICB0aGlzLmNyZWF0ZVF1aWNrQWN0aW9ucygpO1xuXG4gICAgLy8gVmF1bHQgc3RhdHNcbiAgICB0aGlzLnZhdWx0U3RhdHNFbCA9IGNvbnRhaW5lci5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICd2YXVsdHBpbG90LXZhdWx0LXN0YXRzJyB9KTtcbiAgICB0aGlzLnVwZGF0ZVZhdWx0U3RhdHMoKTtcblxuICAgIC8vIFJlY2VudCBhY3Rpdml0aWVzIChwbGFjZWhvbGRlciBmb3IgZnV0dXJlIGltcGxlbWVudGF0aW9uKVxuICAgIGNvbnN0IGFjdGl2aXRpZXNFbCA9IGNvbnRhaW5lci5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICd2YXVsdHBpbG90LWFjdGl2aXRpZXMnIH0pO1xuICAgIGFjdGl2aXRpZXNFbC5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdSZWNlbnQgQWN0aXZpdGllcycgfSk7XG4gICAgYWN0aXZpdGllc0VsLmNyZWF0ZUVsKCdwJywgeyBcbiAgICAgIHRleHQ6ICdBY3Rpdml0eSB0cmFja2luZyBjb21pbmcgc29vbi4uLicsXG4gICAgICBjbHM6ICd2YXVsdHBpbG90LXBsYWNlaG9sZGVyJ1xuICAgIH0pO1xuXG4gICAgdGhpcy5hZGRTdHlsZXMoKTtcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlU3RhdHVzKCkge1xuICAgIHRoaXMuc3RhdHVzRWwuZW1wdHkoKTtcbiAgICB0aGlzLnN0YXR1c0VsLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ0Nvbm5lY3Rpb24gU3RhdHVzJyB9KTtcblxuICAgIGNvbnN0IHN0YXR1c0NvbnRhaW5lciA9IHRoaXMuc3RhdHVzRWwuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAndmF1bHRwaWxvdC1zdGF0dXMtY29udGFpbmVyJyB9KTtcblxuICAgIC8vIEJhY2tlbmQgc3RhdHVzXG4gICAgY29uc3QgYmFja2VuZFN0YXR1cyA9IHN0YXR1c0NvbnRhaW5lci5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICd2YXVsdHBpbG90LXN0YXR1cy1pdGVtJyB9KTtcbiAgICBiYWNrZW5kU3RhdHVzLmNyZWF0ZUVsKCdzcGFuJywgeyB0ZXh0OiAnQmFja2VuZDogJyB9KTtcbiAgICBjb25zdCBiYWNrZW5kSW5kaWNhdG9yID0gYmFja2VuZFN0YXR1cy5jcmVhdGVFbCgnc3BhbicsIHsgXG4gICAgICBjbHM6ICd2YXVsdHBpbG90LXN0YXR1cy1pbmRpY2F0b3InLFxuICAgICAgdGV4dDogJ0NoZWNraW5nLi4uJ1xuICAgIH0pO1xuXG4gICAgLy8gV2ViU29ja2V0IHN0YXR1c1xuICAgIGNvbnN0IHdzU3RhdHVzID0gc3RhdHVzQ29udGFpbmVyLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3ZhdWx0cGlsb3Qtc3RhdHVzLWl0ZW0nIH0pO1xuICAgIHdzU3RhdHVzLmNyZWF0ZUVsKCdzcGFuJywgeyB0ZXh0OiAnV2ViU29ja2V0OiAnIH0pO1xuICAgIGNvbnN0IHdzSW5kaWNhdG9yID0gd3NTdGF0dXMuY3JlYXRlRWwoJ3NwYW4nLCB7IFxuICAgICAgY2xzOiAndmF1bHRwaWxvdC1zdGF0dXMtaW5kaWNhdG9yJyxcbiAgICAgIHRleHQ6IHRoaXMucGx1Z2luLmlzV2ViU29ja2V0Q29ubmVjdGVkKCkgPyAn8J+foiBDb25uZWN0ZWQnIDogJ/CflLQgRGlzY29ubmVjdGVkJ1xuICAgIH0pO1xuXG4gICAgLy8gQ2hlY2sgYmFja2VuZCBzdGF0dXNcbiAgICB0aGlzLmNoZWNrQmFja2VuZFN0YXR1cyhiYWNrZW5kSW5kaWNhdG9yKTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgY2hlY2tCYWNrZW5kU3RhdHVzKGluZGljYXRvcjogSFRNTEVsZW1lbnQpIHtcbiAgICB0cnkge1xuICAgICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5wbHVnaW4uYXBpQ2xpZW50LmhlYWx0aENoZWNrKCk7XG4gICAgICBcbiAgICAgIC8vIElmIHRoZSBtYWluIGhlYWx0aCBjaGVjayBmYWlscyB3aXRoIGEgNDAwLCB0cnkgdGhlIHNpbXBsZSBjaGVja1xuICAgICAgaWYgKCFyZXNwb25zZS5zdWNjZXNzICYmIHJlc3BvbnNlLmVycm9yPy5pbmNsdWRlcygnNDAwJykpIHtcbiAgICAgICAgY29uc3Qgc2ltcGxlUmVzcG9uc2UgPSBhd2FpdCB0aGlzLnBsdWdpbi5hcGlDbGllbnQuc2ltcGxlSGVhbHRoQ2hlY2soKTtcbiAgICAgICAgaWYgKHNpbXBsZVJlc3BvbnNlLnN1Y2Nlc3MgJiYgc2ltcGxlUmVzcG9uc2UuZGF0YSkge1xuICAgICAgICAgIHJlc3BvbnNlID0ge1xuICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgIGRhdGE6IHsgc3RhdHVzOiBzaW1wbGVSZXNwb25zZS5kYXRhLnN0YXR1cywgdmVyc2lvbjogJ3Vua25vd24nIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XG4gICAgICAgIGluZGljYXRvci50ZXh0Q29udGVudCA9ICfwn5+iIENvbm5lY3RlZCc7XG4gICAgICAgIGluZGljYXRvci5jbGFzc05hbWUgPSAndmF1bHRwaWxvdC1zdGF0dXMtaW5kaWNhdG9yIHZhdWx0cGlsb3Qtc3RhdHVzLWNvbm5lY3RlZCc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbmRpY2F0b3IudGV4dENvbnRlbnQgPSAn8J+UtCBFcnJvcic7XG4gICAgICAgIGluZGljYXRvci5jbGFzc05hbWUgPSAndmF1bHRwaWxvdC1zdGF0dXMtaW5kaWNhdG9yIHZhdWx0cGlsb3Qtc3RhdHVzLWVycm9yJztcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaW5kaWNhdG9yLnRleHRDb250ZW50ID0gJ/CflLQgT2ZmbGluZSc7XG4gICAgICBpbmRpY2F0b3IuY2xhc3NOYW1lID0gJ3ZhdWx0cGlsb3Qtc3RhdHVzLWluZGljYXRvciB2YXVsdHBpbG90LXN0YXR1cy1vZmZsaW5lJztcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZVF1aWNrQWN0aW9ucygpIHtcbiAgICB0aGlzLnF1aWNrQWN0aW9uc0VsLmVtcHR5KCk7XG4gICAgdGhpcy5xdWlja0FjdGlvbnNFbC5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdRdWljayBBY3Rpb25zJyB9KTtcblxuICAgIGNvbnN0IGFjdGlvbnNHcmlkID0gdGhpcy5xdWlja0FjdGlvbnNFbC5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICd2YXVsdHBpbG90LWFjdGlvbnMtZ3JpZCcgfSk7XG5cbiAgICAvLyBDaGF0IGFjdGlvblxuICAgIGNvbnN0IGNoYXRCdXR0b24gPSBhY3Rpb25zR3JpZC5jcmVhdGVFbCgnYnV0dG9uJywge1xuICAgICAgdGV4dDogJ/CfkqwgT3BlbiBDaGF0JyxcbiAgICAgIGNsczogJ3ZhdWx0cGlsb3QtYWN0aW9uLWJ1dHRvbidcbiAgICB9KTtcbiAgICBjaGF0QnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB0aGlzLnBsdWdpbi5vcGVuQ2hhdE1vZGFsKCk7XG5cbiAgICAvLyBEYXNoYm9hcmQgYWN0aW9uIChuZXcpXG4gICAgY29uc3QgZGFzaGJvYXJkQnV0dG9uID0gYWN0aW9uc0dyaWQuY3JlYXRlRWwoJ2J1dHRvbicsIHtcbiAgICAgIHRleHQ6ICfwn5OKIE9wZW4gRGFzaGJvYXJkJyxcbiAgICAgIGNsczogJ3ZhdWx0cGlsb3QtYWN0aW9uLWJ1dHRvbidcbiAgICB9KTtcbiAgICBkYXNoYm9hcmRCdXR0b24ub25jbGljayA9ICgpID0+IHRoaXMucGx1Z2luLmFjdGl2YXRlRnVsbFRhYlZpZXcoKTtcblxuICAgIC8vIFdvcmtmbG93IGFjdGlvblxuICAgIGNvbnN0IHdvcmtmbG93QnV0dG9uID0gYWN0aW9uc0dyaWQuY3JlYXRlRWwoJ2J1dHRvbicsIHtcbiAgICAgIHRleHQ6ICfimpnvuI8gRXhlY3V0ZSBXb3JrZmxvdycsXG4gICAgICBjbHM6ICd2YXVsdHBpbG90LWFjdGlvbi1idXR0b24nXG4gICAgfSk7XG4gICAgd29ya2Zsb3dCdXR0b24ub25jbGljayA9ICgpID0+IHRoaXMucGx1Z2luLm9wZW5Xb3JrZmxvd01vZGFsKCk7XG5cbiAgICAvLyBBbmFseXplIHZhdWx0IGFjdGlvblxuICAgIGNvbnN0IGFuYWx5emVCdXR0b24gPSBhY3Rpb25zR3JpZC5jcmVhdGVFbCgnYnV0dG9uJywge1xuICAgICAgdGV4dDogJ/CflI0gQW5hbHl6ZSBWYXVsdCcsXG4gICAgICBjbHM6ICd2YXVsdHBpbG90LWFjdGlvbi1idXR0b24nXG4gICAgfSk7XG4gICAgYW5hbHl6ZUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4gdGhpcy5wbHVnaW4uYW5hbHl6ZVZhdWx0KCk7XG5cbiAgICAvLyBDb3BpbG90IGFjdGlvblxuICAgIGNvbnN0IGNvcGlsb3RCdXR0b24gPSBhY3Rpb25zR3JpZC5jcmVhdGVFbCgnYnV0dG9uJywge1xuICAgICAgdGV4dDogJ+KcqCBHZXQgQ29tcGxldGlvbicsXG4gICAgICBjbHM6ICd2YXVsdHBpbG90LWFjdGlvbi1idXR0b24nXG4gICAgfSk7XG4gICAgY29waWxvdEJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgY29uc3QgYWN0aXZlVmlldyA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKE1hcmtkb3duVmlldyk7XG4gICAgICBpZiAoYWN0aXZlVmlldykge1xuICAgICAgICB0aGlzLnBsdWdpbi5nZXRDb3BpbG90Q29tcGxldGlvbihhY3RpdmVWaWV3LmVkaXRvcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXcgTm90aWNlKCdObyBhY3RpdmUgZWRpdG9yIGZvdW5kJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIFJlZnJlc2ggYnV0dG9uXG4gICAgY29uc3QgcmVmcmVzaEJ1dHRvbiA9IHRoaXMucXVpY2tBY3Rpb25zRWwuY3JlYXRlRWwoJ2J1dHRvbicsIHtcbiAgICAgIHRleHQ6ICfwn5SEIFJlZnJlc2ggU3RhdHVzJyxcbiAgICAgIGNsczogJ3ZhdWx0cGlsb3QtcmVmcmVzaC1idXR0b24nXG4gICAgfSk7XG4gICAgcmVmcmVzaEJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgdGhpcy51cGRhdGVTdGF0dXMoKTtcbiAgICAgIHRoaXMudXBkYXRlVmF1bHRTdGF0cygpO1xuICAgIH07XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZVZhdWx0U3RhdHMoKSB7XG4gICAgdGhpcy52YXVsdFN0YXRzRWwuZW1wdHkoKTtcbiAgICB0aGlzLnZhdWx0U3RhdHNFbC5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdWYXVsdCBTdGF0aXN0aWNzJyB9KTtcblxuICAgIGNvbnN0IHN0YXRzQ29udGFpbmVyID0gdGhpcy52YXVsdFN0YXRzRWwuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAndmF1bHRwaWxvdC1zdGF0cy1jb250YWluZXInIH0pO1xuXG4gICAgLy8gR2V0IHZhdWx0IHN0YXRpc3RpY3NcbiAgICBjb25zdCBmaWxlcyA9IHRoaXMuYXBwLnZhdWx0LmdldEZpbGVzKCk7XG4gICAgY29uc3QgbWFya2Rvd25GaWxlcyA9IHRoaXMuYXBwLnZhdWx0LmdldE1hcmtkb3duRmlsZXMoKTtcbiAgICBcbiAgICBjb25zdCBzdGF0cyA9IFtcbiAgICAgIHsgbGFiZWw6ICdUb3RhbCBGaWxlcycsIHZhbHVlOiBmaWxlcy5sZW5ndGgudG9TdHJpbmcoKSB9LFxuICAgICAgeyBsYWJlbDogJ01hcmtkb3duIEZpbGVzJywgdmFsdWU6IG1hcmtkb3duRmlsZXMubGVuZ3RoLnRvU3RyaW5nKCkgfSxcbiAgICAgIHsgbGFiZWw6ICdGb2xkZXJzJywgdmFsdWU6IHRoaXMuYXBwLnZhdWx0LmdldEFsbExvYWRlZEZpbGVzKCkuZmlsdGVyKGYgPT4gZiBpbnN0YW5jZW9mIFRGb2xkZXIpLmxlbmd0aC50b1N0cmluZygpIH1cbiAgICBdO1xuXG4gICAgc3RhdHMuZm9yRWFjaChzdGF0ID0+IHtcbiAgICAgIGNvbnN0IHN0YXRFbCA9IHN0YXRzQ29udGFpbmVyLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3ZhdWx0cGlsb3Qtc3RhdC1pdGVtJyB9KTtcbiAgICAgIHN0YXRFbC5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiBzdGF0LnZhbHVlLCBjbHM6ICd2YXVsdHBpbG90LXN0YXQtdmFsdWUnIH0pO1xuICAgICAgc3RhdEVsLmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6IHN0YXQubGFiZWwsIGNsczogJ3ZhdWx0cGlsb3Qtc3RhdC1sYWJlbCcgfSk7XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgYWdlbnQgaW5mbyBpZiBhdmFpbGFibGVcbiAgICB0aGlzLmxvYWRBZ2VudEluZm8oKTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgbG9hZEFnZW50SW5mbygpIHtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coJ1ZhdWx0UGlsb3Q6IExvYWRpbmcgYWdlbnRzIGluIHZpZXcuLi4nKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5wbHVnaW4uYXBpQ2xpZW50LmdldEFnZW50cygpO1xuICAgICAgY29uc29sZS5sb2coJ1ZhdWx0UGlsb3Q6IGdldEFnZW50cyByZXNwb25zZSBpbiB2aWV3OicsIHJlc3BvbnNlKTtcbiAgICAgIFxuICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MgJiYgcmVzcG9uc2UuZGF0YSkge1xuICAgICAgICBsZXQgYWdlbnRzOiBhbnlbXSA9IFtdO1xuICAgICAgICBcbiAgICAgICAgLy8gSGFuZGxlIGRpZmZlcmVudCByZXNwb25zZSBmb3JtYXRzXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHJlc3BvbnNlLmRhdGEpKSB7XG4gICAgICAgICAgLy8gRGlyZWN0IGFycmF5IHJlc3BvbnNlXG4gICAgICAgICAgYWdlbnRzID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhICYmIHR5cGVvZiByZXNwb25zZS5kYXRhID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIC8vIENoZWNrIGZvciB3cmFwcGVkIHJlc3BvbnNlIGZvcm1hdHNcbiAgICAgICAgICBjb25zdCBkYXRhT2JqID0gcmVzcG9uc2UuZGF0YSBhcyBhbnk7XG4gICAgICAgICAgaWYgKGRhdGFPYmouYWdlbnRzICYmIEFycmF5LmlzQXJyYXkoZGF0YU9iai5hZ2VudHMpKSB7XG4gICAgICAgICAgICAvLyBSZXNwb25zZSBmb3JtYXQ6IHthZ2VudHM6IFsuLi5dfVxuICAgICAgICAgICAgYWdlbnRzID0gZGF0YU9iai5hZ2VudHM7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnVmF1bHRQaWxvdDogRm91bmQgYWdlbnRzIGFycmF5IGluIHZpZXcsIHVzaW5nIHJlc3BvbnNlLmRhdGEuYWdlbnRzJyk7XG4gICAgICAgICAgfSBlbHNlIGlmIChkYXRhT2JqLmRhdGEgJiYgQXJyYXkuaXNBcnJheShkYXRhT2JqLmRhdGEpKSB7XG4gICAgICAgICAgICAvLyBSZXNwb25zZSBmb3JtYXQ6IHtkYXRhOiBbLi4uXX1cbiAgICAgICAgICAgIGFnZW50cyA9IGRhdGFPYmouZGF0YTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdWYXVsdFBpbG90OiBGb3VuZCBuZXN0ZWQgZGF0YSBpbiB2aWV3LCB1c2luZyByZXNwb25zZS5kYXRhLmRhdGEnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdWYXVsdFBpbG90OiBVbmV4cGVjdGVkIHJlc3BvbnNlIGZvcm1hdDonLCB0eXBlb2YgcmVzcG9uc2UuZGF0YSwgcmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBEaXNwbGF5IGFnZW50IGluZm9ybWF0aW9uXG4gICAgICAgIGNvbnN0IGFnZW50Q291bnQgPSBhZ2VudHMubGVuZ3RoO1xuICAgICAgICBjb25zdCBhY3RpdmVBZ2VudHMgPSBhZ2VudHMuZmlsdGVyKChhZ2VudDogYW55KSA9PiBhZ2VudC5hY3RpdmUpLmxlbmd0aDtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGFnZW50U3RhdHNFbCA9IHRoaXMudmF1bHRTdGF0c0VsLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3ZhdWx0cGlsb3QtYWdlbnQtc3RhdHMnIH0pO1xuICAgICAgICBhZ2VudFN0YXRzRWwuY3JlYXRlRWwoJ2g0JywgeyB0ZXh0OiAnQXZhaWxhYmxlIEFnZW50cycgfSk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBhZ2VudEluZm8gPSBhZ2VudFN0YXRzRWwuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAndmF1bHRwaWxvdC1hZ2VudC1pbmZvJyB9KTtcbiAgICAgICAgYWdlbnRJbmZvLmNyZWF0ZUVsKCdzcGFuJywgeyB0ZXh0OiBgJHthY3RpdmVBZ2VudHN9LyR7YWdlbnRDb3VudH0gYWN0aXZlYCB9KTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgYWdlbnRzIGluIHZpZXc6JywgZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYWRkU3R5bGVzKCkge1xuICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZhdWx0cGlsb3Qtdmlldy1zdHlsZXMnKSkge1xuICAgICAgY29uc3Qgc3R5bGVFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgICBzdHlsZUVsLmlkID0gJ3ZhdWx0cGlsb3Qtdmlldy1zdHlsZXMnO1xuICAgICAgc3R5bGVFbC50ZXh0Q29udGVudCA9IGBcbiAgICAgICAgLnZhdWx0cGlsb3QtdmlldyB7XG4gICAgICAgICAgcGFkZGluZzogMjBweDtcbiAgICAgICAgfVxuICAgICAgICAudmF1bHRwaWxvdC1oZWFkZXIge1xuICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAzMHB4O1xuICAgICAgICAgIHBhZGRpbmctYm90dG9tOiAxNXB4O1xuICAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICAgIH1cbiAgICAgICAgLnZhdWx0cGlsb3Qtc3VidGl0bGUge1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICAgICAgICBtYXJnaW4tdG9wOiA1cHg7XG4gICAgICAgIH1cbiAgICAgICAgLnZhdWx0cGlsb3Qtc3RhdHVzLFxuICAgICAgICAudmF1bHRwaWxvdC1xdWljay1hY3Rpb25zLFxuICAgICAgICAudmF1bHRwaWxvdC12YXVsdC1zdGF0cyxcbiAgICAgICAgLnZhdWx0cGlsb3QtYWN0aXZpdGllcyB7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjVweDtcbiAgICAgICAgfVxuICAgICAgICAudmF1bHRwaWxvdC1zdGF0dXMgaDMsXG4gICAgICAgIC52YXVsdHBpbG90LXF1aWNrLWFjdGlvbnMgaDMsXG4gICAgICAgIC52YXVsdHBpbG90LXZhdWx0LXN0YXRzIGgzLFxuICAgICAgICAudmF1bHRwaWxvdC1hY3Rpdml0aWVzIGgzIHtcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxNXB4O1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgICBwYWRkaW5nLWJvdHRvbTogNXB4O1xuICAgICAgICB9XG4gICAgICAgIC52YXVsdHBpbG90LXN0YXR1cy1jb250YWluZXIge1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgICBnYXA6IDhweDtcbiAgICAgICAgfVxuICAgICAgICAudmF1bHRwaWxvdC1zdGF0dXMtaXRlbSB7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgfVxuICAgICAgICAudmF1bHRwaWxvdC1zdGF0dXMtaW5kaWNhdG9yIHtcbiAgICAgICAgICBmb250LXdlaWdodDogNTAwO1xuICAgICAgICB9XG4gICAgICAgIC52YXVsdHBpbG90LXN0YXR1cy1jb25uZWN0ZWQge1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS1jb2xvci1ncmVlbik7XG4gICAgICAgIH1cbiAgICAgICAgLnZhdWx0cGlsb3Qtc3RhdHVzLWVycm9yLFxuICAgICAgICAudmF1bHRwaWxvdC1zdGF0dXMtb2ZmbGluZSB7XG4gICAgICAgICAgY29sb3I6IHZhcigtLWNvbG9yLXJlZCk7XG4gICAgICAgIH1cbiAgICAgICAgLnZhdWx0cGlsb3QtYWN0aW9ucy1ncmlkIHtcbiAgICAgICAgICBkaXNwbGF5OiBncmlkO1xuICAgICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDFmcjtcbiAgICAgICAgICBnYXA6IDEwcHg7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTVweDtcbiAgICAgICAgfVxuICAgICAgICAudmF1bHRwaWxvdC1hY3Rpb24tYnV0dG9uIHtcbiAgICAgICAgICBwYWRkaW5nOiAxMnB4IDhweDtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnRlcmFjdGl2ZS1ub3JtYWwpO1xuICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA2cHg7XG4gICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgICAgZm9udC1zaXplOiAxM3B4O1xuICAgICAgICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4ycztcbiAgICAgICAgfVxuICAgICAgICAudmF1bHRwaWxvdC1hY3Rpb24tYnV0dG9uOmhvdmVyIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnRlcmFjdGl2ZS1ob3Zlcik7XG4gICAgICAgIH1cbiAgICAgICAgLnZhdWx0cGlsb3QtcmVmcmVzaC1idXR0b24ge1xuICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgIHBhZGRpbmc6IDhweDtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW9uLWFjY2VudCk7XG4gICAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICB9XG4gICAgICAgIC52YXVsdHBpbG90LXN0YXRzLWNvbnRhaW5lciB7XG4gICAgICAgICAgZGlzcGxheTogZ3JpZDtcbiAgICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgzLCAxZnIpO1xuICAgICAgICAgIGdhcDogMTVweDtcbiAgICAgICAgfVxuICAgICAgICAudmF1bHRwaWxvdC1zdGF0LWl0ZW0ge1xuICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICBwYWRkaW5nOiAxNXB4O1xuICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgICB9XG4gICAgICAgIC52YXVsdHBpbG90LXN0YXQtdmFsdWUge1xuICAgICAgICAgIGZvbnQtc2l6ZTogMjRweDtcbiAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1hY2NlbnQpO1xuICAgICAgICAgIG1hcmdpbi1ib3R0b206IDVweDtcbiAgICAgICAgfVxuICAgICAgICAudmF1bHRwaWxvdC1zdGF0LWxhYmVsIHtcbiAgICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgICAgICB9XG4gICAgICAgIC52YXVsdHBpbG90LWFnZW50LXN0YXRzIHtcbiAgICAgICAgICBtYXJnaW4tdG9wOiAxNXB4O1xuICAgICAgICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5LWFsdCk7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xuICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgfVxuICAgICAgICAudmF1bHRwaWxvdC1hZ2VudC1zdGF0cyBoNCB7XG4gICAgICAgICAgbWFyZ2luOiAwIDAgOHB4IDA7XG4gICAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICB9XG4gICAgICAgIC52YXVsdHBpbG90LWFnZW50LWluZm8ge1xuICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgICAgIH1cbiAgICAgICAgLnZhdWx0cGlsb3QtcGxhY2Vob2xkZXIge1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICAgICAgICBmb250LXN0eWxlOiBpdGFsaWM7XG4gICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgIHBhZGRpbmc6IDIwcHg7XG4gICAgICAgIH1cbiAgICAgIGA7XG4gICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlRWwpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIG9uQ2xvc2UoKSB7XG4gICAgLy8gQ2xlYW4gdXAgYW55IHJlc291cmNlc1xuICB9XG59XG4iLCJpbXBvcnQgeyBJdGVtVmlldywgV29ya3NwYWNlTGVhZiwgTm90aWNlLCBNYXJrZG93blZpZXcsIFRGb2xkZXIgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgdHlwZSBWYXVsdFBpbG90UGx1Z2luIGZyb20gJy4vbWFpbic7XG5cbmV4cG9ydCBjb25zdCBWSUVXX1RZUEVfVkFVTFRQSUxPVF9GVUxMX1RBQiA9ICd2YXVsdHBpbG90LWZ1bGwtdGFiLXZpZXcnO1xuXG5leHBvcnQgY2xhc3MgVmF1bHRQaWxvdEZ1bGxUYWJWaWV3IGV4dGVuZHMgSXRlbVZpZXcge1xuICBwbHVnaW46IFZhdWx0UGlsb3RQbHVnaW47XG4gIHByaXZhdGUgc3RhdHVzRWwhOiBIVE1MRWxlbWVudDtcbiAgcHJpdmF0ZSBxdWlja0FjdGlvbnNFbCE6IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIHZhdWx0U3RhdHNFbCE6IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIGNoYXRFbCE6IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIHdvcmtmbG93RWwhOiBIVE1MRWxlbWVudDtcblxuICBjb25zdHJ1Y3RvcihsZWFmOiBXb3Jrc3BhY2VMZWFmLCBwbHVnaW46IFZhdWx0UGlsb3RQbHVnaW4pIHtcbiAgICBzdXBlcihsZWFmKTtcbiAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgfVxuXG4gIGdldFZpZXdUeXBlKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFZJRVdfVFlQRV9WQVVMVFBJTE9UX0ZVTExfVEFCO1xuICB9XG5cbiAgZ2V0RGlzcGxheVRleHQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJ1ZhdWx0UGlsb3QgRGFzaGJvYXJkJztcbiAgfVxuXG4gIGdldEljb24oKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJ2xheW91dC1kYXNoYm9hcmQnO1xuICB9XG5cbiAgYXN5bmMgb25PcGVuKCkge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyRWw7XG4gICAgY29udGFpbmVyLmVtcHR5KCk7XG4gICAgY29udGFpbmVyLmFkZENsYXNzKCd2YXVsdHBpbG90LWZ1bGwtdGFiLXZpZXcnKTtcblxuICAgIC8vIEZvcmNlIHRoZSBjb250YWluZXIgdG8gdGFrZSBmdWxsIGhlaWdodFxuICAgIGNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgY29udGFpbmVyLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG5cbiAgICAvLyBDcmVhdGUgbWFpbiBsYXlvdXRcbiAgICBjb25zdCBtYWluTGF5b3V0ID0gY29udGFpbmVyLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3ZhdWx0cGlsb3QtbWFpbi1sYXlvdXQnIH0pO1xuXG4gICAgLy8gTGVmdCBzaWRlYmFyXG4gICAgY29uc3QgbGVmdFNpZGViYXIgPSBtYWluTGF5b3V0LmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3ZhdWx0cGlsb3QtbGVmdC1zaWRlYmFyJyB9KTtcbiAgICB0aGlzLmNyZWF0ZUxlZnRTaWRlYmFyKGxlZnRTaWRlYmFyKTtcblxuICAgIC8vIE1haW4gY29udGVudCBhcmVhXG4gICAgY29uc3QgbWFpbkNvbnRlbnQgPSBtYWluTGF5b3V0LmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3ZhdWx0cGlsb3QtbWFpbi1jb250ZW50JyB9KTtcbiAgICB0aGlzLmNyZWF0ZU1haW5Db250ZW50KG1haW5Db250ZW50KTtcblxuICAgIC8vIFJpZ2h0IHNpZGViYXJcbiAgICBjb25zdCByaWdodFNpZGViYXIgPSBtYWluTGF5b3V0LmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3ZhdWx0cGlsb3QtcmlnaHQtc2lkZWJhcicgfSk7XG4gICAgdGhpcy5jcmVhdGVSaWdodFNpZGViYXIocmlnaHRTaWRlYmFyKTtcblxuICAgIHRoaXMuYWRkRnVsbFRhYlN0eWxlcygpO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVMZWZ0U2lkZWJhcihzaWRlYmFyOiBIVE1MRWxlbWVudCkge1xuICAgIC8vIEhlYWRlclxuICAgIGNvbnN0IGhlYWRlckVsID0gc2lkZWJhci5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICd2YXVsdHBpbG90LXNpZGViYXItaGVhZGVyJyB9KTtcbiAgICBoZWFkZXJFbC5jcmVhdGVFbCgnaDInLCB7IHRleHQ6ICfwn6SWIFZhdWx0UGlsb3QnIH0pO1xuICAgIGhlYWRlckVsLmNyZWF0ZUVsKCdwJywgeyBcbiAgICAgIHRleHQ6ICdBSSBBc3Npc3RhbnQgRGFzaGJvYXJkJyxcbiAgICAgIGNsczogJ3ZhdWx0cGlsb3Qtc3VidGl0bGUnXG4gICAgfSk7XG5cbiAgICAvLyBTdGF0dXMgc2VjdGlvblxuICAgIHRoaXMuc3RhdHVzRWwgPSBzaWRlYmFyLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3ZhdWx0cGlsb3Qtc3RhdHVzJyB9KTtcbiAgICB0aGlzLnVwZGF0ZVN0YXR1cygpO1xuXG4gICAgLy8gUXVpY2sgYWN0aW9uc1xuICAgIHRoaXMucXVpY2tBY3Rpb25zRWwgPSBzaWRlYmFyLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3ZhdWx0cGlsb3QtcXVpY2stYWN0aW9ucycgfSk7XG4gICAgdGhpcy5jcmVhdGVRdWlja0FjdGlvbnMoKTtcblxuICAgIC8vIFZhdWx0IHN0YXRzXG4gICAgdGhpcy52YXVsdFN0YXRzRWwgPSBzaWRlYmFyLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3ZhdWx0cGlsb3QtdmF1bHQtc3RhdHMnIH0pO1xuICAgIHRoaXMudXBkYXRlVmF1bHRTdGF0cygpO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVNYWluQ29udGVudChjb250ZW50OiBIVE1MRWxlbWVudCkge1xuICAgIC8vIFRhYiBuYXZpZ2F0aW9uXG4gICAgY29uc3QgdGFiTmF2ID0gY29udGVudC5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICd2YXVsdHBpbG90LXRhYi1uYXYnIH0pO1xuICAgIGNvbnN0IGNoYXRUYWIgPSB0YWJOYXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgXG4gICAgICB0ZXh0OiAn8J+SrCBDaGF0JywgXG4gICAgICBjbHM6ICd2YXVsdHBpbG90LXRhYi1idXR0b24gYWN0aXZlJ1xuICAgIH0pO1xuICAgIGNvbnN0IHdvcmtmbG93VGFiID0gdGFiTmF2LmNyZWF0ZUVsKCdidXR0b24nLCB7IFxuICAgICAgdGV4dDogJ+Kame+4jyBXb3JrZmxvd3MnLCBcbiAgICAgIGNsczogJ3ZhdWx0cGlsb3QtdGFiLWJ1dHRvbidcbiAgICB9KTtcbiAgICBjb25zdCBhbmFseXRpY3NUYWIgPSB0YWJOYXYuY3JlYXRlRWwoJ2J1dHRvbicsIHsgXG4gICAgICB0ZXh0OiAn8J+TiiBBbmFseXRpY3MnLCBcbiAgICAgIGNsczogJ3ZhdWx0cGlsb3QtdGFiLWJ1dHRvbidcbiAgICB9KTtcblxuICAgIC8vIFRhYiBjb250ZW50XG4gICAgY29uc3QgdGFiQ29udGVudCA9IGNvbnRlbnQuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAndmF1bHRwaWxvdC10YWItY29udGVudCcgfSk7XG5cbiAgICAvLyBDaGF0IHNlY3Rpb25cbiAgICB0aGlzLmNoYXRFbCA9IHRhYkNvbnRlbnQuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAndmF1bHRwaWxvdC1jaGF0LXNlY3Rpb24gYWN0aXZlJyB9KTtcbiAgICB0aGlzLmNyZWF0ZUNoYXRTZWN0aW9uKHRoaXMuY2hhdEVsKTtcblxuICAgIC8vIFdvcmtmbG93IHNlY3Rpb25cbiAgICB0aGlzLndvcmtmbG93RWwgPSB0YWJDb250ZW50LmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3ZhdWx0cGlsb3Qtd29ya2Zsb3ctc2VjdGlvbicgfSk7XG4gICAgdGhpcy5jcmVhdGVXb3JrZmxvd1NlY3Rpb24odGhpcy53b3JrZmxvd0VsKTtcblxuICAgIC8vIEFuYWx5dGljcyBzZWN0aW9uXG4gICAgY29uc3QgYW5hbHl0aWNzRWwgPSB0YWJDb250ZW50LmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3ZhdWx0cGlsb3QtYW5hbHl0aWNzLXNlY3Rpb24nIH0pO1xuICAgIHRoaXMuY3JlYXRlQW5hbHl0aWNzU2VjdGlvbihhbmFseXRpY3NFbCk7XG5cbiAgICAvLyBUYWIgc3dpdGNoaW5nXG4gICAgY2hhdFRhYi5vbmNsaWNrID0gKCkgPT4gdGhpcy5zd2l0Y2hUYWIoJ2NoYXQnLCBjaGF0VGFiKTtcbiAgICB3b3JrZmxvd1RhYi5vbmNsaWNrID0gKCkgPT4gdGhpcy5zd2l0Y2hUYWIoJ3dvcmtmbG93Jywgd29ya2Zsb3dUYWIpO1xuICAgIGFuYWx5dGljc1RhYi5vbmNsaWNrID0gKCkgPT4gdGhpcy5zd2l0Y2hUYWIoJ2FuYWx5dGljcycsIGFuYWx5dGljc1RhYik7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZVJpZ2h0U2lkZWJhcihzaWRlYmFyOiBIVE1MRWxlbWVudCkge1xuICAgIC8vIFJlY2VudCBmaWxlc1xuICAgIGNvbnN0IHJlY2VudEZpbGVzRWwgPSBzaWRlYmFyLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3ZhdWx0cGlsb3QtcmVjZW50LWZpbGVzJyB9KTtcbiAgICByZWNlbnRGaWxlc0VsLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ1JlY2VudCBGaWxlcycgfSk7XG4gICAgdGhpcy51cGRhdGVSZWNlbnRGaWxlcyhyZWNlbnRGaWxlc0VsKTtcblxuICAgIC8vIEFnZW50IHN0YXR1c1xuICAgIGNvbnN0IGFnZW50U3RhdHVzRWwgPSBzaWRlYmFyLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3ZhdWx0cGlsb3QtYWdlbnQtc3RhdHVzJyB9KTtcbiAgICBhZ2VudFN0YXR1c0VsLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ0FnZW50IFN0YXR1cycgfSk7XG4gICAgdGhpcy51cGRhdGVBZ2VudFN0YXR1cyhhZ2VudFN0YXR1c0VsKTtcblxuICAgIC8vIEFjdGl2aXR5IGZlZWRcbiAgICBjb25zdCBhY3Rpdml0eUVsID0gc2lkZWJhci5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICd2YXVsdHBpbG90LWFjdGl2aXR5LWZlZWQnIH0pO1xuICAgIGFjdGl2aXR5RWwuY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnQWN0aXZpdHkgRmVlZCcgfSk7XG4gICAgdGhpcy5jcmVhdGVBY3Rpdml0eUZlZWQoYWN0aXZpdHlFbCk7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZUNoYXRTZWN0aW9uKGNoYXRFbDogSFRNTEVsZW1lbnQpIHtcbiAgICAvLyBDaGF0IGNvbnRlbnQgY29udGFpbmVyIHdpdGggcGFkZGluZyBhbmQgc2Nyb2xsaW5nXG4gICAgY29uc3QgY2hhdENvbnRlbnQgPSBjaGF0RWwuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAndmF1bHRwaWxvdC1jaGF0LWNvbnRlbnQnIH0pO1xuXG4gICAgLy8gQ2hhdCBoZWFkZXIgKG5vdyBpbnNpZGUgY29udGVudClcbiAgICBjb25zdCBjaGF0SGVhZGVyID0gY2hhdENvbnRlbnQuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAndmF1bHRwaWxvdC1jaGF0LWhlYWRlcicgfSk7XG4gICAgY2hhdEhlYWRlci5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdBSSBDaGF0IEludGVyZmFjZScgfSk7XG5cbiAgICAvLyBDaGF0IGhpc3RvcnlcbiAgICBjb25zdCBjaGF0SGlzdG9yeSA9IGNoYXRDb250ZW50LmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3ZhdWx0cGlsb3QtY2hhdC1oaXN0b3J5JyB9KTtcbiAgICBjaGF0SGlzdG9yeS5jcmVhdGVFbCgnZGl2JywgeyBcbiAgICAgIHRleHQ6ICdXZWxjb21lISBTdGFydCBhIGNvbnZlcnNhdGlvbiB3aXRoIHlvdXIgQUkgYXNzaXN0YW50LicsXG4gICAgICBjbHM6ICd2YXVsdHBpbG90LWNoYXQtd2VsY29tZSdcbiAgICB9KTtcblxuICAgIC8vIENoYXQgaW5wdXRcbiAgICBjb25zdCBjaGF0SW5wdXQgPSBjaGF0Q29udGVudC5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICd2YXVsdHBpbG90LWNoYXQtaW5wdXQnIH0pO1xuICAgIGNvbnN0IHRleHRhcmVhID0gY2hhdElucHV0LmNyZWF0ZUVsKCd0ZXh0YXJlYScsIHsgXG4gICAgICBwbGFjZWhvbGRlcjogJ1R5cGUgeW91ciBtZXNzYWdlIGhlcmUuLi4nLFxuICAgICAgY2xzOiAndmF1bHRwaWxvdC1jaGF0LXRleHRhcmVhJ1xuICAgIH0pO1xuICAgIFxuICAgIGNvbnN0IHNlbmRCdXR0b24gPSBjaGF0SW5wdXQuY3JlYXRlRWwoJ2J1dHRvbicsIHsgXG4gICAgICB0ZXh0OiAnU2VuZCcsXG4gICAgICBjbHM6ICd2YXVsdHBpbG90LWNoYXQtc2VuZC1idXR0b24nXG4gICAgfSk7XG5cbiAgICBzZW5kQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICBjb25zdCBtZXNzYWdlID0gdGV4dGFyZWEudmFsdWUudHJpbSgpO1xuICAgICAgaWYgKG1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5zZW5kQ2hhdE1lc3NhZ2UobWVzc2FnZSwgY2hhdEhpc3RvcnkpO1xuICAgICAgICB0ZXh0YXJlYS52YWx1ZSA9ICcnO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBIYW5kbGUgRW50ZXIga2V5XG4gICAgdGV4dGFyZWEub25rZXlkb3duID0gKGUpID0+IHtcbiAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJyAmJiAhZS5zaGlmdEtleSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHNlbmRCdXR0b24uY2xpY2soKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVXb3JrZmxvd1NlY3Rpb24od29ya2Zsb3dFbDogSFRNTEVsZW1lbnQpIHtcbiAgICAvLyBXb3JrZmxvdyBjb250ZW50IGNvbnRhaW5lciB3aXRoIHBhZGRpbmcgYW5kIHNjcm9sbGluZ1xuICAgIGNvbnN0IHdvcmtmbG93Q29udGVudCA9IHdvcmtmbG93RWwuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAndmF1bHRwaWxvdC13b3JrZmxvdy1jb250ZW50JyB9KTtcbiAgICBcbiAgICAvLyBXb3JrZmxvdyBoZWFkZXIgKG5vdyBpbnNpZGUgY29udGVudClcbiAgICBjb25zdCB3b3JrZmxvd0hlYWRlciA9IHdvcmtmbG93Q29udGVudC5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICd2YXVsdHBpbG90LXdvcmtmbG93LWhlYWRlcicgfSk7XG4gICAgd29ya2Zsb3dIZWFkZXIuY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnV29ya2Zsb3cgTWFuYWdlbWVudCcgfSk7XG5cbiAgICBjb25zdCB3b3JrZmxvd0dyaWQgPSB3b3JrZmxvd0NvbnRlbnQuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAndmF1bHRwaWxvdC13b3JrZmxvdy1ncmlkJyB9KTtcblxuICAgIC8vIFByZWRlZmluZWQgd29ya2Zsb3dzXG4gICAgY29uc3Qgd29ya2Zsb3dzID0gW1xuICAgICAgeyBuYW1lOiAnQW5hbHl6ZSBWYXVsdCcsIGljb246ICfwn5SNJywgZGVzY3JpcHRpb246ICdBbmFseXplIHlvdXIgdmF1bHQgc3RydWN0dXJlIGFuZCBjb250ZW50JyB9LFxuICAgICAgeyBuYW1lOiAnR2VuZXJhdGUgU3VtbWFyeScsIGljb246ICfwn5OdJywgZGVzY3JpcHRpb246ICdDcmVhdGUgc3VtbWFyaWVzIG9mIHlvdXIgbm90ZXMnIH0sXG4gICAgICB7IG5hbWU6ICdMaW5rIEFuYWx5c2lzJywgaWNvbjogJ/CflJcnLCBkZXNjcmlwdGlvbjogJ0FuYWx5emUgbm90ZSBjb25uZWN0aW9ucyBhbmQgcmVsYXRpb25zaGlwcycgfSxcbiAgICAgIHsgbmFtZTogJ1RhZyBNYW5hZ2VtZW50JywgaWNvbjogJ/Cfj7fvuI8nLCBkZXNjcmlwdGlvbjogJ09yZ2FuaXplIGFuZCBtYW5hZ2UgeW91ciB0YWdzJyB9LFxuICAgICAgeyBuYW1lOiAnRGFpbHkgUGxhbm5pbmcnLCBpY29uOiAn8J+ThScsIGRlc2NyaXB0aW9uOiAnUGxhbiB5b3VyIGRheSBiYXNlZCBvbiB5b3VyIG5vdGVzJyB9LFxuICAgICAgeyBuYW1lOiAnS25vd2xlZGdlIEdyYXBoJywgaWNvbjogJ/CflbjvuI8nLCBkZXNjcmlwdGlvbjogJ1Zpc3VhbGl6ZSB5b3VyIGtub3dsZWRnZSBjb25uZWN0aW9ucycgfSxcbiAgICAgIHsgbmFtZTogJ0NvbnRlbnQgU2VhcmNoJywgaWNvbjogJ/CflI4nLCBkZXNjcmlwdGlvbjogJ0FkdmFuY2VkIHNlYXJjaCBhY3Jvc3MgeW91ciB2YXVsdCcgfSxcbiAgICAgIHsgbmFtZTogJ05vdGUgVGVtcGxhdGVzJywgaWNvbjogJ/Cfk4QnLCBkZXNjcmlwdGlvbjogJ0NyZWF0ZSBhbmQgbWFuYWdlIG5vdGUgdGVtcGxhdGVzJyB9LFxuICAgICAgeyBuYW1lOiAnTGluayBBc3Npc3RhbnQnLCBpY29uOiAn8J+UlycsIGRlc2NyaXB0aW9uOiAnSW50ZWxsaWdlbnQgbGluayBzdWdnZXN0aW9ucyBhbmQgbWFuYWdlbWVudCcgfVxuICAgIF07XG5cbiAgICB3b3JrZmxvd3MuZm9yRWFjaCh3b3JrZmxvdyA9PiB7XG4gICAgICBjb25zdCB3b3JrZmxvd0NhcmQgPSB3b3JrZmxvd0dyaWQuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAndmF1bHRwaWxvdC13b3JrZmxvdy1jYXJkJyB9KTtcbiAgICAgIHdvcmtmbG93Q2FyZC5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiB3b3JrZmxvdy5pY29uLCBjbHM6ICd2YXVsdHBpbG90LXdvcmtmbG93LWljb24nIH0pO1xuICAgICAgd29ya2Zsb3dDYXJkLmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogd29ya2Zsb3cubmFtZSB9KTtcbiAgICAgIHdvcmtmbG93Q2FyZC5jcmVhdGVFbCgncCcsIHsgdGV4dDogd29ya2Zsb3cuZGVzY3JpcHRpb24gfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJ1bkJ1dHRvbiA9IHdvcmtmbG93Q2FyZC5jcmVhdGVFbCgnYnV0dG9uJywgeyBcbiAgICAgICAgdGV4dDogJ1J1bicsXG4gICAgICAgIGNsczogJ3ZhdWx0cGlsb3Qtd29ya2Zsb3ctcnVuLWJ1dHRvbidcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBydW5CdXR0b24ub25jbGljayA9ICgpID0+IHRoaXMucnVuV29ya2Zsb3cod29ya2Zsb3cubmFtZSk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZUFuYWx5dGljc1NlY3Rpb24oYW5hbHl0aWNzRWw6IEhUTUxFbGVtZW50KSB7XG4gICAgLy8gQW5hbHl0aWNzIGNvbnRlbnQgY29udGFpbmVyIHdpdGggcGFkZGluZyBhbmQgc2Nyb2xsaW5nXG4gICAgY29uc3QgYW5hbHl0aWNzQ29udGVudCA9IGFuYWx5dGljc0VsLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3ZhdWx0cGlsb3QtYW5hbHl0aWNzLWNvbnRlbnQnIH0pO1xuICAgIFxuICAgIC8vIEFuYWx5dGljcyBoZWFkZXIgKG5vdyBpbnNpZGUgY29udGVudClcbiAgICBjb25zdCBhbmFseXRpY3NIZWFkZXIgPSBhbmFseXRpY3NDb250ZW50LmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3ZhdWx0cGlsb3QtYW5hbHl0aWNzLWhlYWRlcicgfSk7XG4gICAgYW5hbHl0aWNzSGVhZGVyLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ1ZhdWx0IEFuYWx5dGljcycgfSk7XG5cbiAgICBjb25zdCBjaGFydHNDb250YWluZXIgPSBhbmFseXRpY3NDb250ZW50LmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3ZhdWx0cGlsb3QtY2hhcnRzLWNvbnRhaW5lcicgfSk7XG4gICAgXG4gICAgLy8gRmlsZSB0eXBlIGRpc3RyaWJ1dGlvblxuICAgIGNvbnN0IGZpbGVUeXBlQ2hhcnQgPSBjaGFydHNDb250YWluZXIuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAndmF1bHRwaWxvdC1jaGFydC1jYXJkJyB9KTtcbiAgICBmaWxlVHlwZUNoYXJ0LmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogJ0ZpbGUgVHlwZSBEaXN0cmlidXRpb24nIH0pO1xuICAgIGZpbGVUeXBlQ2hhcnQuY3JlYXRlRWwoJ2RpdicsIHsgXG4gICAgICB0ZXh0OiAnQ2hhcnQgdmlzdWFsaXphdGlvbiBjb21pbmcgc29vbi4uLicsXG4gICAgICBjbHM6ICd2YXVsdHBpbG90LWNoYXJ0LXBsYWNlaG9sZGVyJ1xuICAgIH0pO1xuXG4gICAgLy8gTm90ZSBjcmVhdGlvbiB0aW1lbGluZVxuICAgIGNvbnN0IHRpbWVsaW5lQ2hhcnQgPSBjaGFydHNDb250YWluZXIuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAndmF1bHRwaWxvdC1jaGFydC1jYXJkJyB9KTtcbiAgICB0aW1lbGluZUNoYXJ0LmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogJ05vdGUgQ3JlYXRpb24gVGltZWxpbmUnIH0pO1xuICAgIHRpbWVsaW5lQ2hhcnQuY3JlYXRlRWwoJ2RpdicsIHsgXG4gICAgICB0ZXh0OiAnVGltZWxpbmUgdmlzdWFsaXphdGlvbiBjb21pbmcgc29vbi4uLicsXG4gICAgICBjbHM6ICd2YXVsdHBpbG90LWNoYXJ0LXBsYWNlaG9sZGVyJ1xuICAgIH0pO1xuXG4gICAgLy8gVGFnIHVzYWdlXG4gICAgY29uc3QgdGFnQ2hhcnQgPSBjaGFydHNDb250YWluZXIuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAndmF1bHRwaWxvdC1jaGFydC1jYXJkJyB9KTtcbiAgICB0YWdDaGFydC5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6ICdUYWcgVXNhZ2UnIH0pO1xuICAgIHRhZ0NoYXJ0LmNyZWF0ZUVsKCdkaXYnLCB7IFxuICAgICAgdGV4dDogJ1RhZyBhbmFseXRpY3MgY29taW5nIHNvb24uLi4nLFxuICAgICAgY2xzOiAndmF1bHRwaWxvdC1jaGFydC1wbGFjZWhvbGRlcidcbiAgICB9KTtcblxuICAgIC8vIFdvcmQgY291bnQgYW5hbHlzaXNcbiAgICBjb25zdCB3b3JkQ291bnRDaGFydCA9IGNoYXJ0c0NvbnRhaW5lci5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICd2YXVsdHBpbG90LWNoYXJ0LWNhcmQnIH0pO1xuICAgIHdvcmRDb3VudENoYXJ0LmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogJ1dvcmQgQ291bnQgQW5hbHlzaXMnIH0pO1xuICAgIHdvcmRDb3VudENoYXJ0LmNyZWF0ZUVsKCdkaXYnLCB7IFxuICAgICAgdGV4dDogJ1dvcmQgY291bnQgdmlzdWFsaXphdGlvbiBjb21pbmcgc29vbi4uLicsXG4gICAgICBjbHM6ICd2YXVsdHBpbG90LWNoYXJ0LXBsYWNlaG9sZGVyJ1xuICAgIH0pO1xuXG4gICAgLy8gTGluayBkZW5zaXR5XG4gICAgY29uc3QgbGlua0NoYXJ0ID0gY2hhcnRzQ29udGFpbmVyLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3ZhdWx0cGlsb3QtY2hhcnQtY2FyZCcgfSk7XG4gICAgbGlua0NoYXJ0LmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogJ0xpbmsgRGVuc2l0eScgfSk7XG4gICAgbGlua0NoYXJ0LmNyZWF0ZUVsKCdkaXYnLCB7IFxuICAgICAgdGV4dDogJ0xpbmsgYW5hbHlzaXMgY29taW5nIHNvb24uLi4nLFxuICAgICAgY2xzOiAndmF1bHRwaWxvdC1jaGFydC1wbGFjZWhvbGRlcidcbiAgICB9KTtcblxuICAgIC8vIEFjdGl2aXR5IGhlYXRtYXBcbiAgICBjb25zdCBhY3Rpdml0eUNoYXJ0ID0gY2hhcnRzQ29udGFpbmVyLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3ZhdWx0cGlsb3QtY2hhcnQtY2FyZCcgfSk7XG4gICAgYWN0aXZpdHlDaGFydC5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6ICdBY3Rpdml0eSBIZWF0bWFwJyB9KTtcbiAgICBhY3Rpdml0eUNoYXJ0LmNyZWF0ZUVsKCdkaXYnLCB7IFxuICAgICAgdGV4dDogJ0FjdGl2aXR5IGhlYXRtYXAgY29taW5nIHNvb24uLi4nLFxuICAgICAgY2xzOiAndmF1bHRwaWxvdC1jaGFydC1wbGFjZWhvbGRlcidcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgc3dpdGNoVGFiKHRhYk5hbWU6IHN0cmluZywgYnV0dG9uOiBIVE1MRWxlbWVudCkge1xuICAgIC8vIFJlbW92ZSBhY3RpdmUgY2xhc3MgZnJvbSBhbGwgdGFic1xuICAgIHRoaXMuY29udGFpbmVyRWwucXVlcnlTZWxlY3RvckFsbCgnLnZhdWx0cGlsb3QtdGFiLWJ1dHRvbicpLmZvckVhY2goYnRuID0+IHtcbiAgICAgIGJ0bi5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgfSk7XG4gICAgdGhpcy5jb250YWluZXJFbC5xdWVyeVNlbGVjdG9yQWxsKCcudmF1bHRwaWxvdC1jaGF0LXNlY3Rpb24sIC52YXVsdHBpbG90LXdvcmtmbG93LXNlY3Rpb24sIC52YXVsdHBpbG90LWFuYWx5dGljcy1zZWN0aW9uJykuZm9yRWFjaChzZWN0aW9uID0+IHtcbiAgICAgIHNlY3Rpb24ucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIGFjdGl2ZSBjbGFzcyB0byBjbGlja2VkIHRhYlxuICAgIGJ1dHRvbi5hZGRDbGFzcygnYWN0aXZlJyk7XG5cbiAgICAvLyBTaG93IGNvcnJlc3BvbmRpbmcgY29udGVudFxuICAgIGlmICh0YWJOYW1lID09PSAnY2hhdCcpIHtcbiAgICAgIHRoaXMuY2hhdEVsLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICB9IGVsc2UgaWYgKHRhYk5hbWUgPT09ICd3b3JrZmxvdycpIHtcbiAgICAgIHRoaXMud29ya2Zsb3dFbC5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgfSBlbHNlIGlmICh0YWJOYW1lID09PSAnYW5hbHl0aWNzJykge1xuICAgICAgdGhpcy5jb250YWluZXJFbC5xdWVyeVNlbGVjdG9yKCcudmF1bHRwaWxvdC1hbmFseXRpY3Mtc2VjdGlvbicpPy5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBzZW5kQ2hhdE1lc3NhZ2UobWVzc2FnZTogc3RyaW5nLCBjaGF0SGlzdG9yeTogSFRNTEVsZW1lbnQpIHtcbiAgICAvLyBBZGQgdXNlciBtZXNzYWdlXG4gICAgY29uc3QgdXNlck1lc3NhZ2UgPSBjaGF0SGlzdG9yeS5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICd2YXVsdHBpbG90LWNoYXQtbWVzc2FnZSB1c2VyJyB9KTtcbiAgICB1c2VyTWVzc2FnZS5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiBtZXNzYWdlIH0pO1xuXG4gICAgLy8gQWRkIHRoaW5raW5nIGluZGljYXRvclxuICAgIGNvbnN0IHRoaW5raW5nTWVzc2FnZSA9IGNoYXRIaXN0b3J5LmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3ZhdWx0cGlsb3QtY2hhdC1tZXNzYWdlIGFzc2lzdGFudCB0aGlua2luZycgfSk7XG4gICAgdGhpbmtpbmdNZXNzYWdlLmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6ICdUaGlua2luZy4uLicgfSk7XG5cbiAgICAvLyBTY3JvbGwgdG8gYm90dG9tXG4gICAgY2hhdEhpc3Rvcnkuc2Nyb2xsVG9wID0gY2hhdEhpc3Rvcnkuc2Nyb2xsSGVpZ2h0O1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5wbHVnaW4uYXBpQ2xpZW50LnNlbmRDaGF0KHsgbWVzc2FnZSwgY29udGV4dDogbnVsbCB9KTtcbiAgICAgIFxuICAgICAgLy8gUmVtb3ZlIHRoaW5raW5nIGluZGljYXRvclxuICAgICAgdGhpbmtpbmdNZXNzYWdlLnJlbW92ZSgpO1xuICAgICAgXG4gICAgICBpZiAocmVzcG9uc2Uuc3VjY2VzcyAmJiByZXNwb25zZS5kYXRhKSB7XG4gICAgICAgIGNvbnN0IGFzc2lzdGFudE1lc3NhZ2UgPSBjaGF0SGlzdG9yeS5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICd2YXVsdHBpbG90LWNoYXQtbWVzc2FnZSBhc3Npc3RhbnQnIH0pO1xuICAgICAgICBhc3Npc3RhbnRNZXNzYWdlLmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6IHJlc3BvbnNlLmRhdGEucmVzcG9uc2UgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBjaGF0SGlzdG9yeS5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICd2YXVsdHBpbG90LWNoYXQtbWVzc2FnZSBlcnJvcicgfSk7XG4gICAgICAgIGVycm9yTWVzc2FnZS5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiAnRXJyb3I6IENvdWxkIG5vdCBnZXQgcmVzcG9uc2UgZnJvbSBBSScgfSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIFJlbW92ZSB0aGlua2luZyBpbmRpY2F0b3JcbiAgICAgIHRoaW5raW5nTWVzc2FnZS5yZW1vdmUoKTtcbiAgICAgIFxuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gY2hhdEhpc3RvcnkuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAndmF1bHRwaWxvdC1jaGF0LW1lc3NhZ2UgZXJyb3InIH0pO1xuICAgICAgZXJyb3JNZXNzYWdlLmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6ICdFcnJvcjogQ29ubmVjdGlvbiBmYWlsZWQnIH0pO1xuICAgIH1cblxuICAgIC8vIFNjcm9sbCB0byBib3R0b21cbiAgICBjaGF0SGlzdG9yeS5zY3JvbGxUb3AgPSBjaGF0SGlzdG9yeS5zY3JvbGxIZWlnaHQ7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHJ1bldvcmtmbG93KHdvcmtmbG93TmFtZTogc3RyaW5nKSB7XG4gICAgbmV3IE5vdGljZShgUnVubmluZyB3b3JrZmxvdzogJHt3b3JrZmxvd05hbWV9YCk7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIE1hcCB3b3JrZmxvdyBuYW1lcyB0byBhcHByb3ByaWF0ZSBhY3Rpb25zXG4gICAgICBzd2l0Y2ggKHdvcmtmbG93TmFtZSkge1xuICAgICAgICBjYXNlICdBbmFseXplIFZhdWx0JzpcbiAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5hbmFseXplVmF1bHQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnRGFpbHkgUGxhbm5pbmcnOlxuICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnBsYW5NeURheSgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIC8vIEZvciBub3csIHNob3cgYSBwbGFjZWhvbGRlclxuICAgICAgICAgIG5ldyBOb3RpY2UoYCR7d29ya2Zsb3dOYW1lfSB3b3JrZmxvdyBpcyBjb21pbmcgc29vbiFgKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbmV3IE5vdGljZShgRXJyb3IgcnVubmluZyB3b3JrZmxvdzogJHt3b3JrZmxvd05hbWV9YCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVTdGF0dXMoKSB7XG4gICAgdGhpcy5zdGF0dXNFbC5lbXB0eSgpO1xuICAgIHRoaXMuc3RhdHVzRWwuY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnQ29ubmVjdGlvbiBTdGF0dXMnIH0pO1xuXG4gICAgY29uc3Qgc3RhdHVzQ29udGFpbmVyID0gdGhpcy5zdGF0dXNFbC5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICd2YXVsdHBpbG90LXN0YXR1cy1jb250YWluZXInIH0pO1xuXG4gICAgLy8gQmFja2VuZCBzdGF0dXNcbiAgICBjb25zdCBiYWNrZW5kU3RhdHVzID0gc3RhdHVzQ29udGFpbmVyLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3ZhdWx0cGlsb3Qtc3RhdHVzLWl0ZW0nIH0pO1xuICAgIGJhY2tlbmRTdGF0dXMuY3JlYXRlRWwoJ3NwYW4nLCB7IHRleHQ6ICdCYWNrZW5kOiAnIH0pO1xuICAgIGNvbnN0IGJhY2tlbmRJbmRpY2F0b3IgPSBiYWNrZW5kU3RhdHVzLmNyZWF0ZUVsKCdzcGFuJywgeyBcbiAgICAgIGNsczogJ3ZhdWx0cGlsb3Qtc3RhdHVzLWluZGljYXRvcicsXG4gICAgICB0ZXh0OiAnQ2hlY2tpbmcuLi4nXG4gICAgfSk7XG5cbiAgICAvLyBXZWJTb2NrZXQgc3RhdHVzXG4gICAgY29uc3Qgd3NTdGF0dXMgPSBzdGF0dXNDb250YWluZXIuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAndmF1bHRwaWxvdC1zdGF0dXMtaXRlbScgfSk7XG4gICAgd3NTdGF0dXMuY3JlYXRlRWwoJ3NwYW4nLCB7IHRleHQ6ICdXZWJTb2NrZXQ6ICcgfSk7XG4gICAgY29uc3Qgd3NJbmRpY2F0b3IgPSB3c1N0YXR1cy5jcmVhdGVFbCgnc3BhbicsIHsgXG4gICAgICBjbHM6ICd2YXVsdHBpbG90LXN0YXR1cy1pbmRpY2F0b3InLFxuICAgICAgdGV4dDogdGhpcy5wbHVnaW4uaXNXZWJTb2NrZXRDb25uZWN0ZWQoKSA/ICfwn5+iIENvbm5lY3RlZCcgOiAn8J+UtCBEaXNjb25uZWN0ZWQnXG4gICAgfSk7XG5cbiAgICAvLyBDaGVjayBiYWNrZW5kIHN0YXR1c1xuICAgIHRoaXMuY2hlY2tCYWNrZW5kU3RhdHVzKGJhY2tlbmRJbmRpY2F0b3IpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBjaGVja0JhY2tlbmRTdGF0dXMoaW5kaWNhdG9yOiBIVE1MRWxlbWVudCkge1xuICAgIHRyeSB7XG4gICAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnBsdWdpbi5hcGlDbGllbnQuaGVhbHRoQ2hlY2soKTtcbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5zdWNjZXNzICYmIHJlc3BvbnNlLmVycm9yPy5pbmNsdWRlcygnNDAwJykpIHtcbiAgICAgICAgY29uc3Qgc2ltcGxlUmVzcG9uc2UgPSBhd2FpdCB0aGlzLnBsdWdpbi5hcGlDbGllbnQuc2ltcGxlSGVhbHRoQ2hlY2soKTtcbiAgICAgICAgaWYgKHNpbXBsZVJlc3BvbnNlLnN1Y2Nlc3MgJiYgc2ltcGxlUmVzcG9uc2UuZGF0YSkge1xuICAgICAgICAgIHJlc3BvbnNlID0ge1xuICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgIGRhdGE6IHsgc3RhdHVzOiBzaW1wbGVSZXNwb25zZS5kYXRhLnN0YXR1cywgdmVyc2lvbjogJ3Vua25vd24nIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XG4gICAgICAgIGluZGljYXRvci50ZXh0Q29udGVudCA9ICfwn5+iIENvbm5lY3RlZCc7XG4gICAgICAgIGluZGljYXRvci5jbGFzc05hbWUgPSAndmF1bHRwaWxvdC1zdGF0dXMtaW5kaWNhdG9yIHZhdWx0cGlsb3Qtc3RhdHVzLWNvbm5lY3RlZCc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbmRpY2F0b3IudGV4dENvbnRlbnQgPSAn8J+UtCBFcnJvcic7XG4gICAgICAgIGluZGljYXRvci5jbGFzc05hbWUgPSAndmF1bHRwaWxvdC1zdGF0dXMtaW5kaWNhdG9yIHZhdWx0cGlsb3Qtc3RhdHVzLWVycm9yJztcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaW5kaWNhdG9yLnRleHRDb250ZW50ID0gJ/CflLQgT2ZmbGluZSc7XG4gICAgICBpbmRpY2F0b3IuY2xhc3NOYW1lID0gJ3ZhdWx0cGlsb3Qtc3RhdHVzLWluZGljYXRvciB2YXVsdHBpbG90LXN0YXR1cy1vZmZsaW5lJztcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZVF1aWNrQWN0aW9ucygpIHtcbiAgICB0aGlzLnF1aWNrQWN0aW9uc0VsLmVtcHR5KCk7XG4gICAgdGhpcy5xdWlja0FjdGlvbnNFbC5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdRdWljayBBY3Rpb25zJyB9KTtcblxuICAgIGNvbnN0IGFjdGlvbnNHcmlkID0gdGhpcy5xdWlja0FjdGlvbnNFbC5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICd2YXVsdHBpbG90LWFjdGlvbnMtZ3JpZCcgfSk7XG5cbiAgICAvLyBSZWZyZXNoIGJ1dHRvblxuICAgIGNvbnN0IHJlZnJlc2hCdXR0b24gPSBhY3Rpb25zR3JpZC5jcmVhdGVFbCgnYnV0dG9uJywge1xuICAgICAgdGV4dDogJ/CflIQgUmVmcmVzaCcsXG4gICAgICBjbHM6ICd2YXVsdHBpbG90LWFjdGlvbi1idXR0b24nXG4gICAgfSk7XG4gICAgcmVmcmVzaEJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgdGhpcy51cGRhdGVTdGF0dXMoKTtcbiAgICAgIHRoaXMudXBkYXRlVmF1bHRTdGF0cygpO1xuICAgIH07XG5cbiAgICAvLyBPcGVuIHNpZGViYXIgdmlld1xuICAgIGNvbnN0IHNpZGViYXJCdXR0b24gPSBhY3Rpb25zR3JpZC5jcmVhdGVFbCgnYnV0dG9uJywge1xuICAgICAgdGV4dDogJ/Cfk4sgU2lkZWJhciBWaWV3JyxcbiAgICAgIGNsczogJ3ZhdWx0cGlsb3QtYWN0aW9uLWJ1dHRvbidcbiAgICB9KTtcbiAgICBzaWRlYmFyQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB0aGlzLnBsdWdpbi5hY3RpdmF0ZVZpZXcoKTtcblxuICAgIC8vIE9wZW4gbW9kYWwgY2hhdFxuICAgIGNvbnN0IG1vZGFsQ2hhdEJ1dHRvbiA9IGFjdGlvbnNHcmlkLmNyZWF0ZUVsKCdidXR0b24nLCB7XG4gICAgICB0ZXh0OiAn8J+SrCBNb2RhbCBDaGF0JyxcbiAgICAgIGNsczogJ3ZhdWx0cGlsb3QtYWN0aW9uLWJ1dHRvbidcbiAgICB9KTtcbiAgICBtb2RhbENoYXRCdXR0b24ub25jbGljayA9ICgpID0+IHRoaXMucGx1Z2luLm9wZW5DaGF0TW9kYWwoKTtcblxuICAgIC8vIEV4ZWN1dGUgd29ya2Zsb3dcbiAgICBjb25zdCB3b3JrZmxvd0J1dHRvbiA9IGFjdGlvbnNHcmlkLmNyZWF0ZUVsKCdidXR0b24nLCB7XG4gICAgICB0ZXh0OiAn4pqZ77iPIFdvcmtmbG93cycsXG4gICAgICBjbHM6ICd2YXVsdHBpbG90LWFjdGlvbi1idXR0b24nXG4gICAgfSk7XG4gICAgd29ya2Zsb3dCdXR0b24ub25jbGljayA9ICgpID0+IHRoaXMucGx1Z2luLm9wZW5Xb3JrZmxvd01vZGFsKCk7XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZVZhdWx0U3RhdHMoKSB7XG4gICAgdGhpcy52YXVsdFN0YXRzRWwuZW1wdHkoKTtcbiAgICB0aGlzLnZhdWx0U3RhdHNFbC5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdWYXVsdCBTdGF0aXN0aWNzJyB9KTtcblxuICAgIGNvbnN0IHN0YXRzQ29udGFpbmVyID0gdGhpcy52YXVsdFN0YXRzRWwuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAndmF1bHRwaWxvdC1zdGF0cy1jb250YWluZXInIH0pO1xuXG4gICAgLy8gR2V0IHZhdWx0IHN0YXRpc3RpY3NcbiAgICBjb25zdCBmaWxlcyA9IHRoaXMuYXBwLnZhdWx0LmdldEZpbGVzKCk7XG4gICAgY29uc3QgbWFya2Rvd25GaWxlcyA9IHRoaXMuYXBwLnZhdWx0LmdldE1hcmtkb3duRmlsZXMoKTtcbiAgICBcbiAgICBjb25zdCBzdGF0cyA9IFtcbiAgICAgIHsgbGFiZWw6ICdUb3RhbCBGaWxlcycsIHZhbHVlOiBmaWxlcy5sZW5ndGgudG9TdHJpbmcoKSB9LFxuICAgICAgeyBsYWJlbDogJ01hcmtkb3duIEZpbGVzJywgdmFsdWU6IG1hcmtkb3duRmlsZXMubGVuZ3RoLnRvU3RyaW5nKCkgfSxcbiAgICAgIHsgbGFiZWw6ICdGb2xkZXJzJywgdmFsdWU6IHRoaXMuYXBwLnZhdWx0LmdldEFsbExvYWRlZEZpbGVzKCkuZmlsdGVyKGYgPT4gZiBpbnN0YW5jZW9mIFRGb2xkZXIpLmxlbmd0aC50b1N0cmluZygpIH1cbiAgICBdO1xuXG4gICAgc3RhdHMuZm9yRWFjaChzdGF0ID0+IHtcbiAgICAgIGNvbnN0IHN0YXRFbCA9IHN0YXRzQ29udGFpbmVyLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3ZhdWx0cGlsb3Qtc3RhdC1pdGVtJyB9KTtcbiAgICAgIHN0YXRFbC5jcmVhdGVFbCgnZGl2JywgeyB0ZXh0OiBzdGF0LnZhbHVlLCBjbHM6ICd2YXVsdHBpbG90LXN0YXQtdmFsdWUnIH0pO1xuICAgICAgc3RhdEVsLmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6IHN0YXQubGFiZWwsIGNsczogJ3ZhdWx0cGlsb3Qtc3RhdC1sYWJlbCcgfSk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZVJlY2VudEZpbGVzKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcbiAgICBjb25zdCByZWNlbnRGaWxlcyA9IHRoaXMuYXBwLnZhdWx0LmdldE1hcmtkb3duRmlsZXMoKVxuICAgICAgLnNvcnQoKGEsIGIpID0+IGIuc3RhdC5tdGltZSAtIGEuc3RhdC5tdGltZSlcbiAgICAgIC5zbGljZSgwLCA1KTtcblxuICAgIHJlY2VudEZpbGVzLmZvckVhY2goZmlsZSA9PiB7XG4gICAgICBjb25zdCBmaWxlRWwgPSBjb250YWluZXIuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAndmF1bHRwaWxvdC1yZWNlbnQtZmlsZScgfSk7XG4gICAgICBmaWxlRWwuY3JlYXRlRWwoJ3NwYW4nLCB7IHRleHQ6IGZpbGUuYmFzZW5hbWUgfSk7XG4gICAgICBmaWxlRWwub25jbGljayA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5hcHAud29ya3NwYWNlLm9wZW5MaW5rVGV4dChmaWxlLnBhdGgsICcnLCBmYWxzZSk7XG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVBZ2VudFN0YXR1cyhjb250YWluZXI6IEhUTUxFbGVtZW50KSB7XG4gICAgdGhpcy5sb2FkQWdlbnRJbmZvKGNvbnRhaW5lcik7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGxvYWRBZ2VudEluZm8oY29udGFpbmVyPzogSFRNTEVsZW1lbnQpIHtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coJ1ZhdWx0UGlsb3Q6IExvYWRpbmcgYWdlbnRzIGluIGZ1bGwtdGFiLXZpZXcuLi4nKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5wbHVnaW4uYXBpQ2xpZW50LmdldEFnZW50cygpO1xuICAgICAgY29uc29sZS5sb2coJ1ZhdWx0UGlsb3Q6IGdldEFnZW50cyByZXNwb25zZSBpbiBmdWxsLXRhYi12aWV3OicsIHJlc3BvbnNlKTtcbiAgICAgIFxuICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MgJiYgcmVzcG9uc2UuZGF0YSAmJiBjb250YWluZXIpIHtcbiAgICAgICAgbGV0IGFnZW50czogYW55W10gPSBbXTtcbiAgICAgICAgXG4gICAgICAgIC8vIEhhbmRsZSBkaWZmZXJlbnQgcmVzcG9uc2UgZm9ybWF0c1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShyZXNwb25zZS5kYXRhKSkge1xuICAgICAgICAgIC8vIERpcmVjdCBhcnJheSByZXNwb25zZVxuICAgICAgICAgIGFnZW50cyA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YSAmJiB0eXBlb2YgcmVzcG9uc2UuZGF0YSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAvLyBDaGVjayBmb3Igd3JhcHBlZCByZXNwb25zZSBmb3JtYXRzXG4gICAgICAgICAgY29uc3QgZGF0YU9iaiA9IHJlc3BvbnNlLmRhdGEgYXMgYW55O1xuICAgICAgICAgIGlmIChkYXRhT2JqLmFnZW50cyAmJiBBcnJheS5pc0FycmF5KGRhdGFPYmouYWdlbnRzKSkge1xuICAgICAgICAgICAgLy8gUmVzcG9uc2UgZm9ybWF0OiB7YWdlbnRzOiBbLi4uXX1cbiAgICAgICAgICAgIGFnZW50cyA9IGRhdGFPYmouYWdlbnRzO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1ZhdWx0UGlsb3Q6IEZvdW5kIGFnZW50cyBhcnJheSBpbiBmdWxsLXRhYi12aWV3LCB1c2luZyByZXNwb25zZS5kYXRhLmFnZW50cycpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YU9iai5kYXRhICYmIEFycmF5LmlzQXJyYXkoZGF0YU9iai5kYXRhKSkge1xuICAgICAgICAgICAgLy8gUmVzcG9uc2UgZm9ybWF0OiB7ZGF0YTogWy4uLl19XG4gICAgICAgICAgICBhZ2VudHMgPSBkYXRhT2JqLmRhdGE7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnVmF1bHRQaWxvdDogRm91bmQgbmVzdGVkIGRhdGEgaW4gZnVsbC10YWItdmlldywgdXNpbmcgcmVzcG9uc2UuZGF0YS5kYXRhJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignVmF1bHRQaWxvdDogVW5leHBlY3RlZCByZXNwb25zZSBmb3JtYXQ6JywgdHlwZW9mIHJlc3BvbnNlLmRhdGEsIHJlc3BvbnNlLmRhdGEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gRGlzcGxheSBhZ2VudCBpbmZvcm1hdGlvblxuICAgICAgICBjb25zdCBhZ2VudENvdW50ID0gYWdlbnRzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgYWN0aXZlQWdlbnRzID0gYWdlbnRzLmZpbHRlcigoYWdlbnQ6IGFueSkgPT4gYWdlbnQuYWN0aXZlKS5sZW5ndGg7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBhZ2VudEluZm8gPSBjb250YWluZXIuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAndmF1bHRwaWxvdC1hZ2VudC1pbmZvJyB9KTtcbiAgICAgICAgYWdlbnRJbmZvLmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6IGAke2FjdGl2ZUFnZW50c30vJHthZ2VudENvdW50fSBhY3RpdmVgIH0pO1xuICAgICAgICBcbiAgICAgICAgYWdlbnRzLmZvckVhY2goKGFnZW50OiBhbnkpID0+IHtcbiAgICAgICAgICBjb25zdCBhZ2VudEVsID0gYWdlbnRJbmZvLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3ZhdWx0cGlsb3QtYWdlbnQtaXRlbScgfSk7XG4gICAgICAgICAgYWdlbnRFbC5jcmVhdGVFbCgnc3BhbicsIHsgdGV4dDogYWdlbnQubmFtZSB9KTtcbiAgICAgICAgICBhZ2VudEVsLmNyZWF0ZUVsKCdzcGFuJywgeyBcbiAgICAgICAgICAgIHRleHQ6IGFnZW50LmFjdGl2ZSA/ICfwn5+iJyA6ICfwn5S0JyxcbiAgICAgICAgICAgIGNsczogJ3ZhdWx0cGlsb3QtYWdlbnQtc3RhdHVzJ1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgYWdlbnRzIGluIGZ1bGwgdGFiIHZpZXc6JywgZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlQWN0aXZpdHlGZWVkKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcbiAgICBjb25zdCBhY3Rpdml0aWVzID0gW1xuICAgICAgeyB0aW1lOiAnSnVzdCBub3cnLCBhY3Rpdml0eTogJ1ZhdWx0UGlsb3Qgc3RhcnRlZCcgfSxcbiAgICAgIHsgdGltZTogJzUgbWluIGFnbycsIGFjdGl2aXR5OiAnQ29ubmVjdGlvbiBlc3RhYmxpc2hlZCcgfSxcbiAgICAgIHsgdGltZTogJzEgaG91ciBhZ28nLCBhY3Rpdml0eTogJ0xhc3QgdmF1bHQgYW5hbHlzaXMnIH1cbiAgICBdO1xuXG4gICAgYWN0aXZpdGllcy5mb3JFYWNoKGFjdGl2aXR5ID0+IHtcbiAgICAgIGNvbnN0IGFjdGl2aXR5RWwgPSBjb250YWluZXIuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAndmF1bHRwaWxvdC1hY3Rpdml0eS1pdGVtJyB9KTtcbiAgICAgIGFjdGl2aXR5RWwuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogYWN0aXZpdHkuYWN0aXZpdHkgfSk7XG4gICAgICBhY3Rpdml0eUVsLmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6IGFjdGl2aXR5LnRpbWUsIGNsczogJ3ZhdWx0cGlsb3QtYWN0aXZpdHktdGltZScgfSk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGFkZEZ1bGxUYWJTdHlsZXMoKSB7XG4gICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmF1bHRwaWxvdC1mdWxsLXRhYi1zdHlsZXMnKSkge1xuICAgICAgY29uc3Qgc3R5bGVFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgICBzdHlsZUVsLmlkID0gJ3ZhdWx0cGlsb3QtZnVsbC10YWItc3R5bGVzJztcbiAgICAgIHN0eWxlRWwudGV4dENvbnRlbnQgPSBgXG4gICAgICAgIC8qIEVuc3VyZSB0aGUgZnVsbCB0YWIgdmlldyBmaWxscyBhdmFpbGFibGUgc3BhY2UgKi9cbiAgICAgICAgLndvcmtzcGFjZS1sZWFmLWNvbnRlbnRbZGF0YS10eXBlPVwidmF1bHRwaWxvdC1mdWxsLXRhYi12aWV3XCJdIHtcbiAgICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgIH1cbiAgICAgICAgLnZhdWx0cGlsb3QtZnVsbC10YWItdmlldyB7XG4gICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgfVxuICAgICAgICAudmF1bHRwaWxvdC1tYWluLWxheW91dCB7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBmbGV4OiAxO1xuICAgICAgICAgIGdhcDogMXB4O1xuICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgICBtaW4taGVpZ2h0OiAwO1xuICAgICAgICB9XG4gICAgICAgIC52YXVsdHBpbG90LWxlZnQtc2lkZWJhciB7XG4gICAgICAgICAgd2lkdGg6IDI1MHB4O1xuICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gICAgICAgICAgcGFkZGluZzogMTZweDtcbiAgICAgICAgICBvdmVyZmxvdy15OiBhdXRvO1xuICAgICAgICB9XG4gICAgICAgIC52YXVsdHBpbG90LW1haW4tY29udGVudCB7XG4gICAgICAgICAgZmxleDogMTtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgICBtaW4taGVpZ2h0OiAwO1xuICAgICAgICB9XG4gICAgICAgIC52YXVsdHBpbG90LXJpZ2h0LXNpZGViYXIge1xuICAgICAgICAgIHdpZHRoOiAyNTBweDtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICAgICAgICAgIHBhZGRpbmc6IDE2cHg7XG4gICAgICAgICAgb3ZlcmZsb3cteTogYXV0bztcbiAgICAgICAgfVxuICAgICAgICAudmF1bHRwaWxvdC1zaWRlYmFyLWhlYWRlciB7XG4gICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XG4gICAgICAgICAgcGFkZGluZy1ib3R0b206IDE1cHg7XG4gICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgfVxuICAgICAgICAudmF1bHRwaWxvdC10YWItbmF2IHtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgICAgIGZsZXgtc2hyaW5rOiAwO1xuICAgICAgICB9XG4gICAgICAgIC52YXVsdHBpbG90LXRhYi1idXR0b24ge1xuICAgICAgICAgIGZsZXg6IDE7XG4gICAgICAgICAgcGFkZGluZzogMTJweCAxNnB4O1xuICAgICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICAgICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjJzO1xuICAgICAgICB9XG4gICAgICAgIC52YXVsdHBpbG90LXRhYi1idXR0b246aG92ZXIge1xuICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItaG92ZXIpO1xuICAgICAgICB9XG4gICAgICAgIC52YXVsdHBpbG90LXRhYi1idXR0b24uYWN0aXZlIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgICAgICAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkIHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgICAgIH1cbiAgICAgICAgLnZhdWx0cGlsb3QtdGFiLWNvbnRlbnQge1xuICAgICAgICAgIGZsZXg6IDE7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICAgIG1pbi1oZWlnaHQ6IDA7XG4gICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICB9XG4gICAgICAgIC8qIFNlY3Rpb25zIGp1c3QgZmxleC1ncm93IGFuZCBob2xkIHRoZWlyIGNoaWxkcmVuICovXG4gICAgICAgIC52YXVsdHBpbG90LWNoYXQtc2VjdGlvbixcbiAgICAgICAgLnZhdWx0cGlsb3Qtd29ya2Zsb3ctc2VjdGlvbixcbiAgICAgICAgLnZhdWx0cGlsb3QtYW5hbHl0aWNzLXNlY3Rpb24ge1xuICAgICAgICAgIGRpc3BsYXk6IG5vbmU7ICAgICAgICAgICAvKiBoaWRkZW4gYnkgZGVmYXVsdCAqL1xuICAgICAgICAgIGZsZXg6IDEgMSAwOyAgICAgICAgICAgICAvKiBmbGV4LWdyb3csIGZsZXgtc2hyaW5rLCBiYXNlIDAgKi9cbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICAgIG1pbi1oZWlnaHQ6IDA7ICAgICAgICAgICAvKiBhbGxvdyBjaGlsZHJlbiB0byBzaHJpbmsvc2Nyb2xsICovXG4gICAgICAgIH1cblxuICAgICAgICAvKiBBY3RpdmUgc2VjdGlvbiBzaG93cyBhbmQgZmxleGVzICovXG4gICAgICAgIC52YXVsdHBpbG90LWNoYXQtc2VjdGlvbi5hY3RpdmUsXG4gICAgICAgIC52YXVsdHBpbG90LXdvcmtmbG93LXNlY3Rpb24uYWN0aXZlLFxuICAgICAgICAudmF1bHRwaWxvdC1hbmFseXRpY3Mtc2VjdGlvbi5hY3RpdmUge1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7ICAgICAgICAgICAvKiBzaG93ICYgZmxleCB3aGVuIGFjdGl2ZSAqL1xuICAgICAgICB9XG5cbiAgICAgICAgLyogQ29udGVudCBwYW5lbHMgaGFuZGxlIHRoZSBzY3JvbGxpbmcgKi9cbiAgICAgICAgLnZhdWx0cGlsb3QtY2hhdC1jb250ZW50LFxuICAgICAgICAudmF1bHRwaWxvdC13b3JrZmxvdy1jb250ZW50LFxuICAgICAgICAudmF1bHRwaWxvdC1hbmFseXRpY3MtY29udGVudCB7XG4gICAgICAgICAgZmxleDogMSAxIDA7ICAgICAgICAgICAgIC8qIGZpbGwgcmVtYWluaW5nIHNwYWNlICovXG4gICAgICAgICAgbWluLWhlaWdodDogMDsgICAgICAgICAgIC8qIGNyaXRpY2FsIHRvIGFsbG93IG92ZXJmbG93ICovXG4gICAgICAgICAgb3ZlcmZsb3cteTogYXV0bzsgICAgICAgIC8qIG5vdyAqdGhpcyogY29udGFpbmVyIHNjcm9sbHMgKi9cbiAgICAgICAgICBwYWRkaW5nOiAxNnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLyoga2VlcCBzcGVjaWFsIGNoYXQgZ2FwcyAqL1xuICAgICAgICAudmF1bHRwaWxvdC1jaGF0LWNvbnRlbnQge1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgICBnYXA6IDE2cHg7XG4gICAgICAgIH1cbiAgICAgICAgLnZhdWx0cGlsb3QtY2hhdC1oaXN0b3J5IHtcbiAgICAgICAgICBmbGV4OiAxO1xuICAgICAgICAgIG92ZXJmbG93LXk6IGF1dG87XG4gICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgICAgICBwYWRkaW5nOiAxNnB4O1xuICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICAgICAgICBtaW4taGVpZ2h0OiAwO1xuICAgICAgICB9XG4gICAgICAgIC52YXVsdHBpbG90LWNoYXQtaW5wdXQge1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgZ2FwOiA4cHg7XG4gICAgICAgIH1cbiAgICAgICAgLnZhdWx0cGlsb3QtY2hhdC10ZXh0YXJlYSB7XG4gICAgICAgICAgZmxleDogMTtcbiAgICAgICAgICBtaW4taGVpZ2h0OiA2MHB4O1xuICAgICAgICAgIHBhZGRpbmc6IDhweDtcbiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xuICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICAgICAgICByZXNpemU6IHZlcnRpY2FsO1xuICAgICAgICB9XG4gICAgICAgIC52YXVsdHBpbG90LWNoYXQtc2VuZC1idXR0b24ge1xuICAgICAgICAgIHBhZGRpbmc6IDhweCAxNnB4O1xuICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtb24tYWNjZW50KTtcbiAgICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xuICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgICBoZWlnaHQ6IGZpdC1jb250ZW50O1xuICAgICAgICAgIGFsaWduLXNlbGY6IGZsZXgtZW5kO1xuICAgICAgICB9XG4gICAgICAgIC52YXVsdHBpbG90LWNoYXQtbWVzc2FnZSB7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTJweDtcbiAgICAgICAgICBwYWRkaW5nOiA4cHggMTJweDtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICAgICAgbWF4LXdpZHRoOiA4MCU7XG4gICAgICAgIH1cbiAgICAgICAgLnZhdWx0cGlsb3QtY2hhdC1tZXNzYWdlLnVzZXIge1xuICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtb24tYWNjZW50KTtcbiAgICAgICAgICBtYXJnaW4tbGVmdDogYXV0bztcbiAgICAgICAgfVxuICAgICAgICAudmF1bHRwaWxvdC1jaGF0LW1lc3NhZ2UuYXNzaXN0YW50IHtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgfVxuICAgICAgICAudmF1bHRwaWxvdC1jaGF0LW1lc3NhZ2UudGhpbmtpbmcge1xuICAgICAgICAgIG9wYWNpdHk6IDAuNztcbiAgICAgICAgICBmb250LXN0eWxlOiBpdGFsaWM7XG4gICAgICAgIH1cbiAgICAgICAgLnZhdWx0cGlsb3QtY2hhdC1tZXNzYWdlLmVycm9yIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWVycm9yKTtcbiAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1lcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgLnZhdWx0cGlsb3QtY2hhdC1oZWFkZXIsXG4gICAgICAgIC52YXVsdHBpbG90LXdvcmtmbG93LWhlYWRlcixcbiAgICAgICAgLnZhdWx0cGlsb3QtYW5hbHl0aWNzLWhlYWRlciB7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTZweDtcbiAgICAgICAgICBwYWRkaW5nLWJvdHRvbTogOHB4O1xuICAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICAgIH1cbiAgICAgICAgLnZhdWx0cGlsb3QtY2hhdC1oZWFkZXIgaDMsXG4gICAgICAgIC52YXVsdHBpbG90LXdvcmtmbG93LWhlYWRlciBoMyxcbiAgICAgICAgLnZhdWx0cGlsb3QtYW5hbHl0aWNzLWhlYWRlciBoMyB7XG4gICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgICAgIH1cbiAgICAgICAgLnZhdWx0cGlsb3Qtd29ya2Zsb3ctZ3JpZCB7XG4gICAgICAgICAgZGlzcGxheTogZ3JpZDtcbiAgICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDIwMHB4LCAxZnIpKTtcbiAgICAgICAgICBnYXA6IDE2cHg7XG4gICAgICAgICAgYWxpZ24tY29udGVudDogc3RhcnQ7XG4gICAgICAgICAgcGFkZGluZzogMDtcbiAgICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIH1cbiAgICAgICAgLnZhdWx0cGlsb3Qtd29ya2Zsb3ctY2FyZCB7XG4gICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICAgICAgcGFkZGluZzogMTZweDtcbiAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZTtcbiAgICAgICAgfVxuICAgICAgICAudmF1bHRwaWxvdC13b3JrZmxvdy1jYXJkOmhvdmVyIHtcbiAgICAgICAgICBib3JkZXItY29sb3I6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gICAgICAgICAgYm94LXNoYWRvdzogMCAycHggOHB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgICAgICAgfVxuICAgICAgICAudmF1bHRwaWxvdC13b3JrZmxvdy1pY29uIHtcbiAgICAgICAgICBmb250LXNpemU6IDMycHg7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogOHB4O1xuICAgICAgICB9XG4gICAgICAgIC52YXVsdHBpbG90LXdvcmtmbG93LXJ1bi1idXR0b24ge1xuICAgICAgICAgIG1hcmdpbi10b3A6IDhweDtcbiAgICAgICAgICBwYWRkaW5nOiA2cHggMTJweDtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW9uLWFjY2VudCk7XG4gICAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIH1cbiAgICAgICAgLnZhdWx0cGlsb3QtY2hhcnRzLWNvbnRhaW5lciB7XG4gICAgICAgICAgZGlzcGxheTogZ3JpZDtcbiAgICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDMwMHB4LCAxZnIpKTtcbiAgICAgICAgICBnYXA6IDE2cHg7XG4gICAgICAgICAgYWxpZ24tY29udGVudDogc3RhcnQ7XG4gICAgICAgICAgcGFkZGluZzogMDtcbiAgICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIH1cbiAgICAgICAgLnZhdWx0cGlsb3QtY2hhcnQtY2FyZCB7XG4gICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICAgICAgcGFkZGluZzogMTZweDtcbiAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlO1xuICAgICAgICB9XG4gICAgICAgIC52YXVsdHBpbG90LWNoYXJ0LWNhcmQ6aG92ZXIge1xuICAgICAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgICAgICAgICBib3gtc2hhZG93OiAwIDJweCA4cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xuICAgICAgICB9XG4gICAgICAgIC52YXVsdHBpbG90LWNoYXJ0LXBsYWNlaG9sZGVyIHtcbiAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgICAgICAgIGZvbnQtc3R5bGU6IGl0YWxpYztcbiAgICAgICAgICBwYWRkaW5nOiAyMHB4O1xuICAgICAgICB9XG4gICAgICAgIC52YXVsdHBpbG90LXJlY2VudC1maWxlIHtcbiAgICAgICAgICBwYWRkaW5nOiA0cHggOHB4O1xuICAgICAgICAgIG1hcmdpbi1ib3R0b206IDRweDtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4ycztcbiAgICAgICAgfVxuICAgICAgICAudmF1bHRwaWxvdC1yZWNlbnQtZmlsZTpob3ZlciB7XG4gICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ob3Zlcik7XG4gICAgICAgIH1cbiAgICAgICAgLnZhdWx0cGlsb3QtYWdlbnQtaXRlbSB7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgICBwYWRkaW5nOiA0cHggMDtcbiAgICAgICAgfVxuICAgICAgICAudmF1bHRwaWxvdC1hY3Rpdml0eS1pdGVtIHtcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiA4cHg7XG4gICAgICAgICAgcGFkZGluZzogNnB4IDA7XG4gICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgfVxuICAgICAgICAudmF1bHRwaWxvdC1hY3Rpdml0eS10aW1lIHtcbiAgICAgICAgICBmb250LXNpemU6IDExcHg7XG4gICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgICAgICAgIG1hcmdpbi10b3A6IDJweDtcbiAgICAgICAgfVxuICAgICAgICAvKiBJbmhlcml0IHN0eWxlcyBmcm9tIG9yaWdpbmFsIHZpZXcgKi9cbiAgICAgICAgLnZhdWx0cGlsb3Qtc3RhdHVzLFxuICAgICAgICAudmF1bHRwaWxvdC1xdWljay1hY3Rpb25zLFxuICAgICAgICAudmF1bHRwaWxvdC12YXVsdC1zdGF0cyB7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgICAgICAgfVxuICAgICAgICAudmF1bHRwaWxvdC1zdGF0dXMgaDMsXG4gICAgICAgIC52YXVsdHBpbG90LXF1aWNrLWFjdGlvbnMgaDMsXG4gICAgICAgIC52YXVsdHBpbG90LXZhdWx0LXN0YXRzIGgzIHtcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMnB4O1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgICBwYWRkaW5nLWJvdHRvbTogNHB4O1xuICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgfVxuICAgICAgICAudmF1bHRwaWxvdC1zdGF0dXMtY29udGFpbmVyIHtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgICAgZ2FwOiA2cHg7XG4gICAgICAgIH1cbiAgICAgICAgLnZhdWx0cGlsb3Qtc3RhdHVzLWl0ZW0ge1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICB9XG4gICAgICAgIC52YXVsdHBpbG90LXN0YXR1cy1pbmRpY2F0b3Ige1xuICAgICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgICAgICAgZm9udC1zaXplOiAxMXB4O1xuICAgICAgICB9XG4gICAgICAgIC52YXVsdHBpbG90LXN0YXR1cy1jb25uZWN0ZWQge1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS1jb2xvci1ncmVlbik7XG4gICAgICAgIH1cbiAgICAgICAgLnZhdWx0cGlsb3Qtc3RhdHVzLWVycm9yLFxuICAgICAgICAudmF1bHRwaWxvdC1zdGF0dXMtb2ZmbGluZSB7XG4gICAgICAgICAgY29sb3I6IHZhcigtLWNvbG9yLXJlZCk7XG4gICAgICAgIH1cbiAgICAgICAgLnZhdWx0cGlsb3QtYWN0aW9ucy1ncmlkIHtcbiAgICAgICAgICBkaXNwbGF5OiBncmlkO1xuICAgICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDFmcjtcbiAgICAgICAgICBnYXA6IDhweDtcbiAgICAgICAgfVxuICAgICAgICAudmF1bHRwaWxvdC1hY3Rpb24tYnV0dG9uIHtcbiAgICAgICAgICBwYWRkaW5nOiA4cHggNnB4O1xuICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLW5vcm1hbCk7XG4gICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgICBmb250LXNpemU6IDExcHg7XG4gICAgICAgICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjJzO1xuICAgICAgICB9XG4gICAgICAgIC52YXVsdHBpbG90LWFjdGlvbi1idXR0b246aG92ZXIge1xuICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWludGVyYWN0aXZlLWhvdmVyKTtcbiAgICAgICAgfVxuICAgICAgICAudmF1bHRwaWxvdC1zdGF0cy1jb250YWluZXIge1xuICAgICAgICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnI7XG4gICAgICAgICAgZ2FwOiA4cHg7XG4gICAgICAgIH1cbiAgICAgICAgLnZhdWx0cGlsb3Qtc3RhdC1pdGVtIHtcbiAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgICAgcGFkZGluZzogOHB4O1xuICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgICB9XG4gICAgICAgIC52YXVsdHBpbG90LXN0YXQtdmFsdWUge1xuICAgICAgICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1hY2NlbnQpO1xuICAgICAgICAgIG1hcmdpbi1ib3R0b206IDJweDtcbiAgICAgICAgfVxuICAgICAgICAudmF1bHRwaWxvdC1zdGF0LWxhYmVsIHtcbiAgICAgICAgICBmb250LXNpemU6IDEwcHg7XG4gICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgICAgICB9XG4gICAgICBgO1xuICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBvbkNsb3NlKCkge1xuICAgIC8vIENsZWFuIHVwIGFueSByZXNvdXJjZXNcbiAgfVxufVxuIiwiaW1wb3J0IHsgQXBwIH0gZnJvbSAnb2JzaWRpYW4nO1xuXG4vLyBHbG9iYWwgYXBwIGluc3RhbmNlIC0gd2lsbCBiZSBzZXQgYnkgdGhlIG1haW4gcGx1Z2luXG5leHBvcnQgbGV0IGFwcDogQXBwO1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0QXBwKGFwcEluc3RhbmNlOiBBcHApIHtcbiAgYXBwID0gYXBwSW5zdGFuY2U7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgY29udGVudCBvZiB0aGUgY3VycmVudGx5IGFjdGl2ZSBtYXJrZG93biBmaWxlXG4gKiBAcmV0dXJucyBUaGUgbWFya2Rvd24gY29udGVudCAodHJ1bmNhdGVkIHRvIDgwMDAgY2hhcnMpIG9yIG51bGwgaWYgbm8gZmlsZSBpcyBhY3RpdmVcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFjdGl2ZU1hcmtkb3duKCk6IFByb21pc2U8c3RyaW5nIHwgbnVsbD4ge1xuICBjb25zdCBmaWxlID0gYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCk7XG4gIGlmICghZmlsZSkgcmV0dXJuIG51bGw7XG4gIFxuICAvLyBMYXJnZSBub3Rlcz8gU25pcCB0byA4MDAwIGNoYXJzIHRvIGtlZXAgdG9rZW5zIHJlYXNvbmFibGVcbiAgY29uc3QgdGV4dCA9IGF3YWl0IGFwcC52YXVsdC5yZWFkKGZpbGUpO1xuICByZXR1cm4gdGV4dC5zbGljZSgwLCA4XzAwMCk7XG59XG4iLCJpbXBvcnQgeyBNb2RhbCwgQXBwLCBTZXR0aW5nLCBOb3RpY2UgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgdHlwZSBWYXVsdFBpbG90UGx1Z2luIGZyb20gJy4vbWFpbic7XG5pbXBvcnQgeyBDaGF0TWVzc2FnZSwgSW50ZW50IH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBnZXRBY3RpdmVNYXJrZG93biB9IGZyb20gJy4vdmF1bHQtdXRpbHMnO1xuXG5leHBvcnQgY2xhc3MgQ2hhdE1vZGFsIGV4dGVuZHMgTW9kYWwge1xuICBwbHVnaW46IFZhdWx0UGlsb3RQbHVnaW47XG4gIHByaXZhdGUgY2hhdENvbnRhaW5lciE6IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIGlucHV0Q29udGFpbmVyITogSFRNTEVsZW1lbnQ7XG4gIHByaXZhdGUgbWVzc2FnZXNFbCE6IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIGlucHV0RWwhOiBIVE1MSW5wdXRFbGVtZW50O1xuICBwcml2YXRlIHNlbmRCdXR0b24hOiBIVE1MQnV0dG9uRWxlbWVudDtcbiAgcHJpdmF0ZSBjdXJyZW50Q29udmVyc2F0aW9uSWQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIG1lc3NhZ2VzOiBDaGF0TWVzc2FnZVtdID0gW107XG5cbiAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogVmF1bHRQaWxvdFBsdWdpbikge1xuICAgIHN1cGVyKGFwcCk7XG4gICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gIH1cblxuICBvbk9wZW4oKSB7XG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgY29udGVudEVsLmVtcHR5KCk7XG4gICAgY29udGVudEVsLmFkZENsYXNzKCd2YXVsdHBpbG90LWNoYXQtbW9kYWwnKTtcblxuICAgIC8vIE1vZGFsIGhlYWRlclxuICAgIGNvbnN0IGhlYWRlckVsID0gY29udGVudEVsLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3ZhdWx0cGlsb3QtY2hhdC1oZWFkZXInIH0pO1xuICAgIGhlYWRlckVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ/CfpJYgVmF1bHRQaWxvdCBDaGF0JyB9KTtcbiAgICBcbiAgICBjb25zdCB0b29sYmFyRWwgPSBoZWFkZXJFbC5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICd2YXVsdHBpbG90LWNoYXQtdG9vbGJhcicgfSk7XG4gICAgXG4gICAgLy8gQWRkIGluZm8gYWJvdXQgYXV0b21hdGljIG1vZGUgZGV0ZWN0aW9uXG4gICAgY29uc3QgYXV0b01vZGVJbmZvID0gdG9vbGJhckVsLmNyZWF0ZUVsKCdkaXYnLCB7IFxuICAgICAgY2xzOiAndmF1bHRwaWxvdC1hdXRvLW1vZGUtaW5mbycsXG4gICAgICB0ZXh0OiAn4pqhIEF1dG9tYXRpYyBtb2RlIGRldGVjdGlvbiBlbmFibGVkJ1xuICAgIH0pO1xuICAgIFxuICAgIC8vIENsZWFyIGNoYXQgYnV0dG9uXG4gICAgY29uc3QgY2xlYXJCdG4gPSB0b29sYmFyRWwuY3JlYXRlRWwoJ2J1dHRvbicsIHsgXG4gICAgICB0ZXh0OiAnQ2xlYXIgQ2hhdCcsXG4gICAgICBjbHM6ICdtb2QtY3RhJ1xuICAgIH0pO1xuICAgIGNsZWFyQnRuLm9uY2xpY2sgPSAoKSA9PiB0aGlzLmNsZWFyQ2hhdCgpO1xuXG4gICAgLy8gQWdlbnQgc2VsZWN0b3IgKHdpbGwgYmUgcG9wdWxhdGVkIHdoZW4gYWdlbnRzIGFyZSBsb2FkZWQpXG4gICAgY29uc3QgYWdlbnRTZWxlY3QgPSB0b29sYmFyRWwuY3JlYXRlRWwoJ3NlbGVjdCcsIHsgY2xzOiAndmF1bHRwaWxvdC1hZ2VudC1zZWxlY3QnIH0pO1xuICAgIGFnZW50U2VsZWN0LmNyZWF0ZUVsKCdvcHRpb24nLCB7IHRleHQ6ICdBdXRvLXNlbGVjdCBBZ2VudCcsIHZhbHVlOiAnJyB9KTtcbiAgICB0aGlzLmxvYWRBZ2VudHMoYWdlbnRTZWxlY3QpO1xuXG4gICAgLy8gQ2hhdCBjb250YWluZXJcbiAgICB0aGlzLmNoYXRDb250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAndmF1bHRwaWxvdC1jaGF0LWNvbnRhaW5lcicgfSk7XG4gICAgXG4gICAgLy8gTWVzc2FnZXMgYXJlYVxuICAgIHRoaXMubWVzc2FnZXNFbCA9IHRoaXMuY2hhdENvbnRhaW5lci5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICd2YXVsdHBpbG90LWNoYXQtbWVzc2FnZXMnIH0pO1xuICAgIFxuICAgIC8vIElucHV0IGNvbnRhaW5lclxuICAgIHRoaXMuaW5wdXRDb250YWluZXIgPSB0aGlzLmNoYXRDb250YWluZXIuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAndmF1bHRwaWxvdC1jaGF0LWlucHV0LWNvbnRhaW5lcicgfSk7XG4gICAgXG4gICAgdGhpcy5pbnB1dEVsID0gdGhpcy5pbnB1dENvbnRhaW5lci5jcmVhdGVFbCgnaW5wdXQnLCB7XG4gICAgICB0eXBlOiAndGV4dCcsXG4gICAgICBwbGFjZWhvbGRlcjogJ0FzayBhIHF1ZXN0aW9uIG9yIGRlc2NyaWJlIHdoYXQgeW91IHdhbnQgdG8gYWNjb21wbGlzaC4uLicsXG4gICAgICBjbHM6ICd2YXVsdHBpbG90LWNoYXQtaW5wdXQnXG4gICAgfSk7XG5cbiAgICB0aGlzLnNlbmRCdXR0b24gPSB0aGlzLmlucHV0Q29udGFpbmVyLmNyZWF0ZUVsKCdidXR0b24nLCB7XG4gICAgICB0ZXh0OiAnU2VuZCcsXG4gICAgICBjbHM6ICdtb2QtY3RhIHZhdWx0cGlsb3Qtc2VuZC1idXR0b24nXG4gICAgfSk7XG5cbiAgICAvLyBFdmVudCBsaXN0ZW5lcnNcbiAgICB0aGlzLmlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7XG4gICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicgJiYgIWUuc2hpZnRLZXkpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLnNlbmRCdXR0b24ub25jbGljayA9ICgpID0+IHRoaXMuc2VuZE1lc3NhZ2UoKTtcblxuICAgIC8vIEZvY3VzIHRoZSBpbnB1dFxuICAgIHRoaXMuaW5wdXRFbC5mb2N1cygpO1xuXG4gICAgLy8gTG9hZCBjb252ZXJzYXRpb24gaGlzdG9yeVxuICAgIHRoaXMubG9hZENvbnZlcnNhdGlvbkhpc3RvcnkoKTtcblxuICAgIC8vIEFkZCBzdHlsZXNcbiAgICB0aGlzLmFkZFN0eWxlcygpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBsb2FkQWdlbnRzKHNlbGVjdEVsOiBIVE1MU2VsZWN0RWxlbWVudCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygnVmF1bHRQaWxvdDogTG9hZGluZyBhZ2VudHMuLi4nKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5wbHVnaW4uYXBpQ2xpZW50LmdldEFnZW50cygpO1xuICAgICAgY29uc29sZS5sb2coJ1ZhdWx0UGlsb3Q6IGdldEFnZW50cyByZXNwb25zZTonLCByZXNwb25zZSk7XG4gICAgICBcbiAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzICYmIHJlc3BvbnNlLmRhdGEpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1ZhdWx0UGlsb3Q6IHJlc3BvbnNlLmRhdGEgdHlwZTonLCB0eXBlb2YgcmVzcG9uc2UuZGF0YSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdWYXVsdFBpbG90OiByZXNwb25zZS5kYXRhIGNvbnRlbnQ6JywgcmVzcG9uc2UuZGF0YSk7XG4gICAgICAgIFxuICAgICAgICBsZXQgYWdlbnRzOiBhbnlbXSA9IFtdO1xuICAgICAgICBcbiAgICAgICAgLy8gQ2hlY2sgaWYgZGF0YSBpcyBkaXJlY3RseSBhbiBhcnJheVxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShyZXNwb25zZS5kYXRhKSkge1xuICAgICAgICAgIGFnZW50cyA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICAgIH0gXG4gICAgICAgIC8vIENoZWNrIGlmIGRhdGEgaGFzIGFuICdhZ2VudHMnIHByb3BlcnR5IHdpdGggYW4gYXJyYXlcbiAgICAgICAgZWxzZSBpZiAocmVzcG9uc2UuZGF0YSAmJiB0eXBlb2YgcmVzcG9uc2UuZGF0YSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICBjb25zdCBkYXRhT2JqID0gcmVzcG9uc2UuZGF0YSBhcyBhbnk7XG4gICAgICAgICAgaWYgKGRhdGFPYmouYWdlbnRzICYmIEFycmF5LmlzQXJyYXkoZGF0YU9iai5hZ2VudHMpKSB7XG4gICAgICAgICAgICBhZ2VudHMgPSBkYXRhT2JqLmFnZW50cztcbiAgICAgICAgICB9IGVsc2UgaWYgKGRhdGFPYmouZGF0YSAmJiBBcnJheS5pc0FycmF5KGRhdGFPYmouZGF0YSkpIHtcbiAgICAgICAgICAgIGFnZW50cyA9IGRhdGFPYmouZGF0YTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmIChhZ2VudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdWYXVsdFBpbG90OiBGb3VuZCcsIGFnZW50cy5sZW5ndGgsICdhZ2VudHMnKTtcbiAgICAgICAgICBhZ2VudHMuZm9yRWFjaChhZ2VudCA9PiB7XG4gICAgICAgICAgICBjb25zdCBvcHRpb24gPSBzZWxlY3RFbC5jcmVhdGVFbCgnb3B0aW9uJywge1xuICAgICAgICAgICAgICB0ZXh0OiBhZ2VudC5uYW1lLFxuICAgICAgICAgICAgICB2YWx1ZTogYWdlbnQuaWRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdWYXVsdFBpbG90OiBObyBhZ2VudHMgZm91bmQgaW4gcmVzcG9uc2UnKTtcbiAgICAgICAgICAvLyBBZGQgYSBkZWZhdWx0IG9wdGlvbiBpbmRpY2F0aW5nIG5vIGFnZW50c1xuICAgICAgICAgIGNvbnN0IG9wdGlvbiA9IHNlbGVjdEVsLmNyZWF0ZUVsKCdvcHRpb24nLCB7XG4gICAgICAgICAgICB0ZXh0OiAnTm8gYWdlbnRzIGF2YWlsYWJsZScsXG4gICAgICAgICAgICB2YWx1ZTogJydcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBvcHRpb24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gbG9hZCBhZ2VudHM6IEFQSSByZXR1cm5lZCBlcnJvciBvciBubyBkYXRhOicsIHJlc3BvbnNlKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgYWdlbnRzOicsIGVycm9yKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGxvYWRDb252ZXJzYXRpb25IaXN0b3J5KCkge1xuICAgIC8vIE9ubHkgdHJ5IHRvIGxvYWQgY29udmVyc2F0aW9uIGhpc3RvcnkgaWYgd2UgaGF2ZSBhIGNvbnZlcnNhdGlvbiBJRFxuICAgIGlmICh0aGlzLmN1cnJlbnRDb252ZXJzYXRpb25JZCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnBsdWdpbi5hcGlDbGllbnQuZ2V0Q29udmVyc2F0aW9uSGlzdG9yeSh0aGlzLmN1cnJlbnRDb252ZXJzYXRpb25JZCk7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzICYmIHJlc3BvbnNlLmRhdGEpIHtcbiAgICAgICAgICB0aGlzLm1lc3NhZ2VzID0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlcztcbiAgICAgICAgICB0aGlzLnJlbmRlck1lc3NhZ2VzKCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIGNvbnZlcnNhdGlvbiBoaXN0b3J5OicsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gSWYgbm8gY29udmVyc2F0aW9uIElELCBzdGFydCBmcmVzaCAobm8gaGlzdG9yeSB0byBsb2FkKVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBzZW5kTWVzc2FnZSgpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gdGhpcy5pbnB1dEVsLnZhbHVlLnRyaW0oKTtcbiAgICBpZiAoIW1lc3NhZ2UpIHJldHVybjtcblxuICAgIC8vIERpc2FibGUgaW5wdXQgd2hpbGUgcHJvY2Vzc2luZ1xuICAgIHRoaXMuaW5wdXRFbC5kaXNhYmxlZCA9IHRydWU7XG4gICAgdGhpcy5zZW5kQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB0aGlzLnNlbmRCdXR0b24udGV4dENvbnRlbnQgPSAnU2VuZGluZy4uLic7XG5cbiAgICAvLyBBZGQgdXNlciBtZXNzYWdlIHRvIFVJXG4gICAgdGhpcy5hZGRNZXNzYWdlKCd1c2VyJywgbWVzc2FnZSk7XG4gICAgdGhpcy5pbnB1dEVsLnZhbHVlID0gJyc7XG5cbiAgICB0cnkge1xuICAgICAgLy8g4pSA4pSAIGZldGNoIGNvbnRleHQgJiBpbnRlbnQgaW4gcGFyYWxsZWwg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXG4gICAgICBjb25zdCBbY29udGV4dCwgaW50ZW50UmVzXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgZ2V0QWN0aXZlTWFya2Rvd24oKSwgICAgICAgICAgLy8gcmV0dXJucyBzdHJpbmcgfCBudWxsXG4gICAgICAgIHRoaXMucGx1Z2luLmFwaUNsaWVudC5jbGFzc2lmeUludGVudChtZXNzYWdlKSAgLy8gUE9TVCAvaW50ZWxsaWdlbmNlL3BhcnNlXG4gICAgICBdKTtcblxuICAgICAgLy8gYnVpbGQgYSBnZW5lcmljIHBheWxvYWQ7IGNvbnRleHQgbWF5IGJlIG51bGwvZW1wdHlcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7IG1lc3NhZ2UsIGNvbnRleHQgfTtcblxuICAgICAgLy8gU2hvdyBpbnRlbnQgZGV0ZWN0aW9uIGluIFVJIGlmIGRlYnVnIG1vZGUgaXMgZW5hYmxlZFxuICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dJbnRlbnREZWJ1Zykge1xuICAgICAgICB0aGlzLnNob3dJbnRlbnREZWJ1ZyhpbnRlbnRSZXMuaW50ZW50KTtcbiAgICAgIH1cblxuICAgICAgbGV0IHJlc3BvbnNlO1xuICAgICAgXG4gICAgICBpZiAoaW50ZW50UmVzLmludGVudCA9PT0gXCJhZ2VudFwiKSB7XG4gICAgICAgIHJlc3BvbnNlID0gYXdhaXQgdGhpcy5wbHVnaW4uYXBpQ2xpZW50LnJ1bldvcmtmbG93KHBheWxvYWQpOyAgICAgLy8gUE9TVCAvd29ya2Zsb3dcbiAgICAgICAgXG4gICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzICYmIHJlc3BvbnNlLmRhdGEpIHtcbiAgICAgICAgICB0aGlzLmFkZE1lc3NhZ2UoJ2Fzc2lzdGFudCcsIGDimpnvuI8gQWdlbnQgTW9kZSAoYXV0by1kZXRlY3RlZClcXG5cXG4ke3Jlc3BvbnNlLmRhdGEucmVzdWx0fWApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuYWRkTWVzc2FnZSgnYXNzaXN0YW50JywgYEVycm9yIGluIGFnZW50IG1vZGU6ICR7cmVzcG9uc2UuZXJyb3IgfHwgJ0ZhaWxlZCB0byBnZXQgcmVzcG9uc2UnfWApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXNwb25zZSA9IGF3YWl0IHRoaXMucGx1Z2luLmFwaUNsaWVudC5zZW5kQ2hhdChwYXlsb2FkLCB7XG4gICAgICAgICAgY29udmVyc2F0aW9uX2lkOiB0aGlzLmN1cnJlbnRDb252ZXJzYXRpb25JZCB8fCB1bmRlZmluZWQsXG4gICAgICAgICAgYWdlbnRfaWQ6IHRoaXMuZ2V0U2VsZWN0ZWRBZ2VudCgpXG4gICAgICAgIH0pOyAgICAgICAgLy8gUE9TVCAvY2hhdFxuICAgICAgICBcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MgJiYgcmVzcG9uc2UuZGF0YSkge1xuICAgICAgICAgIHRoaXMuY3VycmVudENvbnZlcnNhdGlvbklkID0gcmVzcG9uc2UuZGF0YS5jb252ZXJzYXRpb25faWQ7XG4gICAgICAgICAgdGhpcy5hZGRNZXNzYWdlKCdhc3Npc3RhbnQnLCByZXNwb25zZS5kYXRhLnJlc3BvbnNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmFkZE1lc3NhZ2UoJ2Fzc2lzdGFudCcsIGBFcnJvcjogJHtyZXNwb25zZS5lcnJvciB8fCAnRmFpbGVkIHRvIGdldCByZXNwb25zZSd9YCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gV2FybiB1c2VyIGlmIHRoZXkgaGFkIGNvbnRleHQgZGlzYWJsZWRcbiAgICAgIGlmICghY29udGV4dD8ubGVuZ3RoKSB7XG4gICAgICAgIG5ldyBOb3RpY2UoXCLimqDvuI8gTm8gdmF1bHQgY29udGVudCB3YXMgc2VudDsgcmVwbGllcyBtYXkgYmUgZ2VuZXJpYy5cIik7XG4gICAgICB9XG5cbiAgICAgIGlmICghcmVzcG9uc2Uuc3VjY2Vzcykge1xuICAgICAgICBuZXcgTm90aWNlKGBDaGF0IGVycm9yOiAke3Jlc3BvbnNlLmVycm9yfWApO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zdCBlcnJvck1zZyA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xuICAgICAgdGhpcy5hZGRNZXNzYWdlKCdhc3Npc3RhbnQnLCBgRXJyb3I6ICR7ZXJyb3JNc2d9YCk7XG4gICAgICBuZXcgTm90aWNlKGBDaGF0IGVycm9yOiAke2Vycm9yTXNnfWApO1xuICAgIH0gZmluYWxseSB7XG4gICAgICAvLyBSZS1lbmFibGUgaW5wdXRcbiAgICAgIHRoaXMuaW5wdXRFbC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5zZW5kQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICB0aGlzLnNlbmRCdXR0b24udGV4dENvbnRlbnQgPSAnU2VuZCc7XG4gICAgICB0aGlzLmlucHV0RWwuZm9jdXMoKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdldFNlbGVjdGVkQWdlbnQoKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICBjb25zdCBzZWxlY3RFbCA9IHRoaXMuY29udGVudEVsLnF1ZXJ5U2VsZWN0b3IoJy52YXVsdHBpbG90LWFnZW50LXNlbGVjdCcpIGFzIEhUTUxTZWxlY3RFbGVtZW50O1xuICAgIHJldHVybiBzZWxlY3RFbD8udmFsdWUgfHwgdW5kZWZpbmVkO1xuICB9XG5cbiAgcHJpdmF0ZSBhZGRNZXNzYWdlKHJvbGU6ICd1c2VyJyB8ICdhc3Npc3RhbnQnLCBjb250ZW50OiBzdHJpbmcpIHtcbiAgICBjb25zdCBtZXNzYWdlOiBDaGF0TWVzc2FnZSA9IHtcbiAgICAgIHJvbGUsXG4gICAgICBjb250ZW50LFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICB9O1xuXG4gICAgdGhpcy5tZXNzYWdlcy5wdXNoKG1lc3NhZ2UpO1xuICAgIHRoaXMucmVuZGVyTWVzc2FnZShtZXNzYWdlKTtcbiAgICB0aGlzLnNjcm9sbFRvQm90dG9tKCk7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlck1lc3NhZ2VzKCkge1xuICAgIHRoaXMubWVzc2FnZXNFbC5lbXB0eSgpO1xuICAgIHRoaXMubWVzc2FnZXMuZm9yRWFjaChtZXNzYWdlID0+IHRoaXMucmVuZGVyTWVzc2FnZShtZXNzYWdlKSk7XG4gICAgdGhpcy5zY3JvbGxUb0JvdHRvbSgpO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJNZXNzYWdlKG1lc3NhZ2U6IENoYXRNZXNzYWdlKSB7XG4gICAgY29uc3QgbWVzc2FnZUVsID0gdGhpcy5tZXNzYWdlc0VsLmNyZWF0ZUVsKCdkaXYnLCB7XG4gICAgICBjbHM6IGB2YXVsdHBpbG90LW1lc3NhZ2UgdmF1bHRwaWxvdC1tZXNzYWdlLSR7bWVzc2FnZS5yb2xlfWBcbiAgICB9KTtcblxuICAgIGNvbnN0IHJvbGVFbCA9IG1lc3NhZ2VFbC5jcmVhdGVFbCgnZGl2Jywge1xuICAgICAgY2xzOiAndmF1bHRwaWxvdC1tZXNzYWdlLXJvbGUnLFxuICAgICAgdGV4dDogbWVzc2FnZS5yb2xlID09PSAndXNlcicgPyAnWW91JyA6ICdWYXVsdFBpbG90J1xuICAgIH0pO1xuXG4gICAgY29uc3QgY29udGVudEVsID0gbWVzc2FnZUVsLmNyZWF0ZUVsKCdkaXYnLCB7XG4gICAgICBjbHM6ICd2YXVsdHBpbG90LW1lc3NhZ2UtY29udGVudCdcbiAgICB9KTtcblxuICAgIC8vIFNpbXBsZSBtYXJrZG93biByZW5kZXJpbmcgZm9yIGJhc2ljIGZvcm1hdHRpbmdcbiAgICBjb250ZW50RWwuaW5uZXJIVE1MID0gdGhpcy5yZW5kZXJNYXJrZG93bihtZXNzYWdlLmNvbnRlbnQpO1xuXG4gICAgaWYgKG1lc3NhZ2UudGltZXN0YW1wKSB7XG4gICAgICBjb25zdCB0aW1lRWwgPSBtZXNzYWdlRWwuY3JlYXRlRWwoJ2RpdicsIHtcbiAgICAgICAgY2xzOiAndmF1bHRwaWxvdC1tZXNzYWdlLXRpbWUnLFxuICAgICAgICB0ZXh0OiBuZXcgRGF0ZShtZXNzYWdlLnRpbWVzdGFtcCkudG9Mb2NhbGVUaW1lU3RyaW5nKClcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyTWFya2Rvd24odGV4dDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGV4dFxuICAgICAgLnJlcGxhY2UoL1xcKlxcKiguKj8pXFwqXFwqL2csICc8c3Ryb25nPiQxPC9zdHJvbmc+JylcbiAgICAgIC5yZXBsYWNlKC9cXCooLio/KVxcKi9nLCAnPGVtPiQxPC9lbT4nKVxuICAgICAgLnJlcGxhY2UoL2AoLio/KWAvZywgJzxjb2RlPiQxPC9jb2RlPicpXG4gICAgICAucmVwbGFjZSgvXFxuL2csICc8YnI+Jyk7XG4gIH1cblxuICBwcml2YXRlIHNjcm9sbFRvQm90dG9tKCkge1xuICAgIHRoaXMubWVzc2FnZXNFbC5zY3JvbGxUb3AgPSB0aGlzLm1lc3NhZ2VzRWwuc2Nyb2xsSGVpZ2h0O1xuICB9XG5cbiAgcHJpdmF0ZSBjbGVhckNoYXQoKSB7XG4gICAgdGhpcy5tZXNzYWdlcyA9IFtdO1xuICAgIHRoaXMuY3VycmVudENvbnZlcnNhdGlvbklkID0gbnVsbDtcbiAgICB0aGlzLm1lc3NhZ2VzRWwuZW1wdHkoKTtcbiAgICBuZXcgTm90aWNlKCdDaGF0IGNsZWFyZWQnKTtcbiAgfVxuXG4gIHByaXZhdGUgYWRkU3R5bGVzKCkge1xuICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZhdWx0cGlsb3QtY2hhdC1zdHlsZXMnKSkge1xuICAgICAgY29uc3Qgc3R5bGVFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgICBzdHlsZUVsLmlkID0gJ3ZhdWx0cGlsb3QtY2hhdC1zdHlsZXMnO1xuICAgICAgc3R5bGVFbC50ZXh0Q29udGVudCA9IGBcbiAgICAgICAgLnZhdWx0cGlsb3QtY2hhdC1tb2RhbCB7XG4gICAgICAgICAgd2lkdGg6IDYwMHB4O1xuICAgICAgICAgIGhlaWdodDogNzAwcHg7XG4gICAgICAgIH1cbiAgICAgICAgLnZhdWx0cGlsb3QtY2hhdC1oZWFkZXIge1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTVweDtcbiAgICAgICAgICBwYWRkaW5nLWJvdHRvbTogMTBweDtcbiAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgICB9XG4gICAgICAgIC52YXVsdHBpbG90LWNoYXQtdG9vbGJhciB7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBnYXA6IDEwcHg7XG4gICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgICBmbGV4LXdyYXA6IHdyYXA7XG4gICAgICAgIH1cbiAgICAgICAgLnZhdWx0cGlsb3QtYXV0by1tb2RlLWluZm8ge1xuICAgICAgICAgIG1hcmdpbi1yaWdodDogMTVweDtcbiAgICAgICAgICBwYWRkaW5nOiA4cHggMTJweDtcbiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xuICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICAgICAgICBmb250LXNpemU6IDAuODVlbTtcbiAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgIGdhcDogNnB4O1xuICAgICAgICB9XG4gICAgICAgIC52YXVsdHBpbG90LWFnZW50LXNlbGVjdCB7XG4gICAgICAgICAgcGFkZGluZzogNHB4IDhweDtcbiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICAgICAgfVxuICAgICAgICAudmF1bHRwaWxvdC1jaGF0LWNvbnRhaW5lciB7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICAgIGhlaWdodDogY2FsYygxMDAlIC0gODBweCk7XG4gICAgICAgIH1cbiAgICAgICAgLnZhdWx0cGlsb3QtY2hhdC1tZXNzYWdlcyB7XG4gICAgICAgICAgZmxleDogMTtcbiAgICAgICAgICBvdmVyZmxvdy15OiBhdXRvO1xuICAgICAgICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxNXB4O1xuICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgICAgICAgfVxuICAgICAgICAudmF1bHRwaWxvdC1tZXNzYWdlIHtcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxNXB4O1xuICAgICAgICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgICAgICB9XG4gICAgICAgIC52YXVsdHBpbG90LW1lc3NhZ2UtdXNlciB7XG4gICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5LWFsdCk7XG4gICAgICAgICAgbWFyZ2luLWxlZnQ6IDIwcHg7XG4gICAgICAgIH1cbiAgICAgICAgLnZhdWx0cGlsb3QtbWVzc2FnZS1hc3Npc3RhbnQge1xuICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gICAgICAgICAgbWFyZ2luLXJpZ2h0OiAyMHB4O1xuICAgICAgICB9XG4gICAgICAgIC52YXVsdHBpbG90LW1lc3NhZ2Utcm9sZSB7XG4gICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogNXB4O1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LWFjY2VudCk7XG4gICAgICAgIH1cbiAgICAgICAgLnZhdWx0cGlsb3QtbWVzc2FnZS1jb250ZW50IHtcbiAgICAgICAgICBsaW5lLWhlaWdodDogMS40O1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgICAgICAgdXNlci1zZWxlY3Q6IHRleHQ7XG4gICAgICAgIH1cbiAgICAgICAgLnZhdWx0cGlsb3QtbWVzc2FnZS10aW1lIHtcbiAgICAgICAgICBmb250LXNpemU6IDAuOGVtO1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICAgICAgICBtYXJnaW4tdG9wOiA1cHg7XG4gICAgICAgIH1cbiAgICAgICAgLnZhdWx0cGlsb3QtY2hhdC1pbnB1dC1jb250YWluZXIge1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgZ2FwOiAxMHB4O1xuICAgICAgICB9XG4gICAgICAgIC52YXVsdHBpbG90LWNoYXQtaW5wdXQge1xuICAgICAgICAgIGZsZXg6IDE7XG4gICAgICAgICAgcGFkZGluZzogMTBweDtcbiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xuICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbm9ybWFsKTtcbiAgICAgICAgfVxuICAgICAgICAudmF1bHRwaWxvdC1zZW5kLWJ1dHRvbiB7XG4gICAgICAgICAgcGFkZGluZzogMTBweCAyMHB4O1xuICAgICAgICB9XG4gICAgICAgIC52YXVsdHBpbG90LWludGVudC1kZWJ1ZyB7XG4gICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1zdWNjZXNzKTtcbiAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgICAgICAgIHBhZGRpbmc6IDhweCAxMnB4O1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgICBtYXJnaW46IDhweCAwO1xuICAgICAgICAgIGZvbnQtc2l6ZTogMC44NWVtO1xuICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlci1ob3Zlcik7XG4gICAgICAgICAgYW5pbWF0aW9uOiBmYWRlSW5PdXQgM3MgZWFzZS1pbi1vdXQ7XG4gICAgICAgIH1cbiAgICAgICAgQGtleWZyYW1lcyBmYWRlSW5PdXQge1xuICAgICAgICAgIDAlIHsgb3BhY2l0eTogMDsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0xMHB4KTsgfVxuICAgICAgICAgIDEwJSB7IG9wYWNpdHk6IDE7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTsgfVxuICAgICAgICAgIDkwJSB7IG9wYWNpdHk6IDE7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTsgfVxuICAgICAgICAgIDEwMCUgeyBvcGFjaXR5OiAwOyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTEwcHgpOyB9XG4gICAgICAgIH1cbiAgICAgIGA7XG4gICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlRWwpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc2hvd0ludGVudERlYnVnKGludGVudDogc3RyaW5nKSB7XG4gICAgLy8gQ3JlYXRlIGEgc3VidGxlIG5vdGlmaWNhdGlvbiBzaG93aW5nIHRoZSBkZXRlY3RlZCBpbnRlbnRcbiAgICBjb25zdCBkZWJ1Z0VsID0gdGhpcy5tZXNzYWdlc0VsLmNyZWF0ZUVsKCdkaXYnLCB7XG4gICAgICBjbHM6ICd2YXVsdHBpbG90LWludGVudC1kZWJ1ZycsXG4gICAgICB0ZXh0OiBg8J+UjSBJbnRlbnQgZGV0ZWN0ZWQ6ICR7aW50ZW50ID09PSAnYWdlbnQnID8gJ+Kame+4jyBBZ2VudCBNb2RlJyA6ICfwn5KsIEFzayBNb2RlJ31gXG4gICAgfSk7XG4gICAgXG4gICAgLy8gQXV0by1yZW1vdmUgYWZ0ZXIgMyBzZWNvbmRzXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBkZWJ1Z0VsLnJlbW92ZSgpO1xuICAgIH0sIDMwMDApO1xuICB9XG5cbiAgb25DbG9zZSgpIHtcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgTW9kYWwsIEFwcCwgU2V0dGluZywgTm90aWNlLCBURmlsZSB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB0eXBlIFZhdWx0UGlsb3RQbHVnaW4gZnJvbSAnLi9tYWluJztcbmltcG9ydCB7IFdvcmtmbG93UmVxdWVzdCwgV29ya2Zsb3dSZXNwb25zZSwgV29ya2Zsb3dQcm9ncmVzcyB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgY2xhc3MgV29ya2Zsb3dNb2RhbCBleHRlbmRzIE1vZGFsIHtcbiAgcGx1Z2luOiBWYXVsdFBpbG90UGx1Z2luO1xuICBwcml2YXRlIGdvYWxJbnB1dCE6IEhUTUxUZXh0QXJlYUVsZW1lbnQ7XG4gIHByaXZhdGUgY29udGV4dElucHV0ITogSFRNTFRleHRBcmVhRWxlbWVudDtcbiAgcHJpdmF0ZSBleGVjdXRlQnV0dG9uITogSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gIHByaXZhdGUgcHJvZ3Jlc3NDb250YWluZXIhOiBIVE1MRWxlbWVudDtcbiAgcHJpdmF0ZSByZXN1bHRzQ29udGFpbmVyITogSFRNTEVsZW1lbnQ7XG4gIHByaXZhdGUgaXNFeGVjdXRpbmcgPSBmYWxzZTtcblxuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBWYXVsdFBpbG90UGx1Z2luKSB7XG4gICAgc3VwZXIoYXBwKTtcbiAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgfVxuXG4gIG9uT3BlbigpIHtcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgICBjb250ZW50RWwuYWRkQ2xhc3MoJ3ZhdWx0cGlsb3Qtd29ya2Zsb3ctbW9kYWwnKTtcblxuICAgIC8vIEhlYWRlclxuICAgIGNvbnN0IGhlYWRlckVsID0gY29udGVudEVsLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3ZhdWx0cGlsb3Qtd29ya2Zsb3ctaGVhZGVyJyB9KTtcbiAgICBoZWFkZXJFbC5jcmVhdGVFbCgnaDInLCB7IHRleHQ6ICfimpnvuI8gV29ya2Zsb3cgRXhlY3V0aW9uJyB9KTtcbiAgICBoZWFkZXJFbC5jcmVhdGVFbCgncCcsIHsgXG4gICAgICB0ZXh0OiAnRGVmaW5lIGEgZ29hbCBhbmQgbGV0IFZhdWx0UGlsb3QgY3JlYXRlIGFuZCBleGVjdXRlIGEgY29tcHJlaGVuc2l2ZSB3b3JrZmxvdyB0byBhY2hpZXZlIGl0LicsXG4gICAgICBjbHM6ICd2YXVsdHBpbG90LXdvcmtmbG93LWRlc2NyaXB0aW9uJ1xuICAgIH0pO1xuXG4gICAgLy8gRm9ybVxuICAgIGNvbnN0IGZvcm1FbCA9IGNvbnRlbnRFbC5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICd2YXVsdHBpbG90LXdvcmtmbG93LWZvcm0nIH0pO1xuXG4gICAgLy8gR29hbCBpbnB1dFxuICAgIGNvbnN0IGdvYWxDb250YWluZXIgPSBmb3JtRWwuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAndmF1bHRwaWxvdC1mb3JtLWdyb3VwJyB9KTtcbiAgICBnb2FsQ29udGFpbmVyLmNyZWF0ZUVsKCdsYWJlbCcsIHsgXG4gICAgICB0ZXh0OiAnR29hbCAqJyxcbiAgICAgIGNsczogJ3ZhdWx0cGlsb3QtZm9ybS1sYWJlbCdcbiAgICB9KTtcbiAgICB0aGlzLmdvYWxJbnB1dCA9IGdvYWxDb250YWluZXIuY3JlYXRlRWwoJ3RleHRhcmVhJywge1xuICAgICAgcGxhY2Vob2xkZXI6ICdlLmcuLCBcIkNyZWF0ZSBhIGNvbXByZWhlbnNpdmUgc3R1ZHkgcGxhbiBmb3IgbWFjaGluZSBsZWFybmluZyBiYXNlZCBvbiBteSBub3Rlc1wiJyxcbiAgICAgIGNsczogJ3ZhdWx0cGlsb3QtZ29hbC1pbnB1dCdcbiAgICB9KTtcblxuICAgIC8vIENvbnRleHQgaW5wdXRcbiAgICBjb25zdCBjb250ZXh0Q29udGFpbmVyID0gZm9ybUVsLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3ZhdWx0cGlsb3QtZm9ybS1ncm91cCcgfSk7XG4gICAgY29udGV4dENvbnRhaW5lci5jcmVhdGVFbCgnbGFiZWwnLCB7IFxuICAgICAgdGV4dDogJ0FkZGl0aW9uYWwgQ29udGV4dCAob3B0aW9uYWwpJyxcbiAgICAgIGNsczogJ3ZhdWx0cGlsb3QtZm9ybS1sYWJlbCdcbiAgICB9KTtcbiAgICB0aGlzLmNvbnRleHRJbnB1dCA9IGNvbnRleHRDb250YWluZXIuY3JlYXRlRWwoJ3RleHRhcmVhJywge1xuICAgICAgcGxhY2Vob2xkZXI6ICdQcm92aWRlIGFueSBhZGRpdGlvbmFsIGNvbnRleHQsIGNvbnN0cmFpbnRzLCBvciByZXF1aXJlbWVudHMuLi4nLFxuICAgICAgY2xzOiAndmF1bHRwaWxvdC1jb250ZXh0LWlucHV0J1xuICAgIH0pO1xuXG4gICAgLy8gVmF1bHQgY29udGVudCBvcHRpb25zXG4gICAgY29uc3Qgb3B0aW9uc0NvbnRhaW5lciA9IGZvcm1FbC5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICd2YXVsdHBpbG90LWZvcm0tZ3JvdXAnIH0pO1xuICAgIG9wdGlvbnNDb250YWluZXIuY3JlYXRlRWwoJ2xhYmVsJywgeyBcbiAgICAgIHRleHQ6ICdWYXVsdCBJbnRlZ3JhdGlvbicsXG4gICAgICBjbHM6ICd2YXVsdHBpbG90LWZvcm0tbGFiZWwnXG4gICAgfSk7XG5cbiAgICBjb25zdCBpbmNsdWRlQWN0aXZlRmlsZSA9IG9wdGlvbnNDb250YWluZXIuY3JlYXRlRWwoJ2xhYmVsJywgeyBjbHM6ICd2YXVsdHBpbG90LWNoZWNrYm94LWxhYmVsJyB9KTtcbiAgICBjb25zdCBhY3RpdmVGaWxlQ2hlY2tib3ggPSBpbmNsdWRlQWN0aXZlRmlsZS5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICdjaGVja2JveCcgfSk7XG4gICAgaW5jbHVkZUFjdGl2ZUZpbGUuY3JlYXRlU3Bhbih7IHRleHQ6ICdJbmNsdWRlIGFjdGl2ZSBmaWxlIGNvbnRlbnQnIH0pO1xuXG4gICAgY29uc3QgaW5jbHVkZUFsbEZpbGVzID0gb3B0aW9uc0NvbnRhaW5lci5jcmVhdGVFbCgnbGFiZWwnLCB7IGNsczogJ3ZhdWx0cGlsb3QtY2hlY2tib3gtbGFiZWwnIH0pO1xuICAgIGNvbnN0IGFsbEZpbGVzQ2hlY2tib3ggPSBpbmNsdWRlQWxsRmlsZXMuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAnY2hlY2tib3gnIH0pO1xuICAgIGluY2x1ZGVBbGxGaWxlcy5jcmVhdGVTcGFuKHsgdGV4dDogJ0luY2x1ZGUgYWxsIHZhdWx0IGZpbGVzIChtYXkgdGFrZSBsb25nZXIpJyB9KTtcblxuICAgIC8vIEV4ZWN1dGUgYnV0dG9uXG4gICAgdGhpcy5leGVjdXRlQnV0dG9uID0gZm9ybUVsLmNyZWF0ZUVsKCdidXR0b24nLCB7XG4gICAgICB0ZXh0OiAnRXhlY3V0ZSBXb3JrZmxvdycsXG4gICAgICBjbHM6ICdtb2QtY3RhIHZhdWx0cGlsb3QtZXhlY3V0ZS1idXR0b24nXG4gICAgfSk7XG4gICAgdGhpcy5leGVjdXRlQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB0aGlzLmV4ZWN1dGVXb3JrZmxvdyhhY3RpdmVGaWxlQ2hlY2tib3guY2hlY2tlZCwgYWxsRmlsZXNDaGVja2JveC5jaGVja2VkKTtcblxuICAgIC8vIFByb2dyZXNzIGNvbnRhaW5lclxuICAgIHRoaXMucHJvZ3Jlc3NDb250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRWwoJ2RpdicsIHsgXG4gICAgICBjbHM6ICd2YXVsdHBpbG90LXByb2dyZXNzLWNvbnRhaW5lcidcbiAgICB9KTtcbiAgICB0aGlzLnByb2dyZXNzQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAvLyBSZXN1bHRzIGNvbnRhaW5lclxuICAgIHRoaXMucmVzdWx0c0NvbnRhaW5lciA9IGNvbnRlbnRFbC5jcmVhdGVFbCgnZGl2JywgeyBcbiAgICAgIGNsczogJ3ZhdWx0cGlsb3QtcmVzdWx0cy1jb250YWluZXInXG4gICAgfSk7XG4gICAgdGhpcy5yZXN1bHRzQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAvLyBGb2N1cyB0aGUgZ29hbCBpbnB1dFxuICAgIHRoaXMuZ29hbElucHV0LmZvY3VzKCk7XG5cbiAgICB0aGlzLmFkZFN0eWxlcygpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBleGVjdXRlV29ya2Zsb3coaW5jbHVkZUFjdGl2ZUZpbGU6IGJvb2xlYW4sIGluY2x1ZGVBbGxGaWxlczogYm9vbGVhbikge1xuICAgIGNvbnN0IGdvYWwgPSB0aGlzLmdvYWxJbnB1dC52YWx1ZS50cmltKCk7XG4gICAgaWYgKCFnb2FsKSB7XG4gICAgICBuZXcgTm90aWNlKCdQbGVhc2UgZW50ZXIgYSBnb2FsIGZvciB0aGUgd29ya2Zsb3cnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmlzRXhlY3V0aW5nID0gdHJ1ZTtcbiAgICB0aGlzLmV4ZWN1dGVCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgIHRoaXMuZXhlY3V0ZUJ1dHRvbi50ZXh0Q29udGVudCA9ICdFeGVjdXRpbmcuLi4nO1xuICAgIHRoaXMucHJvZ3Jlc3NDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgdGhpcy5yZXN1bHRzQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICB0cnkge1xuICAgICAgLy8gUHJlcGFyZSB2YXVsdCBjb250ZW50XG4gICAgICBsZXQgdmF1bHRDb250ZW50ID0gJyc7XG4gICAgICBcbiAgICAgIGlmIChpbmNsdWRlQWN0aXZlRmlsZSkge1xuICAgICAgICBjb25zdCBhY3RpdmVGaWxlID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcbiAgICAgICAgaWYgKGFjdGl2ZUZpbGUpIHtcbiAgICAgICAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQucmVhZChhY3RpdmVGaWxlKTtcbiAgICAgICAgICB2YXVsdENvbnRlbnQgKz0gYD09PSAke2FjdGl2ZUZpbGUubmFtZX0gPT09XFxuJHtjb250ZW50fVxcblxcbmA7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGluY2x1ZGVBbGxGaWxlcykge1xuICAgICAgICBjb25zdCBmaWxlcyA9IHRoaXMuYXBwLnZhdWx0LmdldE1hcmtkb3duRmlsZXMoKTtcbiAgICAgICAgZm9yIChjb25zdCBmaWxlIG9mIGZpbGVzLnNsaWNlKDAsIDIwKSkgeyAvLyBMaW1pdCB0byBmaXJzdCAyMCBmaWxlcyB0byBhdm9pZCBvdmVyd2hlbG1pbmcgdGhlIEFQSVxuICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5yZWFkKGZpbGUpO1xuICAgICAgICAgIHZhdWx0Q29udGVudCArPSBgPT09ICR7ZmlsZS5uYW1lfSA9PT1cXG4ke2NvbnRlbnR9XFxuXFxuYDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBDcmVhdGUgd29ya2Zsb3cgcmVxdWVzdFxuICAgICAgY29uc3QgcmVxdWVzdDogV29ya2Zsb3dSZXF1ZXN0ID0ge1xuICAgICAgICBnb2FsLFxuICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHRJbnB1dC52YWx1ZS50cmltKCkgfHwgdW5kZWZpbmVkLFxuICAgICAgICB2YXVsdF9jb250ZW50OiB2YXVsdENvbnRlbnQgfHwgdW5kZWZpbmVkXG4gICAgICB9O1xuXG4gICAgICAvLyBTZXR1cCBXZWJTb2NrZXQgbGlzdGVuZXIgZm9yIHByb2dyZXNzIHVwZGF0ZXNcbiAgICAgIGlmICh0aGlzLnBsdWdpbi5pc1dlYlNvY2tldENvbm5lY3RlZCgpKSB7XG4gICAgICAgIC8vIExpc3RlbiBmb3Igd29ya2Zsb3cgcHJvZ3Jlc3MgdXBkYXRlc1xuICAgICAgICB0aGlzLnNldHVwUHJvZ3Jlc3NMaXN0ZW5lcigpO1xuICAgICAgfVxuXG4gICAgICAvLyBFeGVjdXRlIHdvcmtmbG93XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMucGx1Z2luLmFwaUNsaWVudCEuZXhlY3V0ZVdvcmtmbG93KHJlcXVlc3QpO1xuXG4gICAgICBpZiAocmVzcG9uc2Uuc3VjY2VzcyAmJiByZXNwb25zZS5kYXRhKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuZGlzcGxheVJlc3VsdHMocmVzcG9uc2UuZGF0YSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzcG9uc2UuZXJyb3IgfHwgJ1dvcmtmbG93IGV4ZWN1dGlvbiBmYWlsZWQnKTtcbiAgICAgIH1cblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zdCBlcnJvck1zZyA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xuICAgICAgbmV3IE5vdGljZShgV29ya2Zsb3cgZXJyb3I6ICR7ZXJyb3JNc2d9YCk7XG4gICAgICB0aGlzLmRpc3BsYXlFcnJvcihlcnJvck1zZyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRoaXMuaXNFeGVjdXRpbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMuZXhlY3V0ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5leGVjdXRlQnV0dG9uLnRleHRDb250ZW50ID0gJ0V4ZWN1dGUgV29ya2Zsb3cnO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc2V0dXBQcm9ncmVzc0xpc3RlbmVyKCkge1xuICAgIC8vIFRoaXMgd291bGQgYmUgY29ubmVjdGVkIHRvIHRoZSBXZWJTb2NrZXQgcHJvZ3Jlc3MgdXBkYXRlc1xuICAgIC8vIEZvciBub3csIHdlJ2xsIHNpbXVsYXRlIHByb2dyZXNzXG4gICAgdGhpcy5kaXNwbGF5UHJvZ3Jlc3MoJ0FuYWx5emluZyBnb2FsIGFuZCBjb250ZXh0Li4uJyk7XG4gICAgXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmRpc3BsYXlQcm9ncmVzcygnUGxhbm5pbmcgd29ya2Zsb3cgc3RlcHMuLi4nKTtcbiAgICB9LCAxMDAwKTtcbiAgICBcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuZGlzcGxheVByb2dyZXNzKCdFeGVjdXRpbmcgd29ya2Zsb3cuLi4nKTtcbiAgICB9LCAyMDAwKTtcbiAgfVxuXG4gIHByaXZhdGUgZGlzcGxheVByb2dyZXNzKG1lc3NhZ2U6IHN0cmluZykge1xuICAgIHRoaXMucHJvZ3Jlc3NDb250YWluZXIuaW5uZXJIVE1MID0gYFxuICAgICAgPGRpdiBjbGFzcz1cInZhdWx0cGlsb3QtcHJvZ3Jlc3MtaXRlbVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwidmF1bHRwaWxvdC1wcm9ncmVzcy1zcGlubmVyXCI+PC9kaXY+XG4gICAgICAgIDxzcGFuPiR7bWVzc2FnZX08L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBkaXNwbGF5UmVzdWx0cyh3b3JrZmxvdzogV29ya2Zsb3dSZXNwb25zZSkge1xuICAgIHRoaXMucHJvZ3Jlc3NDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB0aGlzLnJlc3VsdHNDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cbiAgICAvLyBDbGVhciBwcmV2aW91cyByZXN1bHRzXG4gICAgdGhpcy5yZXN1bHRzQ29udGFpbmVyLmVtcHR5KCk7XG5cbiAgICAvLyBIZWFkZXJcbiAgICBjb25zdCBoZWFkZXJFbCA9IHRoaXMucmVzdWx0c0NvbnRhaW5lci5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICd2YXVsdHBpbG90LXJlc3VsdHMtaGVhZGVyJyB9KTtcbiAgICBoZWFkZXJFbC5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICfinIUgV29ya2Zsb3cgQ29tcGxldGVkJyB9KTtcbiAgICBoZWFkZXJFbC5jcmVhdGVFbCgncCcsIHsgXG4gICAgICB0ZXh0OiBgRXhlY3V0aW9uIHRpbWU6ICR7d29ya2Zsb3cuZXhlY3V0aW9uX3RpbWV9c2AsXG4gICAgICBjbHM6ICd2YXVsdHBpbG90LWV4ZWN1dGlvbi10aW1lJ1xuICAgIH0pO1xuXG4gICAgLy8gTWFpbiByZXN1bHRcbiAgICBjb25zdCByZXN1bHRFbCA9IHRoaXMucmVzdWx0c0NvbnRhaW5lci5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICd2YXVsdHBpbG90LXJlc3VsdC1jb250ZW50JyB9KTtcbiAgICByZXN1bHRFbC5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6ICdSZXN1bHQnIH0pO1xuICAgIGNvbnN0IHJlc3VsdENvbnRlbnRFbCA9IHJlc3VsdEVsLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3ZhdWx0cGlsb3QtcmVzdWx0LXRleHQnIH0pO1xuICAgIHJlc3VsdENvbnRlbnRFbC5pbm5lckhUTUwgPSB0aGlzLnJlbmRlck1hcmtkb3duKHdvcmtmbG93LnJlc3VsdCk7XG5cbiAgICAvLyBTdGVwcyB0YWtlblxuICAgIGlmICh3b3JrZmxvdy5zdGVwc190YWtlbiAmJiB3b3JrZmxvdy5zdGVwc190YWtlbi5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBzdGVwc0VsID0gdGhpcy5yZXN1bHRzQ29udGFpbmVyLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ3ZhdWx0cGlsb3Qtc3RlcHMtY29udGFpbmVyJyB9KTtcbiAgICAgIHN0ZXBzRWwuY3JlYXRlRWwoJ2g0JywgeyB0ZXh0OiAnU3RlcHMgVGFrZW4nIH0pO1xuICAgICAgY29uc3Qgc3RlcHNMaXN0ID0gc3RlcHNFbC5jcmVhdGVFbCgnb2wnLCB7IGNsczogJ3ZhdWx0cGlsb3Qtc3RlcHMtbGlzdCcgfSk7XG4gICAgICB3b3JrZmxvdy5zdGVwc190YWtlbi5mb3JFYWNoKHN0ZXAgPT4ge1xuICAgICAgICBzdGVwc0xpc3QuY3JlYXRlRWwoJ2xpJywgeyB0ZXh0OiBzdGVwIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gQXJ0aWZhY3RzXG4gICAgaWYgKHdvcmtmbG93LmFydGlmYWN0cyAmJiB3b3JrZmxvdy5hcnRpZmFjdHMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgYXJ0aWZhY3RzRWwgPSB0aGlzLnJlc3VsdHNDb250YWluZXIuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAndmF1bHRwaWxvdC1hcnRpZmFjdHMtY29udGFpbmVyJyB9KTtcbiAgICAgIGFydGlmYWN0c0VsLmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogJ0dlbmVyYXRlZCBBcnRpZmFjdHMnIH0pO1xuICAgICAgXG4gICAgICB3b3JrZmxvdy5hcnRpZmFjdHMuZm9yRWFjaCgoYXJ0aWZhY3QsIGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGFydGlmYWN0RWwgPSBhcnRpZmFjdHNFbC5jcmVhdGVFbCgnZGl2JywgeyBjbHM6ICd2YXVsdHBpbG90LWFydGlmYWN0JyB9KTtcbiAgICAgICAgYXJ0aWZhY3RFbC5jcmVhdGVFbCgnaDUnLCB7IHRleHQ6IGFydGlmYWN0LnRpdGxlIH0pO1xuICAgICAgICBhcnRpZmFjdEVsLmNyZWF0ZUVsKCdwJywgeyBcbiAgICAgICAgICB0ZXh0OiBgVHlwZTogJHthcnRpZmFjdC50eXBlfWAsXG4gICAgICAgICAgY2xzOiAndmF1bHRwaWxvdC1hcnRpZmFjdC10eXBlJ1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHNhdmVCdXR0b24gPSBhcnRpZmFjdEVsLmNyZWF0ZUVsKCdidXR0b24nLCB7XG4gICAgICAgICAgdGV4dDogJ1NhdmUgYXMgTm90ZScsXG4gICAgICAgICAgY2xzOiAnbW9kLWN0YSdcbiAgICAgICAgfSk7XG4gICAgICAgIHNhdmVCdXR0b24ub25jbGljayA9ICgpID0+IHRoaXMuc2F2ZUFydGlmYWN0QXNOb3RlKGFydGlmYWN0LCBpbmRleCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBTYXZlIGFsbCBidXR0b25cbiAgICBjb25zdCBhY3Rpb25zRWwgPSB0aGlzLnJlc3VsdHNDb250YWluZXIuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAndmF1bHRwaWxvdC1yZXN1bHRzLWFjdGlvbnMnIH0pO1xuICAgIGNvbnN0IHNhdmVBbGxCdXR0b24gPSBhY3Rpb25zRWwuY3JlYXRlRWwoJ2J1dHRvbicsIHtcbiAgICAgIHRleHQ6ICdTYXZlIENvbXBsZXRlIFJlc3VsdHMgYXMgTm90ZScsXG4gICAgICBjbHM6ICdtb2QtY3RhJ1xuICAgIH0pO1xuICAgIHNhdmVBbGxCdXR0b24ub25jbGljayA9ICgpID0+IHRoaXMuc2F2ZUNvbXBsZXRlUmVzdWx0c0FzTm90ZSh3b3JrZmxvdyk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHNhdmVBcnRpZmFjdEFzTm90ZShhcnRpZmFjdDogYW55LCBpbmRleDogbnVtYmVyKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGZpbGVuYW1lID0gYCR7YXJ0aWZhY3QudGl0bGUucmVwbGFjZSgvW15hLXpBLVowLTlcXHNdL2csICcnKX0ubWRgO1xuICAgICAgY29uc3QgY29udGVudCA9IGAjICR7YXJ0aWZhY3QudGl0bGV9XFxuXFxuJHthcnRpZmFjdC5jb250ZW50fWA7XG4gICAgICBcbiAgICAgIGF3YWl0IHRoaXMuYXBwLnZhdWx0LmNyZWF0ZShmaWxlbmFtZSwgY29udGVudCk7XG4gICAgICBuZXcgTm90aWNlKGBBcnRpZmFjdCBzYXZlZCBhcyAke2ZpbGVuYW1lfWApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBuZXcgTm90aWNlKGBGYWlsZWQgdG8gc2F2ZSBhcnRpZmFjdDogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHNhdmVDb21wbGV0ZVJlc3VsdHNBc05vdGUod29ya2Zsb3c6IFdvcmtmbG93UmVzcG9uc2UpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF07XG4gICAgICBjb25zdCBmaWxlbmFtZSA9IGBWYXVsdFBpbG90IFdvcmtmbG93IFJlc3VsdHMgJHt0aW1lc3RhbXB9Lm1kYDtcbiAgICAgIFxuICAgICAgbGV0IGNvbnRlbnQgPSBgIyBWYXVsdFBpbG90IFdvcmtmbG93IFJlc3VsdHNcXG5cXG5gO1xuICAgICAgY29udGVudCArPSBgKipHb2FsOioqICR7dGhpcy5nb2FsSW5wdXQudmFsdWV9XFxuXFxuYDtcbiAgICAgIGNvbnRlbnQgKz0gYCoqRXhlY3V0aW9uIFRpbWU6KiogJHt3b3JrZmxvdy5leGVjdXRpb25fdGltZX1zXFxuXFxuYDtcbiAgICAgIGNvbnRlbnQgKz0gYCMjIFJlc3VsdFxcblxcbiR7d29ya2Zsb3cucmVzdWx0fVxcblxcbmA7XG4gICAgICBcbiAgICAgIGlmICh3b3JrZmxvdy5zdGVwc190YWtlbiAmJiB3b3JrZmxvdy5zdGVwc190YWtlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gYCMjIFN0ZXBzIFRha2VuXFxuXFxuYDtcbiAgICAgICAgd29ya2Zsb3cuc3RlcHNfdGFrZW4uZm9yRWFjaCgoc3RlcCwgaW5kZXgpID0+IHtcbiAgICAgICAgICBjb250ZW50ICs9IGAke2luZGV4ICsgMX0uICR7c3RlcH1cXG5gO1xuICAgICAgICB9KTtcbiAgICAgICAgY29udGVudCArPSAnXFxuJztcbiAgICAgIH1cblxuICAgICAgaWYgKHdvcmtmbG93LmFydGlmYWN0cyAmJiB3b3JrZmxvdy5hcnRpZmFjdHMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb250ZW50ICs9IGAjIyBHZW5lcmF0ZWQgQXJ0aWZhY3RzXFxuXFxuYDtcbiAgICAgICAgd29ya2Zsb3cuYXJ0aWZhY3RzLmZvckVhY2goYXJ0aWZhY3QgPT4ge1xuICAgICAgICAgIGNvbnRlbnQgKz0gYCMjIyAke2FydGlmYWN0LnRpdGxlfVxcblxcbiR7YXJ0aWZhY3QuY29udGVudH1cXG5cXG5gO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgYXdhaXQgdGhpcy5hcHAudmF1bHQuY3JlYXRlKGZpbGVuYW1lLCBjb250ZW50KTtcbiAgICAgIG5ldyBOb3RpY2UoYENvbXBsZXRlIHJlc3VsdHMgc2F2ZWQgYXMgJHtmaWxlbmFtZX1gKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbmV3IE5vdGljZShgRmFpbGVkIHRvIHNhdmUgcmVzdWx0czogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGRpc3BsYXlFcnJvcihtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICB0aGlzLnByb2dyZXNzQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgdGhpcy5yZXN1bHRzQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIHRoaXMucmVzdWx0c0NvbnRhaW5lci5pbm5lckhUTUwgPSBgXG4gICAgICA8ZGl2IGNsYXNzPVwidmF1bHRwaWxvdC1lcnJvclwiPlxuICAgICAgICA8aDM+4p2MIFdvcmtmbG93IEZhaWxlZDwvaDM+XG4gICAgICAgIDxwPiR7bWVzc2FnZX08L3A+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJNYXJrZG93bih0ZXh0OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiB0ZXh0XG4gICAgICAucmVwbGFjZSgvXFwqXFwqKC4qPylcXCpcXCovZywgJzxzdHJvbmc+JDE8L3N0cm9uZz4nKVxuICAgICAgLnJlcGxhY2UoL1xcKiguKj8pXFwqL2csICc8ZW0+JDE8L2VtPicpXG4gICAgICAucmVwbGFjZSgvYCguKj8pYC9nLCAnPGNvZGU+JDE8L2NvZGU+JylcbiAgICAgIC5yZXBsYWNlKC9cXG4vZywgJzxicj4nKTtcbiAgfVxuXG4gIHByaXZhdGUgYWRkU3R5bGVzKCkge1xuICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZhdWx0cGlsb3Qtd29ya2Zsb3ctc3R5bGVzJykpIHtcbiAgICAgIGNvbnN0IHN0eWxlRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgc3R5bGVFbC5pZCA9ICd2YXVsdHBpbG90LXdvcmtmbG93LXN0eWxlcyc7XG4gICAgICBzdHlsZUVsLnRleHRDb250ZW50ID0gYFxuICAgICAgICAudmF1bHRwaWxvdC13b3JrZmxvdy1tb2RhbCB7XG4gICAgICAgICAgd2lkdGg6IDcwMHB4O1xuICAgICAgICAgIG1heC1oZWlnaHQ6IDgwdmg7XG4gICAgICAgICAgb3ZlcmZsb3cteTogYXV0bztcbiAgICAgICAgfVxuICAgICAgICAudmF1bHRwaWxvdC13b3JrZmxvdy1oZWFkZXIge1xuICAgICAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XG4gICAgICAgICAgcGFkZGluZy1ib3R0b206IDE1cHg7XG4gICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgfVxuICAgICAgICAudmF1bHRwaWxvdC13b3JrZmxvdy1kZXNjcmlwdGlvbiB7XG4gICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgICAgICAgIG1hcmdpbi10b3A6IDVweDtcbiAgICAgICAgfVxuICAgICAgICAudmF1bHRwaWxvdC1mb3JtLWdyb3VwIHtcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICAgICAgICB9XG4gICAgICAgIC52YXVsdHBpbG90LWZvcm0tbGFiZWwge1xuICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICAgIG1hcmdpbi1ib3R0b206IDhweDtcbiAgICAgICAgICBmb250LXdlaWdodDogNTAwO1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XG4gICAgICAgIH1cbiAgICAgICAgLnZhdWx0cGlsb3QtZ29hbC1pbnB1dCxcbiAgICAgICAgLnZhdWx0cGlsb3QtY29udGV4dC1pbnB1dCB7XG4gICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgbWluLWhlaWdodDogODBweDtcbiAgICAgICAgICBwYWRkaW5nOiAxMHB4O1xuICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA2cHg7XG4gICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgICAgICAgIHJlc2l6ZTogdmVydGljYWw7XG4gICAgICAgIH1cbiAgICAgICAgLnZhdWx0cGlsb3QtY2hlY2tib3gtbGFiZWwge1xuICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICAgIG1hcmdpbi1ib3R0b206IDhweDtcbiAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIH1cbiAgICAgICAgLnZhdWx0cGlsb3QtY2hlY2tib3gtbGFiZWwgaW5wdXQge1xuICAgICAgICAgIG1hcmdpbi1yaWdodDogOHB4O1xuICAgICAgICB9XG4gICAgICAgIC52YXVsdHBpbG90LWV4ZWN1dGUtYnV0dG9uIHtcbiAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICBwYWRkaW5nOiAxMnB4O1xuICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICAgICAgfVxuICAgICAgICAudmF1bHRwaWxvdC1wcm9ncmVzcy1jb250YWluZXIge1xuICAgICAgICAgIG1hcmdpbjogMjBweCAwO1xuICAgICAgICAgIHBhZGRpbmc6IDE1cHg7XG4gICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICAgIH1cbiAgICAgICAgLnZhdWx0cGlsb3QtcHJvZ3Jlc3MtaXRlbSB7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgIGdhcDogMTBweDtcbiAgICAgICAgfVxuICAgICAgICAudmF1bHRwaWxvdC1wcm9ncmVzcy1zcGlubmVyIHtcbiAgICAgICAgICB3aWR0aDogMTZweDtcbiAgICAgICAgICBoZWlnaHQ6IDE2cHg7XG4gICAgICAgICAgYm9yZGVyOiAycHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICAgICAgICAgIGJvcmRlci10b3A6IDJweCBzb2xpZCB2YXIoLS10ZXh0LWFjY2VudCk7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgICAgICAgIGFuaW1hdGlvbjogc3BpbiAxcyBsaW5lYXIgaW5maW5pdGU7XG4gICAgICAgIH1cbiAgICAgICAgQGtleWZyYW1lcyBzcGluIHtcbiAgICAgICAgICAwJSB7IHRyYW5zZm9ybTogcm90YXRlKDBkZWcpOyB9XG4gICAgICAgICAgMTAwJSB7IHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7IH1cbiAgICAgICAgfVxuICAgICAgICAudmF1bHRwaWxvdC1yZXN1bHRzLWNvbnRhaW5lciB7XG4gICAgICAgICAgbWFyZ2luLXRvcDogMjBweDtcbiAgICAgICAgfVxuICAgICAgICAudmF1bHRwaWxvdC1yZXN1bHRzLWhlYWRlciB7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTVweDtcbiAgICAgICAgfVxuICAgICAgICAudmF1bHRwaWxvdC1leGVjdXRpb24tdGltZSB7XG4gICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgICAgICAgIGZvbnQtc2l6ZTogMC45ZW07XG4gICAgICAgIH1cbiAgICAgICAgLnZhdWx0cGlsb3QtcmVzdWx0LWNvbnRlbnQge1xuICAgICAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XG4gICAgICAgICAgcGFkZGluZzogMTVweDtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSk7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgfVxuICAgICAgICAudmF1bHRwaWxvdC1yZXN1bHQtdGV4dCB7XG4gICAgICAgICAgbGluZS1oZWlnaHQ6IDEuNTtcbiAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xuICAgICAgICB9XG4gICAgICAgIC52YXVsdHBpbG90LXN0ZXBzLWNvbnRhaW5lcixcbiAgICAgICAgLnZhdWx0cGlsb3QtYXJ0aWZhY3RzLWNvbnRhaW5lciB7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgICAgICAgfVxuICAgICAgICAudmF1bHRwaWxvdC1zdGVwcy1saXN0IHtcbiAgICAgICAgICBwYWRkaW5nLWxlZnQ6IDIwcHg7XG4gICAgICAgIH1cbiAgICAgICAgLnZhdWx0cGlsb3QtYXJ0aWZhY3Qge1xuICAgICAgICAgIG1hcmdpbi1ib3R0b206IDE1cHg7XG4gICAgICAgICAgcGFkZGluZzogMTBweDtcbiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xuICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeS1hbHQpO1xuICAgICAgICB9XG4gICAgICAgIC52YXVsdHBpbG90LWFydGlmYWN0LXR5cGUge1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgICAgICAgICBmb250LXNpemU6IDAuOWVtO1xuICAgICAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gICAgICAgIH1cbiAgICAgICAgLnZhdWx0cGlsb3QtcmVzdWx0cy1hY3Rpb25zIHtcbiAgICAgICAgICBtYXJnaW4tdG9wOiAyMHB4O1xuICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgfVxuICAgICAgICAudmF1bHRwaWxvdC1lcnJvciB7XG4gICAgICAgICAgcGFkZGluZzogMjBweDtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnktYWx0KTtcbiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1jb2xvci1yZWQpO1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgICAgICBjb2xvcjogdmFyKC0tY29sb3ItcmVkKTtcbiAgICAgICAgfVxuICAgICAgYDtcbiAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbCk7XG4gICAgfVxuICB9XG5cbiAgb25DbG9zZSgpIHtcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgXG4gIEFQSVJlc3BvbnNlLCBcbiAgQ2hhdFJlcXVlc3QsIFxuICBDaGF0UmVzcG9uc2UsIFxuICBDb252ZXJzYXRpb25IaXN0b3J5LFxuICBDb252ZXJzYXRpb25IaXN0b3J5UmVxdWVzdCxcbiAgQ29waWxvdFJlcXVlc3QsIFxuICBDb3BpbG90UmVzcG9uc2UsXG4gIFdvcmtmbG93UmVxdWVzdCxcbiAgV29ya2Zsb3dSZXNwb25zZSxcbiAgQWdlbnQsXG4gIEFnZW50Q3JlYXRlUmVxdWVzdCxcbiAgQWdlbnRFeGVjdXRlUmVxdWVzdCxcbiAgVmF1bHRDb250ZXh0UmVxdWVzdCxcbiAgVmF1bHRDb250ZXh0UmVzcG9uc2UsXG4gIFRhc2tQbGFubmluZ1JlcXVlc3QsXG4gIFRhc2tQbGFubmluZ1Jlc3BvbnNlLFxuICBJbnRlbGxpZ2VuY2VQYXJzZVJlcXVlc3QsXG4gIEludGVsbGlnZW5jZVBhcnNlUmVzcG9uc2UsXG4gIE1lbW9yeVVwZGF0ZVJlcXVlc3QsXG4gIFdlYlNvY2tldE1lc3NhZ2UsXG4gIEVycm9yUmVzcG9uc2UsXG4gIEludGVudCxcbiAgSW50ZW50UmVzdWx0LFxuICBJbnRlbnREZWJ1Z1xufSBmcm9tICcuL3R5cGVzJztcblxuZXhwb3J0IGNsYXNzIEV2b0FnZW50WENsaWVudCB7XG4gIHByaXZhdGUgYmFzZVVybDogc3RyaW5nO1xuICBwcml2YXRlIGFwaUtleT86IHN0cmluZztcbiAgcHJpdmF0ZSB3ZWJzb2NrZXQ/OiBXZWJTb2NrZXQ7XG4gIHByaXZhdGUgd3NDYWxsYmFja3M6IE1hcDxzdHJpbmcsIChkYXRhOiBhbnkpID0+IHZvaWQ+ID0gbmV3IE1hcCgpO1xuXG4gIGNvbnN0cnVjdG9yKGJhc2VVcmw6IHN0cmluZywgYXBpS2V5Pzogc3RyaW5nKSB7XG4gICAgdGhpcy5iYXNlVXJsID0gYmFzZVVybC5yZXBsYWNlKC9cXC8kLywgJycpOyAvLyBSZW1vdmUgdHJhaWxpbmcgc2xhc2hcbiAgICB0aGlzLmFwaUtleSA9IGFwaUtleTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgbWFrZVJlcXVlc3Q8VD4oXG4gICAgZW5kcG9pbnQ6IHN0cmluZywgXG4gICAgb3B0aW9uczogUmVxdWVzdEluaXQgPSB7fVxuICApOiBQcm9taXNlPEFQSVJlc3BvbnNlPFQ+PiB7XG4gICAgY29uc3QgdXJsID0gYCR7dGhpcy5iYXNlVXJsfSR7ZW5kcG9pbnR9YDtcbiAgICBjb25zdCBoZWFkZXJzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAuLi4ob3B0aW9ucy5oZWFkZXJzIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz4gfHwge30pLFxuICAgIH07XG5cbiAgICBpZiAodGhpcy5hcGlLZXkpIHtcbiAgICAgIGhlYWRlcnNbJ0F1dGhvcml6YXRpb24nXSA9IGBCZWFyZXIgJHt0aGlzLmFwaUtleX1gO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBtb2RlOiAnY29ycycsXG4gICAgICAgIGNyZWRlbnRpYWxzOiAnb21pdCcsXG4gICAgICB9KTtcblxuICAgICAgLy8gSGFuZGxlIG5vbi1KU09OIHJlc3BvbnNlcyBncmFjZWZ1bGx5XG4gICAgICBsZXQgZGF0YTtcbiAgICAgIGNvbnN0IGNvbnRlbnRUeXBlID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpO1xuICAgICAgaWYgKGNvbnRlbnRUeXBlICYmIGNvbnRlbnRUeXBlLmluY2x1ZGVzKCdhcHBsaWNhdGlvbi9qc29uJykpIHtcbiAgICAgICAgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRhdGEgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICB9XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gdHlwZW9mIGRhdGEgPT09ICdvYmplY3QnICYmIGRhdGEuZXJyb3IgXG4gICAgICAgICAgPyBkYXRhLmVycm9yIFxuICAgICAgICAgIDogYEhUVFAgJHtyZXNwb25zZS5zdGF0dXN9OiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YDtcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEFQSSBFcnJvciBbJHtyZXNwb25zZS5zdGF0dXN9XTpgLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiBlcnJvck1lc3NhZ2UsXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJyA/IHsgbWVzc2FnZTogZGF0YSB9IGFzIFQgOiBkYXRhLFxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignQVBJIFJlcXVlc3QgRXJyb3I6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yIG9jY3VycmVkJyxcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgLy8gSGVhbHRoIGNoZWNrXG4gIGFzeW5jIGhlYWx0aENoZWNrKCk6IFByb21pc2U8QVBJUmVzcG9uc2U8eyBzdGF0dXM6IHN0cmluZzsgdmVyc2lvbjogc3RyaW5nIH0+PiB7XG4gICAgY29uc29sZS5sb2coYFZhdWx0UGlsb3Q6IEF0dGVtcHRpbmcgaGVhbHRoIGNoZWNrIHRvICR7dGhpcy5iYXNlVXJsfS9zdGF0dXNgKTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLm1ha2VSZXF1ZXN0PHsgc3RhdHVzOiBzdHJpbmc7IHZlcnNpb246IHN0cmluZyB9PignL3N0YXR1cycsIHtcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgfSk7XG4gICAgY29uc29sZS5sb2coJ1ZhdWx0UGlsb3Q6IEhlYWx0aCBjaGVjayByZXN1bHQ6JywgcmVzdWx0KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLy8gQWx0ZXJuYXRpdmUgaGVhbHRoIGNoZWNrIG1ldGhvZCBpZiB0aGUgbWFpbiBvbmUgZmFpbHNcbiAgYXN5bmMgc2ltcGxlSGVhbHRoQ2hlY2soKTogUHJvbWlzZTxBUElSZXNwb25zZTx7IHN0YXR1czogc3RyaW5nIH0+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVybCA9IGAke3RoaXMuYmFzZVVybH0vc3RhdHVzYDtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgICAgIG1ldGhvZDogJ0hFQUQnLFxuICAgICAgICBtb2RlOiAnY29ycycsXG4gICAgICAgIGNyZWRlbnRpYWxzOiAnb21pdCcsXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgaWYgKHJlc3BvbnNlLm9rIHx8IHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA1KSB7IC8vIDQwNSBtZWFucyBzZXJ2ZXIgaXMgdXAgYnV0IGRvZXNuJ3Qgc3VwcG9ydCBIRUFEXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICBkYXRhOiB7IHN0YXR1czogJ29rJyB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogYFNlcnZlciByZXNwb25kZWQgd2l0aCBzdGF0dXMgJHtyZXNwb25zZS5zdGF0dXN9YFxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdDb25uZWN0aW9uIGZhaWxlZCdcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgLy8gQ2hhdCBmdW5jdGlvbmFsaXR5XG4gIGFzeW5jIGNoYXQocmVxdWVzdDogQ2hhdFJlcXVlc3QpOiBQcm9taXNlPEFQSVJlc3BvbnNlPENoYXRSZXNwb25zZT4+IHtcbiAgICByZXR1cm4gdGhpcy5tYWtlUmVxdWVzdCgnL2FwaS9vYnNpZGlhbi9jaGF0Jywge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShyZXF1ZXN0KSxcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIGdldENvbnZlcnNhdGlvbkhpc3RvcnkoY29udmVyc2F0aW9uSWQ6IHN0cmluZywgbGltaXQ6IG51bWJlciA9IDUwKTogUHJvbWlzZTxBUElSZXNwb25zZTxDb252ZXJzYXRpb25IaXN0b3J5Pj4ge1xuICAgIGNvbnN0IHJlcXVlc3RCb2R5OiBDb252ZXJzYXRpb25IaXN0b3J5UmVxdWVzdCA9IHtcbiAgICAgIGNvbnZlcnNhdGlvbl9pZDogY29udmVyc2F0aW9uSWQsXG4gICAgICBsaW1pdDogbGltaXQsXG4gICAgICBpbmNsdWRlX21lc3NhZ2VzOiB0cnVlXG4gICAgfTtcbiAgICBcbiAgICByZXR1cm4gdGhpcy5tYWtlUmVxdWVzdCgnL2FwaS9vYnNpZGlhbi9jb252ZXJzYXRpb24vaGlzdG9yeScsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocmVxdWVzdEJvZHkpLFxuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgZGVsZXRlQ29udmVyc2F0aW9uKGNvbnZlcnNhdGlvbklkOiBzdHJpbmcpOiBQcm9taXNlPEFQSVJlc3BvbnNlPHZvaWQ+PiB7XG4gICAgcmV0dXJuIHRoaXMubWFrZVJlcXVlc3QoYC9hcGkvb2JzaWRpYW4vY29udmVyc2F0aW9ucy8ke2NvbnZlcnNhdGlvbklkfWAsIHtcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgfSk7XG4gIH1cblxuICAvLyBDb3BpbG90IGZ1bmN0aW9uYWxpdHlcbiAgYXN5bmMgZ2V0Q29waWxvdENvbXBsZXRpb24ocmVxdWVzdDogQ29waWxvdFJlcXVlc3QpOiBQcm9taXNlPEFQSVJlc3BvbnNlPENvcGlsb3RSZXNwb25zZT4+IHtcbiAgICByZXR1cm4gdGhpcy5tYWtlUmVxdWVzdCgnL2FwaS9vYnNpZGlhbi9jb3BpbG90L2NvbXBsZXRlJywge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShyZXF1ZXN0KSxcbiAgICB9KTtcbiAgfVxuXG4gIC8vIFdvcmtmbG93IGV4ZWN1dGlvblxuICBhc3luYyBleGVjdXRlV29ya2Zsb3cocmVxdWVzdDogV29ya2Zsb3dSZXF1ZXN0KTogUHJvbWlzZTxBUElSZXNwb25zZTxXb3JrZmxvd1Jlc3BvbnNlPj4ge1xuICAgIHJldHVybiB0aGlzLm1ha2VSZXF1ZXN0KCcvYXBpL29ic2lkaWFuL3dvcmtmbG93Jywge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShyZXF1ZXN0KSxcbiAgICB9KTtcbiAgfVxuXG4gIC8vIE5ldyB1bmlmaWVkIEFQSSBtZXRob2RzIGZvciBzaW1wbGlmaWVkIGNvbnRleHQgcGFja2FnaW5nXG4gIGFzeW5jIHJ1bldvcmtmbG93KHBheWxvYWQ6IHsgbWVzc2FnZTogc3RyaW5nOyBjb250ZXh0OiBzdHJpbmcgfCBudWxsIH0pOiBQcm9taXNlPEFQSVJlc3BvbnNlPFdvcmtmbG93UmVzcG9uc2U+PiB7XG4gICAgcmV0dXJuIHRoaXMubWFrZVJlcXVlc3QoJy9hcGkvb2JzaWRpYW4vd29ya2Zsb3cnLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgZ29hbDogcGF5bG9hZC5tZXNzYWdlLFxuICAgICAgICBjb250ZXh0OiBwYXlsb2FkLmNvbnRleHQgfHwgdW5kZWZpbmVkXG4gICAgICB9KSxcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIHNlbmRDaGF0KHBheWxvYWQ6IHsgbWVzc2FnZTogc3RyaW5nOyBjb250ZXh0OiBzdHJpbmcgfCBudWxsIH0sIG9wdGlvbnM/OiB7IGNvbnZlcnNhdGlvbl9pZD86IHN0cmluZzsgYWdlbnRfaWQ/OiBzdHJpbmcgfSk6IFByb21pc2U8QVBJUmVzcG9uc2U8Q2hhdFJlc3BvbnNlPj4ge1xuICAgIHJldHVybiB0aGlzLm1ha2VSZXF1ZXN0KCcvYXBpL29ic2lkaWFuL2NoYXQnLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbWVzc2FnZTogcGF5bG9hZC5tZXNzYWdlLFxuICAgICAgICB2YXVsdF9jb250ZXh0OiBwYXlsb2FkLmNvbnRleHQgfHwgdW5kZWZpbmVkLFxuICAgICAgICBjb252ZXJzYXRpb25faWQ6IG9wdGlvbnM/LmNvbnZlcnNhdGlvbl9pZCxcbiAgICAgICAgYWdlbnRfaWQ6IG9wdGlvbnM/LmFnZW50X2lkLFxuICAgICAgICBtb2RlOiAnYXNrJ1xuICAgICAgfSksXG4gICAgfSk7XG4gIH1cblxuICAvLyBBZ2VudCBtYW5hZ2VtZW50XG4gIGFzeW5jIGdldEFnZW50cygpOiBQcm9taXNlPEFQSVJlc3BvbnNlPEFnZW50W10+PiB7XG4gICAgcmV0dXJuIHRoaXMubWFrZVJlcXVlc3QoJy9hcGkvb2JzaWRpYW4vYWdlbnRzJyk7XG4gIH1cblxuICBhc3luYyBjcmVhdGVBZ2VudChyZXF1ZXN0OiBBZ2VudENyZWF0ZVJlcXVlc3QpOiBQcm9taXNlPEFQSVJlc3BvbnNlPEFnZW50Pj4ge1xuICAgIHJldHVybiB0aGlzLm1ha2VSZXF1ZXN0KCcvYXBpL29ic2lkaWFuL2FnZW50cy9jcmVhdGUnLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHJlcXVlc3QpLFxuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgZXhlY3V0ZUFnZW50KHJlcXVlc3Q6IEFnZW50RXhlY3V0ZVJlcXVlc3QpOiBQcm9taXNlPEFQSVJlc3BvbnNlPGFueT4+IHtcbiAgICByZXR1cm4gdGhpcy5tYWtlUmVxdWVzdCgnL2FwaS9vYnNpZGlhbi9hZ2VudC9leGVjdXRlJywge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShyZXF1ZXN0KSxcbiAgICB9KTtcbiAgfVxuXG4gIC8vIFZhdWx0IGFuYWx5c2lzXG4gIGFzeW5jIGFuYWx5emVWYXVsdENvbnRleHQocmVxdWVzdDogVmF1bHRDb250ZXh0UmVxdWVzdCk6IFByb21pc2U8QVBJUmVzcG9uc2U8VmF1bHRDb250ZXh0UmVzcG9uc2U+PiB7XG4gICAgcmV0dXJuIHRoaXMubWFrZVJlcXVlc3QoJy9hcGkvb2JzaWRpYW4vdmF1bHQvY29udGV4dCcsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocmVxdWVzdCksXG4gICAgfSk7XG4gIH1cblxuICAvLyBUYXNrIHBsYW5uaW5nXG4gIGFzeW5jIHBsYW5UYXNrcyhyZXF1ZXN0OiBUYXNrUGxhbm5pbmdSZXF1ZXN0KTogUHJvbWlzZTxBUElSZXNwb25zZTxUYXNrUGxhbm5pbmdSZXNwb25zZT4+IHtcbiAgICByZXR1cm4gdGhpcy5tYWtlUmVxdWVzdCgnL2FwaS9vYnNpZGlhbi9wbGFubmluZy90YXNrcycsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocmVxdWVzdCksXG4gICAgfSk7XG4gIH1cblxuICAvLyBJbnRlbGxpZ2VuY2UgcGFyc2luZ1xuICBhc3luYyBwYXJzZUludGVsbGlnZW5jZShyZXF1ZXN0OiBJbnRlbGxpZ2VuY2VQYXJzZVJlcXVlc3QpOiBQcm9taXNlPEFQSVJlc3BvbnNlPEludGVsbGlnZW5jZVBhcnNlUmVzcG9uc2U+PiB7XG4gICAgcmV0dXJuIHRoaXMubWFrZVJlcXVlc3QoJy9hcGkvb2JzaWRpYW4vaW50ZWxsaWdlbmNlL3BhcnNlJywge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShyZXF1ZXN0KSxcbiAgICB9KTtcbiAgfVxuXG4gIC8vIEludGVudCBjbGFzc2lmaWNhdGlvblxuICBhc3luYyBjbGFzc2lmeUludGVudChtZXNzYWdlOiBzdHJpbmcpOiBQcm9taXNlPEludGVudFJlc3VsdD4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5tYWtlUmVxdWVzdDxJbnRlbnRSZXN1bHQ+KCcvYXBpL29ic2lkaWFuL2ludGVsbGlnZW5jZS9wYXJzZScsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBtZXNzYWdlIH0pLFxuICAgIH0pO1xuICAgIFxuICAgIGlmIChyZXNwb25zZS5zdWNjZXNzICYmIHJlc3BvbnNlLmRhdGEpIHtcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgIH1cbiAgICBcbiAgICAvLyBGYWxsYmFjayB0byAnYXNrJyBtb2RlIGlmIGNsYXNzaWZpY2F0aW9uIGZhaWxzXG4gICAgcmV0dXJuIHsgaW50ZW50OiAnYXNrJywgY29uZmlkZW5jZTogMC41IH07XG4gIH1cblxuICAvLyBPcHRpb25hbDogRGVidWcgaW50ZW50IGNsYXNzaWZpY2F0aW9uXG4gIGFzeW5jIGV4cGxhaW5JbnRlbnQobWVzc2FnZTogc3RyaW5nKTogUHJvbWlzZTxJbnRlbnREZWJ1Zz4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5tYWtlUmVxdWVzdDxJbnRlbnREZWJ1Zz4oJy9hcGkvb2JzaWRpYW4vaW50ZWxsaWdlbmNlL3BhcnNlJywge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IG1lc3NhZ2UsIGluY2x1ZGVfZGVidWc6IHRydWUgfSksXG4gICAgfSk7XG4gICAgXG4gICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MgJiYgcmVzcG9uc2UuZGF0YSkge1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgfVxuICAgIFxuICAgIC8vIEZhbGxiYWNrIGRlYnVnIGluZm9cbiAgICByZXR1cm4geyBcbiAgICAgIGludGVudDogJ2FzaycsIFxuICAgICAgY29uZmlkZW5jZTogMC41LCBcbiAgICAgIHJlYXNvbmluZzogJ0NsYXNzaWZpY2F0aW9uIGZhaWxlZCwgZGVmYXVsdGluZyB0byBhc2sgbW9kZScgXG4gICAgfTtcbiAgfVxuXG4gIC8vIE1lbW9yeSBtYW5hZ2VtZW50XG4gIGFzeW5jIHVwZGF0ZU1lbW9yeShyZXF1ZXN0OiBNZW1vcnlVcGRhdGVSZXF1ZXN0KTogUHJvbWlzZTxBUElSZXNwb25zZTx2b2lkPj4ge1xuICAgIHJldHVybiB0aGlzLm1ha2VSZXF1ZXN0KCcvYXBpL29ic2lkaWFuL21lbW9yeS91cGRhdGUnLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHJlcXVlc3QpLFxuICAgIH0pO1xuICB9XG5cbiAgLy8gV2ViU29ja2V0IGZ1bmN0aW9uYWxpdHlcbiAgY29ubmVjdFdlYlNvY2tldChjYWxsYmFja3M6IHtcbiAgICBvbkNoYXQ/OiAoZGF0YTogYW55KSA9PiB2b2lkO1xuICAgIG9uV29ya2Zsb3dQcm9ncmVzcz86IChkYXRhOiBhbnkpID0+IHZvaWQ7XG4gICAgb25Db3BpbG90PzogKGRhdGE6IGFueSkgPT4gdm9pZDtcbiAgICBvblZhdWx0U3luYz86IChkYXRhOiBhbnkpID0+IHZvaWQ7XG4gICAgb25JbnRlbnREZWJ1Zz86IChkZWJ1ZzogSW50ZW50RGVidWcpID0+IHZvaWQ7XG4gICAgb25FcnJvcj86IChlcnJvcjogc3RyaW5nKSA9PiB2b2lkO1xuICAgIG9uQ29ubmVjdD86ICgpID0+IHZvaWQ7XG4gICAgb25EaXNjb25uZWN0PzogKCkgPT4gdm9pZDtcbiAgfSk6IHZvaWQge1xuICAgIGNvbnN0IHdzVXJsID0gdGhpcy5iYXNlVXJsLnJlcGxhY2UoJ2h0dHAnLCAnd3MnKSArICcvd3Mvb2JzaWRpYW4nO1xuICAgIGNvbnNvbGUubG9nKGBWYXVsdFBpbG90OiBBdHRlbXB0aW5nIFdlYlNvY2tldCBjb25uZWN0aW9uIHRvICR7d3NVcmx9YCk7XG4gICAgXG4gICAgdGhpcy53ZWJzb2NrZXQgPSBuZXcgV2ViU29ja2V0KHdzVXJsKTtcblxuICAgIHRoaXMud2Vic29ja2V0Lm9ub3BlbiA9ICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdWYXVsdFBpbG90OiBXZWJTb2NrZXQgY29ubmVjdGVkIHRvIEV2b0FnZW50WCcpO1xuICAgICAgY2FsbGJhY2tzLm9uQ29ubmVjdD8uKCk7XG4gICAgfTtcblxuICAgIHRoaXMud2Vic29ja2V0Lm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgbWVzc2FnZTogV2ViU29ja2V0TWVzc2FnZSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdWYXVsdFBpbG90OiBXZWJTb2NrZXQgbWVzc2FnZSByZWNlaXZlZDonLCBtZXNzYWdlLnR5cGUpO1xuICAgICAgICBcbiAgICAgICAgc3dpdGNoIChtZXNzYWdlLnR5cGUpIHtcbiAgICAgICAgICBjYXNlICdjaGF0JzpcbiAgICAgICAgICAgIGNhbGxiYWNrcy5vbkNoYXQ/LihtZXNzYWdlLmRhdGEpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnd29ya2Zsb3dfcHJvZ3Jlc3MnOlxuICAgICAgICAgICAgY2FsbGJhY2tzLm9uV29ya2Zsb3dQcm9ncmVzcz8uKG1lc3NhZ2UuZGF0YSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdjb3BpbG90JzpcbiAgICAgICAgICAgIGNhbGxiYWNrcy5vbkNvcGlsb3Q/LihtZXNzYWdlLmRhdGEpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAndmF1bHRfc3luYyc6XG4gICAgICAgICAgICBjYWxsYmFja3Mub25WYXVsdFN5bmM/LihtZXNzYWdlLmRhdGEpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnaW50ZW50X2RlYnVnJzpcbiAgICAgICAgICAgIGNhbGxiYWNrcy5vbkludGVudERlYnVnPy4obWVzc2FnZS5kYXRhKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgICAgICAgIGNhbGxiYWNrcy5vbkVycm9yPy4obWVzc2FnZS5kYXRhKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdWYXVsdFBpbG90OiBFcnJvciBwYXJzaW5nIFdlYlNvY2tldCBtZXNzYWdlOicsIGVycm9yKTtcbiAgICAgICAgY2FsbGJhY2tzLm9uRXJyb3I/LignRmFpbGVkIHRvIHBhcnNlIFdlYlNvY2tldCBtZXNzYWdlJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMud2Vic29ja2V0Lm9uY2xvc2UgPSAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdWYXVsdFBpbG90OiBXZWJTb2NrZXQgZGlzY29ubmVjdGVkIGZyb20gRXZvQWdlbnRYJywgZXZlbnQuY29kZSwgZXZlbnQucmVhc29uKTtcbiAgICAgIGNhbGxiYWNrcy5vbkRpc2Nvbm5lY3Q/LigpO1xuICAgIH07XG5cbiAgICB0aGlzLndlYnNvY2tldC5vbmVycm9yID0gKGVycm9yKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKCdWYXVsdFBpbG90OiBXZWJTb2NrZXQgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgY2FsbGJhY2tzLm9uRXJyb3I/LignV2ViU29ja2V0IGNvbm5lY3Rpb24gZXJyb3InKTtcbiAgICB9O1xuICB9XG5cbiAgZGlzY29ubmVjdFdlYlNvY2tldCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy53ZWJzb2NrZXQpIHtcbiAgICAgIHRoaXMud2Vic29ja2V0LmNsb3NlKCk7XG4gICAgICB0aGlzLndlYnNvY2tldCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICBzZW5kV2ViU29ja2V0TWVzc2FnZSh0eXBlOiBzdHJpbmcsIGRhdGE6IGFueSk6IHZvaWQge1xuICAgIGlmICh0aGlzLndlYnNvY2tldCAmJiB0aGlzLndlYnNvY2tldC5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xuICAgICAgdGhpcy53ZWJzb2NrZXQuc2VuZChKU09OLnN0cmluZ2lmeSh7IHR5cGUsIGRhdGEgfSkpO1xuICAgIH1cbiAgfVxuXG4gIGlzV2ViU29ja2V0Q29ubmVjdGVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLndlYnNvY2tldD8ucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU47XG4gIH1cbn1cbiIsIi8vIFR5cGUgZGVmaW5pdGlvbnMgZm9yIHRoZSBwbGFubmVyIGZlYXR1cmVcbmV4cG9ydCBpbnRlcmZhY2UgUGxhbm5lclJlc3BvbnNlIHtcbiAgc2NoZWR1bGVNYXJrZG93bjogc3RyaW5nO1xuICBoZWFkbGluZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBsYW5uZXJSZXF1ZXN0IHtcbiAgbm90ZTogc3RyaW5nO1xufVxuXG4vKipcbiAqIEZldGNoZXMgc2NoZWR1bGUgZGF0YSBmcm9tIHRoZSBFdm9BZ2VudFggQVBJXG4gKiBAcGFyYW0gbm90ZVRleHQgLSBUaGUgZnVsbCB0ZXh0IG9mIHRoZSBhY3RpdmUgbm90ZVxuICogQHBhcmFtIGFwaUNsaWVudCAtIFRoZSBFdm9BZ2VudFggQVBJIGNsaWVudCBpbnN0YW5jZVxuICogQHJldHVybnMgUHJvbWlzZSB3aXRoIHRoZSBzY2hlZHVsZSBtYXJrZG93biBhbmQgaGVhZGxpbmVcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZldGNoU2NoZWR1bGUobm90ZVRleHQ6IHN0cmluZywgYXBpQ2xpZW50OiBhbnkpOiBQcm9taXNlPFBsYW5uZXJSZXNwb25zZT4ge1xuICBjb25zb2xlLmxvZygn8J+UhCBbUGxhbiBNeSBEYXldIFN0YXJ0aW5nIHNjaGVkdWxlIGZldGNoLi4uJyk7XG4gIGNvbnNvbGUubG9nKCfwn5OdIFtQbGFuIE15IERheV0gTm90ZSB0ZXh0IGxlbmd0aDonLCBub3RlVGV4dC5sZW5ndGgpO1xuICBjb25zb2xlLmxvZygn8J+UlyBbUGxhbiBNeSBEYXldIEFQSSBjbGllbnQgdHlwZTonLCB0eXBlb2YgYXBpQ2xpZW50KTtcbiAgXG4gIGlmICghYXBpQ2xpZW50KSB7XG4gICAgY29uc3QgZXJyb3IgPSAnQVBJIGNsaWVudCBpcyBudWxsIG9yIHVuZGVmaW5lZCc7XG4gICAgY29uc29sZS5lcnJvcign4p2MIFtQbGFuIE15IERheV0gRXJyb3I6JywgZXJyb3IpO1xuICAgIHRocm93IG5ldyBFcnJvcihlcnJvcik7XG4gIH1cblxuICBpZiAoIWFwaUNsaWVudC5wbGFuVGFza3MpIHtcbiAgICBjb25zdCBlcnJvciA9ICdBUEkgY2xpZW50IGRvZXMgbm90IGhhdmUgcGxhblRhc2tzIG1ldGhvZCc7XG4gICAgY29uc29sZS5lcnJvcign4p2MIFtQbGFuIE15IERheV0gRXJyb3I6JywgZXJyb3IpO1xuICAgIGNvbnNvbGUubG9nKCfwn5SNIFtQbGFuIE15IERheV0gQXZhaWxhYmxlIG1ldGhvZHM6JywgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYXBpQ2xpZW50KSk7XG4gICAgdGhyb3cgbmV3IEVycm9yKGVycm9yKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coJ/Cfk6QgW1BsYW4gTXkgRGF5XSBTZW5kaW5nIHJlcXVlc3QgdG8gRXZvQWdlbnRYLi4uJyk7XG4gICAgXG4gICAgLy8gVXNlIEV2b0FnZW50WCB0YXNrIHBsYW5uaW5nIGVuZHBvaW50IGluc3RlYWQgb2YgbG9jYWwgc2VydmVyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGlDbGllbnQucGxhblRhc2tzKHtcbiAgICAgIGdvYWw6IGBDcmVhdGUgYSBkYWlseSBzY2hlZHVsZSBiYXNlZCBvbiB0aGlzIG5vdGUgY29udGVudGAsXG4gICAgICBjb250ZXh0OiBub3RlVGV4dCxcbiAgICAgIHRpbWVmcmFtZTogJzEgZGF5J1xuICAgIH0pO1xuXG4gICAgY29uc29sZS5sb2coJ/Cfk6UgW1BsYW4gTXkgRGF5XSBSZWNlaXZlZCByZXNwb25zZTonLCB7XG4gICAgICBzdWNjZXNzOiByZXNwb25zZS5zdWNjZXNzLFxuICAgICAgaGFzRGF0YTogISFyZXNwb25zZS5kYXRhLFxuICAgICAgZXJyb3I6IHJlc3BvbnNlLmVycm9yXG4gICAgfSk7XG5cbiAgICBjb25zb2xlLmxvZygn8J+UjSBbUGxhbiBNeSBEYXldIFJhdyByZXNwb25zZSBkYXRhOicsIEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLmRhdGEsIG51bGwsIDIpKTtcbiAgICBjb25zb2xlLmxvZygn8J+UjSBbUGxhbiBNeSBEYXldIFJlc3BvbnNlIGRhdGEgdHlwZTonLCB0eXBlb2YgcmVzcG9uc2UuZGF0YSk7XG4gICAgY29uc29sZS5sb2coJ/CflI0gW1BsYW4gTXkgRGF5XSBSZXNwb25zZSBkYXRhIGtleXM6JywgcmVzcG9uc2UuZGF0YSA/IE9iamVjdC5rZXlzKHJlc3BvbnNlLmRhdGEpIDogJ25vIGRhdGEnKTtcblxuICAgIGlmICghcmVzcG9uc2Uuc3VjY2Vzcykge1xuICAgICAgY29uc3QgZXJyb3IgPSByZXNwb25zZS5lcnJvciB8fCAnRmFpbGVkIHRvIGdlbmVyYXRlIHNjaGVkdWxlJztcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBbUGxhbiBNeSBEYXldIEFQSSBFcnJvcjonLCBlcnJvcik7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IpO1xuICAgIH1cblxuICAgIGlmICghcmVzcG9uc2UuZGF0YSkge1xuICAgICAgY29uc3QgZXJyb3IgPSAnTm8gZGF0YSBpbiBBUEkgcmVzcG9uc2UnO1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIFtQbGFuIE15IERheV0gRXJyb3I6JywgZXJyb3IpO1xuICAgICAgY29uc29sZS5sb2coJ/CflI0gW1BsYW4gTXkgRGF5XSBGdWxsIHJlc3BvbnNlOicsIHJlc3BvbnNlKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvcik7XG4gICAgfVxuXG4gICAgLy8gVGhlIEV2b0FnZW50WCBBUEkgcmV0dXJucyBhIG5lc3RlZCBzdHJ1Y3R1cmU6IHJlc3BvbnNlLmRhdGEuZGF0YS5wbGFuXG4gICAgY29uc3QgYWN0dWFsRGF0YSA9IHJlc3BvbnNlLmRhdGEuZGF0YSB8fCByZXNwb25zZS5kYXRhO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKCfwn5OLIFtQbGFuIE15IERheV0gUmVzcG9uc2UgZGF0YSBzdHJ1Y3R1cmU6Jywge1xuICAgICAgaGFzUGxhbjogISFhY3R1YWxEYXRhLnBsYW4sXG4gICAgICBwbGFuS2V5czogYWN0dWFsRGF0YS5wbGFuID8gT2JqZWN0LmtleXMoYWN0dWFsRGF0YS5wbGFuKSA6IG51bGwsXG4gICAgICBoYXNUYXNrczogYWN0dWFsRGF0YS5wbGFuPy50YXNrcyA/IHRydWUgOiBmYWxzZSxcbiAgICAgIHRhc2tDb3VudDogYWN0dWFsRGF0YS5wbGFuPy50YXNrcz8ubGVuZ3RoIHx8IDBcbiAgICB9KTtcblxuICAgIC8vIENoZWNrIGlmIHBsYW4gZXhpc3RzIGluIHJlc3BvbnNlXG4gICAgaWYgKCFhY3R1YWxEYXRhLnBsYW4pIHtcbiAgICAgIGNvbnN0IGVycm9yID0gJ05vIHBsYW4gZGF0YSBpbiBBUEkgcmVzcG9uc2UnO1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIFtQbGFuIE15IERheV0gRXJyb3I6JywgZXJyb3IpO1xuICAgICAgY29uc29sZS5sb2coJ/CflI0gW1BsYW4gTXkgRGF5XSBGdWxsIHJlc3BvbnNlIGRhdGE6JywgcmVzcG9uc2UuZGF0YSk7XG4gICAgICBjb25zb2xlLmxvZygn8J+UjSBbUGxhbiBNeSBEYXldIEFjdHVhbCBkYXRhOicsIGFjdHVhbERhdGEpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yKTtcbiAgICB9XG5cbiAgICAvLyBDb252ZXJ0IEV2b0FnZW50WCB0YXNrIHBsYW5uaW5nIHJlc3BvbnNlIHRvIHNjaGVkdWxlIGZvcm1hdFxuICAgIGNvbnN0IHRhc2tQbGFuID0gYWN0dWFsRGF0YS5wbGFuO1xuICAgIGNvbnN0IHRhc2tzID0gdGFza1BsYW4udGFza3MgfHwgW107XG4gICAgXG4gICAgY29uc29sZS5sb2coJ/Cfk50gW1BsYW4gTXkgRGF5XSBQcm9jZXNzaW5nIHRhc2tzOicsIHRhc2tzLmxlbmd0aCk7XG4gICAgXG4gICAgaWYgKHRhc2tzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gW1BsYW4gTXkgRGF5XSBObyB0YXNrcyBpbiByZXNwb25zZSwgY3JlYXRpbmcgZmFsbGJhY2sgc2NoZWR1bGUnKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHNjaGVkdWxlTWFya2Rvd246ICd8IFRpbWUgfCBUYXNrIHxcXG58LS0tLS0tfC0tLS0tLXxcXG58IDk6MDAgQU0gfCBQbGFuIHlvdXIgZGF5IHxcXG58IDEwOjAwIEFNIHwgU3RhcnQgd29ya2luZyB8XFxufCAxMjowMCBQTSB8IEx1bmNoIGJyZWFrIHwnLFxuICAgICAgICBoZWFkbGluZTogJ/Cfk4UgQmFzaWMgc2NoZWR1bGUgY3JlYXRlZCAobm8gdGFza3MgZm91bmQgaW4gbm90ZSknXG4gICAgICB9O1xuICAgIH1cbiAgICBcbiAgICAvLyBHZW5lcmF0ZSBzY2hlZHVsZSBtYXJrZG93biBmcm9tIHRhc2tzXG4gICAgbGV0IHNjaGVkdWxlTWFya2Rvd24gPSAnfCBUaW1lIHwgVGFzayB8XFxufC0tLS0tLXwtLS0tLS18XFxuJztcbiAgICBcbiAgICAvLyBFeHRyYWN0IHNjaGVkdWxlZCB0aW1lcyBmcm9tIHRhc2sgZGVzY3JpcHRpb25zIG9yIGdlbmVyYXRlIHRoZW1cbiAgICB0YXNrcy5mb3JFYWNoKCh0YXNrOiBhbnksIGluZGV4OiBudW1iZXIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGDwn5OLIFtQbGFuIE15IERheV0gUHJvY2Vzc2luZyB0YXNrICR7aW5kZXggKyAxfTpgLCB7XG4gICAgICAgIHRpdGxlOiB0YXNrLnRpdGxlLFxuICAgICAgICBkZXNjcmlwdGlvbjogdGFzay5kZXNjcmlwdGlvbj8uc3Vic3RyaW5nKDAsIDEwMCksXG4gICAgICAgIHByaW9yaXR5OiB0YXNrLnByaW9yaXR5LFxuICAgICAgICBlc3RpbWF0ZWRUaW1lOiB0YXNrLmVzdGltYXRlZF90aW1lXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgdGltZU1hdGNoID0gdGFzay5kZXNjcmlwdGlvbj8ubWF0Y2goLyhcXGR7MSwyfTpcXGR7Mn0pLyk7XG4gICAgICBjb25zdCB0aW1lID0gdGltZU1hdGNoID8gdGltZU1hdGNoWzFdIDogYCR7OSArIE1hdGguZmxvb3IoaW5kZXggKiAxLjUpfTokeyhpbmRleCAqIDMwKSAlIDYwIHx8ICcwMCd9YDtcbiAgICAgIHNjaGVkdWxlTWFya2Rvd24gKz0gYHwgJHt0aW1lfSB8ICR7dGFzay50aXRsZX0gfFxcbmA7XG4gICAgfSk7XG5cbiAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICBzY2hlZHVsZU1hcmtkb3duLFxuICAgICAgaGVhZGxpbmU6IGDinKggU21hcnQgc2NoZWR1bGUgY3JlYXRlZCB3aXRoICR7dGFza3MubGVuZ3RofSB0YXNrcyFgXG4gICAgfTtcblxuICAgIGNvbnNvbGUubG9nKCfinIUgW1BsYW4gTXkgRGF5XSBTY2hlZHVsZSBnZW5lcmF0ZWQgc3VjY2Vzc2Z1bGx5OicsIHtcbiAgICAgIG1hcmtkb3duTGVuZ3RoOiBzY2hlZHVsZU1hcmtkb3duLmxlbmd0aCxcbiAgICAgIHRhc2tDb3VudDogdGFza3MubGVuZ3RoLFxuICAgICAgaGVhZGxpbmU6IHJlc3VsdC5oZWFkbGluZVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJlc3VsdDtcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBbUGxhbiBNeSBEYXldIEZldGNoIGVycm9yOicsIGVycm9yKTtcbiAgICBjb25zb2xlLmVycm9yKCfwn5SNIFtQbGFuIE15IERheV0gRXJyb3Igc3RhY2s6JywgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLnN0YWNrIDogJ05vIHN0YWNrIHRyYWNlJyk7XG4gICAgXG4gICAgLy8gUmUtdGhyb3cgd2l0aCBtb3JlIGNvbnRleHRcbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBTY2hlZHVsZSBmZXRjaCBmYWlsZWQ6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBTY2hlZHVsZSBmZXRjaCBmYWlsZWQ6ICR7U3RyaW5nKGVycm9yKX1gKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBGaW5kcyBhbmQgZXh0cmFjdHMgdGhlIFZhdWx0UGlsb3QgcGxhbiBzZWN0aW9uIGZyb20gbm90ZSB0ZXh0IHVzaW5nIGNvbW1lbnQgd3JhcHBlclxuICogQHBhcmFtIHRleHQgLSBUaGUgZnVsbCBub3RlIHRleHRcbiAqIEByZXR1cm5zIE1hdGNoIHJlc3VsdCB3aXRoIHBsYW4gc2VjdGlvbiBkZXRhaWxzIG9yIG51bGxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbmRQbGFuU2VjdGlvbih0ZXh0OiBzdHJpbmcpOiBSZWdFeHBNYXRjaEFycmF5IHwgbnVsbCB7XG4gIC8vIExvb2sgZm9yIHRoZSBWYXVsdFBpbG90IHBsYW4gY29tbWVudCB3cmFwcGVyXG4gIGNvbnN0IHBsYW5SZWdleCA9IC8oPCEtLSB2cDpwbGFuOnN0YXJ0IC0tPikoW1xcc1xcU10qPykoPCEtLSB2cDpwbGFuOmVuZCAtLT4pL2k7XG4gIHJldHVybiB0ZXh0Lm1hdGNoKHBsYW5SZWdleCk7XG59XG5cbi8qKlxuICogRmluZHMgYW5kIGV4dHJhY3RzIHRoZSBTY2hlZHVsZSBzZWN0aW9uIGZyb20gbm90ZSB0ZXh0XG4gKiBAcGFyYW0gdGV4dCAtIFRoZSBmdWxsIG5vdGUgdGV4dFxuICogQHJldHVybnMgTWF0Y2ggcmVzdWx0IHdpdGggc2NoZWR1bGUgc2VjdGlvbiBkZXRhaWxzIG9yIG51bGxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbmRTY2hlZHVsZVNlY3Rpb24odGV4dDogc3RyaW5nKTogUmVnRXhwTWF0Y2hBcnJheSB8IG51bGwge1xuICAvLyBGaXJzdCB0cnkgdG8gbWF0Y2ggaGVhZGluZ3MgdGhhdCBhcmUgZXhhY3RseSBcIiMjIFNjaGVkdWxlXCIgKHdpdGggb3B0aW9uYWwgY29udGVudCBhZnRlcilcbiAgbGV0IHNjaGVkdWxlUmVnZXggPSAvKF4jI1xccytTY2hlZHVsZVxcYlteXFxuXSpcXG4pKFtcXHNcXFNdKj8pKD89XFxuIyNcXHN8JCkvaW07XG4gIGxldCBtYXRjaCA9IHRleHQubWF0Y2goc2NoZWR1bGVSZWdleCk7XG4gIFxuICBpZiAobWF0Y2gpIHtcbiAgICByZXR1cm4gbWF0Y2g7XG4gIH1cbiAgXG4gIC8vIElmIG5vIGV4YWN0IG1hdGNoLCB0cnkgdG8gbWF0Y2ggaGVhZGluZ3MgdGhhdCBjb250YWluIFwiU2NoZWR1bGVcIiBhcyBhIHdvcmRcbiAgc2NoZWR1bGVSZWdleCA9IC8oXiMjXFxzKig/Oi4qXFxzKT9cXGJTY2hlZHVsZVxcYig/Olxccy4qKT8kXFxuKShbXFxzXFxTXSo/KSg/PVxcbiMjXFxzfCQpL2ltO1xuICByZXR1cm4gdGV4dC5tYXRjaChzY2hlZHVsZVJlZ2V4KTtcbn1cblxuLyoqXG4gKiBJbmplY3RzIG9yIHJlcGxhY2VzIHRoZSBzY2hlZHVsZSBzZWN0aW9uIGluIHRoZSBub3RlIHRleHRcbiAqIEBwYXJhbSBvcmlnaW5hbFRleHQgLSBUaGUgb3JpZ2luYWwgbm90ZSB0ZXh0XG4gKiBAcGFyYW0gc2NoZWR1bGVNYXJrZG93biAtIFRoZSBuZXcgc2NoZWR1bGUgY29udGVudCB0byBpbmplY3RcbiAqIEByZXR1cm5zIFVwZGF0ZWQgbm90ZSB0ZXh0IHdpdGggdGhlIG5ldyBzY2hlZHVsZSBzZWN0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbmplY3RTY2hlZHVsZShvcmlnaW5hbFRleHQ6IHN0cmluZywgc2NoZWR1bGVNYXJrZG93bjogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc29sZS5sb2coJ/Cfk50gW1BsYW4gTXkgRGF5XSBJbmplY3Rpbmcgc2NoZWR1bGU6Jywge1xuICAgIG9yaWdpbmFsTGVuZ3RoOiBvcmlnaW5hbFRleHQubGVuZ3RoLFxuICAgIHNjaGVkdWxlTGVuZ3RoOiBzY2hlZHVsZU1hcmtkb3duLmxlbmd0aCxcbiAgICBoYXNPcmlnaW5hbENvbnRlbnQ6IG9yaWdpbmFsVGV4dC50cmltKCkubGVuZ3RoID4gMFxuICB9KTtcbiAgXG4gIC8vIEZpcnN0LCBjaGVjayBmb3IgVmF1bHRQaWxvdCBjb21tZW50IHdyYXBwZXJcbiAgY29uc3QgcGxhbk1hdGNoID0gZmluZFBsYW5TZWN0aW9uKG9yaWdpbmFsVGV4dCk7XG4gIFxuICBpZiAocGxhbk1hdGNoKSB7XG4gICAgY29uc29sZS5sb2coJ/CflIQgW1BsYW4gTXkgRGF5XSBSZXBsYWNpbmcgZXhpc3RpbmcgcGxhbiBzZWN0aW9uIHdpdGggY29tbWVudCB3cmFwcGVyJyk7XG4gICAgY29uc29sZS5sb2coJ/Cfk4sgW1BsYW4gTXkgRGF5XSBGb3VuZCB3cmFwcGVkIHBsYW4gc2VjdGlvbjonLCB7XG4gICAgICBzdGFydENvbW1lbnQ6IHBsYW5NYXRjaFsxXSxcbiAgICAgIGNvbnRlbnRMZW5ndGg6IHBsYW5NYXRjaFsyXT8ubGVuZ3RoIHx8IDAsXG4gICAgICBlbmRDb21tZW50OiBwbGFuTWF0Y2hbM11cbiAgICB9KTtcbiAgICBcbiAgICAvLyBSZXBsYWNlIGV2ZXJ5dGhpbmcgaW5zaWRlIHRoZSBjb21tZW50IHdyYXBwZXJcbiAgICBjb25zdCBbZnVsbE1hdGNoLCBzdGFydENvbW1lbnQsICwgZW5kQ29tbWVudF0gPSBwbGFuTWF0Y2g7XG4gICAgY29uc3QgcmVwbGFjZW1lbnQgPSBgJHtzdGFydENvbW1lbnR9XFxuJHtzY2hlZHVsZU1hcmtkb3dufVxcbiR7ZW5kQ29tbWVudH1gO1xuICAgIGNvbnN0IHJlc3VsdCA9IG9yaWdpbmFsVGV4dC5yZXBsYWNlKGZ1bGxNYXRjaCwgcmVwbGFjZW1lbnQpO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKCfinIUgW1BsYW4gTXkgRGF5XSBQbGFuIHNlY3Rpb24gcmVwbGFjZWQgd2l0aGluIGNvbW1lbnQgd3JhcHBlcicpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgXG4gIC8vIEZhbGwgYmFjayB0byBjaGVja2luZyBmb3IgU2NoZWR1bGUgc2VjdGlvblxuICBjb25zdCBzY2hlZHVsZU1hdGNoID0gZmluZFNjaGVkdWxlU2VjdGlvbihvcmlnaW5hbFRleHQpO1xuICBcbiAgaWYgKHNjaGVkdWxlTWF0Y2gpIHtcbiAgICBjb25zb2xlLmxvZygn8J+UhCBbUGxhbiBNeSBEYXldIFJlcGxhY2luZyBleGlzdGluZyBzY2hlZHVsZSBzZWN0aW9uJyk7XG4gICAgY29uc29sZS5sb2coJ/Cfk4sgW1BsYW4gTXkgRGF5XSBGb3VuZCBzZWN0aW9uOicsIHtcbiAgICAgIGhlYWRpbmdNYXRjaDogc2NoZWR1bGVNYXRjaFsxXT8uc3Vic3RyaW5nKDAsIDUwKSxcbiAgICAgIGNvbnRlbnRNYXRjaDogc2NoZWR1bGVNYXRjaFsyXT8uc3Vic3RyaW5nKDAsIDEwMClcbiAgICB9KTtcbiAgICBcbiAgICAvLyBSZXBsYWNlIGV4aXN0aW5nIHNjaGVkdWxlIHNlY3Rpb24gKGtlZXAgaGVhZGluZywgcmVwbGFjZSBjb250ZW50KVxuICAgIGNvbnN0IFtmdWxsTWF0Y2gsIGhlYWRpbmddID0gc2NoZWR1bGVNYXRjaDtcbiAgICBjb25zdCByZXBsYWNlbWVudCA9IGhlYWRpbmcgKyBzY2hlZHVsZU1hcmtkb3duO1xuICAgIGNvbnN0IHJlc3VsdCA9IG9yaWdpbmFsVGV4dC5yZXBsYWNlKGZ1bGxNYXRjaCwgcmVwbGFjZW1lbnQpO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKCfinIUgW1BsYW4gTXkgRGF5XSBTY2hlZHVsZSBzZWN0aW9uIHJlcGxhY2VkJyk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmxvZygn4p6VIFtQbGFuIE15IERheV0gQWRkaW5nIG5ldyBwbGFuIHNlY3Rpb24gd2l0aCBjb21tZW50IHdyYXBwZXIgYXQgdG9wJyk7XG4gICAgXG4gICAgLy8gSW5zZXJ0IG5ldyBwbGFuIHNlY3Rpb24gd2l0aCBjb21tZW50IHdyYXBwZXIgYXQgdGhlIHRvcCBvZiB0aGUgbm90ZVxuICAgIGNvbnN0IHdyYXBwZWRQbGFuID0gYDwhLS0gdnA6cGxhbjpzdGFydCAtLT5cXG4ke3NjaGVkdWxlTWFya2Rvd259XFxuPCEtLSB2cDpwbGFuOmVuZCAtLT5cXG5cXG5gO1xuICAgIGNvbnN0IHJlc3VsdCA9IHdyYXBwZWRQbGFuICsgb3JpZ2luYWxUZXh0O1xuICAgIFxuICAgIGNvbnNvbGUubG9nKCfinIUgW1BsYW4gTXkgRGF5XSBOZXcgcGxhbiBzZWN0aW9uIHdpdGggd3JhcHBlciBhZGRlZCBhdCB0b3AnKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG59XG5cbi8qKlxuICogVmFsaWRhdGVzIGlmIHRoZSBzY2hlZHVsZSBtYXJrZG93biBpcyBwcm9wZXJseSBmb3JtYXR0ZWRcbiAqIEBwYXJhbSBzY2hlZHVsZU1hcmtkb3duIC0gVGhlIHNjaGVkdWxlIGNvbnRlbnQgdG8gdmFsaWRhdGVcbiAqIEByZXR1cm5zIFRydWUgaWYgdmFsaWQsIGZhbHNlIG90aGVyd2lzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVTY2hlZHVsZU1hcmtkb3duKHNjaGVkdWxlTWFya2Rvd246IHN0cmluZyk6IGJvb2xlYW4ge1xuICBjb25zb2xlLmxvZygn8J+UjSBbUGxhbiBNeSBEYXldIFZhbGlkYXRpbmcgc2NoZWR1bGUgbWFya2Rvd246Jywge1xuICAgIGxlbmd0aDogc2NoZWR1bGVNYXJrZG93bi5sZW5ndGgsXG4gICAgdHJpbW1lZExlbmd0aDogc2NoZWR1bGVNYXJrZG93bi50cmltKCkubGVuZ3RoLFxuICAgIGlzU3RyaW5nOiB0eXBlb2Ygc2NoZWR1bGVNYXJrZG93biA9PT0gJ3N0cmluZycsXG4gICAgcHJldmlldzogc2NoZWR1bGVNYXJrZG93bi5zdWJzdHJpbmcoMCwgMTAwKVxuICB9KTtcbiAgXG4gIC8vIEJhc2ljIHZhbGlkYXRpb24gLSBjaGVjayBpZiBpdCdzIG5vdCBlbXB0eSBhbmQgY29udGFpbnMgc29tZSBjb250ZW50XG4gIGNvbnN0IGlzVmFsaWQgPSBzY2hlZHVsZU1hcmtkb3duLnRyaW0oKS5sZW5ndGggPiAwO1xuICBcbiAgY29uc29sZS5sb2coJ+KchSBbUGxhbiBNeSBEYXldIFZhbGlkYXRpb24gcmVzdWx0OicsIGlzVmFsaWQpO1xuICBcbiAgcmV0dXJuIGlzVmFsaWQ7XG59XG4iLCIvLyBEZWJ1ZyB1dGlsaXRpZXMgZm9yIFBsYW4gTXkgRGF5IGZlYXR1cmVcbmV4cG9ydCBjbGFzcyBQbGFuTXlEYXlEZWJ1Z2dlciB7XG4gIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBQbGFuTXlEYXlEZWJ1Z2dlcjtcbiAgcHJpdmF0ZSBsb2dzOiBzdHJpbmdbXSA9IFtdO1xuICBwcml2YXRlIG1heExvZ3MgPSAxMDA7XG5cbiAgc3RhdGljIGdldEluc3RhbmNlKCk6IFBsYW5NeURheURlYnVnZ2VyIHtcbiAgICBpZiAoIVBsYW5NeURheURlYnVnZ2VyLmluc3RhbmNlKSB7XG4gICAgICBQbGFuTXlEYXlEZWJ1Z2dlci5pbnN0YW5jZSA9IG5ldyBQbGFuTXlEYXlEZWJ1Z2dlcigpO1xuICAgIH1cbiAgICByZXR1cm4gUGxhbk15RGF5RGVidWdnZXIuaW5zdGFuY2U7XG4gIH1cblxuICBsb2cobWVzc2FnZTogc3RyaW5nLCBkYXRhPzogYW55KSB7XG4gICAgY29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICAgIGNvbnN0IGxvZ0VudHJ5ID0gYFske3RpbWVzdGFtcH1dICR7bWVzc2FnZX0ke2RhdGEgPyBgIHwgJHtKU09OLnN0cmluZ2lmeShkYXRhKX1gIDogJyd9YDtcbiAgICBcbiAgICBjb25zb2xlLmxvZyhsb2dFbnRyeSk7XG4gICAgdGhpcy5sb2dzLnB1c2gobG9nRW50cnkpO1xuICAgIFxuICAgIC8vIEtlZXAgb25seSB0aGUgbW9zdCByZWNlbnQgbG9nc1xuICAgIGlmICh0aGlzLmxvZ3MubGVuZ3RoID4gdGhpcy5tYXhMb2dzKSB7XG4gICAgICB0aGlzLmxvZ3MgPSB0aGlzLmxvZ3Muc2xpY2UoLXRoaXMubWF4TG9ncyk7XG4gICAgfVxuICB9XG5cbiAgZXJyb3IobWVzc2FnZTogc3RyaW5nLCBlcnJvcj86IGFueSkge1xuICAgIGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICBjb25zdCBlcnJvckRhdGEgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8ge1xuICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcbiAgICAgIHN0YWNrOiBlcnJvci5zdGFjayxcbiAgICAgIG5hbWU6IGVycm9yLm5hbWVcbiAgICB9IDogZXJyb3I7XG4gICAgXG4gICAgY29uc3QgbG9nRW50cnkgPSBgWyR7dGltZXN0YW1wfV0gRVJST1I6ICR7bWVzc2FnZX0ke2Vycm9yRGF0YSA/IGAgfCAke0pTT04uc3RyaW5naWZ5KGVycm9yRGF0YSl9YCA6ICcnfWA7XG4gICAgXG4gICAgY29uc29sZS5lcnJvcihsb2dFbnRyeSk7XG4gICAgdGhpcy5sb2dzLnB1c2gobG9nRW50cnkpO1xuICAgIFxuICAgIGlmICh0aGlzLmxvZ3MubGVuZ3RoID4gdGhpcy5tYXhMb2dzKSB7XG4gICAgICB0aGlzLmxvZ3MgPSB0aGlzLmxvZ3Muc2xpY2UoLXRoaXMubWF4TG9ncyk7XG4gICAgfVxuICB9XG5cbiAgZ2V0TG9ncygpOiBzdHJpbmdbXSB7XG4gICAgcmV0dXJuIFsuLi50aGlzLmxvZ3NdO1xuICB9XG5cbiAgY2xlYXJMb2dzKCkge1xuICAgIHRoaXMubG9ncyA9IFtdO1xuICB9XG5cbiAgZXhwb3J0TG9ncygpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmxvZ3Muam9pbignXFxuJyk7XG4gIH1cblxuICAvLyBIZWxwZXIgdG8gYW5hbHl6ZSBBUEkgY2xpZW50IHN0YXRlXG4gIGFuYWx5emVBcGlDbGllbnQoYXBpQ2xpZW50OiBhbnkpOiBhbnkge1xuICAgIGlmICghYXBpQ2xpZW50KSB7XG4gICAgICByZXR1cm4geyBzdGF0dXM6ICdudWxsJywgYXZhaWxhYmxlOiBmYWxzZSB9O1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBzdGF0dXM6ICdhdmFpbGFibGUnLFxuICAgICAgYXZhaWxhYmxlOiB0cnVlLFxuICAgICAgdHlwZTogdHlwZW9mIGFwaUNsaWVudCxcbiAgICAgIG1ldGhvZHM6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE9iamVjdC5nZXRQcm90b3R5cGVPZihhcGlDbGllbnQpKS5maWx0ZXIobmFtZSA9PiB0eXBlb2YgYXBpQ2xpZW50W25hbWVdID09PSAnZnVuY3Rpb24nKSxcbiAgICAgIGhhc1BsYW5UYXNrczogdHlwZW9mIGFwaUNsaWVudC5wbGFuVGFza3MgPT09ICdmdW5jdGlvbicsXG4gICAgICBoYXNIZWFsdGhDaGVjazogdHlwZW9mIGFwaUNsaWVudC5oZWFsdGhDaGVjayA9PT0gJ2Z1bmN0aW9uJ1xuICAgIH07XG4gIH1cblxuICAvLyBIZWxwZXIgdG8gdGVzdCBFdm9BZ2VudFggY29ubmVjdGlvblxuICBhc3luYyB0ZXN0Q29ubmVjdGlvbihhcGlDbGllbnQ6IGFueSk6IFByb21pc2U8YW55PiB7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMubG9nKCfwn5SXIFRlc3RpbmcgRXZvQWdlbnRYIGNvbm5lY3Rpb24uLi4nKTtcbiAgICAgIFxuICAgICAgaWYgKCFhcGlDbGllbnQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBUEkgY2xpZW50IGlzIG51bGwgb3IgdW5kZWZpbmVkJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICghYXBpQ2xpZW50LmhlYWx0aENoZWNrKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQVBJIGNsaWVudCBkb2VzIG5vdCBoYXZlIGhlYWx0aENoZWNrIG1ldGhvZCcpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBhcGlDbGllbnQuaGVhbHRoQ2hlY2soKTtcbiAgICAgIHRoaXMubG9nKCfinIUgQ29ubmVjdGlvbiB0ZXN0IHN1Y2Nlc3NmdWwnLCByZXN1bHQpO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgcmVzdWx0IH07XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5lcnJvcign4p2MIENvbm5lY3Rpb24gdGVzdCBmYWlsZWQnLCBlcnJvcik7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKSB9O1xuICAgIH1cbiAgfVxuXG4gIC8vIEhlbHBlciB0byB0ZXN0IHRhc2sgcGxhbm5pbmcgc3BlY2lmaWNhbGx5XG4gIGFzeW5jIHRlc3RUYXNrUGxhbm5pbmcoYXBpQ2xpZW50OiBhbnksIHRlc3ROb3RlOiBzdHJpbmcgPSAnVGVzdCBub3RlIGZvciBzY2hlZHVsZSBnZW5lcmF0aW9uJyk6IFByb21pc2U8YW55PiB7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMubG9nKCfwn5OLIFRlc3RpbmcgdGFzayBwbGFubmluZy4uLicpO1xuICAgICAgXG4gICAgICBpZiAoIWFwaUNsaWVudCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FQSSBjbGllbnQgaXMgbnVsbCBvciB1bmRlZmluZWQnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFhcGlDbGllbnQucGxhblRhc2tzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQVBJIGNsaWVudCBkb2VzIG5vdCBoYXZlIHBsYW5UYXNrcyBtZXRob2QnKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYXBpQ2xpZW50LnBsYW5UYXNrcyh7XG4gICAgICAgIGdvYWw6ICdDcmVhdGUgYSB0ZXN0IHNjaGVkdWxlJyxcbiAgICAgICAgY29udGV4dDogdGVzdE5vdGUsXG4gICAgICAgIHRpbWVmcmFtZTogJzEgZGF5J1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMubG9nKCfinIUgVGFzayBwbGFubmluZyB0ZXN0IHN1Y2Nlc3NmdWwnLCB7XG4gICAgICAgIHN1Y2Nlc3M6IHJlc3VsdC5zdWNjZXNzLFxuICAgICAgICBoYXNEYXRhOiAhIXJlc3VsdC5kYXRhLFxuICAgICAgICBoYXNQbGFuOiAhIXJlc3VsdC5kYXRhPy5wbGFuLFxuICAgICAgICB0YXNrQ291bnQ6IHJlc3VsdC5kYXRhPy5wbGFuPy50YXNrcz8ubGVuZ3RoIHx8IDBcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCByZXN1bHQgfTtcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLmVycm9yKCfinYwgVGFzayBwbGFubmluZyB0ZXN0IGZhaWxlZCcsIGVycm9yKTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpIH07XG4gICAgfVxuICB9XG59XG5cbi8vIEV4cG9ydCBzaW5nbGV0b24gaW5zdGFuY2VcbmV4cG9ydCBjb25zdCBwbGFuTXlEYXlEZWJ1Z2dlciA9IFBsYW5NeURheURlYnVnZ2VyLmdldEluc3RhbmNlKCk7XG4iLCIvKipcbiAqIFR5cGVTY3JpcHQgdHlwZSBkZWZpbml0aW9ucyBmb3IgVmF1bHRQaWxvdCB2YXVsdCBtYW5hZ2VtZW50IGludGVncmF0aW9uXG4gKi9cblxuaW1wb3J0IHsgQXBwIH0gZnJvbSAnb2JzaWRpYW4nO1xuXG4vLyA9PT0gVkFVTFQgU1RSVUNUVVJFIFRZUEVTID09PVxuXG5leHBvcnQgaW50ZXJmYWNlIFZhdWx0U3RydWN0dXJlUmVxdWVzdCB7XG4gIGluY2x1ZGVfY29udGVudD86IGJvb2xlYW47XG4gIG1heF9kZXB0aD86IG51bWJlcjtcbiAgZmlsZV90eXBlcz86IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZhdWx0RmlsZUluZm8ge1xuICBwYXRoOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgc2l6ZTogbnVtYmVyO1xuICBtb2RpZmllZDogc3RyaW5nO1xuICBmaWxlX3R5cGU6IHN0cmluZztcbiAgY29udGVudF9wcmV2aWV3Pzogc3RyaW5nO1xuICB0YWdzPzogc3RyaW5nW107XG4gIGxpbmtzPzogc3RyaW5nW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmF1bHRGb2xkZXJJbmZvIHtcbiAgbmFtZTogc3RyaW5nO1xuICBwYXRoOiBzdHJpbmc7XG4gIGNoaWxkcmVuOiAoVmF1bHRGaWxlSW5mbyB8IFZhdWx0Rm9sZGVySW5mbylbXTtcbiAgdHlwZTogJ2ZvbGRlcic7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmF1bHRTdHJ1Y3R1cmVSZXNwb25zZSB7XG4gIHZhdWx0X25hbWU6IHN0cmluZztcbiAgdG90YWxfZmlsZXM6IG51bWJlcjtcbiAgdG90YWxfZm9sZGVyczogbnVtYmVyO1xuICB0b3RhbF9zaXplOiBudW1iZXI7XG4gIHN0cnVjdHVyZTogVmF1bHRGb2xkZXJJbmZvO1xuICByZWNlbnRfZmlsZXM6IFZhdWx0RmlsZUluZm9bXTtcbiAgb3JwaGFuZWRfZmlsZXM6IFZhdWx0RmlsZUluZm9bXTtcbn1cblxuLy8gPT09IEZJTEUgT1BFUkFUSU9OIFRZUEVTID09PVxuXG5leHBvcnQgdHlwZSBGaWxlT3BlcmF0aW9uVHlwZSA9ICdjcmVhdGUnIHwgJ3VwZGF0ZScgfCAnZGVsZXRlJyB8ICdtb3ZlJyB8ICdjb3B5JztcblxuZXhwb3J0IGludGVyZmFjZSBGaWxlT3BlcmF0aW9uUmVxdWVzdCB7XG4gIG9wZXJhdGlvbjogRmlsZU9wZXJhdGlvblR5cGU7XG4gIGZpbGVfcGF0aDogc3RyaW5nO1xuICBuZXdfcGF0aD86IHN0cmluZztcbiAgY29udGVudD86IHN0cmluZztcbiAgYmFja3VwPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGaWxlT3BlcmF0aW9uUmVzcG9uc2Uge1xuICBzdWNjZXNzOiBib29sZWFuO1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIGZpbGVfcGF0aDogc3RyaW5nO1xuICBiYWNrdXBfcGF0aD86IHN0cmluZztcbiAgbmV3X3BhdGg/OiBzdHJpbmc7XG59XG5cbi8vID09PSBCQVRDSCBPUEVSQVRJT05TID09PVxuXG5leHBvcnQgaW50ZXJmYWNlIEJhdGNoRmlsZU9wZXJhdGlvblJlcXVlc3Qge1xuICBvcGVyYXRpb25zOiBGaWxlT3BlcmF0aW9uUmVxdWVzdFtdO1xuICBhdG9taWM/OiBib29sZWFuO1xuICB0aW1lb3V0PzogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJhdGNoRmlsZU9wZXJhdGlvblJlc3BvbnNlIHtcbiAgc3VjY2VzczogYm9vbGVhbjtcbiAgY29tcGxldGVkOiBudW1iZXI7XG4gIGZhaWxlZDogbnVtYmVyO1xuICByZXN1bHRzOiBGaWxlT3BlcmF0aW9uUmVzcG9uc2VbXTtcbiAgZXJyb3JzPzogc3RyaW5nW107XG59XG5cbi8vID09PSBTRUFSQ0ggVFlQRVMgPT09XG5cbmV4cG9ydCB0eXBlIFNlYXJjaFR5cGUgPSAnY29udGVudCcgfCAnZmlsZW5hbWUnIHwgJ3RhZ3MnIHwgJ2xpbmtzJyB8ICdjb21wcmVoZW5zaXZlJztcblxuZXhwb3J0IGludGVyZmFjZSBWYXVsdFNlYXJjaFJlcXVlc3Qge1xuICBxdWVyeTogc3RyaW5nO1xuICBzZWFyY2hfdHlwZT86IFNlYXJjaFR5cGU7XG4gIG1heF9yZXN1bHRzPzogbnVtYmVyO1xuICBpbmNsdWRlX2NvbnRlbnQ/OiBib29sZWFuO1xuICBmaWxlX3R5cGVzPzogc3RyaW5nW107XG4gIGZvbGRlcnM/OiBzdHJpbmdbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBWYXVsdFNlYXJjaFJlc3VsdCB7XG4gIGZpbGVfcGF0aDogc3RyaW5nO1xuICBmaWxlX25hbWU6IHN0cmluZztcbiAgbWF0Y2hfdHlwZTogJ2NvbnRlbnQnIHwgJ2ZpbGVuYW1lJyB8ICd0YWcnIHwgJ2xpbmsnO1xuICBtYXRjaGVzOiBzdHJpbmdbXTtcbiAgcHJldmlldzogc3RyaW5nO1xuICBzY29yZTogbnVtYmVyO1xuICBsaW5lX251bWJlcnM/OiBudW1iZXJbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBWYXVsdFNlYXJjaFJlc3BvbnNlIHtcbiAgcmVzdWx0czogVmF1bHRTZWFyY2hSZXN1bHRbXTtcbiAgdG90YWxfZm91bmQ6IG51bWJlcjtcbiAgc2VhcmNoX3R5cGU6IFNlYXJjaFR5cGU7XG4gIHF1ZXJ5OiBzdHJpbmc7XG4gIGluc2lnaHRzPzogc3RyaW5nO1xuICBzdWdnZXN0ZWRfcXVlcmllcz86IHN0cmluZ1tdO1xufVxuXG4vLyA9PT0gT1JHQU5JWkFUSU9OIFRZUEVTID09PVxuXG5leHBvcnQgaW50ZXJmYWNlIFZhdWx0T3JnYW5pemF0aW9uUmVxdWVzdCB7XG4gIGZvY3VzX2ZvbGRlcnM/OiBzdHJpbmdbXTtcbiAgb3JnYW5pemF0aW9uX21vZGU6ICdieV90b3BpYycgfCAnYnlfZGF0ZScgfCAnYnlfdHlwZScgfCAnY3VzdG9tJztcbiAgY3JlYXRlX2ZvbGRlcnM/OiBib29sZWFuO1xuICBtb3ZlX2ZpbGVzPzogYm9vbGVhbjtcbiAgY3VzdG9tX3J1bGVzPzogT3JnYW5pemF0aW9uUnVsZVtdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE9yZ2FuaXphdGlvblJ1bGUge1xuICBwYXR0ZXJuOiBzdHJpbmc7XG4gIHRhcmdldF9mb2xkZXI6IHN0cmluZztcbiAgcnVsZV90eXBlOiAnZmlsZW5hbWUnIHwgJ2NvbnRlbnQnIHwgJ3RhZyc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmF1bHRPcmdhbml6YXRpb25SZXNwb25zZSB7XG4gIHN1Z2dlc3RlZF9tb3ZlczogRmlsZU1vdmVPcGVyYXRpb25bXTtcbiAgc3VnZ2VzdGVkX2ZvbGRlcnM6IHN0cmluZ1tdO1xuICBvcmdhbml6YXRpb25faW5zaWdodHM6IHN0cmluZztcbiAgZXN0aW1hdGVkX2ltcHJvdmVtZW50czogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZpbGVNb3ZlT3BlcmF0aW9uIHtcbiAgZnJvbV9wYXRoOiBzdHJpbmc7XG4gIHRvX3BhdGg6IHN0cmluZztcbiAgcmVhc29uOiBzdHJpbmc7XG4gIGNvbmZpZGVuY2U6IG51bWJlcjtcbn1cblxuLy8gPT09IEJBQ0tVUCBUWVBFUyA9PT1cblxuZXhwb3J0IGludGVyZmFjZSBWYXVsdEJhY2t1cFJlcXVlc3Qge1xuICBpbmNsdWRlX3NldHRpbmdzPzogYm9vbGVhbjtcbiAgY29tcHJlc3Npb24/OiBib29sZWFuO1xuICBiYWNrdXBfbmFtZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBWYXVsdEJhY2t1cFJlc3BvbnNlIHtcbiAgYmFja3VwX3BhdGg6IHN0cmluZztcbiAgYmFja3VwX3NpemU6IG51bWJlcjtcbiAgZmlsZXNfYmFja2VkX3VwOiBudW1iZXI7XG4gIHRpbWVzdGFtcDogc3RyaW5nO1xufVxuXG4vLyA9PT0gRVJST1IgSEFORExJTkcgPT09XG5cbmV4cG9ydCBjbGFzcyBWYXVsdE1hbmFnZW1lbnRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgcHVibGljIGNvZGU6IHN0cmluZztcbiAgcHVibGljIGZlYXR1cmU6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcsIGNvZGU6IHN0cmluZywgZmVhdHVyZTogc3RyaW5nKSB7XG4gICAgc3VwZXIobWVzc2FnZSk7XG4gICAgdGhpcy5uYW1lID0gJ1ZhdWx0TWFuYWdlbWVudEVycm9yJztcbiAgICB0aGlzLmNvZGUgPSBjb2RlO1xuICAgIHRoaXMuZmVhdHVyZSA9IGZlYXR1cmU7XG4gIH1cbn1cblxuLy8gPT09IFNFVFRJTkdTIFRZUEVTID09PVxuXG5leHBvcnQgaW50ZXJmYWNlIFZhdWx0TWFuYWdlbWVudFNldHRpbmdzIHtcbiAgZW5hYmxlVmF1bHRNYW5hZ2VtZW50OiBib29sZWFuO1xuICBhdXRvU3luY1ZhdWx0U3RydWN0dXJlOiBib29sZWFuO1xuICBzZWFyY2hSZXN1bHRzTGltaXQ6IG51bWJlcjtcbiAgZW5hYmxlU21hcnRTZWFyY2g6IGJvb2xlYW47XG4gIGJhdGNoT3BlcmF0aW9uVGltZW91dDogbnVtYmVyO1xuICBzaG93VmF1bHRTdGF0czogYm9vbGVhbjtcbiAgbWF4U2VhcmNoUmVzdWx0czogbnVtYmVyO1xuICBkZWZhdWx0U2VhcmNoVHlwZTogU2VhcmNoVHlwZTtcbiAgZW5hYmxlRmlsZU9wZXJhdGlvbnM6IGJvb2xlYW47XG4gIGNvbmZpcm1EZXN0cnVjdGl2ZU9wZXJhdGlvbnM6IGJvb2xlYW47XG4gIGF1dG9CYWNrdXBCZWZvcmVPcGVyYXRpb25zOiBib29sZWFuO1xufVxuXG4vLyA9PT0gQVBJIElOVEVSRkFDRSA9PT1cblxuZXhwb3J0IGludGVyZmFjZSBWYXVsdE1hbmFnZW1lbnRBUEkge1xuICBnZXRWYXVsdFN0cnVjdHVyZShyZXF1ZXN0OiBWYXVsdFN0cnVjdHVyZVJlcXVlc3QpOiBQcm9taXNlPFZhdWx0U3RydWN0dXJlUmVzcG9uc2U+O1xuICBwZXJmb3JtRmlsZU9wZXJhdGlvbihyZXF1ZXN0OiBGaWxlT3BlcmF0aW9uUmVxdWVzdCk6IFByb21pc2U8RmlsZU9wZXJhdGlvblJlc3BvbnNlPjtcbiAgcGVyZm9ybUJhdGNoT3BlcmF0aW9ucyhyZXF1ZXN0OiBCYXRjaEZpbGVPcGVyYXRpb25SZXF1ZXN0KTogUHJvbWlzZTxCYXRjaEZpbGVPcGVyYXRpb25SZXNwb25zZT47XG4gIHNlYXJjaFZhdWx0KHJlcXVlc3Q6IFZhdWx0U2VhcmNoUmVxdWVzdCk6IFByb21pc2U8VmF1bHRTZWFyY2hSZXNwb25zZT47XG4gIG9yZ2FuaXplVmF1bHQocmVxdWVzdDogVmF1bHRPcmdhbml6YXRpb25SZXF1ZXN0KTogUHJvbWlzZTxWYXVsdE9yZ2FuaXphdGlvblJlc3BvbnNlPjtcbiAgYmFja3VwVmF1bHQocmVxdWVzdDogVmF1bHRCYWNrdXBSZXF1ZXN0KTogUHJvbWlzZTxWYXVsdEJhY2t1cFJlc3BvbnNlPjtcbn1cblxuLy8gPT09IFVUSUxJVFkgVFlQRVMgPT09XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmF1bHRNb2RhbFByb3BzIHtcbiAgYXBwOiBBcHA7XG4gIHBsdWdpbjogYW55O1xuICBvbkNsb3NlPzogKCkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGaWxlVHJlZU5vZGUge1xuICBuYW1lOiBzdHJpbmc7XG4gIHBhdGg6IHN0cmluZztcbiAgdHlwZTogJ2ZpbGUnIHwgJ2ZvbGRlcic7XG4gIGNoaWxkcmVuPzogRmlsZVRyZWVOb2RlW107XG4gIHNpemU/OiBudW1iZXI7XG4gIG1vZGlmaWVkPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZhdWx0U3RhdHMge1xuICB0b3RhbEZpbGVzOiBudW1iZXI7XG4gIHRvdGFsRm9sZGVyczogbnVtYmVyO1xuICB0b3RhbFNpemU6IG51bWJlcjtcbiAgYXZlcmFnZUZpbGVTaXplOiBudW1iZXI7XG4gIGxhcmdlc3RGaWxlOiBWYXVsdEZpbGVJbmZvO1xuICBtb3N0UmVjZW50RmlsZTogVmF1bHRGaWxlSW5mbztcbiAgZmlsZVR5cGVEaXN0cmlidXRpb246IFJlY29yZDxzdHJpbmcsIG51bWJlcj47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2VhcmNoRmlsdGVyIHtcbiAgZmlsZVR5cGVzPzogc3RyaW5nW107XG4gIGZvbGRlcnM/OiBzdHJpbmdbXTtcbiAgZGF0ZVJhbmdlPzoge1xuICAgIHN0YXJ0OiBzdHJpbmc7XG4gICAgZW5kOiBzdHJpbmc7XG4gIH07XG4gIHNpemVSYW5nZT86IHtcbiAgICBtaW46IG51bWJlcjtcbiAgICBtYXg6IG51bWJlcjtcbiAgfTtcbiAgdGFncz86IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZhdWx0SGVhbHRoQ2hlY2sge1xuICBzdGF0dXM6ICdoZWFsdGh5JyB8ICd3YXJuaW5nJyB8ICdlcnJvcic7XG4gIGlzc3VlczogSGVhbHRoSXNzdWVbXTtcbiAgcmVjb21tZW5kYXRpb25zOiBzdHJpbmdbXTtcbiAgbGFzdENoZWNrOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSGVhbHRoSXNzdWUge1xuICB0eXBlOiAnb3JwaGFuZWRfZmlsZScgfCAnYnJva2VuX2xpbmsnIHwgJ2R1cGxpY2F0ZV9uYW1lJyB8ICdsYXJnZV9maWxlJyB8ICdlbXB0eV9mb2xkZXInO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICBmaWxlczogc3RyaW5nW107XG4gIHNldmVyaXR5OiAnbG93JyB8ICdtZWRpdW0nIHwgJ2hpZ2gnO1xufVxuIiwiLyoqXG4gKiBBUEkgQ2xpZW50IEV4dGVuc2lvbnMgZm9yIFZhdWx0UGlsb3QgVmF1bHQgTWFuYWdlbWVudFxuICovXG5cbmltcG9ydCB7IE5vdGljZSB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7XG4gIFZhdWx0U3RydWN0dXJlUmVxdWVzdCxcbiAgVmF1bHRTdHJ1Y3R1cmVSZXNwb25zZSxcbiAgRmlsZU9wZXJhdGlvblJlcXVlc3QsXG4gIEZpbGVPcGVyYXRpb25SZXNwb25zZSxcbiAgQmF0Y2hGaWxlT3BlcmF0aW9uUmVxdWVzdCxcbiAgQmF0Y2hGaWxlT3BlcmF0aW9uUmVzcG9uc2UsXG4gIFZhdWx0U2VhcmNoUmVxdWVzdCxcbiAgVmF1bHRTZWFyY2hSZXNwb25zZSxcbiAgVmF1bHRPcmdhbml6YXRpb25SZXF1ZXN0LFxuICBWYXVsdE9yZ2FuaXphdGlvblJlc3BvbnNlLFxuICBWYXVsdEJhY2t1cFJlcXVlc3QsXG4gIFZhdWx0QmFja3VwUmVzcG9uc2UsXG4gIFZhdWx0TWFuYWdlbWVudEVycm9yLFxuICBWYXVsdE1hbmFnZW1lbnRBUElcbn0gZnJvbSAnLi92YXVsdC10eXBlcyc7XG5cbi8qKlxuICogVmF1bHQgTWFuYWdlbWVudCBBUEkgQ2xpZW50XG4gKi9cbmV4cG9ydCBjbGFzcyBWYXVsdE1hbmFnZW1lbnRDbGllbnQgaW1wbGVtZW50cyBWYXVsdE1hbmFnZW1lbnRBUEkge1xuICBwcml2YXRlIGJhc2VVcmw6IHN0cmluZztcbiAgcHJpdmF0ZSBhcGlLZXk/OiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IoYmFzZVVybDogc3RyaW5nLCBhcGlLZXk/OiBzdHJpbmcpIHtcbiAgICB0aGlzLmJhc2VVcmwgPSBiYXNlVXJsO1xuICAgIHRoaXMuYXBpS2V5ID0gYXBpS2V5O1xuICB9XG5cbiAgLy8gPT09IENPUkUgQVBJIE1FVEhPRFMgPT09XG5cbiAgLyoqXG4gICAqIEdldCBjb21wcmVoZW5zaXZlIHZhdWx0IHN0cnVjdHVyZSB3aXRoIEFJIGFuYWx5c2lzXG4gICAqL1xuICBhc3luYyBnZXRWYXVsdFN0cnVjdHVyZShyZXF1ZXN0OiBWYXVsdFN0cnVjdHVyZVJlcXVlc3QpOiBQcm9taXNlPFZhdWx0U3RydWN0dXJlUmVzcG9uc2U+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLm1ha2VSZXF1ZXN0KCcvYXBpL29ic2lkaWFuL3ZhdWx0L3N0cnVjdHVyZScsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHJlcXVlc3QpXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgVmF1bHRNYW5hZ2VtZW50RXJyb3IoXG4gICAgICAgICAgYEZhaWxlZCB0byBnZXQgdmF1bHQgc3RydWN0dXJlOiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCxcbiAgICAgICAgICAnU1RSVUNUVVJFX0ZFVENIX0ZBSUxFRCcsXG4gICAgICAgICAgJ3N0cnVjdHVyZSdcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5oYW5kbGVWYXVsdE1hbmFnZW1lbnRFcnJvcihlcnJvciwgJ3N0cnVjdHVyZScpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFBlcmZvcm0gaW5kaXZpZHVhbCBmaWxlIG9wZXJhdGlvbiAoY3JlYXRlLCB1cGRhdGUsIGRlbGV0ZSwgbW92ZSwgY29weSlcbiAgICovXG4gIGFzeW5jIHBlcmZvcm1GaWxlT3BlcmF0aW9uKHJlcXVlc3Q6IEZpbGVPcGVyYXRpb25SZXF1ZXN0KTogUHJvbWlzZTxGaWxlT3BlcmF0aW9uUmVzcG9uc2U+IHtcbiAgICB0cnkge1xuICAgICAgdGhpcy52YWxpZGF0ZUZpbGVPcGVyYXRpb25SZXF1ZXN0KHJlcXVlc3QpO1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMubWFrZVJlcXVlc3QoJy9hcGkvb2JzaWRpYW4vdmF1bHQvZmlsZS9vcGVyYXRpb24nLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShyZXF1ZXN0KVxuICAgICAgfSk7XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IFZhdWx0TWFuYWdlbWVudEVycm9yKFxuICAgICAgICAgIGBGaWxlIG9wZXJhdGlvbiBmYWlsZWQ6ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gLFxuICAgICAgICAgICdGSUxFX09QRVJBVElPTl9GQUlMRUQnLFxuICAgICAgICAgICdmaWxlLW9wZXJhdGlvbnMnXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIFxuICAgICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICB0aHJvdyBuZXcgVmF1bHRNYW5hZ2VtZW50RXJyb3IoXG4gICAgICAgICAgcmVzdWx0Lm1lc3NhZ2UgfHwgJ0ZpbGUgb3BlcmF0aW9uIGZhaWxlZCcsXG4gICAgICAgICAgJ0ZJTEVfT1BFUkFUSU9OX0ZBSUxFRCcsXG4gICAgICAgICAgJ2ZpbGUtb3BlcmF0aW9ucydcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5oYW5kbGVWYXVsdE1hbmFnZW1lbnRFcnJvcihlcnJvciwgJ2ZpbGUtb3BlcmF0aW9ucycpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFBlcmZvcm0gbXVsdGlwbGUgZmlsZSBvcGVyYXRpb25zIGVmZmljaWVudGx5XG4gICAqL1xuICBhc3luYyBwZXJmb3JtQmF0Y2hPcGVyYXRpb25zKHJlcXVlc3Q6IEJhdGNoRmlsZU9wZXJhdGlvblJlcXVlc3QpOiBQcm9taXNlPEJhdGNoRmlsZU9wZXJhdGlvblJlc3BvbnNlPiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghcmVxdWVzdC5vcGVyYXRpb25zIHx8IHJlcXVlc3Qub3BlcmF0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IFZhdWx0TWFuYWdlbWVudEVycm9yKFxuICAgICAgICAgICdObyBvcGVyYXRpb25zIHNwZWNpZmllZCBmb3IgYmF0Y2ggcmVxdWVzdCcsXG4gICAgICAgICAgJ0lOVkFMSURfQkFUQ0hfUkVRVUVTVCcsXG4gICAgICAgICAgJ2JhdGNoLW9wZXJhdGlvbnMnXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIC8vIFZhbGlkYXRlIGVhY2ggb3BlcmF0aW9uXG4gICAgICByZXF1ZXN0Lm9wZXJhdGlvbnMuZm9yRWFjaCgob3AsIGluZGV4KSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdGhpcy52YWxpZGF0ZUZpbGVPcGVyYXRpb25SZXF1ZXN0KG9wKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVmF1bHRNYW5hZ2VtZW50RXJyb3IoXG4gICAgICAgICAgICBgSW52YWxpZCBvcGVyYXRpb24gYXQgaW5kZXggJHtpbmRleH06ICR7ZXJyLm1lc3NhZ2UgfHwgZXJyfWAsXG4gICAgICAgICAgICAnSU5WQUxJRF9CQVRDSF9PUEVSQVRJT04nLFxuICAgICAgICAgICAgJ2JhdGNoLW9wZXJhdGlvbnMnXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5tYWtlUmVxdWVzdCgnL2FwaS9vYnNpZGlhbi92YXVsdC9maWxlL2JhdGNoJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocmVxdWVzdClcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBWYXVsdE1hbmFnZW1lbnRFcnJvcihcbiAgICAgICAgICBgQmF0Y2ggb3BlcmF0aW9ucyBmYWlsZWQ6ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gLFxuICAgICAgICAgICdCQVRDSF9PUEVSQVRJT05fRkFJTEVEJyxcbiAgICAgICAgICAnYmF0Y2gtb3BlcmF0aW9ucydcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgXG4gICAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIHRocm93IG5ldyBWYXVsdE1hbmFnZW1lbnRFcnJvcihcbiAgICAgICAgICByZXN1bHQubWVzc2FnZSB8fCAnQmF0Y2ggb3BlcmF0aW9ucyBmYWlsZWQnLFxuICAgICAgICAgICdCQVRDSF9PUEVSQVRJT05fRkFJTEVEJyxcbiAgICAgICAgICAnYmF0Y2gtb3BlcmF0aW9ucydcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5oYW5kbGVWYXVsdE1hbmFnZW1lbnRFcnJvcihlcnJvciwgJ2JhdGNoLW9wZXJhdGlvbnMnKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZWFyY2ggdmF1bHQgd2l0aCBBSS1wb3dlcmVkIGluc2lnaHRzXG4gICAqL1xuICBhc3luYyBzZWFyY2hWYXVsdChyZXF1ZXN0OiBWYXVsdFNlYXJjaFJlcXVlc3QpOiBQcm9taXNlPFZhdWx0U2VhcmNoUmVzcG9uc2U+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKCFyZXF1ZXN0LnF1ZXJ5IHx8IHJlcXVlc3QucXVlcnkudHJpbSgpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgVmF1bHRNYW5hZ2VtZW50RXJyb3IoXG4gICAgICAgICAgJ1NlYXJjaCBxdWVyeSBjYW5ub3QgYmUgZW1wdHknLFxuICAgICAgICAgICdJTlZBTElEX1NFQVJDSF9RVUVSWScsXG4gICAgICAgICAgJ3NlYXJjaCdcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLm1ha2VSZXF1ZXN0KCcvYXBpL29ic2lkaWFuL3ZhdWx0L3NlYXJjaCcsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHJlcXVlc3QpXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgVmF1bHRNYW5hZ2VtZW50RXJyb3IoXG4gICAgICAgICAgYFNlYXJjaCBmYWlsZWQ6ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gLFxuICAgICAgICAgICdTRUFSQ0hfRkFJTEVEJyxcbiAgICAgICAgICAnc2VhcmNoJ1xuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLmhhbmRsZVZhdWx0TWFuYWdlbWVudEVycm9yKGVycm9yLCAnc2VhcmNoJyk7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IEFJLXBvd2VyZWQgdmF1bHQgb3JnYW5pemF0aW9uIHN1Z2dlc3Rpb25zXG4gICAqL1xuICBhc3luYyBvcmdhbml6ZVZhdWx0KHJlcXVlc3Q6IFZhdWx0T3JnYW5pemF0aW9uUmVxdWVzdCk6IFByb21pc2U8VmF1bHRPcmdhbml6YXRpb25SZXNwb25zZT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMubWFrZVJlcXVlc3QoJy9hcGkvb2JzaWRpYW4vdmF1bHQvb3JnYW5pemUnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShyZXF1ZXN0KVxuICAgICAgfSk7XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IFZhdWx0TWFuYWdlbWVudEVycm9yKFxuICAgICAgICAgIGBPcmdhbml6YXRpb24gYW5hbHlzaXMgZmFpbGVkOiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCxcbiAgICAgICAgICAnT1JHQU5JWkFUSU9OX0ZBSUxFRCcsXG4gICAgICAgICAgJ29yZ2FuaXphdGlvbidcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5oYW5kbGVWYXVsdE1hbmFnZW1lbnRFcnJvcihlcnJvciwgJ29yZ2FuaXphdGlvbicpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSB2YXVsdCBiYWNrdXBcbiAgICovXG4gIGFzeW5jIGJhY2t1cFZhdWx0KHJlcXVlc3Q6IFZhdWx0QmFja3VwUmVxdWVzdCk6IFByb21pc2U8VmF1bHRCYWNrdXBSZXNwb25zZT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMubWFrZVJlcXVlc3QoJy9hcGkvb2JzaWRpYW4vdmF1bHQvYmFja3VwJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocmVxdWVzdClcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBWYXVsdE1hbmFnZW1lbnRFcnJvcihcbiAgICAgICAgICBgQmFja3VwIGZhaWxlZDogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWAsXG4gICAgICAgICAgJ0JBQ0tVUF9GQUlMRUQnLFxuICAgICAgICAgICdiYWNrdXAnXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRoaXMuaGFuZGxlVmF1bHRNYW5hZ2VtZW50RXJyb3IoZXJyb3IsICdiYWNrdXAnKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8vID09PSBDT05WRU5JRU5DRSBNRVRIT0RTID09PVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgZmlsZSB3aXRoIGNvbnRlbnRcbiAgICovXG4gIGFzeW5jIGNyZWF0ZUZpbGUoZmlsZVBhdGg6IHN0cmluZywgY29udGVudDogc3RyaW5nLCBiYWNrdXA6IGJvb2xlYW4gPSBmYWxzZSk6IFByb21pc2U8RmlsZU9wZXJhdGlvblJlc3BvbnNlPiB7XG4gICAgcmV0dXJuIHRoaXMucGVyZm9ybUZpbGVPcGVyYXRpb24oe1xuICAgICAgb3BlcmF0aW9uOiAnY3JlYXRlJyxcbiAgICAgIGZpbGVfcGF0aDogZmlsZVBhdGgsXG4gICAgICBjb250ZW50LFxuICAgICAgYmFja3VwXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIGV4aXN0aW5nIGZpbGUgY29udGVudFxuICAgKi9cbiAgYXN5bmMgdXBkYXRlRmlsZShmaWxlUGF0aDogc3RyaW5nLCBjb250ZW50OiBzdHJpbmcsIGJhY2t1cDogYm9vbGVhbiA9IHRydWUpOiBQcm9taXNlPEZpbGVPcGVyYXRpb25SZXNwb25zZT4ge1xuICAgIHJldHVybiB0aGlzLnBlcmZvcm1GaWxlT3BlcmF0aW9uKHtcbiAgICAgIG9wZXJhdGlvbjogJ3VwZGF0ZScsXG4gICAgICBmaWxlX3BhdGg6IGZpbGVQYXRoLFxuICAgICAgY29udGVudCxcbiAgICAgIGJhY2t1cFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIERlbGV0ZSBhIGZpbGVcbiAgICovXG4gIGFzeW5jIGRlbGV0ZUZpbGUoZmlsZVBhdGg6IHN0cmluZywgYmFja3VwOiBib29sZWFuID0gdHJ1ZSk6IFByb21pc2U8RmlsZU9wZXJhdGlvblJlc3BvbnNlPiB7XG4gICAgcmV0dXJuIHRoaXMucGVyZm9ybUZpbGVPcGVyYXRpb24oe1xuICAgICAgb3BlcmF0aW9uOiAnZGVsZXRlJyxcbiAgICAgIGZpbGVfcGF0aDogZmlsZVBhdGgsXG4gICAgICBiYWNrdXBcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNb3ZlIGEgZmlsZSB0byBuZXcgbG9jYXRpb25cbiAgICovXG4gIGFzeW5jIG1vdmVGaWxlKGZyb21QYXRoOiBzdHJpbmcsIHRvUGF0aDogc3RyaW5nLCBiYWNrdXA6IGJvb2xlYW4gPSB0cnVlKTogUHJvbWlzZTxGaWxlT3BlcmF0aW9uUmVzcG9uc2U+IHtcbiAgICByZXR1cm4gdGhpcy5wZXJmb3JtRmlsZU9wZXJhdGlvbih7XG4gICAgICBvcGVyYXRpb246ICdtb3ZlJyxcbiAgICAgIGZpbGVfcGF0aDogZnJvbVBhdGgsXG4gICAgICBuZXdfcGF0aDogdG9QYXRoLFxuICAgICAgYmFja3VwXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ29weSBhIGZpbGUgdG8gbmV3IGxvY2F0aW9uXG4gICAqL1xuICBhc3luYyBjb3B5RmlsZShmcm9tUGF0aDogc3RyaW5nLCB0b1BhdGg6IHN0cmluZyk6IFByb21pc2U8RmlsZU9wZXJhdGlvblJlc3BvbnNlPiB7XG4gICAgcmV0dXJuIHRoaXMucGVyZm9ybUZpbGVPcGVyYXRpb24oe1xuICAgICAgb3BlcmF0aW9uOiAnY29weScsXG4gICAgICBmaWxlX3BhdGg6IGZyb21QYXRoLFxuICAgICAgbmV3X3BhdGg6IHRvUGF0aFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFF1aWNrIHNlYXJjaCB3aXRoIGRlZmF1bHQgc2V0dGluZ3NcbiAgICovXG4gIGFzeW5jIHF1aWNrU2VhcmNoKHF1ZXJ5OiBzdHJpbmcsIG1heFJlc3VsdHM6IG51bWJlciA9IDIwKTogUHJvbWlzZTxWYXVsdFNlYXJjaFJlc3BvbnNlPiB7XG4gICAgcmV0dXJuIHRoaXMuc2VhcmNoVmF1bHQoe1xuICAgICAgcXVlcnksXG4gICAgICBzZWFyY2hfdHlwZTogJ2NvbXByZWhlbnNpdmUnLFxuICAgICAgbWF4X3Jlc3VsdHM6IG1heFJlc3VsdHMsXG4gICAgICBpbmNsdWRlX2NvbnRlbnQ6IHRydWVcbiAgICB9KTtcbiAgfVxuXG4gIC8vID09PSBIRUxQRVIgTUVUSE9EUyA9PT1cblxuICAvKipcbiAgICogTWFrZSBhdXRoZW50aWNhdGVkIHJlcXVlc3QgdG8gdGhlIEFQSVxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBtYWtlUmVxdWVzdChlbmRwb2ludDogc3RyaW5nLCBvcHRpb25zOiBSZXF1ZXN0SW5pdCA9IHt9KTogUHJvbWlzZTxSZXNwb25zZT4ge1xuICAgIGNvbnN0IHVybCA9IGAke3RoaXMuYmFzZVVybC5yZXBsYWNlKC9cXC8kLywgJycpfSR7ZW5kcG9pbnR9YDtcbiAgICBcbiAgICBjb25zdCBoZWFkZXJzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgIC4uLigob3B0aW9ucy5oZWFkZXJzIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz4pIHx8IHt9KVxuICAgIH07XG5cbiAgICBpZiAodGhpcy5hcGlLZXkpIHtcbiAgICAgIGhlYWRlcnNbJ0F1dGhvcml6YXRpb24nXSA9IGBCZWFyZXIgJHt0aGlzLmFwaUtleX1gO1xuICAgIH1cblxuICAgIGNvbnN0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0SW5pdCA9IHtcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBoZWFkZXJzXG4gICAgfTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICB0aHJvdyBuZXcgVmF1bHRNYW5hZ2VtZW50RXJyb3IoXG4gICAgICAgIGBOZXR3b3JrIHJlcXVlc3QgZmFpbGVkOiAke2Vyci5tZXNzYWdlIHx8IGVycn1gLFxuICAgICAgICAnTkVUV09SS19FUlJPUicsXG4gICAgICAgICdhcGknXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBWYWxpZGF0ZSBmaWxlIG9wZXJhdGlvbiByZXF1ZXN0XG4gICAqL1xuICBwcml2YXRlIHZhbGlkYXRlRmlsZU9wZXJhdGlvblJlcXVlc3QocmVxdWVzdDogRmlsZU9wZXJhdGlvblJlcXVlc3QpOiB2b2lkIHtcbiAgICBpZiAoIXJlcXVlc3QuZmlsZV9wYXRoIHx8IHJlcXVlc3QuZmlsZV9wYXRoLnRyaW0oKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBWYXVsdE1hbmFnZW1lbnRFcnJvcihcbiAgICAgICAgJ0ZpbGUgcGF0aCBpcyByZXF1aXJlZCcsXG4gICAgICAgICdJTlZBTElEX0ZJTEVfUEFUSCcsXG4gICAgICAgICd2YWxpZGF0aW9uJ1xuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAocmVxdWVzdC5vcGVyYXRpb24gPT09ICdtb3ZlJyB8fCByZXF1ZXN0Lm9wZXJhdGlvbiA9PT0gJ2NvcHknKSB7XG4gICAgICBpZiAoIXJlcXVlc3QubmV3X3BhdGggfHwgcmVxdWVzdC5uZXdfcGF0aC50cmltKCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBWYXVsdE1hbmFnZW1lbnRFcnJvcihcbiAgICAgICAgICAnTmV3IHBhdGggaXMgcmVxdWlyZWQgZm9yIG1vdmUvY29weSBvcGVyYXRpb25zJyxcbiAgICAgICAgICAnSU5WQUxJRF9ORVdfUEFUSCcsXG4gICAgICAgICAgJ3ZhbGlkYXRpb24nXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHJlcXVlc3Qub3BlcmF0aW9uID09PSAnY3JlYXRlJyB8fCByZXF1ZXN0Lm9wZXJhdGlvbiA9PT0gJ3VwZGF0ZScpIHtcbiAgICAgIGlmIChyZXF1ZXN0LmNvbnRlbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBuZXcgVmF1bHRNYW5hZ2VtZW50RXJyb3IoXG4gICAgICAgICAgJ0NvbnRlbnQgaXMgcmVxdWlyZWQgZm9yIGNyZWF0ZS91cGRhdGUgb3BlcmF0aW9ucycsXG4gICAgICAgICAgJ0lOVkFMSURfQ09OVEVOVCcsXG4gICAgICAgICAgJ3ZhbGlkYXRpb24nXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSB2YXVsdCBtYW5hZ2VtZW50IGVycm9ycyB3aXRoIHVzZXIgZmVlZGJhY2tcbiAgICovXG4gIHByaXZhdGUgaGFuZGxlVmF1bHRNYW5hZ2VtZW50RXJyb3IoZXJyb3I6IGFueSwgZmVhdHVyZTogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc29sZS5lcnJvcihgVmF1bHQgbWFuYWdlbWVudCBlcnJvciBpbiAke2ZlYXR1cmV9OmAsIGVycm9yKTtcbiAgICBcbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBWYXVsdE1hbmFnZW1lbnRFcnJvcikge1xuICAgICAgbmV3IE5vdGljZShgVmF1bHQgJHtmZWF0dXJlfSBlcnJvcjogJHtlcnJvci5tZXNzYWdlfWAsIDUwMDApO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXcgTm90aWNlKGBWYXVsdCAke2ZlYXR1cmV9IG9wZXJhdGlvbiBmYWlsZWRgLCAzMDAwKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVGVzdCBjb25uZWN0aW9uIHRvIHZhdWx0IG1hbmFnZW1lbnQgZW5kcG9pbnRzXG4gICAqL1xuICBhc3luYyB0ZXN0Q29ubmVjdGlvbigpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgbWVzc2FnZTogc3RyaW5nIH0+IHtcbiAgICB0cnkge1xuICAgICAgLy8gVHJ5IGEgc2ltcGxlIHZhdWx0IHN0cnVjdHVyZSByZXF1ZXN0IHdpdGggbWluaW1hbCBwYXJhbWV0ZXJzXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMubWFrZVJlcXVlc3QoJy9hcGkvb2JzaWRpYW4vdmF1bHQvc3RydWN0dXJlJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBpbmNsdWRlX2NvbnRlbnQ6IGZhbHNlLCBtYXhfZGVwdGg6IDEgfSlcbiAgICAgIH0pO1xuXG4gICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogJ1ZhdWx0IG1hbmFnZW1lbnQgY29ubmVjdGlvbiBzdWNjZXNzZnVsJyB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHsgXG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsIFxuICAgICAgICAgIG1lc3NhZ2U6IGBDb25uZWN0aW9uIGZhaWxlZDogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gIFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICByZXR1cm4geyBcbiAgICAgICAgc3VjY2VzczogZmFsc2UsIFxuICAgICAgICBtZXNzYWdlOiBgQ29ubmVjdGlvbiBlcnJvcjogJHtlcnIubWVzc2FnZSB8fCBlcnJ9YCBcbiAgICAgIH07XG4gICAgfVxuICB9XG59XG5cbi8vID09PSBVVElMSVRZIEZVTkNUSU9OUyA9PT1cblxuLyoqXG4gKiBGb3JtYXQgZmlsZSBzaXplIGluIGh1bWFuIHJlYWRhYmxlIGZvcm1hdFxuICovXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0RmlsZVNpemUoYnl0ZXM6IG51bWJlcik6IHN0cmluZyB7XG4gIGlmIChieXRlcyA9PT0gMCkgcmV0dXJuICcwIEInO1xuICBcbiAgY29uc3QgayA9IDEwMjQ7XG4gIGNvbnN0IHNpemVzID0gWydCJywgJ0tCJywgJ01CJywgJ0dCJ107XG4gIGNvbnN0IGkgPSBNYXRoLmZsb29yKE1hdGgubG9nKGJ5dGVzKSAvIE1hdGgubG9nKGspKTtcbiAgXG4gIHJldHVybiBwYXJzZUZsb2F0KChieXRlcyAvIE1hdGgucG93KGssIGkpKS50b0ZpeGVkKDIpKSArICcgJyArIHNpemVzW2ldO1xufVxuXG4vKipcbiAqIFZhbGlkYXRlIGZpbGUgcGF0aCBmb3JtYXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRGaWxlUGF0aChwYXRoOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgaWYgKCFwYXRoIHx8IHBhdGgudHJpbSgpLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGZhbHNlO1xuICBcbiAgLy8gQ2hlY2sgZm9yIGludmFsaWQgY2hhcmFjdGVyc1xuICBjb25zdCBpbnZhbGlkQ2hhcnMgPSAvWzw+OlwifD8qXS87XG4gIGlmIChpbnZhbGlkQ2hhcnMudGVzdChwYXRoKSkgcmV0dXJuIGZhbHNlO1xuICBcbiAgLy8gQ2hlY2sgZm9yIHJlc2VydmVkIG5hbWVzIG9uIFdpbmRvd3NcbiAgY29uc3QgcmVzZXJ2ZWROYW1lcyA9IC9eKENPTnxQUk58QVVYfE5VTHxDT01bMS05XXxMUFRbMS05XSkkL2k7XG4gIGNvbnN0IGZpbGVOYW1lID0gcGF0aC5zcGxpdCgnLycpLnBvcCgpIHx8ICcnO1xuICBpZiAocmVzZXJ2ZWROYW1lcy50ZXN0KGZpbGVOYW1lLnNwbGl0KCcuJylbMF0pKSByZXR1cm4gZmFsc2U7XG4gIFxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBTYW5pdGl6ZSBmaWxlIHBhdGhcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNhbml0aXplRmlsZVBhdGgocGF0aDogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIHBhdGhcbiAgICAucmVwbGFjZSgvWzw+OlwifD8qXS9nLCAnXycpXG4gICAgLnJlcGxhY2UoL1xcXFwvZywgJy8nKVxuICAgIC5yZXBsYWNlKC9cXC8rL2csICcvJylcbiAgICAucmVwbGFjZSgvXlxcLyt8XFwvKyQvZywgJycpO1xufVxuIiwiZXhwb3J0IGludGVyZmFjZSBFbnZpcm9ubWVudEluZm8ge1xuICBwbGF0Zm9ybTogJ25vZGUnIHwgJ2Jyb3dzZXInIHwgJ29ic2lkaWFuJyB8ICd1bmtub3duJztcbiAgaGFzRmlsZVN5c3RlbTogYm9vbGVhbjtcbiAgaGFzV2ViU29ja2V0OiBib29sZWFuO1xuICBoYXNIVFRQOiBib29sZWFuO1xuICBjYXBhYmlsaXRpZXM6IHN0cmluZ1tdO1xufVxuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBXaW5kb3cge1xuICAgIGFwcD86IGFueTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRW52aXJvbm1lbnREZXRlY3RvciB7XG4gIHN0YXRpYyBkZXRlY3QoKTogRW52aXJvbm1lbnRJbmZvIHtcbiAgICBjb25zdCBpbmZvOiBFbnZpcm9ubWVudEluZm8gPSB7XG4gICAgICBwbGF0Zm9ybTogJ3Vua25vd24nLFxuICAgICAgaGFzRmlsZVN5c3RlbTogZmFsc2UsXG4gICAgICBoYXNXZWJTb2NrZXQ6IGZhbHNlLFxuICAgICAgaGFzSFRUUDogZmFsc2UsXG4gICAgICBjYXBhYmlsaXRpZXM6IFtdXG4gICAgfTtcblxuICAgIC8vIERldGVjdCBwbGF0Zm9ybVxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuYXBwICYmIHdpbmRvdy5hcHAud29ya3NwYWNlKSB7XG4gICAgICBpbmZvLnBsYXRmb3JtID0gJ29ic2lkaWFuJztcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpbmZvLnBsYXRmb3JtID0gJ2Jyb3dzZXInO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIChnbG9iYWxUaGlzIGFzIGFueSkucHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgKGdsb2JhbFRoaXMgYXMgYW55KS5wcm9jZXNzLnZlcnNpb25zICYmIChnbG9iYWxUaGlzIGFzIGFueSkucHJvY2Vzcy52ZXJzaW9ucy5ub2RlKSB7XG4gICAgICBpbmZvLnBsYXRmb3JtID0gJ25vZGUnO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGNhcGFiaWxpdGllc1xuICAgIGluZm8uaGFzSFRUUCA9IHR5cGVvZiBmZXRjaCAhPT0gJ3VuZGVmaW5lZCc7XG4gICAgaW5mby5oYXNXZWJTb2NrZXQgPSB0eXBlb2YgV2ViU29ja2V0ICE9PSAndW5kZWZpbmVkJztcbiAgICBpbmZvLmhhc0ZpbGVTeXN0ZW0gPSB0eXBlb2YgKGdsb2JhbFRoaXMgYXMgYW55KS5yZXF1aXJlICE9PSAndW5kZWZpbmVkJyAmJiBpbmZvLnBsYXRmb3JtID09PSAnbm9kZSc7XG5cbiAgICAvLyBBZGQgY2FwYWJpbGl0aWVzIGxpc3RcbiAgICBpZiAoaW5mby5oYXNIVFRQKSBpbmZvLmNhcGFiaWxpdGllcy5wdXNoKCdodHRwJyk7XG4gICAgaWYgKGluZm8uaGFzV2ViU29ja2V0KSBpbmZvLmNhcGFiaWxpdGllcy5wdXNoKCd3ZWJzb2NrZXQnKTtcbiAgICBpZiAoaW5mby5oYXNGaWxlU3lzdGVtKSBpbmZvLmNhcGFiaWxpdGllcy5wdXNoKCdmaWxlc3lzdGVtJyk7XG5cbiAgICByZXR1cm4gaW5mbztcbiAgfVxuXG4gIHN0YXRpYyBpc09ic2lkaWFuKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmRldGVjdCgpLnBsYXRmb3JtID09PSAnb2JzaWRpYW4nO1xuICB9XG5cbiAgc3RhdGljIGNhblVzZUZpbGVTeXN0ZW0oKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZGV0ZWN0KCkuaGFzRmlsZVN5c3RlbTtcbiAgfVxuXG4gIHN0YXRpYyBjYW5Vc2VXZWJTb2NrZXQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZGV0ZWN0KCkuaGFzV2ViU29ja2V0O1xuICB9XG5cbiAgc3RhdGljIGdldE9wdGltYWxUcmFuc3BvcnQoKTogJ2h0dHAnIHwgJ3dlYnNvY2tldCcgfCAnZmlsZXN5c3RlbScge1xuICAgIGNvbnN0IGVudiA9IHRoaXMuZGV0ZWN0KCk7XG4gICAgXG4gICAgaWYgKGVudi5oYXNXZWJTb2NrZXQpIHJldHVybiAnd2Vic29ja2V0JztcbiAgICBpZiAoZW52Lmhhc0hUVFApIHJldHVybiAnaHR0cCc7XG4gICAgaWYgKGVudi5oYXNGaWxlU3lzdGVtKSByZXR1cm4gJ2ZpbGVzeXN0ZW0nO1xuICAgIFxuICAgIHRocm93IG5ldyBFcnJvcignTm8gc3VpdGFibGUgdHJhbnNwb3J0IGF2YWlsYWJsZScpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBEZXZQaXBlTWVzc2FnZSwgRGV2UGlwZU1lc3NhZ2VUeXBlLCBNb2RlbFNlbGVjdGlvbkNvbmZpZyB9IGZyb20gJy4uL3R5cGVzL01vZGVsU2VsZWN0aW9uJztcbmltcG9ydCB7IEVudmlyb25tZW50RGV0ZWN0b3IsIEVudmlyb25tZW50SW5mbyB9IGZyb20gJy4uL3V0aWxzL0Vudmlyb25tZW50RGV0ZWN0b3InO1xuXG5pbnRlcmZhY2UgRXZlbnRMaXN0ZW5lciB7XG4gIChkYXRhOiBhbnkpOiB2b2lkO1xufVxuXG5leHBvcnQgY2xhc3MgRGV2UGlwZUNsaWVudCB7XG4gIHByaXZhdGUgc2VydmVyVXJsOiBzdHJpbmc7XG4gIHByaXZhdGUgaXNDb25uZWN0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBtZXNzYWdlSWQ6IG51bWJlciA9IDE7XG4gIHByaXZhdGUgcGVuZGluZ1JlcXVlc3RzOiBNYXA8c3RyaW5nLCB7IHJlc29sdmU6IEZ1bmN0aW9uOyByZWplY3Q6IEZ1bmN0aW9uOyB0aW1lb3V0OiBudW1iZXIgfT4gPSBuZXcgTWFwKCk7XG4gIHByaXZhdGUgY29uZmlnOiBNb2RlbFNlbGVjdGlvbkNvbmZpZztcbiAgcHJpdmF0ZSBldmVudExpc3RlbmVyczogTWFwPHN0cmluZywgRXZlbnRMaXN0ZW5lcltdPiA9IG5ldyBNYXAoKTtcbiAgcHJpdmF0ZSBlbnZpcm9ubWVudDogRW52aXJvbm1lbnRJbmZvOyAgLy8gQWRkIGVudmlyb25tZW50IHByb3BlcnR5XG5cbiAgY29uc3RydWN0b3IoY29uZmlnOiBNb2RlbFNlbGVjdGlvbkNvbmZpZykge1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgIHRoaXMuZW52aXJvbm1lbnQgPSBFbnZpcm9ubWVudERldGVjdG9yLmRldGVjdCgpOyAgLy8gSW5pdGlhbGl6ZSBlbnZpcm9ubWVudFxuICAgIHRoaXMuc2VydmVyVXJsID0gY29uZmlnLnNlcnZlcl91cmw7XG4gICAgaWYgKHRoaXMuY29uZmlnLmRlYnVnX21vZGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdEZXZQaXBlIEVudmlyb25tZW50OicsIHRoaXMuZW52aXJvbm1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIC8vIEV2ZW50IHN5c3RlbSBpbXBsZW1lbnRhdGlvblxuICBvbihldmVudDogc3RyaW5nLCBsaXN0ZW5lcjogRXZlbnRMaXN0ZW5lcik6IHZvaWQge1xuICAgIGlmICghdGhpcy5ldmVudExpc3RlbmVycy5oYXMoZXZlbnQpKSB7XG4gICAgICB0aGlzLmV2ZW50TGlzdGVuZXJzLnNldChldmVudCwgW10pO1xuICAgIH1cbiAgICB0aGlzLmV2ZW50TGlzdGVuZXJzLmdldChldmVudCkhLnB1c2gobGlzdGVuZXIpO1xuICB9XG5cbiAgb2ZmKGV2ZW50OiBzdHJpbmcsIGxpc3RlbmVyOiBFdmVudExpc3RlbmVyKTogdm9pZCB7XG4gICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5ldmVudExpc3RlbmVycy5nZXQoZXZlbnQpO1xuICAgIGlmIChsaXN0ZW5lcnMpIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpO1xuICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBlbWl0KGV2ZW50OiBzdHJpbmcsIGRhdGE6IGFueSk6IHZvaWQge1xuICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuZXZlbnRMaXN0ZW5lcnMuZ2V0KGV2ZW50KTtcbiAgICBpZiAobGlzdGVuZXJzKSB7XG4gICAgICBsaXN0ZW5lcnMuZm9yRWFjaChsaXN0ZW5lciA9PiBsaXN0ZW5lcihkYXRhKSk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgaW5pdGlhbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgLy8gVmFsaWRhdGUgZW52aXJvbm1lbnQgY29tcGF0aWJpbGl0eVxuICAgICAgaWYgKCF0aGlzLmVudmlyb25tZW50Lmhhc0hUVFApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdIVFRQIHRyYW5zcG9ydCBub3QgYXZhaWxhYmxlIGluIHRoaXMgZW52aXJvbm1lbnQnKTtcbiAgICAgIH1cblxuICAgICAgLy8gVGVzdCBjb25uZWN0aW9uIHdpdGggZW52aXJvbm1lbnQtc3BlY2lmaWMgbWV0aG9kXG4gICAgICBhd2FpdCB0aGlzLnRlc3RDb25uZWN0aW9uKCk7XG4gICAgICBcbiAgICAgIHRoaXMuaXNDb25uZWN0ZWQgPSB0cnVlO1xuICAgICAgdGhpcy5lbWl0KCdjb25uZWN0ZWQnLCB7IFxuICAgICAgICBzdGF0dXM6ICdjb25uZWN0ZWQnLFxuICAgICAgICBlbnZpcm9ubWVudDogdGhpcy5lbnZpcm9ubWVudC5wbGF0Zm9ybSxcbiAgICAgICAgdHJhbnNwb3J0OiAnaHR0cCdcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBpZiAodGhpcy5jb25maWcuZGVidWdfbW9kZSkge1xuICAgICAgICBjb25zb2xlLmxvZygnRGV2UGlwZSBjbGllbnQgaW5pdGlhbGl6ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCBlcnJvcik7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBpbml0aWFsaXplIERldlBpcGUgY2xpZW50OiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWApO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgdGVzdENvbm5lY3Rpb24oKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7dGhpcy5zZXJ2ZXJVcmx9L2FwaS92MS9kZXZwaXBlL2hlYWx0aGAsIHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIHNpZ25hbDogQWJvcnRTaWduYWwudGltZW91dCg1MDAwKSAvLyA1IHNlY29uZCB0aW1lb3V0XG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYERldlBpcGUgc2VydmVyIG5vdCBhY2Nlc3NpYmxlOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyBUcnkgYWx0ZXJuYXRpdmUgaGVhbHRoIGNoZWNrIGVuZHBvaW50c1xuICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiYgZXJyb3IubmFtZSA9PT0gJ1R5cGVFcnJvcicgJiYgZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnRmFpbGVkIHRvIGZldGNoJykpIHtcbiAgICAgICAgLy8gVHJ5IHRoZSBtYWluIGJhY2tlbmQgaGVhbHRoIGVuZHBvaW50IGFzIGZhbGxiYWNrXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgZmFsbGJhY2tSZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3RoaXMuc2VydmVyVXJsfS9zdGF0dXNgLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBzaWduYWw6IEFib3J0U2lnbmFsLnRpbWVvdXQoMzAwMClcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoZmFsbGJhY2tSZXNwb25zZS5vaykge1xuICAgICAgICAgICAgLy8gQmFja2VuZCBpcyBydW5uaW5nIGJ1dCBEZXZQaXBlIGVuZHBvaW50IG1pZ2h0IG5vdCBiZSBhdmFpbGFibGVcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignRGV2UGlwZSBlbmRwb2ludCBub3QgYXZhaWxhYmxlLCBidXQgYmFja2VuZCBpcyBhY2Nlc3NpYmxlJyk7XG4gICAgICAgICAgICByZXR1cm47IC8vIEFsbG93IGluaXRpYWxpemF0aW9uIHRvIGNvbnRpbnVlXG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChmYWxsYmFja0Vycm9yKSB7XG4gICAgICAgICAgLy8gQm90aCBlbmRwb2ludHMgZmFpbGVkXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBEZXZQaXBlIHNlcnZlciBub3QgYWNjZXNzaWJsZSBhbmQgZmFsbGJhY2sgZmFpbGVkOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHNlbmRNZXNzYWdlPFQ+KHR5cGU6IERldlBpcGVNZXNzYWdlVHlwZSwgcGF5bG9hZDogYW55LCB0aW1lb3V0OiBudW1iZXIgPSAzMDAwMCk6IFByb21pc2U8VD4ge1xuICAgIGlmICghdGhpcy5pc0Nvbm5lY3RlZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdEZXZQaXBlIGNsaWVudCBub3QgY29ubmVjdGVkJyk7XG4gICAgfVxuXG4gICAgY29uc3QgbWVzc2FnZUlkID0gdGhpcy5nZW5lcmF0ZU1lc3NhZ2VJZCgpO1xuICAgIGNvbnN0IG1lc3NhZ2U6IERldlBpcGVNZXNzYWdlID0ge1xuICAgICAgaWQ6IG1lc3NhZ2VJZCxcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgdHlwZSxcbiAgICAgIHBheWxvYWQsXG4gICAgICBzZW5kZXI6ICd2YXVsdHBpbG90LXBsdWdpbicsXG4gICAgICByZWNpcGllbnQ6ICdldm9hZ2VudHgtYmFja2VuZCcsXG4gICAgICBwcmlvcml0eTogJ25vcm1hbCdcbiAgICB9O1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPFQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IHRpbWVvdXRIYW5kbGUgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMucGVuZGluZ1JlcXVlc3RzLmRlbGV0ZShtZXNzYWdlSWQpO1xuICAgICAgICByZWplY3QobmV3IEVycm9yKGBSZXF1ZXN0IHRpbWVvdXQgYWZ0ZXIgJHt0aW1lb3V0fW1zYCkpO1xuICAgICAgfSwgdGltZW91dCk7XG5cbiAgICAgIHRoaXMucGVuZGluZ1JlcXVlc3RzLnNldChtZXNzYWdlSWQsIHtcbiAgICAgICAgcmVzb2x2ZSxcbiAgICAgICAgcmVqZWN0LFxuICAgICAgICB0aW1lb3V0OiB0aW1lb3V0SGFuZGxlXG4gICAgICB9KTtcblxuICAgICAgdGhpcy5zZW5kTWVzc2FnZVRvU2VydmVyKG1lc3NhZ2UpLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgdGhpcy5wZW5kaW5nUmVxdWVzdHMuZGVsZXRlKG1lc3NhZ2VJZCk7XG4gICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGltZW91dEhhbmRsZSk7XG4gICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgc2VuZE1lc3NhZ2VUb1NlcnZlcihtZXNzYWdlOiBEZXZQaXBlTWVzc2FnZSk6IFByb21pc2U8YW55PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7dGhpcy5zZXJ2ZXJVcmx9L2FwaS92MS9kZXZwaXBlL21lc3NhZ2VgLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkobWVzc2FnZSlcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRGV2UGlwZSBzZXJ2ZXIgZXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBcbiAgICAgIC8vIEhhbmRsZSBpbW1lZGlhdGUgcmVzcG9uc2VcbiAgICAgIGlmIChyZXN1bHQucmVzcG9uc2UgJiYgcmVzdWx0LnJlc3BvbnNlLmlkID09PSBtZXNzYWdlLmlkKSB7XG4gICAgICAgIGNvbnN0IHBlbmRpbmdSZXF1ZXN0ID0gdGhpcy5wZW5kaW5nUmVxdWVzdHMuZ2V0KG1lc3NhZ2UuaWQpO1xuICAgICAgICBpZiAocGVuZGluZ1JlcXVlc3QpIHtcbiAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHBlbmRpbmdSZXF1ZXN0LnRpbWVvdXQpO1xuICAgICAgICAgIHRoaXMucGVuZGluZ1JlcXVlc3RzLmRlbGV0ZShtZXNzYWdlLmlkKTtcbiAgICAgICAgICBwZW5kaW5nUmVxdWVzdC5yZXNvbHZlKHJlc3VsdC5yZXNwb25zZS5wYXlsb2FkKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5jb25maWcuZGVidWdfbW9kZSkge1xuICAgICAgICBjb25zb2xlLmxvZygnRGV2UGlwZSBtZXNzYWdlIHNlbnQgc3VjY2Vzc2Z1bGx5OicsIG1lc3NhZ2UudHlwZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmICh0aGlzLmNvbmZpZy5kZWJ1Z19tb2RlKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNlbmRpbmcgRGV2UGlwZSBtZXNzYWdlOicsIGVycm9yKTtcbiAgICAgIH1cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2VuZXJhdGVNZXNzYWdlSWQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYG1zZ18ke0RhdGUubm93KCl9XyR7dGhpcy5tZXNzYWdlSWQrK31gO1xuICB9XG5cbiAgYXN5bmMgZGlzY29ubmVjdCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvLyBSZWplY3QgYWxsIHBlbmRpbmcgcmVxdWVzdHNcbiAgICBjb25zdCBwZW5kaW5nRW50cmllcyA9IEFycmF5LmZyb20odGhpcy5wZW5kaW5nUmVxdWVzdHMuZW50cmllcygpKTtcbiAgICBmb3IgKGNvbnN0IFtpZCwgcmVxdWVzdF0gb2YgcGVuZGluZ0VudHJpZXMpIHtcbiAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQocmVxdWVzdC50aW1lb3V0KTtcbiAgICAgIHJlcXVlc3QucmVqZWN0KG5ldyBFcnJvcignRGV2UGlwZSBjbGllbnQgZGlzY29ubmVjdGVkJykpO1xuICAgIH1cbiAgICB0aGlzLnBlbmRpbmdSZXF1ZXN0cy5jbGVhcigpO1xuXG4gICAgdGhpcy5pc0Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgIHRoaXMuZW1pdCgnZGlzY29ubmVjdGVkJywgeyBzdGF0dXM6ICdkaXNjb25uZWN0ZWQnIH0pO1xuICB9XG5cbiAgaXNSZWFkeSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5pc0Nvbm5lY3RlZDtcbiAgfVxuXG4gIGdldFBlbmRpbmdSZXF1ZXN0Q291bnQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5wZW5kaW5nUmVxdWVzdHMuc2l6ZTtcbiAgfVxufVxuIiwiLy8gTW9kZWwgU2VsZWN0aW9uIFR5cGVzIGZvciBEZXZQaXBlIEZyYW1ld29yayBJbnRlZ3JhdGlvblxuXG5leHBvcnQgaW50ZXJmYWNlIE1vZGVsU2VsZWN0aW9uUmVxdWVzdCB7XG4gIHRhc2tfdHlwZTogVGFza1R5cGU7XG4gIHF1YWxpdHlfcmVxdWlyZW1lbnQ/OiBRdWFsaXR5UmVxdWlyZW1lbnQ7XG4gIG1heF9jb3N0PzogbnVtYmVyO1xuICBjb250ZXh0X2xlbmd0aD86IG51bWJlcjtcbiAgcHJlZmVycmVkX3Byb3ZpZGVycz86IHN0cmluZ1tdO1xuICB0aW1lb3V0X21zPzogbnVtYmVyO1xuICB1c2VyX3ByZWZlcmVuY2VzPzogVXNlclByZWZlcmVuY2VzO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1vZGVsU2VsZWN0aW9uUmVzcG9uc2Uge1xuICBzZWxlY3RlZF9tb2RlbDogTW9kZWxJbmZvO1xuICByZWFzb25pbmc6IHN0cmluZztcbiAgZmFsbGJhY2tfbW9kZWxzOiBNb2RlbEluZm9bXTtcbiAgZXN0aW1hdGVkX2Nvc3Q6IG51bWJlcjtcbiAgZXN0aW1hdGVkX3RpbWVfbXM6IG51bWJlcjtcbiAgc2VsZWN0aW9uX21ldGFkYXRhOiB7XG4gICAgc2VsZWN0aW9uX3RpbWVfbXM6IG51bWJlcjtcbiAgICBmYWN0b3JzX2NvbnNpZGVyZWQ6IHN0cmluZ1tdO1xuICAgIGNvbmZpZGVuY2Vfc2NvcmU6IG51bWJlcjtcbiAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNb2RlbEluZm8ge1xuICBpZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIHByb3ZpZGVyOiBzdHJpbmc7XG4gIGNhcGFiaWxpdGllczogTW9kZWxDYXBhYmlsaXR5W107XG4gIGNvc3RfcGVyX3Rva2VuOiBudW1iZXI7XG4gIG1heF90b2tlbnM6IG51bWJlcjtcbiAgcmVzcG9uc2VfdGltZV9hdmdfbXM6IG51bWJlcjtcbiAgYXZhaWxhYmlsaXR5X3Njb3JlOiBudW1iZXI7XG4gIHF1YWxpdHlfc2NvcmU6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNb2RlbENhcGFiaWxpdHkge1xuICB0eXBlOiBUYXNrVHlwZTtcbiAgc2NvcmU6IG51bWJlcjtcbiAgc3BlY2lhbGl6YXRpb25zPzogc3RyaW5nW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTW9kZWxIZWFsdGhTdGF0dXMge1xuICBtb2RlbF9pZDogc3RyaW5nO1xuICBzdGF0dXM6ICdoZWFsdGh5JyB8ICdkZWdyYWRlZCcgfCAnb2ZmbGluZSc7XG4gIHJlc3BvbnNlX3RpbWU6IG51bWJlcjtcbiAgZXJyb3JfcmF0ZTogbnVtYmVyO1xuICBsYXN0X2NoZWNrOiBzdHJpbmc7XG4gIGF2YWlsYWJpbGl0eV9wZXJjZW50YWdlOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlclByZWZlcmVuY2VzIHtcbiAgcHJpb3JpdHk6ICdwZXJmb3JtYW5jZScgfCAnY29zdCcgfCAnYmFsYW5jZWQnO1xuICBtYXhfY29zdF9wZXJfcmVxdWVzdDogbnVtYmVyO1xuICBwcmVmZXJyZWRfcHJvdmlkZXJzOiBzdHJpbmdbXTtcbiAgZmFsbGJhY2tfZW5hYmxlZDogYm9vbGVhbjtcbiAgcXVhbGl0eV90aHJlc2hvbGQ6IG51bWJlcjtcbiAgdGltZW91dF9wcmVmZXJlbmNlOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTW9kZWxQZXJmb3JtYW5jZU1ldHJpY3Mge1xuICBtb2RlbF9pZDogc3RyaW5nO1xuICB0YXNrX3R5cGU6IFRhc2tUeXBlO1xuICBzdWNjZXNzX3JhdGU6IG51bWJlcjtcbiAgYXZlcmFnZV9yZXNwb25zZV90aW1lOiBudW1iZXI7XG4gIGF2ZXJhZ2VfY29zdDogbnVtYmVyO1xuICB1c2VyX3NhdGlzZmFjdGlvbl9zY29yZTogbnVtYmVyO1xuICBsYXN0X3VwZGF0ZWQ6IHN0cmluZztcbn1cblxuZXhwb3J0IHR5cGUgVGFza1R5cGUgPSBcbiAgfCAndGV4dC1nZW5lcmF0aW9uJ1xuICB8ICdjb2RlLWdlbmVyYXRpb24nXG4gIHwgJ2NoYXQnXG4gIHwgJ3N1bW1hcml6YXRpb24nXG4gIHwgJ3RyYW5zbGF0aW9uJ1xuICB8ICdlbWJlZGRpbmcnXG4gIHwgJ2VkaXRpbmcnXG4gIHwgJ2FuYWx5c2lzJ1xuICB8ICdwbGFubmluZydcbiAgfCAnd29ya2Zsb3ctZXhlY3V0aW9uJztcblxuZXhwb3J0IHR5cGUgUXVhbGl0eVJlcXVpcmVtZW50ID0gJ2xvdycgfCAnbWVkaXVtJyB8ICdoaWdoJztcblxuZXhwb3J0IGludGVyZmFjZSBEZXZQaXBlTWVzc2FnZSB7XG4gIGlkOiBzdHJpbmc7XG4gIHRpbWVzdGFtcDogc3RyaW5nO1xuICB0eXBlOiBEZXZQaXBlTWVzc2FnZVR5cGU7XG4gIHBheWxvYWQ6IGFueTtcbiAgc2VuZGVyOiBzdHJpbmc7XG4gIHJlY2lwaWVudDogc3RyaW5nO1xuICBwcmlvcml0eTogJ2xvdycgfCAnbm9ybWFsJyB8ICdoaWdoJyB8ICdjcml0aWNhbCc7XG4gIGV4cGlyZXNfYXQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCB0eXBlIERldlBpcGVNZXNzYWdlVHlwZSA9IFxuICB8ICdtb2RlbC1zZWxlY3Rpb24tcmVxdWVzdCdcbiAgfCAnbW9kZWwtc2VsZWN0aW9uLXJlc3BvbnNlJ1xuICB8ICdoZWFsdGgtY2hlY2stcmVxdWVzdCdcbiAgfCAnaGVhbHRoLWNoZWNrLXJlc3BvbnNlJ1xuICB8ICdwZXJmb3JtYW5jZS1tZXRyaWNzLXJlcXVlc3QnXG4gIHwgJ3BlcmZvcm1hbmNlLW1ldHJpY3MtcmVzcG9uc2UnXG4gIHwgJ3ByZWZlcmVuY2VzLXVwZGF0ZSdcbiAgfCAnc3RhdHVzLXVwZGF0ZSdcbiAgfCAnZXJyb3ItcmVwb3J0JztcblxuZXhwb3J0IGNsYXNzIE1vZGVsU2VsZWN0aW9uRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIHB1YmxpYyBjb2RlOiAnTk9fSEVBTFRIWV9NT0RFTFMnIHwgJ0JVREdFVF9FWENFRURFRCcgfCAnVElNRU9VVCcgfCAnSU5WQUxJRF9SRVFVRVNUJyB8ICdTRVJWSUNFX1VOQVZBSUxBQkxFJztcbiAgcHVibGljIGRldGFpbHM/OiBhbnk7XG4gIHB1YmxpYyBzdWdnZXN0aW9ucz86IHN0cmluZ1tdO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGNvZGU6ICdOT19IRUFMVEhZX01PREVMUycgfCAnQlVER0VUX0VYQ0VFREVEJyB8ICdUSU1FT1VUJyB8ICdJTlZBTElEX1JFUVVFU1QnIHwgJ1NFUlZJQ0VfVU5BVkFJTEFCTEUnLFxuICAgIG1lc3NhZ2U6IHN0cmluZyxcbiAgICBkZXRhaWxzPzogYW55LFxuICAgIHN1Z2dlc3Rpb25zPzogc3RyaW5nW11cbiAgKSB7XG4gICAgc3VwZXIobWVzc2FnZSk7XG4gICAgdGhpcy5uYW1lID0gJ01vZGVsU2VsZWN0aW9uRXJyb3InO1xuICAgIHRoaXMuY29kZSA9IGNvZGU7XG4gICAgdGhpcy5kZXRhaWxzID0gZGV0YWlscztcbiAgICB0aGlzLnN1Z2dlc3Rpb25zID0gc3VnZ2VzdGlvbnM7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBNb2RlbFNlbGVjdGlvbkV2ZW50IHtcbiAgdHlwZTogJ21vZGVsLXNlbGVjdGVkJyB8ICdoZWFsdGgtdXBkYXRlZCcgfCAncGVyZm9ybWFuY2UtbWV0cmljcycgfCAncHJlZmVyZW5jZXMtdXBkYXRlZCcgfCAnY29ubmVjdGVkJyB8ICdkaXNjb25uZWN0ZWQnO1xuICBkYXRhOiBhbnk7XG4gIHRpbWVzdGFtcDogc3RyaW5nO1xufVxuXG4vLyBDb25maWd1cmF0aW9uIHR5cGVzXG5leHBvcnQgaW50ZXJmYWNlIE1vZGVsU2VsZWN0aW9uQ29uZmlnIHtcbiAgZGV2cGlwZV9wYXRoOiBzdHJpbmc7XG4gIHNlcnZlcl91cmw6IHN0cmluZztcbiAgbW9uaXRvcmluZ19pbnRlcnZhbDogbnVtYmVyO1xuICBmYWxsYmFja19lbmFibGVkOiBib29sZWFuO1xuICBjYWNoZV9kdXJhdGlvbjogbnVtYmVyO1xuICByZXRyeV9hdHRlbXB0czogbnVtYmVyO1xuICB0aW1lb3V0OiBudW1iZXI7XG4gIGRlYnVnX21vZGU6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTW9kZWxQcm92aWRlckNvbmZpZyB7XG4gIG5hbWU6IHN0cmluZztcbiAgZW5hYmxlZDogYm9vbGVhbjtcbiAgYXBpX2tleT86IHN0cmluZztcbiAgYmFzZV91cmw/OiBzdHJpbmc7XG4gIG1heF90b2tlbnM/OiBudW1iZXI7XG4gIGRlZmF1bHRfdGVtcGVyYXR1cmU/OiBudW1iZXI7XG4gIGN1c3RvbV9zZXR0aW5ncz86IFJlY29yZDxzdHJpbmcsIGFueT47XG59XG4iLCJpbXBvcnQgeyBEZXZQaXBlQ2xpZW50IH0gZnJvbSAnLi4vZGV2cGlwZS9EZXZQaXBlQ2xpZW50JztcbmltcG9ydCB7IFxuICBNb2RlbFNlbGVjdGlvblJlcXVlc3QsIFxuICBNb2RlbFNlbGVjdGlvblJlc3BvbnNlLCBcbiAgTW9kZWxIZWFsdGhTdGF0dXMsIFxuICBVc2VyUHJlZmVyZW5jZXMsIFxuICBNb2RlbFBlcmZvcm1hbmNlTWV0cmljcyxcbiAgTW9kZWxTZWxlY3Rpb25Db25maWcsXG4gIE1vZGVsU2VsZWN0aW9uRXJyb3IsXG4gIE1vZGVsU2VsZWN0aW9uRXZlbnQgXG59IGZyb20gJy4uL3R5cGVzL01vZGVsU2VsZWN0aW9uJztcblxuZXhwb3J0IGNsYXNzIE1vZGVsU2VsZWN0aW9uU2VydmljZSB7XG4gIHByaXZhdGUgZGV2UGlwZUNsaWVudDogRGV2UGlwZUNsaWVudDtcbiAgcHJpdmF0ZSBjb25maWc6IE1vZGVsU2VsZWN0aW9uQ29uZmlnO1xuICBwcml2YXRlIHVzZXJQcmVmZXJlbmNlczogVXNlclByZWZlcmVuY2VzO1xuICBwcml2YXRlIGNhY2hlZEhlYWx0aDogTW9kZWxIZWFsdGhTdGF0dXNbXSA9IFtdO1xuICBwcml2YXRlIGxhc3RIZWFsdGhVcGRhdGU6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgZXZlbnRMaXN0ZW5lcnM6IE1hcDxzdHJpbmcsIEZ1bmN0aW9uW10+ID0gbmV3IE1hcCgpO1xuXG4gIGNvbnN0cnVjdG9yKHNlcnZlclVybDogc3RyaW5nLCBkZXZQaXBlUGF0aDogc3RyaW5nID0gJycsIG9wdGlvbnM6IFBhcnRpYWw8TW9kZWxTZWxlY3Rpb25Db25maWc+ID0ge30pIHtcbiAgICB0aGlzLmNvbmZpZyA9IHtcbiAgICAgIGRldnBpcGVfcGF0aDogZGV2UGlwZVBhdGgsXG4gICAgICBzZXJ2ZXJfdXJsOiBzZXJ2ZXJVcmwsXG4gICAgICBtb25pdG9yaW5nX2ludGVydmFsOiBvcHRpb25zLm1vbml0b3JpbmdfaW50ZXJ2YWwgfHwgMzAwMDAsXG4gICAgICBmYWxsYmFja19lbmFibGVkOiBvcHRpb25zLmZhbGxiYWNrX2VuYWJsZWQgIT09IGZhbHNlLFxuICAgICAgY2FjaGVfZHVyYXRpb246IG9wdGlvbnMuY2FjaGVfZHVyYXRpb24gfHwgMzAwMDAwLCAvLyA1IG1pbnV0ZXNcbiAgICAgIHJldHJ5X2F0dGVtcHRzOiBvcHRpb25zLnJldHJ5X2F0dGVtcHRzIHx8IDMsXG4gICAgICB0aW1lb3V0OiBvcHRpb25zLnRpbWVvdXQgfHwgMzAwMDAsXG4gICAgICBkZWJ1Z19tb2RlOiBvcHRpb25zLmRlYnVnX21vZGUgfHwgZmFsc2VcbiAgICB9O1xuXG4gICAgdGhpcy5kZXZQaXBlQ2xpZW50ID0gbmV3IERldlBpcGVDbGllbnQodGhpcy5jb25maWcpO1xuICAgIFxuICAgIC8vIERlZmF1bHQgdXNlciBwcmVmZXJlbmNlc1xuICAgIHRoaXMudXNlclByZWZlcmVuY2VzID0ge1xuICAgICAgcHJpb3JpdHk6ICdiYWxhbmNlZCcsXG4gICAgICBtYXhfY29zdF9wZXJfcmVxdWVzdDogMC41MCxcbiAgICAgIHByZWZlcnJlZF9wcm92aWRlcnM6IFtdLFxuICAgICAgZmFsbGJhY2tfZW5hYmxlZDogdHJ1ZSxcbiAgICAgIHF1YWxpdHlfdGhyZXNob2xkOiAwLjcsXG4gICAgICB0aW1lb3V0X3ByZWZlcmVuY2U6IDMwMDAwXG4gICAgfTtcblxuICAgIHRoaXMuc2V0dXBFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXR1cEV2ZW50TGlzdGVuZXJzKCk6IHZvaWQge1xuICAgIHRoaXMuZGV2UGlwZUNsaWVudC5vbignY29ubmVjdGVkJywgKCkgPT4ge1xuICAgICAgdGhpcy5lbWl0KCdjb25uZWN0ZWQnLCB7IHN0YXR1czogJ2Nvbm5lY3RlZCcgfSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmRldlBpcGVDbGllbnQub24oJ2Rpc2Nvbm5lY3RlZCcsICgpID0+IHtcbiAgICAgIHRoaXMuZW1pdCgnZGlzY29ubmVjdGVkJywgeyBzdGF0dXM6ICdkaXNjb25uZWN0ZWQnIH0pO1xuICAgIH0pO1xuXG4gICAgdGhpcy5kZXZQaXBlQ2xpZW50Lm9uKCdoZWFsdGgtdXBkYXRlZCcsIChoZWFsdGhEYXRhOiBNb2RlbEhlYWx0aFN0YXR1c1tdKSA9PiB7XG4gICAgICB0aGlzLmNhY2hlZEhlYWx0aCA9IGhlYWx0aERhdGE7XG4gICAgICB0aGlzLmxhc3RIZWFsdGhVcGRhdGUgPSBEYXRlLm5vdygpO1xuICAgICAgdGhpcy5lbWl0KCdoZWFsdGgtdXBkYXRlZCcsIGhlYWx0aERhdGEpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5kZXZQaXBlQ2xpZW50Lm9uKCdwZXJmb3JtYW5jZS1tZXRyaWNzJywgKG1ldHJpY3M6IE1vZGVsUGVyZm9ybWFuY2VNZXRyaWNzW10pID0+IHtcbiAgICAgIHRoaXMuZW1pdCgncGVyZm9ybWFuY2UtbWV0cmljcycsIG1ldHJpY3MpO1xuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgaW5pdGlhbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgdGhpcy5kZXZQaXBlQ2xpZW50LmluaXRpYWxpemUoKTtcbiAgICAgIFxuICAgICAgLy8gTG9hZCBpbml0aWFsIGhlYWx0aCBzdGF0dXNcbiAgICAgIGF3YWl0IHRoaXMucmVmcmVzaE1vZGVsSGVhbHRoKCk7XG4gICAgICBcbiAgICAgIC8vIFN0YXJ0IGhlYWx0aCBtb25pdG9yaW5nXG4gICAgICB0aGlzLnN0YXJ0SGVhbHRoTW9uaXRvcmluZygpO1xuICAgICAgXG4gICAgICBpZiAodGhpcy5jb25maWcuZGVidWdfbW9kZSkge1xuICAgICAgICBjb25zb2xlLmxvZygnTW9kZWxTZWxlY3Rpb25TZXJ2aWNlIGluaXRpYWxpemVkIHN1Y2Nlc3NmdWxseScpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBpbml0aWFsaXplIE1vZGVsU2VsZWN0aW9uU2VydmljZTogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBzZWxlY3RNb2RlbChyZXF1ZXN0OiBNb2RlbFNlbGVjdGlvblJlcXVlc3QpOiBQcm9taXNlPE1vZGVsU2VsZWN0aW9uUmVzcG9uc2U+IHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMucGVyZm9ybVNlbGVjdGlvbihyZXF1ZXN0KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKHRoaXMuY29uZmlnLmZhbGxiYWNrX2VuYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZmFsbGJhY2tTZWxlY3Rpb24ocmVxdWVzdCwgZXJyb3IpO1xuICAgICAgfVxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBwZXJmb3JtU2VsZWN0aW9uKHJlcXVlc3Q6IE1vZGVsU2VsZWN0aW9uUmVxdWVzdCk6IFByb21pc2U8TW9kZWxTZWxlY3Rpb25SZXNwb25zZT4ge1xuICAgIGlmICghdGhpcy5kZXZQaXBlQ2xpZW50LmlzUmVhZHkoKSkge1xuICAgICAgdGhyb3cgbmV3IE1vZGVsU2VsZWN0aW9uRXJyb3IoJ05PX0hFQUxUSFlfTU9ERUxTJywgJ0RldlBpcGUgY2xpZW50IG5vdCBjb25uZWN0ZWQnLCB7fSwgWydDaGVjayBzZXJ2ZXIgY29ubmVjdGlvbicsICdSZXRyeSBpbml0aWFsaXphdGlvbiddKTtcbiAgICB9XG5cbiAgICAvLyBBZGQgdXNlciBwcmVmZXJlbmNlcyB0byByZXF1ZXN0XG4gICAgY29uc3QgZW5oYW5jZWRSZXF1ZXN0ID0ge1xuICAgICAgLi4ucmVxdWVzdCxcbiAgICAgIHVzZXJfcHJlZmVyZW5jZXM6IHRoaXMudXNlclByZWZlcmVuY2VzLFxuICAgICAgdGltZW91dF9tczogcmVxdWVzdC50aW1lb3V0X21zIHx8IHRoaXMuY29uZmlnLnRpbWVvdXRcbiAgICB9O1xuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmRldlBpcGVDbGllbnQuc2VuZE1lc3NhZ2U8TW9kZWxTZWxlY3Rpb25SZXNwb25zZT4oXG4gICAgICAnbW9kZWwtc2VsZWN0aW9uLXJlcXVlc3QnLFxuICAgICAgZW5oYW5jZWRSZXF1ZXN0LFxuICAgICAgdGhpcy5jb25maWcudGltZW91dFxuICAgICk7XG5cbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGZhbGxiYWNrU2VsZWN0aW9uKFxuICAgIHJlcXVlc3Q6IE1vZGVsU2VsZWN0aW9uUmVxdWVzdCwgXG4gICAgb3JpZ2luYWxFcnJvcjogYW55XG4gICk6IFByb21pc2U8TW9kZWxTZWxlY3Rpb25SZXNwb25zZT4ge1xuICAgIGNvbnNvbGUud2FybignTW9kZWwgc2VsZWN0aW9uIGZhaWxlZCwgdXNpbmcgZmFsbGJhY2s6Jywgb3JpZ2luYWxFcnJvcik7XG5cbiAgICAvLyBUcnkgY2FjaGVkIHNlbGVjdGlvbiBmaXJzdFxuICAgIGNvbnN0IGNhY2hlZCA9IHRoaXMuZ2V0Q2FjaGVkU2VsZWN0aW9uKHJlcXVlc3QpO1xuICAgIGlmIChjYWNoZWQpIHtcbiAgICAgIHJldHVybiBjYWNoZWQ7XG4gICAgfVxuXG4gICAgLy8gVXNlIHN0YXRpYyBydWxlcyBhcyBsYXN0IHJlc29ydFxuICAgIHJldHVybiB0aGlzLnN0YXRpY01vZGVsU2VsZWN0aW9uKHJlcXVlc3QpO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWNNb2RlbFNlbGVjdGlvbihyZXF1ZXN0OiBNb2RlbFNlbGVjdGlvblJlcXVlc3QpOiBNb2RlbFNlbGVjdGlvblJlc3BvbnNlIHtcbiAgICAvLyBTaW1wbGUgc3RhdGljIHJ1bGVzIGZvciBmYWxsYmFja1xuICAgIGNvbnN0IGRlZmF1bHRNb2RlbHM6IHsgW2tleTogc3RyaW5nXTogeyBuYW1lOiBzdHJpbmc7IGNvc3Q6IG51bWJlciB9IH0gPSB7XG4gICAgICAndGV4dC1nZW5lcmF0aW9uJzogeyBuYW1lOiAnZ3B0LTMuNS10dXJibycsIGNvc3Q6IDAuMDAyIH0sXG4gICAgICAnY29kZS1nZW5lcmF0aW9uJzogeyBuYW1lOiAnZ3B0LTQnLCBjb3N0OiAwLjAzIH0sXG4gICAgICAnY2hhdCc6IHsgbmFtZTogJ2dwdC0zLjUtdHVyYm8nLCBjb3N0OiAwLjAwMiB9LFxuICAgICAgJ3N1bW1hcml6YXRpb24nOiB7IG5hbWU6ICdncHQtMy41LXR1cmJvJywgY29zdDogMC4wMDIgfSxcbiAgICAgICd0cmFuc2xhdGlvbic6IHsgbmFtZTogJ2dwdC0zLjUtdHVyYm8nLCBjb3N0OiAwLjAwMiB9XG4gICAgfTtcblxuICAgIGNvbnN0IGRlZmF1bHRNb2RlbCA9IGRlZmF1bHRNb2RlbHNbcmVxdWVzdC50YXNrX3R5cGVdIHx8IGRlZmF1bHRNb2RlbHNbJ3RleHQtZ2VuZXJhdGlvbiddO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHNlbGVjdGVkX21vZGVsOiB7XG4gICAgICAgIGlkOiBkZWZhdWx0TW9kZWwubmFtZSxcbiAgICAgICAgbmFtZTogZGVmYXVsdE1vZGVsLm5hbWUsXG4gICAgICAgIHByb3ZpZGVyOiAnb3BlbmFpJyxcbiAgICAgICAgY2FwYWJpbGl0aWVzOiBbeyB0eXBlOiByZXF1ZXN0LnRhc2tfdHlwZSwgc2NvcmU6IDAuOCB9XSxcbiAgICAgICAgY29zdF9wZXJfdG9rZW46IGRlZmF1bHRNb2RlbC5jb3N0LFxuICAgICAgICBtYXhfdG9rZW5zOiA0MDAwLFxuICAgICAgICByZXNwb25zZV90aW1lX2F2Z19tczogMjAwMCxcbiAgICAgICAgYXZhaWxhYmlsaXR5X3Njb3JlOiAwLjksXG4gICAgICAgIHF1YWxpdHlfc2NvcmU6IDAuOFxuICAgICAgfSxcbiAgICAgIHJlYXNvbmluZzogJ0ZhbGxiYWNrIHNlbGVjdGlvbiBkdWUgdG8gc2VydmljZSB1bmF2YWlsYWJpbGl0eScsXG4gICAgICBmYWxsYmFja19tb2RlbHM6IFtdLFxuICAgICAgZXN0aW1hdGVkX2Nvc3Q6IGRlZmF1bHRNb2RlbC5jb3N0ICogMTAwLCAvLyBFc3RpbWF0ZSBmb3IgMTAwIHRva2Vuc1xuICAgICAgZXN0aW1hdGVkX3RpbWVfbXM6IDIwMDAsXG4gICAgICBzZWxlY3Rpb25fbWV0YWRhdGE6IHtcbiAgICAgICAgc2VsZWN0aW9uX3RpbWVfbXM6IDAsXG4gICAgICAgIGZhY3RvcnNfY29uc2lkZXJlZDogWydmYWxsYmFjayddLFxuICAgICAgICBjb25maWRlbmNlX3Njb3JlOiAwLjVcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRDYWNoZWRTZWxlY3Rpb24ocmVxdWVzdDogTW9kZWxTZWxlY3Rpb25SZXF1ZXN0KTogTW9kZWxTZWxlY3Rpb25SZXNwb25zZSB8IG51bGwge1xuICAgIC8vIEltcGxlbWVudGF0aW9uIG9mIGNhY2hlIGxvb2t1cFxuICAgIC8vIEZvciBub3csIHJldHVybiBudWxsIChubyBjYWNoZSlcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8vIE9yaWdpbmFsIHNlbGVjdE1vZGVsIG1ldGhvZCByZW5hbWVkIHRvIHBlcmZvcm1TZWxlY3Rpb24gKHNlZSBhYm92ZSlcbiAgYXN5bmMgc2VsZWN0TW9kZWxfT0xEKHJlcXVlc3Q6IE1vZGVsU2VsZWN0aW9uUmVxdWVzdCk6IFByb21pc2U8TW9kZWxTZWxlY3Rpb25SZXNwb25zZT4ge1xuICAgIGlmICghdGhpcy5kZXZQaXBlQ2xpZW50LmlzUmVhZHkoKSkge1xuICAgICAgdGhyb3cgbmV3IE1vZGVsU2VsZWN0aW9uRXJyb3IoJ05PX0hFQUxUSFlfTU9ERUxTJywgJ0RldlBpcGUgY2xpZW50IG5vdCBjb25uZWN0ZWQnLCB7fSwgWydDaGVjayBzZXJ2ZXIgY29ubmVjdGlvbicsICdSZXRyeSBpbml0aWFsaXphdGlvbiddKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgLy8gQWRkIHVzZXIgcHJlZmVyZW5jZXMgdG8gcmVxdWVzdFxuICAgICAgY29uc3QgZW5oYW5jZWRSZXF1ZXN0ID0ge1xuICAgICAgICAuLi5yZXF1ZXN0LFxuICAgICAgICB1c2VyX3ByZWZlcmVuY2VzOiB0aGlzLnVzZXJQcmVmZXJlbmNlcyxcbiAgICAgICAgdGltZW91dF9tczogcmVxdWVzdC50aW1lb3V0X21zIHx8IHRoaXMuY29uZmlnLnRpbWVvdXRcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5kZXZQaXBlQ2xpZW50LnNlbmRNZXNzYWdlPE1vZGVsU2VsZWN0aW9uUmVzcG9uc2U+KFxuICAgICAgICAnbW9kZWwtc2VsZWN0aW9uLXJlcXVlc3QnLFxuICAgICAgICBlbmhhbmNlZFJlcXVlc3QsXG4gICAgICAgIHJlcXVlc3QudGltZW91dF9tcyB8fCB0aGlzLmNvbmZpZy50aW1lb3V0XG4gICAgICApO1xuXG4gICAgICAvLyBFbWl0IHNlbGVjdGlvbiBldmVudFxuICAgICAgdGhpcy5lbWl0KCdtb2RlbC1zZWxlY3RlZCcsIHJlc3BvbnNlKTtcblxuICAgICAgaWYgKHRoaXMuY29uZmlnLmRlYnVnX21vZGUpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ01vZGVsIHNlbGVjdGVkOicsIHJlc3BvbnNlLnNlbGVjdGVkX21vZGVsLm5hbWUsICdmb3IgdGFzazonLCByZXF1ZXN0LnRhc2tfdHlwZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ3RpbWVvdXQnKSkge1xuICAgICAgICAgIHRocm93IG5ldyBNb2RlbFNlbGVjdGlvbkVycm9yKCdUSU1FT1VUJywgJ01vZGVsIHNlbGVjdGlvbiByZXF1ZXN0IHRpbWVkIG91dCcsIHsgb3JpZ2luYWxFcnJvcjogZXJyb3IgfSwgWydJbmNyZWFzZSB0aW1lb3V0JywgJ0NoZWNrIHNlcnZlciBwZXJmb3JtYW5jZSddKTtcbiAgICAgICAgfSBlbHNlIGlmIChlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdidWRnZXQnKSB8fCBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdjb3N0JykpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgTW9kZWxTZWxlY3Rpb25FcnJvcignQlVER0VUX0VYQ0VFREVEJywgJ1JlcXVlc3QgZXhjZWVkcyBidWRnZXQgbGltaXRzJywgeyBvcmlnaW5hbEVycm9yOiBlcnJvciB9LCBbJ0luY3JlYXNlIGJ1ZGdldCcsICdVc2UgbG93ZXIgY29zdCBtb2RlbHMnXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgdGhyb3cgbmV3IE1vZGVsU2VsZWN0aW9uRXJyb3IoJ1NFUlZJQ0VfVU5BVkFJTEFCTEUnLCAnTW9kZWwgc2VsZWN0aW9uIHNlcnZpY2UgdW5hdmFpbGFibGUnLCB7IG9yaWdpbmFsRXJyb3I6IGVycm9yIH0sIFsnQ2hlY2sgc2VydmVyIHN0YXR1cycsICdSZXRyeSByZXF1ZXN0J10pO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldE1vZGVsSGVhbHRoKCk6IFByb21pc2U8TW9kZWxIZWFsdGhTdGF0dXNbXT4ge1xuICAgIC8vIFJldHVybiBjYWNoZWQgaGVhbHRoIGlmIHJlY2VudFxuICAgIGlmICh0aGlzLmNhY2hlZEhlYWx0aC5sZW5ndGggPiAwICYmIChEYXRlLm5vdygpIC0gdGhpcy5sYXN0SGVhbHRoVXBkYXRlKSA8IHRoaXMuY29uZmlnLmNhY2hlX2R1cmF0aW9uKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWNoZWRIZWFsdGg7XG4gICAgfVxuXG4gICAgcmV0dXJuIGF3YWl0IHRoaXMucmVmcmVzaE1vZGVsSGVhbHRoKCk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHJlZnJlc2hNb2RlbEhlYWx0aCgpOiBQcm9taXNlPE1vZGVsSGVhbHRoU3RhdHVzW10+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgaGVhbHRoID0gYXdhaXQgdGhpcy5kZXZQaXBlQ2xpZW50LnNlbmRNZXNzYWdlPE1vZGVsSGVhbHRoU3RhdHVzW10+KFxuICAgICAgICAnaGVhbHRoLWNoZWNrLXJlcXVlc3QnLFxuICAgICAgICB7fSxcbiAgICAgICAgMTAwMDAgLy8gU2hvcnQgdGltZW91dCBmb3IgaGVhbHRoIGNoZWNrc1xuICAgICAgKTtcblxuICAgICAgdGhpcy5jYWNoZWRIZWFsdGggPSBoZWFsdGg7XG4gICAgICB0aGlzLmxhc3RIZWFsdGhVcGRhdGUgPSBEYXRlLm5vdygpO1xuICAgICAgXG4gICAgICByZXR1cm4gaGVhbHRoO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAodGhpcy5jb25maWcuZGVidWdfbW9kZSkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byByZWZyZXNoIG1vZGVsIGhlYWx0aDonLCBlcnJvcik7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5jYWNoZWRIZWFsdGg7IC8vIFJldHVybiBjYWNoZWQgZGF0YSBvbiBlcnJvclxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZVByZWZlcmVuY2VzKHByZWZlcmVuY2VzOiBQYXJ0aWFsPFVzZXJQcmVmZXJlbmNlcz4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0aGlzLnVzZXJQcmVmZXJlbmNlcyA9IHtcbiAgICAgIC4uLnRoaXMudXNlclByZWZlcmVuY2VzLFxuICAgICAgLi4ucHJlZmVyZW5jZXNcbiAgICB9O1xuXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHRoaXMuZGV2UGlwZUNsaWVudC5zZW5kTWVzc2FnZShcbiAgICAgICAgJ3ByZWZlcmVuY2VzLXVwZGF0ZScsXG4gICAgICAgIHRoaXMudXNlclByZWZlcmVuY2VzLFxuICAgICAgICA1MDAwXG4gICAgICApO1xuXG4gICAgICB0aGlzLmVtaXQoJ3ByZWZlcmVuY2VzLXVwZGF0ZWQnLCB0aGlzLnVzZXJQcmVmZXJlbmNlcyk7XG4gICAgICBcbiAgICAgIGlmICh0aGlzLmNvbmZpZy5kZWJ1Z19tb2RlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdVc2VyIHByZWZlcmVuY2VzIHVwZGF0ZWQ6JywgdGhpcy51c2VyUHJlZmVyZW5jZXMpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAodGhpcy5jb25maWcuZGVidWdfbW9kZSkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBzeW5jIHByZWZlcmVuY2VzIHdpdGggc2VydmVyOicsIGVycm9yKTtcbiAgICAgIH1cbiAgICAgIC8vIENvbnRpbnVlIHdpdGggbG9jYWwgcHJlZmVyZW5jZXMgZXZlbiBpZiBzZXJ2ZXIgc3luYyBmYWlsc1xuICAgIH1cbiAgfVxuXG4gIGdldFByZWZlcmVuY2VzKCk6IFVzZXJQcmVmZXJlbmNlcyB7XG4gICAgcmV0dXJuIHsgLi4udGhpcy51c2VyUHJlZmVyZW5jZXMgfTtcbiAgfVxuXG4gIHByaXZhdGUgc3RhcnRIZWFsdGhNb25pdG9yaW5nKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmNvbmZpZy5tb25pdG9yaW5nX2ludGVydmFsID4gMCkge1xuICAgICAgc2V0SW50ZXJ2YWwoYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGF3YWl0IHRoaXMucmVmcmVzaE1vZGVsSGVhbHRoKCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgaWYgKHRoaXMuY29uZmlnLmRlYnVnX21vZGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignSGVhbHRoIG1vbml0b3JpbmcgZmFpbGVkOicsIGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIHRoaXMuY29uZmlnLm1vbml0b3JpbmdfaW50ZXJ2YWwpO1xuICAgIH1cbiAgfVxuXG4gIC8vIEV2ZW50IHN5c3RlbVxuICBvbihldmVudDogc3RyaW5nLCBsaXN0ZW5lcjogRnVuY3Rpb24pOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuZXZlbnRMaXN0ZW5lcnMuaGFzKGV2ZW50KSkge1xuICAgICAgdGhpcy5ldmVudExpc3RlbmVycy5zZXQoZXZlbnQsIFtdKTtcbiAgICB9XG4gICAgdGhpcy5ldmVudExpc3RlbmVycy5nZXQoZXZlbnQpIS5wdXNoKGxpc3RlbmVyKTtcbiAgfVxuXG4gIG9mZihldmVudDogc3RyaW5nLCBsaXN0ZW5lcjogRnVuY3Rpb24pOiB2b2lkIHtcbiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLmV2ZW50TGlzdGVuZXJzLmdldChldmVudCk7XG4gICAgaWYgKGxpc3RlbmVycykge1xuICAgICAgY29uc3QgaW5kZXggPSBsaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG4gICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGVtaXQoZXZlbnQ6IHN0cmluZywgZGF0YTogYW55KTogdm9pZCB7XG4gICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5ldmVudExpc3RlbmVycy5nZXQoZXZlbnQpO1xuICAgIGlmIChsaXN0ZW5lcnMpIHtcbiAgICAgIGxpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBsaXN0ZW5lcihkYXRhKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBpZiAodGhpcy5jb25maWcuZGVidWdfbW9kZSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXZlbnQgbGlzdGVuZXIgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLy8gUXVpY2sgc2VsZWN0aW9uIG1ldGhvZHMgZm9yIGNvbW1vbiB1c2UgY2FzZXNcbiAgYXN5bmMgc2VsZWN0Rm9yVGFzayh0YXNrVHlwZTogc3RyaW5nLCBxdWFsaXR5OiAnbG93JyB8ICdtZWRpdW0nIHwgJ2hpZ2gnID0gJ21lZGl1bScpOiBQcm9taXNlPE1vZGVsU2VsZWN0aW9uUmVzcG9uc2U+IHtcbiAgICByZXR1cm4gdGhpcy5zZWxlY3RNb2RlbCh7XG4gICAgICB0YXNrX3R5cGU6IHRhc2tUeXBlIGFzIGFueSxcbiAgICAgIHF1YWxpdHlfcmVxdWlyZW1lbnQ6IHF1YWxpdHlcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIHNlbGVjdENvc3RPcHRpbWl6ZWQodGFza1R5cGU6IHN0cmluZywgbWF4Q29zdDogbnVtYmVyID0gMC4wMSk6IFByb21pc2U8TW9kZWxTZWxlY3Rpb25SZXNwb25zZT4ge1xuICAgIHJldHVybiB0aGlzLnNlbGVjdE1vZGVsKHtcbiAgICAgIHRhc2tfdHlwZTogdGFza1R5cGUgYXMgYW55LFxuICAgICAgcXVhbGl0eV9yZXF1aXJlbWVudDogJ21lZGl1bScsXG4gICAgICBtYXhfY29zdDogbWF4Q29zdFxuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgc2VsZWN0SGlnaFBlcmZvcm1hbmNlKHRhc2tUeXBlOiBzdHJpbmcpOiBQcm9taXNlPE1vZGVsU2VsZWN0aW9uUmVzcG9uc2U+IHtcbiAgICByZXR1cm4gdGhpcy5zZWxlY3RNb2RlbCh7XG4gICAgICB0YXNrX3R5cGU6IHRhc2tUeXBlIGFzIGFueSxcbiAgICAgIHF1YWxpdHlfcmVxdWlyZW1lbnQ6ICdoaWdoJ1xuICAgIH0pO1xuICB9XG5cbiAgLy8gVXRpbGl0eSBtZXRob2RzXG4gIGlzQ29ubmVjdGVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmRldlBpcGVDbGllbnQuaXNSZWFkeSgpO1xuICB9XG5cbiAgZ2V0Q29uZmlnKCk6IE1vZGVsU2VsZWN0aW9uQ29uZmlnIHtcbiAgICByZXR1cm4geyAuLi50aGlzLmNvbmZpZyB9O1xuICB9XG5cbiAgYXN5bmMgZGlzY29ubmVjdCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBhd2FpdCB0aGlzLmRldlBpcGVDbGllbnQuZGlzY29ubmVjdCgpO1xuICB9XG59XG4iLCIvKipcbiAqIE1vZGFsIENsYXNzZXMgZm9yIFZhdWx0UGlsb3QgVmF1bHQgTWFuYWdlbWVudFxuICovXG5cbmltcG9ydCB7IEFwcCwgTW9kYWwsIFNldHRpbmcsIE5vdGljZSB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IFZhdWx0TWFuYWdlbWVudENsaWVudCB9IGZyb20gJy4vdmF1bHQtYXBpLWNsaWVudCc7XG5pbXBvcnQgeyBcbiAgVmF1bHRTdHJ1Y3R1cmVSZXNwb25zZSwgXG4gIFZhdWx0U2VhcmNoUmVzcG9uc2UsIFxuICBGaWxlT3BlcmF0aW9uUmVxdWVzdCxcbiAgU2VhcmNoVHlwZSxcbiAgVmF1bHRPcmdhbml6YXRpb25SZXNwb25zZVxufSBmcm9tICcuL3ZhdWx0LXR5cGVzJztcblxuLy8gPT09IFZBVUxUIFNUUlVDVFVSRSBNT0RBTCA9PT1cblxuZXhwb3J0IGNsYXNzIFZhdWx0U3RydWN0dXJlTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XG4gIHByaXZhdGUgcGx1Z2luOiBhbnk7XG4gIHByaXZhdGUgdmF1bHRDbGllbnQ6IFZhdWx0TWFuYWdlbWVudENsaWVudDtcbiAgcHJpdmF0ZSBmb2N1c1BhdGg/OiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogYW55KSB7XG4gICAgc3VwZXIoYXBwKTtcbiAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICB0aGlzLnZhdWx0Q2xpZW50ID0gcGx1Z2luLnZhdWx0Q2xpZW50O1xuICB9XG5cbiAgc2V0Rm9jdXNQYXRoKHBhdGg6IHN0cmluZyk6IHRoaXMge1xuICAgIHRoaXMuZm9jdXNQYXRoID0gcGF0aDtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGFzeW5jIG9uT3BlbigpIHtcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgICBjb250ZW50RWwuYWRkQ2xhc3MoJ3ZhdWx0LXN0cnVjdHVyZS1tb2RhbCcpO1xuICAgIFxuICAgIGNvbnN0IGhlYWRlckVsID0gY29udGVudEVsLmNyZWF0ZUVsKCdkaXYnLCB7IGNsczogJ21vZGFsLWhlYWRlcicgfSk7XG4gICAgaGVhZGVyRWwuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAnVmF1bHQgU3RydWN0dXJlIEFuYWx5c2lzJyB9KTtcbiAgICBcbiAgICBjb25zdCByZWZyZXNoQnV0dG9uID0gaGVhZGVyRWwuY3JlYXRlRWwoJ2J1dHRvbicsIHsgXG4gICAgICB0ZXh0OiAn8J+UhCBSZWZyZXNoJyxcbiAgICAgIGNsczogJ21vZC1jdGEnXG4gICAgfSk7XG4gICAgXG4gICAgLy8gTG9hZGluZyBzdGF0ZVxuICAgIGNvbnN0IGxvYWRpbmdFbCA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoeyBjbHM6ICd2YXVsdC1sb2FkaW5nJyB9KTtcbiAgICBsb2FkaW5nRWwuc2V0VGV4dCgn8J+UjSBBbmFseXppbmcgdmF1bHQgc3RydWN0dXJlLi4uJyk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3Qgc3RydWN0dXJlID0gYXdhaXQgdGhpcy52YXVsdENsaWVudC5nZXRWYXVsdFN0cnVjdHVyZSh7XG4gICAgICAgIGluY2x1ZGVfY29udGVudDogZmFsc2UsXG4gICAgICAgIG1heF9kZXB0aDogNVxuICAgICAgfSk7XG5cbiAgICAgIGxvYWRpbmdFbC5yZW1vdmUoKTtcbiAgICAgIHRoaXMucmVuZGVyU3RydWN0dXJlKGNvbnRlbnRFbCwgc3RydWN0dXJlKTtcbiAgICAgIFxuICAgICAgcmVmcmVzaEJ1dHRvbi5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgICB0aGlzLm9uT3BlbigpO1xuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICBsb2FkaW5nRWwuc2V0VGV4dCgn4p2MIEZhaWxlZCB0byBsb2FkIHZhdWx0IHN0cnVjdHVyZScpO1xuICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICBcbiAgICAgIGNvbnN0IHJldHJ5QnV0dG9uID0gY29udGVudEVsLmNyZWF0ZUVsKCdidXR0b24nLCB7IFxuICAgICAgICB0ZXh0OiAnUmV0cnknLFxuICAgICAgICBjbHM6ICdtb2QtY3RhJ1xuICAgICAgfSk7XG4gICAgICByZXRyeUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4gdGhpcy5vbk9wZW4oKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJlbmRlclN0cnVjdHVyZShjb250YWluZXI6IEhUTUxFbGVtZW50LCBzdHJ1Y3R1cmU6IFZhdWx0U3RydWN0dXJlUmVzcG9uc2UpIHtcbiAgICAvLyBTdGF0cyBvdmVydmlld1xuICAgIGNvbnN0IHN0YXRzRWwgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAndmF1bHQtc3RhdHMnIH0pO1xuICAgIHN0YXRzRWwuaW5uZXJIVE1MID0gYFxuICAgICAgPGRpdiBjbGFzcz1cInN0YXQtZ3JpZFwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1pdGVtXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJzdGF0LWljb25cIj7wn5OBPC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwic3RhdC1sYWJlbFwiPkZpbGVzPC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwic3RhdC12YWx1ZVwiPiR7c3RydWN0dXJlLnRvdGFsX2ZpbGVzfTwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWl0ZW1cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInN0YXQtaWNvblwiPvCfk4I8L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJzdGF0LWxhYmVsXCI+Rm9sZGVyczwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInN0YXQtdmFsdWVcIj4ke3N0cnVjdHVyZS50b3RhbF9mb2xkZXJzfTwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWl0ZW1cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInN0YXQtaWNvblwiPvCfkr48L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJzdGF0LWxhYmVsXCI+U2l6ZTwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInN0YXQtdmFsdWVcIj4keyhzdHJ1Y3R1cmUudG90YWxfc2l6ZSAvIDEwMjQgLyAxMDI0KS50b0ZpeGVkKDIpfSBNQjwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuXG4gICAgLy8gRm9sZGVyIHRyZWVcbiAgICBjb25zdCB0cmVlQ29udGFpbmVyID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ3ZhdWx0LXRyZWUtY29udGFpbmVyJyB9KTtcbiAgICB0cmVlQ29udGFpbmVyLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ0ZvbGRlciBTdHJ1Y3R1cmUnIH0pO1xuICAgIFxuICAgIGNvbnN0IHRyZWVFbCA9IHRyZWVDb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAndmF1bHQtdHJlZScgfSk7XG4gICAgdGhpcy5yZW5kZXJGb2xkZXIodHJlZUVsLCBzdHJ1Y3R1cmUuc3RydWN0dXJlLCAwKTtcblxuICAgIC8vIFJlY2VudCBmaWxlc1xuICAgIGlmIChzdHJ1Y3R1cmUucmVjZW50X2ZpbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHJlY2VudENvbnRhaW5lciA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdyZWNlbnQtZmlsZXMtY29udGFpbmVyJyB9KTtcbiAgICAgIHJlY2VudENvbnRhaW5lci5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdSZWNlbnQgRmlsZXMnIH0pO1xuICAgICAgXG4gICAgICBjb25zdCByZWNlbnRFbCA9IHJlY2VudENvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdyZWNlbnQtZmlsZXMnIH0pO1xuICAgICAgc3RydWN0dXJlLnJlY2VudF9maWxlcy5zbGljZSgwLCAxMCkuZm9yRWFjaChmaWxlID0+IHtcbiAgICAgICAgY29uc3QgZmlsZUVsID0gcmVjZW50RWwuY3JlYXRlRGl2KHsgY2xzOiAncmVjZW50LWZpbGUnIH0pO1xuICAgICAgICBmaWxlRWwuaW5uZXJIVE1MID0gYFxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmlsZS1pY29uXCI+8J+ThDwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImZpbGUtbmFtZVwiPiR7ZmlsZS5uYW1lfTwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImZpbGUtZGF0ZVwiPiR7bmV3IERhdGUoZmlsZS5tb2RpZmllZCkudG9Mb2NhbGVEYXRlU3RyaW5nKCl9PC9zcGFuPlxuICAgICAgICBgO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gT3JwaGFuZWQgZmlsZXNcbiAgICBpZiAoc3RydWN0dXJlLm9ycGhhbmVkX2ZpbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IG9ycGhhbmVkQ29udGFpbmVyID0gY29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ29ycGhhbmVkLWZpbGVzLWNvbnRhaW5lcicgfSk7XG4gICAgICBvcnBoYW5lZENvbnRhaW5lci5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICfimqDvuI8gT3JwaGFuZWQgRmlsZXMnIH0pO1xuICAgICAgXG4gICAgICBjb25zdCBvcnBoYW5lZEVsID0gb3JwaGFuZWRDb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnb3JwaGFuZWQtZmlsZXMnIH0pO1xuICAgICAgc3RydWN0dXJlLm9ycGhhbmVkX2ZpbGVzLmZvckVhY2goZmlsZSA9PiB7XG4gICAgICAgIGNvbnN0IG9ycGhhbkVsID0gb3JwaGFuZWRFbC5jcmVhdGVEaXYoeyBjbHM6ICdvcnBoYW5lZC1maWxlJyB9KTtcbiAgICAgICAgb3JwaGFuRWwuaW5uZXJIVE1MID0gYFxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmlsZS1pY29uXCI+8J+Ulzwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImZpbGUtcGF0aFwiPiR7ZmlsZS5wYXRofTwvc3Bhbj5cbiAgICAgICAgYDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyRm9sZGVyKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGZvbGRlcjogYW55LCBsZXZlbDogbnVtYmVyKSB7XG4gICAgY29uc3QgZm9sZGVyRWwgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgXG4gICAgICBjbHM6ICdmb2xkZXItaXRlbScsXG4gICAgICBhdHRyOiB7ICdkYXRhLWxldmVsJzogbGV2ZWwudG9TdHJpbmcoKSB9XG4gICAgfSk7XG4gICAgXG4gICAgZm9sZGVyRWwuaW5uZXJIVE1MID0gYFxuICAgICAgPHNwYW4gY2xhc3M9XCJmb2xkZXItdG9nZ2xlXCI+4pa2PC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3M9XCJmb2xkZXItaWNvblwiPvCfk4E8L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzcz1cImZvbGRlci1uYW1lXCI+JHtmb2xkZXIubmFtZX08L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzcz1cImZvbGRlci1jb3VudFwiPigke2ZvbGRlci5jaGlsZHJlbi5sZW5ndGh9KTwvc3Bhbj5cbiAgICBgO1xuXG4gICAgLy8gQWRkIGNoaWxkcmVuIGNvbnRhaW5lclxuICAgIGNvbnN0IGNoaWxkcmVuRWwgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgXG4gICAgICBjbHM6ICdmb2xkZXItY2hpbGRyZW4nLFxuICAgICAgYXR0cjogeyBzdHlsZTogJ2Rpc3BsYXk6IG5vbmU7JyB9XG4gICAgfSk7XG5cbiAgICAvLyBUb2dnbGUgZnVuY3Rpb25hbGl0eVxuICAgIGNvbnN0IHRvZ2dsZUVsID0gZm9sZGVyRWwucXVlcnlTZWxlY3RvcignLmZvbGRlci10b2dnbGUnKSBhcyBIVE1MRWxlbWVudDtcbiAgICB0b2dnbGVFbC5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgY29uc3QgaXNPcGVuID0gY2hpbGRyZW5FbC5zdHlsZS5kaXNwbGF5ICE9PSAnbm9uZSc7XG4gICAgICBjaGlsZHJlbkVsLnN0eWxlLmRpc3BsYXkgPSBpc09wZW4gPyAnbm9uZScgOiAnYmxvY2snO1xuICAgICAgdG9nZ2xlRWwudGV4dENvbnRlbnQgPSBpc09wZW4gPyAn4pa2JyA6ICfilrwnO1xuICAgIH07XG5cbiAgICAvLyBSZW5kZXIgY2hpbGRyZW5cbiAgICBmb2xkZXIuY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQ6IGFueSkgPT4ge1xuICAgICAgaWYgKGNoaWxkLnR5cGUgPT09ICdmb2xkZXInKSB7XG4gICAgICAgIHRoaXMucmVuZGVyRm9sZGVyKGNoaWxkcmVuRWwsIGNoaWxkLCBsZXZlbCArIDEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgZmlsZUVsID0gY2hpbGRyZW5FbC5jcmVhdGVEaXYoeyBcbiAgICAgICAgICBjbHM6ICdmaWxlLWl0ZW0nLFxuICAgICAgICAgIGF0dHI6IHsgJ2RhdGEtbGV2ZWwnOiAobGV2ZWwgKyAxKS50b1N0cmluZygpIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGZpbGVFbC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJmaWxlLWljb25cIj7wn5OEPC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmlsZS1uYW1lXCI+JHtjaGlsZC5uYW1lfTwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImZpbGUtc2l6ZVwiPiR7KGNoaWxkLnNpemUgLyAxMDI0KS50b0ZpeGVkKDEpfUtCPC9zcGFuPlxuICAgICAgICBgO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgb25DbG9zZSgpIHtcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgfVxufVxuXG4vLyA9PT0gU01BUlQgU0VBUkNIIE1PREFMID09PVxuXG5leHBvcnQgY2xhc3MgU21hcnRTZWFyY2hNb2RhbCBleHRlbmRzIE1vZGFsIHtcbiAgcHJpdmF0ZSBwbHVnaW46IGFueTtcbiAgcHJpdmF0ZSB2YXVsdENsaWVudDogVmF1bHRNYW5hZ2VtZW50Q2xpZW50O1xuICBwcml2YXRlIGluaXRpYWxRdWVyeT86IHN0cmluZztcbiAgcHJpdmF0ZSBzZWFyY2hUeXBlPzogU2VhcmNoVHlwZTtcblxuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBhbnkpIHtcbiAgICBzdXBlcihhcHApO1xuICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICAgIHRoaXMudmF1bHRDbGllbnQgPSBwbHVnaW4udmF1bHRDbGllbnQ7XG4gIH1cblxuICBzZXRJbml0aWFsUXVlcnkocXVlcnk6IHN0cmluZywgdHlwZT86IFNlYXJjaFR5cGUpOiB0aGlzIHtcbiAgICB0aGlzLmluaXRpYWxRdWVyeSA9IHF1ZXJ5O1xuICAgIHRoaXMuc2VhcmNoVHlwZSA9IHR5cGU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBhc3luYyBvbk9wZW4oKSB7XG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgY29udGVudEVsLmVtcHR5KCk7XG4gICAgY29udGVudEVsLmFkZENsYXNzKCdzbWFydC1zZWFyY2gtbW9kYWwnKTtcbiAgICBcbiAgICBjb250ZW50RWwuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAn8J+UjSBTbWFydCBWYXVsdCBTZWFyY2gnIH0pO1xuXG4gICAgLy8gU2VhcmNoIGZvcm1cbiAgICBjb25zdCBzZWFyY2hGb3JtID0gY29udGVudEVsLmNyZWF0ZURpdih7IGNsczogJ3NlYXJjaC1mb3JtJyB9KTtcbiAgICBcbiAgICBjb25zdCBxdWVyeUlucHV0ID0gc2VhcmNoRm9ybS5jcmVhdGVFbCgnaW5wdXQnLCB7XG4gICAgICB0eXBlOiAndGV4dCcsXG4gICAgICBwbGFjZWhvbGRlcjogJ0VudGVyIHNlYXJjaCBxdWVyeS4uLicsXG4gICAgICBjbHM6ICdzZWFyY2gtcXVlcnktaW5wdXQnXG4gICAgfSk7XG4gICAgXG4gICAgaWYgKHRoaXMuaW5pdGlhbFF1ZXJ5KSB7XG4gICAgICBxdWVyeUlucHV0LnZhbHVlID0gdGhpcy5pbml0aWFsUXVlcnk7XG4gICAgfVxuXG4gICAgY29uc3Qgc2VhcmNoVHlwZVNlbGVjdCA9IHNlYXJjaEZvcm0uY3JlYXRlRWwoJ3NlbGVjdCcsIHsgY2xzOiAnc2VhcmNoLXR5cGUtc2VsZWN0JyB9KTtcbiAgICBjb25zdCBzZWFyY2hUeXBlcyA9IFtcbiAgICAgIHsgdmFsdWU6ICdjb21wcmVoZW5zaXZlJywgbGFiZWw6ICdDb21wcmVoZW5zaXZlJyB9LFxuICAgICAgeyB2YWx1ZTogJ2NvbnRlbnQnLCBsYWJlbDogJ0NvbnRlbnQnIH0sXG4gICAgICB7IHZhbHVlOiAnZmlsZW5hbWUnLCBsYWJlbDogJ0ZpbGVuYW1lJyB9LFxuICAgICAgeyB2YWx1ZTogJ3RhZ3MnLCBsYWJlbDogJ1RhZ3MnIH0sXG4gICAgICB7IHZhbHVlOiAnbGlua3MnLCBsYWJlbDogJ0xpbmtzJyB9XG4gICAgXTtcbiAgICBcbiAgICBzZWFyY2hUeXBlcy5mb3JFYWNoKHR5cGUgPT4ge1xuICAgICAgY29uc3Qgb3B0aW9uID0gc2VhcmNoVHlwZVNlbGVjdC5jcmVhdGVFbCgnb3B0aW9uJywgeyB2YWx1ZTogdHlwZS52YWx1ZSB9KTtcbiAgICAgIG9wdGlvbi50ZXh0Q29udGVudCA9IHR5cGUubGFiZWw7XG4gICAgICBpZiAodHlwZS52YWx1ZSA9PT0gKHRoaXMuc2VhcmNoVHlwZSB8fCAnY29tcHJlaGVuc2l2ZScpKSB7XG4gICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCBzZWFyY2hCdXR0b24gPSBzZWFyY2hGb3JtLmNyZWF0ZUVsKCdidXR0b24nLCB7IFxuICAgICAgdGV4dDogJ1NlYXJjaCcsXG4gICAgICBjbHM6ICdtb2QtY3RhIHNlYXJjaC1idXR0b24nXG4gICAgfSk7XG5cbiAgICAvLyBSZXN1bHRzIGNvbnRhaW5lclxuICAgIGNvbnN0IHJlc3VsdHNDb250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiAnc2VhcmNoLXJlc3VsdHMtY29udGFpbmVyJyB9KTtcblxuICAgIC8vIFNlYXJjaCBmdW5jdGlvblxuICAgIGNvbnN0IHBlcmZvcm1TZWFyY2ggPSBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBxdWVyeSA9IHF1ZXJ5SW5wdXQudmFsdWUudHJpbSgpO1xuICAgICAgaWYgKCFxdWVyeSkge1xuICAgICAgICBuZXcgTm90aWNlKCdQbGVhc2UgZW50ZXIgYSBzZWFyY2ggcXVlcnknKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBzZWFyY2hCdXR0b24udGV4dENvbnRlbnQgPSAnU2VhcmNoaW5nLi4uJztcbiAgICAgIHNlYXJjaEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICByZXN1bHRzQ29udGFpbmVyLmVtcHR5KCk7XG4gICAgICBcbiAgICAgIGNvbnN0IGxvYWRpbmdFbCA9IHJlc3VsdHNDb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnc2VhcmNoLWxvYWRpbmcnIH0pO1xuICAgICAgbG9hZGluZ0VsLnRleHRDb250ZW50ID0gJ/CflI0gU2VhcmNoaW5nIHZhdWx0Li4uJztcblxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IHRoaXMudmF1bHRDbGllbnQuc2VhcmNoVmF1bHQoe1xuICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgIHNlYXJjaF90eXBlOiBzZWFyY2hUeXBlU2VsZWN0LnZhbHVlIGFzIFNlYXJjaFR5cGUsXG4gICAgICAgICAgbWF4X3Jlc3VsdHM6IHRoaXMucGx1Z2luLnNldHRpbmdzLnZhdWx0TWFuYWdlbWVudD8uc2VhcmNoUmVzdWx0c0xpbWl0IHx8IDUwLFxuICAgICAgICAgIGluY2x1ZGVfY29udGVudDogdHJ1ZVxuICAgICAgICB9KTtcblxuICAgICAgICBsb2FkaW5nRWwucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMucmVuZGVyU2VhcmNoUmVzdWx0cyhyZXN1bHRzQ29udGFpbmVyLCByZXN1bHRzKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgICAgbG9hZGluZ0VsLnRleHRDb250ZW50ID0gJ+KdjCBTZWFyY2ggZmFpbGVkJztcbiAgICAgICAgY29uc29sZS5lcnJvcignU2VhcmNoIGVycm9yOicsIGVycm9yKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNlYXJjaEJ1dHRvbi50ZXh0Q29udGVudCA9ICdTZWFyY2gnO1xuICAgICAgICBzZWFyY2hCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gRXZlbnQgbGlzdGVuZXJzXG4gICAgc2VhcmNoQnV0dG9uLm9uY2xpY2sgPSBwZXJmb3JtU2VhcmNoO1xuICAgIHF1ZXJ5SW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCAoZSkgPT4ge1xuICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInKSB7XG4gICAgICAgIHBlcmZvcm1TZWFyY2goKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEF1dG8tc2VhcmNoIGlmIGluaXRpYWwgcXVlcnkgcHJvdmlkZWRcbiAgICBpZiAodGhpcy5pbml0aWFsUXVlcnkpIHtcbiAgICAgIHBlcmZvcm1TZWFyY2goKTtcbiAgICB9XG5cbiAgICAvLyBGb2N1cyBpbnB1dFxuICAgIHF1ZXJ5SW5wdXQuZm9jdXMoKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyU2VhcmNoUmVzdWx0cyhjb250YWluZXI6IEhUTUxFbGVtZW50LCByZXN1bHRzOiBWYXVsdFNlYXJjaFJlc3BvbnNlKSB7XG4gICAgY29udGFpbmVyLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogYFNlYXJjaCBSZXN1bHRzICgke3Jlc3VsdHMudG90YWxfZm91bmR9KWAgfSk7XG5cbiAgICBpZiAocmVzdWx0cy5pbnNpZ2h0cykge1xuICAgICAgY29uc3QgaW5zaWdodHNFbCA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdzZWFyY2gtaW5zaWdodHMnIH0pO1xuICAgICAgaW5zaWdodHNFbC5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJpbnNpZ2h0cy1oZWFkZXJcIj7wn6egIEFJIEluc2lnaHRzPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJpbnNpZ2h0cy1jb250ZW50XCI+JHtyZXN1bHRzLmluc2lnaHRzfTwvZGl2PlxuICAgICAgYDtcbiAgICB9XG5cbiAgICBpZiAocmVzdWx0cy5yZXN1bHRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29udGFpbmVyLmNyZWF0ZURpdih7IFxuICAgICAgICBjbHM6ICduby1yZXN1bHRzJyxcbiAgICAgICAgdGV4dDogJ05vIHJlc3VsdHMgZm91bmQuIFRyeSBhIGRpZmZlcmVudCBzZWFyY2ggdGVybSBvciB0eXBlLicgXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCByZXN1bHRzTGlzdCA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6ICdzZWFyY2gtcmVzdWx0cy1saXN0JyB9KTtcbiAgICBcbiAgICByZXN1bHRzLnJlc3VsdHMuZm9yRWFjaChyZXN1bHQgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0RWwgPSByZXN1bHRzTGlzdC5jcmVhdGVEaXYoeyBjbHM6ICdzZWFyY2gtcmVzdWx0JyB9KTtcbiAgICAgIFxuICAgICAgcmVzdWx0RWwuaW5uZXJIVE1MID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwicmVzdWx0LWhlYWRlclwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwicmVzdWx0LWZpbGUtbmFtZVwiPiR7cmVzdWx0LmZpbGVfbmFtZX08L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJyZXN1bHQtbWF0Y2gtdHlwZVwiPiR7cmVzdWx0Lm1hdGNoX3R5cGV9PC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwicmVzdWx0LXNjb3JlXCI+JHsocmVzdWx0LnNjb3JlICogMTAwKS50b0ZpeGVkKDApfSU8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwicmVzdWx0LXBhdGhcIj4ke3Jlc3VsdC5maWxlX3BhdGh9PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJyZXN1bHQtcHJldmlld1wiPiR7cmVzdWx0LnByZXZpZXd9PC9kaXY+XG4gICAgICAgICR7cmVzdWx0Lm1hdGNoZXMubGVuZ3RoID4gMCA/IGBcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVzdWx0LW1hdGNoZXNcIj5cbiAgICAgICAgICAgIDxzdHJvbmc+TWF0Y2hlczo8L3N0cm9uZz4gJHtyZXN1bHQubWF0Y2hlcy5qb2luKCcsICcpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgIDogJyd9XG4gICAgICBgO1xuXG4gICAgICAvLyBDbGljayB0byBvcGVuIGZpbGVcbiAgICAgIHJlc3VsdEVsLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMuYXBwLndvcmtzcGFjZS5vcGVuTGlua1RleHQocmVzdWx0LmZpbGVfcGF0aCwgJycpO1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gU3VnZ2VzdGVkIHF1ZXJpZXNcbiAgICBpZiAocmVzdWx0cy5zdWdnZXN0ZWRfcXVlcmllcyAmJiByZXN1bHRzLnN1Z2dlc3RlZF9xdWVyaWVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHN1Z2dlc3Rpb25zRWwgPSBjb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiAnc3VnZ2VzdGVkLXF1ZXJpZXMnIH0pO1xuICAgICAgc3VnZ2VzdGlvbnNFbC5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6ICfwn5KhIFN1Z2dlc3RlZCBRdWVyaWVzJyB9KTtcbiAgICAgIFxuICAgICAgY29uc3Qgc3VnZ2VzdGlvbnNMaXN0ID0gc3VnZ2VzdGlvbnNFbC5jcmVhdGVEaXYoeyBjbHM6ICdzdWdnZXN0aW9ucy1saXN0JyB9KTtcbiAgICAgIHJlc3VsdHMuc3VnZ2VzdGVkX3F1ZXJpZXMuZm9yRWFjaChzdWdnZXN0aW9uID0+IHtcbiAgICAgICAgY29uc3Qgc3VnZ2VzdGlvbkVsID0gc3VnZ2VzdGlvbnNMaXN0LmNyZWF0ZUVsKCdidXR0b24nLCB7IFxuICAgICAgICAgIHRleHQ6IHN1Z2dlc3Rpb24sXG4gICAgICAgICAgY2xzOiAnc3VnZ2VzdGlvbi1idXR0b24nXG4gICAgICAgIH0pO1xuICAgICAgICBzdWdnZXN0aW9uRWwub25jbGljayA9ICgpID0+IHtcbiAgICAgICAgICBjb25zdCBxdWVyeUlucHV0ID0gdGhpcy5jb250ZW50RWwucXVlcnlTZWxlY3RvcignLnNlYXJjaC1xdWVyeS1pbnB1dCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgICAgICAgaWYgKHF1ZXJ5SW5wdXQpIHtcbiAgICAgICAgICAgIHF1ZXJ5SW5wdXQudmFsdWUgPSBzdWdnZXN0aW9uO1xuICAgICAgICAgICAgcXVlcnlJbnB1dC5kaXNwYXRjaEV2ZW50KG5ldyBLZXlib2FyZEV2ZW50KCdrZXlwcmVzcycsIHsga2V5OiAnRW50ZXInIH0pKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBvbkNsb3NlKCkge1xuICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuICB9XG59XG5cbi8vID09PSBGSUxFIE9QRVJBVElPTlMgTU9EQUwgPT09XG5cbmV4cG9ydCBjbGFzcyBGaWxlT3BlcmF0aW9uc01vZGFsIGV4dGVuZHMgTW9kYWwge1xuICBwcml2YXRlIHBsdWdpbjogYW55O1xuICBwcml2YXRlIHZhdWx0Q2xpZW50OiBWYXVsdE1hbmFnZW1lbnRDbGllbnQ7XG4gIHByaXZhdGUgaW5pdGlhbFBhdGg/OiBzdHJpbmc7XG4gIHByaXZhdGUgb3BlcmF0aW9uPzogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IGFueSkge1xuICAgIHN1cGVyKGFwcCk7XG4gICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gICAgdGhpcy52YXVsdENsaWVudCA9IHBsdWdpbi52YXVsdENsaWVudDtcbiAgfVxuXG4gIHNldEluaXRpYWxQYXRoKHBhdGg6IHN0cmluZyk6IHRoaXMge1xuICAgIHRoaXMuaW5pdGlhbFBhdGggPSBwYXRoO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgc2V0T3BlcmF0aW9uKG9wZXJhdGlvbjogc3RyaW5nKTogdGhpcyB7XG4gICAgdGhpcy5vcGVyYXRpb24gPSBvcGVyYXRpb247XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBhc3luYyBvbk9wZW4oKSB7XG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgY29udGVudEVsLmVtcHR5KCk7XG4gICAgY29udGVudEVsLmFkZENsYXNzKCdmaWxlLW9wZXJhdGlvbnMtbW9kYWwnKTtcbiAgICBcbiAgICBjb250ZW50RWwuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAn8J+TgSBGaWxlIE9wZXJhdGlvbnMgTWFuYWdlcicgfSk7XG5cbiAgICAvLyBPcGVyYXRpb24gc2VsZWN0aW9uXG4gICAgbmV3IFNldHRpbmcoY29udGVudEVsKVxuICAgICAgLnNldE5hbWUoJ09wZXJhdGlvbicpXG4gICAgICAuc2V0RGVzYygnU2VsZWN0IHRoZSBmaWxlIG9wZXJhdGlvbiB0byBwZXJmb3JtJylcbiAgICAgIC5hZGREcm9wZG93bihkcm9wZG93biA9PiBkcm9wZG93blxuICAgICAgICAuYWRkT3B0aW9uKCdjcmVhdGUnLCAnQ3JlYXRlIEZpbGUnKVxuICAgICAgICAuYWRkT3B0aW9uKCd1cGRhdGUnLCAnVXBkYXRlIEZpbGUnKVxuICAgICAgICAuYWRkT3B0aW9uKCdkZWxldGUnLCAnRGVsZXRlIEZpbGUnKVxuICAgICAgICAuYWRkT3B0aW9uKCdtb3ZlJywgJ01vdmUgRmlsZScpXG4gICAgICAgIC5hZGRPcHRpb24oJ2NvcHknLCAnQ29weSBGaWxlJylcbiAgICAgICAgLnNldFZhbHVlKHRoaXMub3BlcmF0aW9uIHx8ICdjcmVhdGUnKVxuICAgICAgICAub25DaGFuZ2UodmFsdWUgPT4ge1xuICAgICAgICAgIHRoaXMub3BlcmF0aW9uID0gdmFsdWU7XG4gICAgICAgICAgdGhpcy51cGRhdGVPcGVyYXRpb25Gb3JtKCk7XG4gICAgICAgIH0pKTtcblxuICAgIC8vIE9wZXJhdGlvbiBmb3JtIGNvbnRhaW5lclxuICAgIGNvbnN0IGZvcm1Db250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiAnb3BlcmF0aW9uLWZvcm0nIH0pO1xuICAgIHRoaXMudXBkYXRlT3BlcmF0aW9uRm9ybSgpO1xuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVPcGVyYXRpb25Gb3JtKCkge1xuICAgIGNvbnN0IGZvcm1Db250YWluZXIgPSB0aGlzLmNvbnRlbnRFbC5xdWVyeVNlbGVjdG9yKCcub3BlcmF0aW9uLWZvcm0nKSBhcyBIVE1MRWxlbWVudDtcbiAgICBpZiAoIWZvcm1Db250YWluZXIpIHJldHVybjtcbiAgICBcbiAgICBmb3JtQ29udGFpbmVyLmVtcHR5KCk7XG5cbiAgICBjb25zdCBvcGVyYXRpb24gPSB0aGlzLm9wZXJhdGlvbiB8fCAnY3JlYXRlJztcbiAgICBcbiAgICAvLyBGaWxlIHBhdGggaW5wdXRcbiAgICBuZXcgU2V0dGluZyhmb3JtQ29udGFpbmVyKVxuICAgICAgLnNldE5hbWUoJ0ZpbGUgUGF0aCcpXG4gICAgICAuc2V0RGVzYygnUGF0aCB0byB0aGUgZmlsZSAoaW5jbHVkaW5nIGZpbGVuYW1lKScpXG4gICAgICAuYWRkVGV4dCh0ZXh0ID0+IHRleHRcbiAgICAgICAgLnNldFBsYWNlaG9sZGVyKCdwYXRoL3RvL2ZpbGUubWQnKVxuICAgICAgICAuc2V0VmFsdWUodGhpcy5pbml0aWFsUGF0aCB8fCAnJylcbiAgICAgICAgLm9uQ2hhbmdlKHZhbHVlID0+IHRoaXMuaW5pdGlhbFBhdGggPSB2YWx1ZSkpO1xuXG4gICAgLy8gQWRkaXRpb25hbCBpbnB1dHMgYmFzZWQgb24gb3BlcmF0aW9uXG4gICAgaWYgKG9wZXJhdGlvbiA9PT0gJ21vdmUnIHx8IG9wZXJhdGlvbiA9PT0gJ2NvcHknKSB7XG4gICAgICBuZXcgU2V0dGluZyhmb3JtQ29udGFpbmVyKVxuICAgICAgICAuc2V0TmFtZSgnTmV3IFBhdGgnKVxuICAgICAgICAuc2V0RGVzYygnRGVzdGluYXRpb24gcGF0aCBmb3IgdGhlIGZpbGUnKVxuICAgICAgICAuYWRkVGV4dCh0ZXh0ID0+IHRleHRcbiAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoJ25ldy9wYXRoL3RvL2ZpbGUubWQnKSk7XG4gICAgfVxuXG4gICAgaWYgKG9wZXJhdGlvbiA9PT0gJ2NyZWF0ZScgfHwgb3BlcmF0aW9uID09PSAndXBkYXRlJykge1xuICAgICAgbmV3IFNldHRpbmcoZm9ybUNvbnRhaW5lcilcbiAgICAgICAgLnNldE5hbWUoJ0NvbnRlbnQnKVxuICAgICAgICAuc2V0RGVzYygnRmlsZSBjb250ZW50JylcbiAgICAgICAgLmFkZFRleHRBcmVhKHRleHRhcmVhID0+IHtcbiAgICAgICAgICB0ZXh0YXJlYS5zZXRQbGFjZWhvbGRlcignRW50ZXIgZmlsZSBjb250ZW50Li4uJyk7XG4gICAgICAgICAgaWYgKG9wZXJhdGlvbiA9PT0gJ2NyZWF0ZScpIHtcbiAgICAgICAgICAgIHRleHRhcmVhLnNldFZhbHVlKCcjIE5ldyBGaWxlXFxuXFxuQ29udGVudCBnb2VzIGhlcmUuLi4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEJhY2t1cCBvcHRpb25cbiAgICBpZiAob3BlcmF0aW9uICE9PSAnY3JlYXRlJykge1xuICAgICAgbmV3IFNldHRpbmcoZm9ybUNvbnRhaW5lcilcbiAgICAgICAgLnNldE5hbWUoJ0NyZWF0ZSBCYWNrdXAnKVxuICAgICAgICAuc2V0RGVzYygnQ3JlYXRlIGEgYmFja3VwIGJlZm9yZSBwZXJmb3JtaW5nIHRoZSBvcGVyYXRpb24nKVxuICAgICAgICAuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGUuc2V0VmFsdWUodHJ1ZSkpO1xuICAgIH1cblxuICAgIC8vIEV4ZWN1dGUgYnV0dG9uXG4gICAgbmV3IFNldHRpbmcoZm9ybUNvbnRhaW5lcilcbiAgICAgIC5hZGRCdXR0b24oYnV0dG9uID0+IGJ1dHRvblxuICAgICAgICAuc2V0QnV0dG9uVGV4dChgRXhlY3V0ZSAke29wZXJhdGlvbi5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIG9wZXJhdGlvbi5zbGljZSgxKX1gKVxuICAgICAgICAuc2V0Q3RhKClcbiAgICAgICAgLm9uQ2xpY2soKCkgPT4gdGhpcy5leGVjdXRlT3BlcmF0aW9uKCkpKTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgZXhlY3V0ZU9wZXJhdGlvbigpIHtcbiAgICBjb25zdCBvcGVyYXRpb24gPSB0aGlzLm9wZXJhdGlvbiB8fCAnY3JlYXRlJztcbiAgICBjb25zdCBwYXRoSW5wdXQgPSB0aGlzLmNvbnRlbnRFbC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtwbGFjZWhvbGRlcio9XCJwYXRoL3RvL2ZpbGVcIl0nKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgIGNvbnN0IG5ld1BhdGhJbnB1dCA9IHRoaXMuY29udGVudEVsLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3BsYWNlaG9sZGVyKj1cIm5ldy9wYXRoXCJdJykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICBjb25zdCBjb250ZW50VGV4dGFyZWEgPSB0aGlzLmNvbnRlbnRFbC5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYScpIGFzIEhUTUxUZXh0QXJlYUVsZW1lbnQ7XG4gICAgY29uc3QgYmFja3VwVG9nZ2xlID0gdGhpcy5jb250ZW50RWwucXVlcnlTZWxlY3RvcignaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJykgYXMgSFRNTElucHV0RWxlbWVudDtcblxuICAgIGlmICghcGF0aElucHV0Py52YWx1ZSkge1xuICAgICAgbmV3IE5vdGljZSgnRmlsZSBwYXRoIGlzIHJlcXVpcmVkJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcmVxdWVzdDogRmlsZU9wZXJhdGlvblJlcXVlc3QgPSB7XG4gICAgICBvcGVyYXRpb246IG9wZXJhdGlvbiBhcyBhbnksXG4gICAgICBmaWxlX3BhdGg6IHBhdGhJbnB1dC52YWx1ZSxcbiAgICAgIGJhY2t1cDogYmFja3VwVG9nZ2xlPy5jaGVja2VkID8/IHRydWVcbiAgICB9O1xuXG4gICAgaWYgKG5ld1BhdGhJbnB1dD8udmFsdWUpIHtcbiAgICAgIHJlcXVlc3QubmV3X3BhdGggPSBuZXdQYXRoSW5wdXQudmFsdWU7XG4gICAgfVxuXG4gICAgaWYgKGNvbnRlbnRUZXh0YXJlYT8udmFsdWUpIHtcbiAgICAgIHJlcXVlc3QuY29udGVudCA9IGNvbnRlbnRUZXh0YXJlYS52YWx1ZTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgbmV3IE5vdGljZShgUGVyZm9ybWluZyAke29wZXJhdGlvbn0uLi5gKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMudmF1bHRDbGllbnQucGVyZm9ybUZpbGVPcGVyYXRpb24ocmVxdWVzdCk7XG4gICAgICBcbiAgICAgIG5ldyBOb3RpY2UoYOKchSAke29wZXJhdGlvbn0gc3VjY2Vzc2Z1bDogJHtyZXN1bHQubWVzc2FnZX1gKTtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICBuZXcgTm90aWNlKGDinYwgJHtvcGVyYXRpb259IGZhaWxlZDogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgIH1cbiAgfVxuXG4gIG9uQ2xvc2UoKSB7XG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgY29udGVudEVsLmVtcHR5KCk7XG4gIH1cbn1cbiIsIi8qKlxuICogVHJhbnNwb3J0IGludGVyZmFjZSBmb3IgRGV2UGlwZSBjb21tdW5pY2F0aW9uXG4gKiBTdXBwb3J0cyBtdWx0aXBsZSB0cmFuc3BvcnQgdHlwZXM6IEhUVFAsIFdlYlNvY2tldCwgRmlsZVN5c3RlbVxuICovXG5cbmV4cG9ydCBlbnVtIFRyYW5zcG9ydFR5cGUge1xuICBIVFRQID0gJ2h0dHAnLFxuICBXRUJTT0NLRVQgPSAnd2Vic29ja2V0JyxcbiAgRklMRVNZU1RFTSA9ICdmaWxlc3lzdGVtJ1xufVxuXG5leHBvcnQgZW51bSBUcmFuc3BvcnRFdmVudCB7XG4gIENPTk5FQ1RFRCA9ICdjb25uZWN0ZWQnLFxuICBESVNDT05ORUNURUQgPSAnZGlzY29ubmVjdGVkJyxcbiAgTUVTU0FHRSA9ICdtZXNzYWdlJyxcbiAgRVJST1IgPSAnZXJyb3InLFxuICBIRUFMVEhfQ0hFQ0sgPSAnaGVhbHRoX2NoZWNrJyxcbiAgUkVDT05ORUNUSU5HID0gJ3JlY29ubmVjdGluZydcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUcmFuc3BvcnRDYXBhYmlsaXRpZXMge1xuICAvLyBGZWF0dXJlIHN1cHBvcnRcbiAgc3VwcG9ydHNSZWFsdGltZTogYm9vbGVhbjtcbiAgc3VwcG9ydHNCaWRpcmVjdGlvbmFsOiBib29sZWFuO1xuICBzdXBwb3J0c0ZpbGVTeXN0ZW06IGJvb2xlYW47XG4gIHN1cHBvcnRzU3RyZWFtaW5nOiBib29sZWFuO1xuICBcbiAgLy8gUGVyZm9ybWFuY2UgY2hhcmFjdGVyaXN0aWNzXG4gIG1heE1lc3NhZ2VTaXplOiBudW1iZXI7XG4gIGF2ZXJhZ2VMYXRlbmN5OiBudW1iZXI7XG4gIG1heENvbmN1cnJlbnRDb25uZWN0aW9uczogbnVtYmVyO1xuICBcbiAgLy8gUmVsaWFiaWxpdHkgbWV0cmljc1xuICByZWxpYWJpbGl0eTogbnVtYmVyOyAvLyAwLTEgYmFzZWQgb24gaGlzdG9yaWNhbCBkYXRhXG4gIHN1cHBvcnRlZEVudmlyb25tZW50czogc3RyaW5nW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVHJhbnNwb3J0SGVhbHRoU3RhdHVzIHtcbiAgc3RhdHVzOiAnaGVhbHRoeScgfCAnZGVncmFkZWQnIHwgJ2ZhaWxpbmcnIHwgJ2Rpc2Nvbm5lY3RlZCc7XG4gIGxhc3RDaGVjazogbnVtYmVyO1xuICBsYXRlbmN5OiBudW1iZXI7XG4gIGVycm9yUmF0ZTogbnVtYmVyO1xuICBjb25zZWN1dGl2ZUZhaWx1cmVzOiBudW1iZXI7XG4gIHVwdGltZTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEhlYWx0aENoZWNrUmVzdWx0IHtcbiAgc3VjY2VzczogYm9vbGVhbjtcbiAgbGF0ZW5jeTogbnVtYmVyO1xuICB0aW1lc3RhbXA6IG51bWJlcjtcbiAgZXJyb3I/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGV2UGlwZU1lc3NhZ2Uge1xuICBpZD86IHN0cmluZztcbiAgdHlwZTogc3RyaW5nO1xuICBwYXlsb2FkOiBhbnk7XG4gIHRpbWVzdGFtcD86IG51bWJlcjtcbiAgcmVwbHlUbz86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEZXZQaXBlUmVzcG9uc2Uge1xuICBpZD86IHN0cmluZztcbiAgc3VjY2VzczogYm9vbGVhbjtcbiAgcGF5bG9hZD86IGFueTtcbiAgZXJyb3I/OiBzdHJpbmc7XG4gIHRpbWVzdGFtcDogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRyYW5zcG9ydENvbmZpZyB7XG4gIHNlcnZlclVybD86IHN0cmluZztcbiAgZGV2UGlwZVBhdGg/OiBzdHJpbmc7XG4gIHRpbWVvdXQ6IG51bWJlcjtcbiAgcmV0cnlBdHRlbXB0czogbnVtYmVyO1xuICBkZWJ1ZzogYm9vbGVhbjtcbiAgXG4gIC8vIFRyYW5zcG9ydC1zcGVjaWZpYyBjb25maWdcbiAgaHR0cD86IEhUVFBUcmFuc3BvcnRDb25maWc7XG4gIHdlYnNvY2tldD86IFdlYlNvY2tldFRyYW5zcG9ydENvbmZpZztcbiAgZmlsZXN5c3RlbT86IEZpbGVTeXN0ZW1UcmFuc3BvcnRDb25maWc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSFRUUFRyYW5zcG9ydENvbmZpZyB7XG4gIGVuYWJsZVNTRT86IGJvb2xlYW47XG4gIG1heENvbm5lY3Rpb25zPzogbnVtYmVyO1xuICBrZWVwQWxpdmU/OiBib29sZWFuO1xuICBjb21wcmVzc2lvbj86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgV2ViU29ja2V0VHJhbnNwb3J0Q29uZmlnIHtcbiAgaGVhcnRiZWF0SW50ZXJ2YWw/OiBudW1iZXI7XG4gIHJlY29ubmVjdERlbGF5PzogbnVtYmVyO1xuICBtYXhSZWNvbm5lY3RBdHRlbXB0cz86IG51bWJlcjtcbiAgcGVyc2lzdE1lc3NhZ2VzPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGaWxlU3lzdGVtVHJhbnNwb3J0Q29uZmlnIHtcbiAgd2F0Y2hJbnRlcnZhbD86IG51bWJlcjtcbiAgbG9ja1RpbWVvdXQ/OiBudW1iZXI7XG4gIG1heFF1ZXVlU2l6ZT86IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFdmVudExpc3RlbmVyIHtcbiAgKGRhdGE6IGFueSk6IHZvaWQ7XG59XG5cbi8qKlxuICogQ29yZSB0cmFuc3BvcnQgaW50ZXJmYWNlIHRoYXQgYWxsIHRyYW5zcG9ydCBpbXBsZW1lbnRhdGlvbnMgbXVzdCBmb2xsb3dcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBEZXZQaXBlVHJhbnNwb3J0IHtcbiAgcmVhZG9ubHkgdHlwZTogVHJhbnNwb3J0VHlwZTtcbiAgcmVhZG9ubHkgaWQ6IHN0cmluZztcbiAgXG4gIC8vIExpZmVjeWNsZSBtYW5hZ2VtZW50XG4gIGluaXRpYWxpemUoY29uZmlnOiBUcmFuc3BvcnRDb25maWcpOiBQcm9taXNlPHZvaWQ+O1xuICBjb25uZWN0KCk6IFByb21pc2U8dm9pZD47XG4gIGRpc2Nvbm5lY3QoKTogUHJvbWlzZTx2b2lkPjtcbiAgZGVzdHJveSgpOiBQcm9taXNlPHZvaWQ+O1xuICBcbiAgLy8gQ29tbXVuaWNhdGlvblxuICBzZW5kKG1lc3NhZ2U6IERldlBpcGVNZXNzYWdlKTogUHJvbWlzZTxEZXZQaXBlUmVzcG9uc2U+O1xuICBcbiAgLy8gTWVzc2FnZSByZWNlaXZpbmcgaXMgaGFuZGxlZCB2aWEgZXZlbnRzIHJhdGhlciB0aGFuIGFzeW5jIGl0ZXJhdG9yXG4gIC8vIExpc3RlbiB0byAnbWVzc2FnZScgZXZlbnQgdG8gcmVjZWl2ZSBpbmNvbWluZyBtZXNzYWdlc1xuICBcbiAgLy8gSGVhbHRoIGFuZCBjYXBhYmlsaXRpZXNcbiAgaXNBdmFpbGFibGUoKTogYm9vbGVhbjtcbiAgaXNDb25uZWN0ZWQoKTogYm9vbGVhbjtcbiAgZ2V0Q2FwYWJpbGl0aWVzKCk6IFRyYW5zcG9ydENhcGFiaWxpdGllcztcbiAgZ2V0SGVhbHRoU3RhdHVzKCk6IFRyYW5zcG9ydEhlYWx0aFN0YXR1cztcbiAgcGVyZm9ybUhlYWx0aENoZWNrKCk6IFByb21pc2U8SGVhbHRoQ2hlY2tSZXN1bHQ+O1xuICBcbiAgLy8gRXZlbnQgc3lzdGVtXG4gIG9uKGV2ZW50OiBUcmFuc3BvcnRFdmVudCB8IHN0cmluZywgbGlzdGVuZXI6IEV2ZW50TGlzdGVuZXIpOiB2b2lkO1xuICBvZmYoZXZlbnQ6IFRyYW5zcG9ydEV2ZW50IHwgc3RyaW5nLCBsaXN0ZW5lcjogRXZlbnRMaXN0ZW5lcik6IHZvaWQ7XG4gIGVtaXQoZXZlbnQ6IFRyYW5zcG9ydEV2ZW50IHwgc3RyaW5nLCBkYXRhPzogYW55KTogdm9pZDtcbn1cbiIsIi8qKlxuICogT25ib2FyZGluZ1dpemFyZCAtIEludGVsbGlnZW50IGZpcnN0LXRpbWUgc2V0dXAgYW5kIHRyYW5zcG9ydCBvcHRpbWl6YXRpb25cbiAqL1xuXG5pbXBvcnQgeyBNb2RhbCwgQXBwLCBTZXR0aW5nLCBOb3RpY2UsIEJ1dHRvbkNvbXBvbmVudCB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IFRyYW5zcG9ydE1hbmFnZXIgfSBmcm9tICcuLi9kZXZwaXBlL1RyYW5zcG9ydE1hbmFnZXInO1xuaW1wb3J0IHsgVHJhbnNwb3J0VHlwZSB9IGZyb20gJy4uL2RldnBpcGUvdHJhbnNwb3J0cy9EZXZQaXBlVHJhbnNwb3J0JztcbmltcG9ydCB7IEVudmlyb25tZW50RGV0ZWN0b3IgfSBmcm9tICcuLi91dGlscy9FbnZpcm9ubWVudERldGVjdG9yJztcbmltcG9ydCBWYXVsdFBpbG90UGx1Z2luIGZyb20gJy4uL21haW4nO1xuXG5leHBvcnQgaW50ZXJmYWNlIE9uYm9hcmRpbmdXaXphcmRDb25maWcge1xuICBza2lwRW52aXJvbm1lbnREZXRlY3Rpb24/OiBib29sZWFuO1xuICBlbmFibGVUZWxlbWV0cnk/OiBib29sZWFuO1xuICBza2lwVmFsaWRhdGlvbj86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRW52aXJvbm1lbnRDYXBhYmlsaXRpZXMge1xuICBwbGF0Zm9ybTogJ2Jyb3dzZXInIHwgJ25vZGUnIHwgJ29ic2lkaWFuJztcbiAgd2ViU29ja2V0U3VwcG9ydGVkOiBib29sZWFuO1xuICBmaWxlU3lzdGVtQWNjZXNzOiBib29sZWFuO1xuICBodHRwQ2FwYWJpbGl0aWVzOiBib29sZWFuO1xuICByZWNvbW1lbmRlZFRyYW5zcG9ydDogc3RyaW5nO1xuICBwZXJmb3JtYW5jZUVzdGltYXRlOiAnZXhjZWxsZW50JyB8ICdnb29kJyB8ICdmYWlyJyB8ICdwb29yJztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBPbmJvYXJkaW5nUHJvZ3Jlc3Mge1xuICBjdXJyZW50U3RlcDogbnVtYmVyO1xuICB0b3RhbFN0ZXBzOiBudW1iZXI7XG4gIGNvbXBsZXRlZFN0ZXBzOiBib29sZWFuW107XG4gIHVzZXJQcmVmZXJlbmNlczogT25ib2FyZGluZ1ByZWZlcmVuY2VzO1xuICBkZXRlY3RlZENhcGFiaWxpdGllcz86IEVudmlyb25tZW50Q2FwYWJpbGl0aWVzO1xuICB2YWxpZGF0aW9uUmVzdWx0cz86IFZhbGlkYXRpb25SZXN1bHRzO1xufVxuXG5pbnRlcmZhY2UgT25ib2FyZGluZ1ByZWZlcmVuY2VzIHtcbiAgcHJpbWFyeVRyYW5zcG9ydD86IHN0cmluZztcbiAgZW5hYmxlUmVhbFRpbWVVcGRhdGVzOiBib29sZWFuO1xuICBwZXJmb3JtYW5jZU1vZGU6ICdiYWxhbmNlZCcgfCAncGVyZm9ybWFuY2UnIHwgJ3JlbGlhYmlsaXR5JztcbiAgZW5hYmxlQW5hbHl0aWNzOiBib29sZWFuO1xufVxuXG5pbnRlcmZhY2UgVmFsaWRhdGlvblJlc3VsdHMge1xuICB0cmFuc3BvcnRzV29ya2luZzogc3RyaW5nW107XG4gIHRyYW5zcG9ydHNGYWlsaW5nOiBzdHJpbmdbXTtcbiAgcmVjb21tZW5kZWRDb25maWd1cmF0aW9uOiBhbnk7XG4gIHBlcmZvcm1hbmNlQmFzZWxpbmU6IGFueTtcbn1cblxuZW51bSBPbmJvYXJkaW5nU3RlcCB7XG4gIFdFTENPTUUgPSAwLFxuICBFTlZJUk9OTUVOVF9ERVRFQ1RJT04gPSAxLFxuICBQUkVGRVJFTkNFUyA9IDIsXG4gIFZBTElEQVRJT04gPSAzLFxuICBDT01QTEVUSU9OID0gNFxufVxuXG5leHBvcnQgY2xhc3MgT25ib2FyZGluZ1dpemFyZCBleHRlbmRzIE1vZGFsIHtcbiAgcHJpdmF0ZSBjdXJyZW50U3RlcDogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSB0b3RhbFN0ZXBzOiBudW1iZXIgPSA1O1xuICBwcml2YXRlIHByb2dyZXNzOiBPbmJvYXJkaW5nUHJvZ3Jlc3M7XG4gIHByaXZhdGUgY29uZmlnOiBPbmJvYXJkaW5nV2l6YXJkQ29uZmlnO1xuICBwcml2YXRlIHRyYW5zcG9ydE1hbmFnZXI6IFRyYW5zcG9ydE1hbmFnZXI7XG4gIHByaXZhdGUgcGx1Z2luOiBWYXVsdFBpbG90UGx1Z2luO1xuICBcbiAgcHJpdmF0ZSBzdGVwRWxlbWVudHM6IEhUTUxFbGVtZW50W10gPSBbXTtcbiAgcHJpdmF0ZSBwcm9ncmVzc0JhciE6IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIG5leHRCdXR0b24hOiBCdXR0b25Db21wb25lbnQ7XG4gIHByaXZhdGUgcHJldmlvdXNCdXR0b24hOiBCdXR0b25Db21wb25lbnQ7XG4gIHByaXZhdGUgc2tpcEJ1dHRvbiE6IEJ1dHRvbkNvbXBvbmVudDtcblxuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBWYXVsdFBpbG90UGx1Z2luLCBjb25maWc6IE9uYm9hcmRpbmdXaXphcmRDb25maWcgPSB7fSkge1xuICAgIHN1cGVyKGFwcCk7XG4gICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgXG4gICAgLy8gSW5pdGlhbGl6ZSB0cmFuc3BvcnQgbWFuYWdlciB3aXRoIGRlZmF1bHQgY29uZmlnXG4gICAgY29uc3QgdHJhbnNwb3J0Q29uZmlnID0ge1xuICAgICAgc2VsZWN0aW9uQ3JpdGVyaWE6IHtcbiAgICAgICAgbGF0ZW5jeVdlaWdodDogMC4zLFxuICAgICAgICByZWxpYWJpbGl0eVdlaWdodDogMC40LFxuICAgICAgICBjYXBhYmlsaXR5V2VpZ2h0OiAwLjIsXG4gICAgICAgIGNvc3RXZWlnaHQ6IDAuMVxuICAgICAgfSxcbiAgICAgIGZhbGxiYWNrQ2hhaW46IFtUcmFuc3BvcnRUeXBlLkhUVFAsIFRyYW5zcG9ydFR5cGUuV0VCU09DS0VULCBUcmFuc3BvcnRUeXBlLkZJTEVTWVNURU1dLFxuICAgICAgdHJhbnNwb3J0Q29uZmlnczoge1xuICAgICAgICBodHRwOiB7IFxuICAgICAgICAgIHNlcnZlclVybDogcGx1Z2luLnNldHRpbmdzLmJhY2tlbmRVcmwsXG4gICAgICAgICAgdGltZW91dDogMzAwMDAsXG4gICAgICAgICAgcmV0cnlBdHRlbXB0czogMyxcbiAgICAgICAgICBkZWJ1ZzogcGx1Z2luLnNldHRpbmdzLmRlYnVnTW9kZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLnRyYW5zcG9ydE1hbmFnZXIgPSBuZXcgVHJhbnNwb3J0TWFuYWdlcih0cmFuc3BvcnRDb25maWcpO1xuICAgIFxuICAgIHRoaXMucHJvZ3Jlc3MgPSB7XG4gICAgICBjdXJyZW50U3RlcDogMCxcbiAgICAgIHRvdGFsU3RlcHM6IHRoaXMudG90YWxTdGVwcyxcbiAgICAgIGNvbXBsZXRlZFN0ZXBzOiBuZXcgQXJyYXkodGhpcy50b3RhbFN0ZXBzKS5maWxsKGZhbHNlKSxcbiAgICAgIHVzZXJQcmVmZXJlbmNlczoge1xuICAgICAgICBlbmFibGVSZWFsVGltZVVwZGF0ZXM6IHRydWUsXG4gICAgICAgIHBlcmZvcm1hbmNlTW9kZTogJ2JhbGFuY2VkJyxcbiAgICAgICAgZW5hYmxlQW5hbHl0aWNzOiB0cnVlXG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMubW9kYWxFbC5hZGRDbGFzcygndmF1bHRwaWxvdC1vbmJvYXJkaW5nJyk7XG4gIH1cblxuICBhc3luYyBvbk9wZW4oKSB7XG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgY29udGVudEVsLmVtcHR5KCk7XG4gICAgXG4gICAgLy8gQWRkIENTUyBjbGFzc2VzIGZvciBzdHlsaW5nXG4gICAgdGhpcy5tb2RhbEVsLmFkZENsYXNzKCd2YXVsdHBpbG90LW9uYm9hcmRpbmctbW9kYWwnKTtcbiAgICBcbiAgICAvLyBDcmVhdGUgaGVhZGVyXG4gICAgdGhpcy5jcmVhdGVIZWFkZXIoKTtcbiAgICBcbiAgICAvLyBDcmVhdGUgcHJvZ3Jlc3MgYmFyXG4gICAgdGhpcy5jcmVhdGVQcm9ncmVzc0JhcigpO1xuICAgIFxuICAgIC8vIENyZWF0ZSBzdGVwIGNvbnRhaW5lclxuICAgIGNvbnN0IHN0ZXBDb250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KCdvbmJvYXJkaW5nLXN0ZXAtY29udGFpbmVyJyk7XG4gICAgXG4gICAgLy8gQ3JlYXRlIG5hdmlnYXRpb25cbiAgICB0aGlzLmNyZWF0ZU5hdmlnYXRpb24oKTtcbiAgICBcbiAgICAvLyBTdGFydCB3aXRoIGZpcnN0IHN0ZXBcbiAgICBhd2FpdCB0aGlzLnJlbmRlckN1cnJlbnRTdGVwKCk7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZUhlYWRlcigpIHtcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICBjb25zdCBoZWFkZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KCdvbmJvYXJkaW5nLWhlYWRlcicpO1xuICAgIGhlYWRlci5jcmVhdGVFbCgnaDInLCB7IHRleHQ6ICdXZWxjb21lIHRvIFZhdWx0UGlsb3QnIH0pO1xuICAgIGhlYWRlci5jcmVhdGVFbCgncCcsIHsgXG4gICAgICB0ZXh0OiAnTGV0XFwncyBzZXQgdXAgeW91ciBvcHRpbWFsIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBiZXN0IGV4cGVyaWVuY2UnLFxuICAgICAgY2xzOiAnb25ib2FyZGluZy1zdWJ0aXRsZSdcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlUHJvZ3Jlc3NCYXIoKSB7XG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgY29uc3QgcHJvZ3Jlc3NDb250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KCdvbmJvYXJkaW5nLXByb2dyZXNzJyk7XG4gICAgXG4gICAgLy8gU3RlcCBpbmRpY2F0b3JzXG4gICAgY29uc3Qgc3RlcHNDb250YWluZXIgPSBwcm9ncmVzc0NvbnRhaW5lci5jcmVhdGVEaXYoJ3Byb2dyZXNzLXN0ZXBzJyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnRvdGFsU3RlcHM7IGkrKykge1xuICAgICAgY29uc3Qgc3RlcCA9IHN0ZXBzQ29udGFpbmVyLmNyZWF0ZURpdigncHJvZ3Jlc3Mtc3RlcCcpO1xuICAgICAgc3RlcC5hZGRDbGFzcyhpID09PSAwID8gJ2FjdGl2ZScgOiAnaW5hY3RpdmUnKTtcbiAgICAgIHN0ZXAuY3JlYXRlU3Bhbih7IHRleHQ6IChpICsgMSkudG9TdHJpbmcoKSB9KTtcbiAgICAgIHRoaXMuc3RlcEVsZW1lbnRzLnB1c2goc3RlcCk7XG4gICAgfVxuICAgIFxuICAgIC8vIFByb2dyZXNzIGJhclxuICAgIHRoaXMucHJvZ3Jlc3NCYXIgPSBwcm9ncmVzc0NvbnRhaW5lci5jcmVhdGVEaXYoJ3Byb2dyZXNzLWJhcicpO1xuICAgIGNvbnN0IHByb2dyZXNzRmlsbCA9IHRoaXMucHJvZ3Jlc3NCYXIuY3JlYXRlRGl2KCdwcm9ncmVzcy1maWxsJyk7XG4gICAgcHJvZ3Jlc3NGaWxsLnN0eWxlLndpZHRoID0gYCR7KDEgLyB0aGlzLnRvdGFsU3RlcHMpICogMTAwfSVgO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVOYXZpZ2F0aW9uKCkge1xuICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuICAgIGNvbnN0IG5hdmlnYXRpb24gPSBjb250ZW50RWwuY3JlYXRlRGl2KCdvbmJvYXJkaW5nLW5hdmlnYXRpb24nKTtcbiAgICBcbiAgICAvLyBQcmV2aW91cyBidXR0b25cbiAgICB0aGlzLnByZXZpb3VzQnV0dG9uID0gbmV3IEJ1dHRvbkNvbXBvbmVudChuYXZpZ2F0aW9uKVxuICAgICAgLnNldEJ1dHRvblRleHQoJ1ByZXZpb3VzJylcbiAgICAgIC5zZXRDbGFzcygnbW9kLW11dGVkJylcbiAgICAgIC5vbkNsaWNrKCgpID0+IHRoaXMucHJldmlvdXNTdGVwKCkpO1xuICAgIFxuICAgIC8vIFNraXAgYnV0dG9uXG4gICAgdGhpcy5za2lwQnV0dG9uID0gbmV3IEJ1dHRvbkNvbXBvbmVudChuYXZpZ2F0aW9uKVxuICAgICAgLnNldEJ1dHRvblRleHQoJ1NraXAgU2V0dXAnKVxuICAgICAgLnNldENsYXNzKCdtb2QtbXV0ZWQnKVxuICAgICAgLm9uQ2xpY2soKCkgPT4gdGhpcy5za2lwT25ib2FyZGluZygpKTtcbiAgICBcbiAgICAvLyBOZXh0IGJ1dHRvblxuICAgIHRoaXMubmV4dEJ1dHRvbiA9IG5ldyBCdXR0b25Db21wb25lbnQobmF2aWdhdGlvbilcbiAgICAgIC5zZXRCdXR0b25UZXh0KCdOZXh0JylcbiAgICAgIC5zZXRDdGEoKVxuICAgICAgLm9uQ2xpY2soKCkgPT4gdGhpcy5uZXh0U3RlcCgpKTtcbiAgICBcbiAgICB0aGlzLnVwZGF0ZU5hdmlnYXRpb25TdGF0ZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyByZW5kZXJDdXJyZW50U3RlcCgpIHtcbiAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICBjb25zdCBzdGVwQ29udGFpbmVyID0gY29udGVudEVsLnF1ZXJ5U2VsZWN0b3IoJy5vbmJvYXJkaW5nLXN0ZXAtY29udGFpbmVyJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgc3RlcENvbnRhaW5lci5lbXB0eSgpO1xuICAgIFxuICAgIHRoaXMudXBkYXRlUHJvZ3Jlc3NJbmRpY2F0b3JzKCk7XG4gICAgXG4gICAgc3dpdGNoICh0aGlzLmN1cnJlbnRTdGVwKSB7XG4gICAgICBjYXNlIE9uYm9hcmRpbmdTdGVwLldFTENPTUU6XG4gICAgICAgIGF3YWl0IHRoaXMucmVuZGVyV2VsY29tZVN0ZXAoc3RlcENvbnRhaW5lcik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBPbmJvYXJkaW5nU3RlcC5FTlZJUk9OTUVOVF9ERVRFQ1RJT046XG4gICAgICAgIGF3YWl0IHRoaXMucmVuZGVyRW52aXJvbm1lbnRTdGVwKHN0ZXBDb250YWluZXIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgT25ib2FyZGluZ1N0ZXAuUFJFRkVSRU5DRVM6XG4gICAgICAgIGF3YWl0IHRoaXMucmVuZGVyUHJlZmVyZW5jZXNTdGVwKHN0ZXBDb250YWluZXIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgT25ib2FyZGluZ1N0ZXAuVkFMSURBVElPTjpcbiAgICAgICAgYXdhaXQgdGhpcy5yZW5kZXJWYWxpZGF0aW9uU3RlcChzdGVwQ29udGFpbmVyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIE9uYm9hcmRpbmdTdGVwLkNPTVBMRVRJT046XG4gICAgICAgIGF3YWl0IHRoaXMucmVuZGVyQ29tcGxldGlvblN0ZXAoc3RlcENvbnRhaW5lcik7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBcbiAgICB0aGlzLnVwZGF0ZU5hdmlnYXRpb25TdGF0ZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyByZW5kZXJXZWxjb21lU3RlcChjb250YWluZXI6IEhUTUxFbGVtZW50KSB7XG4gICAgY29uc3Qgc3RlcCA9IGNvbnRhaW5lci5jcmVhdGVEaXYoJ29uYm9hcmRpbmctc3RlcCB3ZWxjb21lLXN0ZXAnKTtcbiAgICBcbiAgICBzdGVwLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ1dlbGNvbWUgdG8gVmF1bHRQaWxvdCcgfSk7XG4gICAgc3RlcC5jcmVhdGVFbCgncCcsIHsgXG4gICAgICB0ZXh0OiAnVmF1bHRQaWxvdCBwcm92aWRlcyBpbnRlbGxpZ2VudCB0cmFuc3BvcnQgbWFuYWdlbWVudCBhbmQgb3B0aW1pemF0aW9uIGZvciB5b3VyIE9ic2lkaWFuIGV4cGVyaWVuY2UuIFRoaXMgd2l6YXJkIHdpbGwgaGVscCB5b3UgY29uZmlndXJlIHRoZSBvcHRpbWFsIHNldHRpbmdzIGZvciB5b3VyIGVudmlyb25tZW50LidcbiAgICB9KTtcbiAgICBcbiAgICBjb25zdCBmZWF0dXJlcyA9IHN0ZXAuY3JlYXRlRGl2KCd3ZWxjb21lLWZlYXR1cmVzJyk7XG4gICAgZmVhdHVyZXMuY3JlYXRlRWwoJ2g0JywgeyB0ZXh0OiAnV2hhdCB5b3VcXCdsbCBnZXQ6JyB9KTtcbiAgICBcbiAgICBjb25zdCBmZWF0dXJlTGlzdCA9IGZlYXR1cmVzLmNyZWF0ZUVsKCd1bCcpO1xuICAgIGZlYXR1cmVMaXN0LmNyZWF0ZUVsKCdsaScsIHsgdGV4dDogJ/CfmoAgSW50ZWxsaWdlbnQgdHJhbnNwb3J0IHNlbGVjdGlvbiBhbmQgZmFpbG92ZXInIH0pO1xuICAgIGZlYXR1cmVMaXN0LmNyZWF0ZUVsKCdsaScsIHsgdGV4dDogJ/Cfk4ogUmVhbC10aW1lIHBlcmZvcm1hbmNlIG1vbml0b3JpbmcnIH0pO1xuICAgIGZlYXR1cmVMaXN0LmNyZWF0ZUVsKCdsaScsIHsgdGV4dDogJ/CfkqEgQUktcG93ZXJlZCBvcHRpbWl6YXRpb24gc3VnZ2VzdGlvbnMnIH0pO1xuICAgIGZlYXR1cmVMaXN0LmNyZWF0ZUVsKCdsaScsIHsgdGV4dDogJ/CflKcgQWR2YW5jZWQgY29uZmlndXJhdGlvbiBvcHRpb25zJyB9KTtcbiAgICBmZWF0dXJlTGlzdC5jcmVhdGVFbCgnbGknLCB7IHRleHQ6ICfwn5OIIFVzYWdlIGFuYWx5dGljcyBhbmQgaW5zaWdodHMnIH0pO1xuICAgIFxuICAgIGNvbnN0IGVzdGltYXRlZFRpbWUgPSBzdGVwLmNyZWF0ZURpdignZXN0aW1hdGVkLXRpbWUnKTtcbiAgICBlc3RpbWF0ZWRUaW1lLmNyZWF0ZUVsKCdwJywgeyBcbiAgICAgIHRleHQ6ICfij7HvuI8gRXN0aW1hdGVkIHNldHVwIHRpbWU6IDItMyBtaW51dGVzJyxcbiAgICAgIGNsczogJ211dGVkJ1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyByZW5kZXJFbnZpcm9ubWVudFN0ZXAoY29udGFpbmVyOiBIVE1MRWxlbWVudCkge1xuICAgIGNvbnN0IHN0ZXAgPSBjb250YWluZXIuY3JlYXRlRGl2KCdvbmJvYXJkaW5nLXN0ZXAgZW52aXJvbm1lbnQtc3RlcCcpO1xuICAgIFxuICAgIHN0ZXAuY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnRW52aXJvbm1lbnQgRGV0ZWN0aW9uJyB9KTtcbiAgICBzdGVwLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnQW5hbHl6aW5nIHlvdXIgZW52aXJvbm1lbnQgdG8gcmVjb21tZW5kIG9wdGltYWwgdHJhbnNwb3J0IGNvbmZpZ3VyYXRpb24uLi4nIH0pO1xuICAgIFxuICAgIGlmICghdGhpcy5jb25maWcuc2tpcEVudmlyb25tZW50RGV0ZWN0aW9uICYmICF0aGlzLnByb2dyZXNzLmRldGVjdGVkQ2FwYWJpbGl0aWVzKSB7XG4gICAgICBjb25zdCBkZXRlY3Rpb25TdGF0dXMgPSBzdGVwLmNyZWF0ZURpdignZGV0ZWN0aW9uLXN0YXR1cycpO1xuICAgICAgZGV0ZWN0aW9uU3RhdHVzLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAn8J+UjSBEZXRlY3RpbmcgY2FwYWJpbGl0aWVzLi4uJywgY2xzOiAnZGV0ZWN0aW9uLWxvYWRpbmcnIH0pO1xuICAgICAgXG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLnByb2dyZXNzLmRldGVjdGVkQ2FwYWJpbGl0aWVzID0gYXdhaXQgdGhpcy5kZXRlY3RFbnZpcm9ubWVudCgpO1xuICAgICAgICB0aGlzLnJlbmRlckVudmlyb25tZW50UmVzdWx0cyhzdGVwKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRoaXMucmVuZGVyRW52aXJvbm1lbnRFcnJvcihzdGVwLCBlcnJvcik7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb2dyZXNzLmRldGVjdGVkQ2FwYWJpbGl0aWVzKSB7XG4gICAgICB0aGlzLnJlbmRlckVudmlyb25tZW50UmVzdWx0cyhzdGVwKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGRldGVjdEVudmlyb25tZW50KCk6IFByb21pc2U8RW52aXJvbm1lbnRDYXBhYmlsaXRpZXM+IHtcbiAgICAvLyBTaW11bGF0ZSBkZXRlY3Rpb24gcHJvY2VzcyB3aXRoIHByb2dyZXNzIHVwZGF0ZXNcbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwMCkpO1xuICAgIFxuICAgIGNvbnN0IGVudkluZm8gPSBFbnZpcm9ubWVudERldGVjdG9yLmRldGVjdCgpO1xuICAgIFxuICAgIC8vIEVuc3VyZSBwbGF0Zm9ybSBtYXRjaGVzIG91ciBpbnRlcmZhY2VcbiAgICBsZXQgcGxhdGZvcm06ICdicm93c2VyJyB8ICdub2RlJyB8ICdvYnNpZGlhbicgPSAnb2JzaWRpYW4nO1xuICAgIGlmIChlbnZJbmZvLnBsYXRmb3JtID09PSAnYnJvd3NlcicgfHwgZW52SW5mby5wbGF0Zm9ybSA9PT0gJ25vZGUnIHx8IGVudkluZm8ucGxhdGZvcm0gPT09ICdvYnNpZGlhbicpIHtcbiAgICAgIHBsYXRmb3JtID0gZW52SW5mby5wbGF0Zm9ybTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgY2FwYWJpbGl0aWVzOiBFbnZpcm9ubWVudENhcGFiaWxpdGllcyA9IHtcbiAgICAgIHBsYXRmb3JtLFxuICAgICAgd2ViU29ja2V0U3VwcG9ydGVkOiBlbnZJbmZvLmhhc1dlYlNvY2tldCxcbiAgICAgIGZpbGVTeXN0ZW1BY2Nlc3M6IGVudkluZm8uaGFzRmlsZVN5c3RlbSxcbiAgICAgIGh0dHBDYXBhYmlsaXRpZXM6IGVudkluZm8uaGFzSFRUUCxcbiAgICAgIHJlY29tbWVuZGVkVHJhbnNwb3J0OiAnaHR0cCcsIC8vIFdpbGwgYmUgZGV0ZXJtaW5lZCBieSBhbmFseXNpc1xuICAgICAgcGVyZm9ybWFuY2VFc3RpbWF0ZTogJ2dvb2QnXG4gICAgfTtcbiAgICBcbiAgICAvLyBEZXRlcm1pbmUgcmVjb21tZW5kZWQgdHJhbnNwb3J0XG4gICAgaWYgKGNhcGFiaWxpdGllcy53ZWJTb2NrZXRTdXBwb3J0ZWQgJiYgY2FwYWJpbGl0aWVzLmh0dHBDYXBhYmlsaXRpZXMpIHtcbiAgICAgIGNhcGFiaWxpdGllcy5yZWNvbW1lbmRlZFRyYW5zcG9ydCA9ICd3ZWJzb2NrZXQnO1xuICAgICAgY2FwYWJpbGl0aWVzLnBlcmZvcm1hbmNlRXN0aW1hdGUgPSAnZXhjZWxsZW50JztcbiAgICB9IGVsc2UgaWYgKGNhcGFiaWxpdGllcy5odHRwQ2FwYWJpbGl0aWVzKSB7XG4gICAgICBjYXBhYmlsaXRpZXMucmVjb21tZW5kZWRUcmFuc3BvcnQgPSAnaHR0cCc7XG4gICAgICBjYXBhYmlsaXRpZXMucGVyZm9ybWFuY2VFc3RpbWF0ZSA9ICdnb29kJztcbiAgICB9IGVsc2UgaWYgKGNhcGFiaWxpdGllcy5maWxlU3lzdGVtQWNjZXNzKSB7XG4gICAgICBjYXBhYmlsaXRpZXMucmVjb21tZW5kZWRUcmFuc3BvcnQgPSAnZmlsZXN5c3RlbSc7XG4gICAgICBjYXBhYmlsaXRpZXMucGVyZm9ybWFuY2VFc3RpbWF0ZSA9ICdmYWlyJztcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGNhcGFiaWxpdGllcztcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyRW52aXJvbm1lbnRSZXN1bHRzKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcbiAgICBjb25zdCByZXN1bHRzQ29udGFpbmVyID0gY29udGFpbmVyLmNyZWF0ZURpdignZW52aXJvbm1lbnQtcmVzdWx0cycpO1xuICAgIGNvbnN0IGNhcGFiaWxpdGllcyA9IHRoaXMucHJvZ3Jlc3MuZGV0ZWN0ZWRDYXBhYmlsaXRpZXMhO1xuICAgIFxuICAgIHJlc3VsdHNDb250YWluZXIuY3JlYXRlRWwoJ2g0JywgeyB0ZXh0OiAn4pyFIERldGVjdGlvbiBDb21wbGV0ZScgfSk7XG4gICAgXG4gICAgY29uc3QgY2FwYWJpbGl0aWVzTGlzdCA9IHJlc3VsdHNDb250YWluZXIuY3JlYXRlRGl2KCdjYXBhYmlsaXRpZXMtbGlzdCcpO1xuICAgIFxuICAgIC8vIFdlYlNvY2tldCBjYXBhYmlsaXR5XG4gICAgY29uc3Qgd3NDYXBhYmlsaXR5ID0gY2FwYWJpbGl0aWVzTGlzdC5jcmVhdGVEaXYoJ2NhcGFiaWxpdHktaXRlbScpO1xuICAgIHdzQ2FwYWJpbGl0eS5jcmVhdGVTcGFuKHsgXG4gICAgICB0ZXh0OiBjYXBhYmlsaXRpZXMud2ViU29ja2V0U3VwcG9ydGVkID8gJ+KchScgOiAn4p2MJyxcbiAgICAgIGNsczogJ2NhcGFiaWxpdHktaWNvbidcbiAgICB9KTtcbiAgICB3c0NhcGFiaWxpdHkuY3JlYXRlU3Bhbih7IHRleHQ6ICdXZWJTb2NrZXQgU3VwcG9ydCcgfSk7XG4gICAgXG4gICAgLy8gSFRUUCBjYXBhYmlsaXR5XG4gICAgY29uc3QgaHR0cENhcGFiaWxpdHkgPSBjYXBhYmlsaXRpZXNMaXN0LmNyZWF0ZURpdignY2FwYWJpbGl0eS1pdGVtJyk7XG4gICAgaHR0cENhcGFiaWxpdHkuY3JlYXRlU3Bhbih7IFxuICAgICAgdGV4dDogY2FwYWJpbGl0aWVzLmh0dHBDYXBhYmlsaXRpZXMgPyAn4pyFJyA6ICfinYwnLFxuICAgICAgY2xzOiAnY2FwYWJpbGl0eS1pY29uJ1xuICAgIH0pO1xuICAgIGh0dHBDYXBhYmlsaXR5LmNyZWF0ZVNwYW4oeyB0ZXh0OiAnSFRUUCBUcmFuc3BvcnQnIH0pO1xuICAgIFxuICAgIC8vIEZpbGVTeXN0ZW0gY2FwYWJpbGl0eVxuICAgIGNvbnN0IGZzQ2FwYWJpbGl0eSA9IGNhcGFiaWxpdGllc0xpc3QuY3JlYXRlRGl2KCdjYXBhYmlsaXR5LWl0ZW0nKTtcbiAgICBmc0NhcGFiaWxpdHkuY3JlYXRlU3Bhbih7IFxuICAgICAgdGV4dDogY2FwYWJpbGl0aWVzLmZpbGVTeXN0ZW1BY2Nlc3MgPyAn4pyFJyA6ICfinYwnLFxuICAgICAgY2xzOiAnY2FwYWJpbGl0eS1pY29uJ1xuICAgIH0pO1xuICAgIGZzQ2FwYWJpbGl0eS5jcmVhdGVTcGFuKHsgdGV4dDogJ0ZpbGVTeXN0ZW0gQWNjZXNzJyB9KTtcbiAgICBcbiAgICAvLyBSZWNvbW1lbmRhdGlvblxuICAgIGNvbnN0IHJlY29tbWVuZGF0aW9uID0gcmVzdWx0c0NvbnRhaW5lci5jcmVhdGVEaXYoJ2Vudmlyb25tZW50LXJlY29tbWVuZGF0aW9uJyk7XG4gICAgcmVjb21tZW5kYXRpb24uY3JlYXRlRWwoJ2g0JywgeyB0ZXh0OiAnUmVjb21tZW5kYXRpb24nIH0pO1xuICAgIHJlY29tbWVuZGF0aW9uLmNyZWF0ZUVsKCdwJywgeyBcbiAgICAgIHRleHQ6IGBCYXNlZCBvbiB5b3VyIGVudmlyb25tZW50LCB3ZSByZWNvbW1lbmQgdXNpbmcgJHtjYXBhYmlsaXRpZXMucmVjb21tZW5kZWRUcmFuc3BvcnR9IHRyYW5zcG9ydCBmb3IgJHtjYXBhYmlsaXRpZXMucGVyZm9ybWFuY2VFc3RpbWF0ZX0gcGVyZm9ybWFuY2UuYFxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJFbnZpcm9ubWVudEVycm9yKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGVycm9yOiBhbnkpIHtcbiAgICBjb25zdCBlcnJvckNvbnRhaW5lciA9IGNvbnRhaW5lci5jcmVhdGVEaXYoJ2Vudmlyb25tZW50LWVycm9yJyk7XG4gICAgZXJyb3JDb250YWluZXIuY3JlYXRlRWwoJ2g0JywgeyB0ZXh0OiAn4pqg77iPIERldGVjdGlvbiBGYWlsZWQnIH0pO1xuICAgIGVycm9yQ29udGFpbmVyLmNyZWF0ZUVsKCdwJywgeyBcbiAgICAgIHRleHQ6ICdVbmFibGUgdG8gYXV0b21hdGljYWxseSBkZXRlY3QgeW91ciBlbnZpcm9ubWVudCBjYXBhYmlsaXRpZXMuIFlvdSBjYW4gcHJvY2VlZCB3aXRoIGRlZmF1bHQgc2V0dGluZ3Mgb3IgbWFudWFsbHkgY29uZmlndXJlIGxhdGVyLidcbiAgICB9KTtcbiAgICBcbiAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVidWdNb2RlKSB7XG4gICAgICBlcnJvckNvbnRhaW5lci5jcmVhdGVFbCgncCcsIHsgXG4gICAgICAgIHRleHQ6IGBFcnJvcjogJHtlcnJvci5tZXNzYWdlfWAsXG4gICAgICAgIGNsczogJ2Vycm9yLWRldGFpbHMnXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHJlbmRlclByZWZlcmVuY2VzU3RlcChjb250YWluZXI6IEhUTUxFbGVtZW50KSB7XG4gICAgY29uc3Qgc3RlcCA9IGNvbnRhaW5lci5jcmVhdGVEaXYoJ29uYm9hcmRpbmctc3RlcCBwcmVmZXJlbmNlcy1zdGVwJyk7XG4gICAgXG4gICAgc3RlcC5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdQZXJmb3JtYW5jZSBQcmVmZXJlbmNlcycgfSk7XG4gICAgc3RlcC5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ0NvbmZpZ3VyZSB5b3VyIHByZWZlcmVuY2VzIGZvciBvcHRpbWFsIHBlcmZvcm1hbmNlOicgfSk7XG4gICAgXG4gICAgY29uc3QgcHJlZmVyZW5jZXNDb250YWluZXIgPSBzdGVwLmNyZWF0ZURpdigncHJlZmVyZW5jZXMtY29udGFpbmVyJyk7XG4gICAgXG4gICAgLy8gUGVyZm9ybWFuY2UgbW9kZSBzZXR0aW5nXG4gICAgbmV3IFNldHRpbmcocHJlZmVyZW5jZXNDb250YWluZXIpXG4gICAgICAuc2V0TmFtZSgnUGVyZm9ybWFuY2UgTW9kZScpXG4gICAgICAuc2V0RGVzYygnQ2hvb3NlIHlvdXIgcHJlZmVycmVkIGJhbGFuY2UgYmV0d2VlbiBzcGVlZCBhbmQgcmVsaWFiaWxpdHknKVxuICAgICAgLmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IHtcbiAgICAgICAgZHJvcGRvd24uYWRkT3B0aW9uKCdwZXJmb3JtYW5jZScsICdQZXJmb3JtYW5jZSAoUHJpb3JpdGl6ZSBTcGVlZCknKTtcbiAgICAgICAgZHJvcGRvd24uYWRkT3B0aW9uKCdiYWxhbmNlZCcsICdCYWxhbmNlZCAoUmVjb21tZW5kZWQpJyk7XG4gICAgICAgIGRyb3Bkb3duLmFkZE9wdGlvbigncmVsaWFiaWxpdHknLCAnUmVsaWFiaWxpdHkgKFByaW9yaXRpemUgU3RhYmlsaXR5KScpO1xuICAgICAgICBkcm9wZG93bi5zZXRWYWx1ZSh0aGlzLnByb2dyZXNzLnVzZXJQcmVmZXJlbmNlcy5wZXJmb3JtYW5jZU1vZGUpO1xuICAgICAgICBkcm9wZG93bi5vbkNoYW5nZSh2YWx1ZSA9PiB7XG4gICAgICAgICAgdGhpcy5wcm9ncmVzcy51c2VyUHJlZmVyZW5jZXMucGVyZm9ybWFuY2VNb2RlID0gdmFsdWUgYXMgYW55O1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIFxuICAgIC8vIFJlYWwtdGltZSB1cGRhdGVzIHNldHRpbmdcbiAgICBuZXcgU2V0dGluZyhwcmVmZXJlbmNlc0NvbnRhaW5lcilcbiAgICAgIC5zZXROYW1lKCdSZWFsLXRpbWUgVXBkYXRlcycpXG4gICAgICAuc2V0RGVzYygnRW5hYmxlIHJlYWwtdGltZSBkYXNoYm9hcmQgdXBkYXRlcyBhbmQgbGl2ZSBtb25pdG9yaW5nJylcbiAgICAgIC5hZGRUb2dnbGUodG9nZ2xlID0+IHtcbiAgICAgICAgdG9nZ2xlLnNldFZhbHVlKHRoaXMucHJvZ3Jlc3MudXNlclByZWZlcmVuY2VzLmVuYWJsZVJlYWxUaW1lVXBkYXRlcyk7XG4gICAgICAgIHRvZ2dsZS5vbkNoYW5nZSh2YWx1ZSA9PiB7XG4gICAgICAgICAgdGhpcy5wcm9ncmVzcy51c2VyUHJlZmVyZW5jZXMuZW5hYmxlUmVhbFRpbWVVcGRhdGVzID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgXG4gICAgLy8gQW5hbHl0aWNzIHNldHRpbmdcbiAgICBuZXcgU2V0dGluZyhwcmVmZXJlbmNlc0NvbnRhaW5lcilcbiAgICAgIC5zZXROYW1lKCdVc2FnZSBBbmFseXRpY3MnKVxuICAgICAgLnNldERlc2MoJ0VuYWJsZSBhbm9ueW1vdXMgdXNhZ2UgYW5hbHl0aWNzIHRvIGltcHJvdmUgcmVjb21tZW5kYXRpb25zJylcbiAgICAgIC5hZGRUb2dnbGUodG9nZ2xlID0+IHtcbiAgICAgICAgdG9nZ2xlLnNldFZhbHVlKHRoaXMucHJvZ3Jlc3MudXNlclByZWZlcmVuY2VzLmVuYWJsZUFuYWx5dGljcyk7XG4gICAgICAgIHRvZ2dsZS5vbkNoYW5nZSh2YWx1ZSA9PiB7XG4gICAgICAgICAgdGhpcy5wcm9ncmVzcy51c2VyUHJlZmVyZW5jZXMuZW5hYmxlQW5hbHl0aWNzID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHJlbmRlclZhbGlkYXRpb25TdGVwKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcbiAgICBjb25zdCBzdGVwID0gY29udGFpbmVyLmNyZWF0ZURpdignb25ib2FyZGluZy1zdGVwIHZhbGlkYXRpb24tc3RlcCcpO1xuICAgIFxuICAgIHN0ZXAuY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnQ29uZmlndXJhdGlvbiBWYWxpZGF0aW9uJyB9KTtcbiAgICBzdGVwLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnVGVzdGluZyB5b3VyIGNvbmZpZ3VyYXRpb24gYW5kIGVzdGFibGlzaGluZyBwZXJmb3JtYW5jZSBiYXNlbGluZS4uLicgfSk7XG4gICAgXG4gICAgaWYgKCF0aGlzLmNvbmZpZy5za2lwVmFsaWRhdGlvbiAmJiAhdGhpcy5wcm9ncmVzcy52YWxpZGF0aW9uUmVzdWx0cykge1xuICAgICAgY29uc3QgdmFsaWRhdGlvblN0YXR1cyA9IHN0ZXAuY3JlYXRlRGl2KCd2YWxpZGF0aW9uLXN0YXR1cycpO1xuICAgICAgdmFsaWRhdGlvblN0YXR1cy5jcmVhdGVFbCgncCcsIHsgdGV4dDogJ/Cfp6ogUnVubmluZyB2YWxpZGF0aW9uIHRlc3RzLi4uJywgY2xzOiAndmFsaWRhdGlvbi1sb2FkaW5nJyB9KTtcbiAgICAgIFxuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy5wcm9ncmVzcy52YWxpZGF0aW9uUmVzdWx0cyA9IGF3YWl0IHRoaXMudmFsaWRhdGVDb25maWd1cmF0aW9uKCk7XG4gICAgICAgIHRoaXMucmVuZGVyVmFsaWRhdGlvblJlc3VsdHMoc3RlcCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aGlzLnJlbmRlclZhbGlkYXRpb25FcnJvcihzdGVwLCBlcnJvcik7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb2dyZXNzLnZhbGlkYXRpb25SZXN1bHRzKSB7XG4gICAgICB0aGlzLnJlbmRlclZhbGlkYXRpb25SZXN1bHRzKHN0ZXApO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgdmFsaWRhdGVDb25maWd1cmF0aW9uKCk6IFByb21pc2U8VmFsaWRhdGlvblJlc3VsdHM+IHtcbiAgICAvLyBTaW11bGF0ZSB2YWxpZGF0aW9uIHByb2Nlc3NcbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMjAwMCkpO1xuICAgIFxuICAgIGNvbnN0IHJlc3VsdHM6IFZhbGlkYXRpb25SZXN1bHRzID0ge1xuICAgICAgdHJhbnNwb3J0c1dvcmtpbmc6IFsnaHR0cCddLFxuICAgICAgdHJhbnNwb3J0c0ZhaWxpbmc6IFtdLFxuICAgICAgcmVjb21tZW5kZWRDb25maWd1cmF0aW9uOiB7fSxcbiAgICAgIHBlcmZvcm1hbmNlQmFzZWxpbmU6IHtcbiAgICAgICAgYXZnUmVzcG9uc2VUaW1lOiAxNTAsXG4gICAgICAgIHJlbGlhYmlsaXR5OiAwLjk4LFxuICAgICAgICB0aHJvdWdocHV0OiAxMDAwXG4gICAgICB9XG4gICAgfTtcbiAgICBcbiAgICAvLyBUZXN0IFdlYlNvY2tldCBpZiBzdXBwb3J0ZWRcbiAgICBpZiAodGhpcy5wcm9ncmVzcy5kZXRlY3RlZENhcGFiaWxpdGllcz8ud2ViU29ja2V0U3VwcG9ydGVkKSB7XG4gICAgICByZXN1bHRzLnRyYW5zcG9ydHNXb3JraW5nLnB1c2goJ3dlYnNvY2tldCcpO1xuICAgIH1cbiAgICBcbiAgICAvLyBUZXN0IEZpbGVTeXN0ZW0gaWYgc3VwcG9ydGVkXG4gICAgaWYgKHRoaXMucHJvZ3Jlc3MuZGV0ZWN0ZWRDYXBhYmlsaXRpZXM/LmZpbGVTeXN0ZW1BY2Nlc3MpIHtcbiAgICAgIHJlc3VsdHMudHJhbnNwb3J0c1dvcmtpbmcucHVzaCgnZmlsZXN5c3RlbScpO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyVmFsaWRhdGlvblJlc3VsdHMoY29udGFpbmVyOiBIVE1MRWxlbWVudCkge1xuICAgIGNvbnN0IHJlc3VsdHNDb250YWluZXIgPSBjb250YWluZXIuY3JlYXRlRGl2KCd2YWxpZGF0aW9uLXJlc3VsdHMnKTtcbiAgICBjb25zdCByZXN1bHRzID0gdGhpcy5wcm9ncmVzcy52YWxpZGF0aW9uUmVzdWx0cyE7XG4gICAgXG4gICAgcmVzdWx0c0NvbnRhaW5lci5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6ICfinIUgVmFsaWRhdGlvbiBDb21wbGV0ZScgfSk7XG4gICAgXG4gICAgLy8gV29ya2luZyB0cmFuc3BvcnRzXG4gICAgY29uc3Qgd29ya2luZ0NvbnRhaW5lciA9IHJlc3VsdHNDb250YWluZXIuY3JlYXRlRGl2KCd3b3JraW5nLXRyYW5zcG9ydHMnKTtcbiAgICB3b3JraW5nQ29udGFpbmVyLmNyZWF0ZUVsKCdoNScsIHsgdGV4dDogJ1dvcmtpbmcgVHJhbnNwb3J0czonIH0pO1xuICAgIGNvbnN0IHdvcmtpbmdMaXN0ID0gd29ya2luZ0NvbnRhaW5lci5jcmVhdGVFbCgndWwnKTtcbiAgICByZXN1bHRzLnRyYW5zcG9ydHNXb3JraW5nLmZvckVhY2godHJhbnNwb3J0ID0+IHtcbiAgICAgIHdvcmtpbmdMaXN0LmNyZWF0ZUVsKCdsaScsIHsgdGV4dDogYOKchSAke3RyYW5zcG9ydC50b1VwcGVyQ2FzZSgpfWAgfSk7XG4gICAgfSk7XG4gICAgXG4gICAgLy8gUGVyZm9ybWFuY2UgYmFzZWxpbmVcbiAgICBjb25zdCBwZXJmb3JtYW5jZUNvbnRhaW5lciA9IHJlc3VsdHNDb250YWluZXIuY3JlYXRlRGl2KCdwZXJmb3JtYW5jZS1iYXNlbGluZScpO1xuICAgIHBlcmZvcm1hbmNlQ29udGFpbmVyLmNyZWF0ZUVsKCdoNScsIHsgdGV4dDogJ1BlcmZvcm1hbmNlIEJhc2VsaW5lOicgfSk7XG4gICAgY29uc3QgcGVyZkxpc3QgPSBwZXJmb3JtYW5jZUNvbnRhaW5lci5jcmVhdGVFbCgndWwnKTtcbiAgICBwZXJmTGlzdC5jcmVhdGVFbCgnbGknLCB7IHRleHQ6IGBBdmVyYWdlIFJlc3BvbnNlIFRpbWU6ICR7cmVzdWx0cy5wZXJmb3JtYW5jZUJhc2VsaW5lLmF2Z1Jlc3BvbnNlVGltZX1tc2AgfSk7XG4gICAgcGVyZkxpc3QuY3JlYXRlRWwoJ2xpJywgeyB0ZXh0OiBgUmVsaWFiaWxpdHk6ICR7KHJlc3VsdHMucGVyZm9ybWFuY2VCYXNlbGluZS5yZWxpYWJpbGl0eSAqIDEwMCkudG9GaXhlZCgxKX0lYCB9KTtcbiAgICBwZXJmTGlzdC5jcmVhdGVFbCgnbGknLCB7IHRleHQ6IGBUaHJvdWdocHV0OiAke3Jlc3VsdHMucGVyZm9ybWFuY2VCYXNlbGluZS50aHJvdWdocHV0fSByZXF1ZXN0cy9taW5gIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJWYWxpZGF0aW9uRXJyb3IoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgZXJyb3I6IGFueSkge1xuICAgIGNvbnN0IGVycm9yQ29udGFpbmVyID0gY29udGFpbmVyLmNyZWF0ZURpdigndmFsaWRhdGlvbi1lcnJvcicpO1xuICAgIGVycm9yQ29udGFpbmVyLmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogJ+KaoO+4jyBWYWxpZGF0aW9uIElzc3VlcycgfSk7XG4gICAgZXJyb3JDb250YWluZXIuY3JlYXRlRWwoJ3AnLCB7IFxuICAgICAgdGV4dDogJ1NvbWUgdmFsaWRhdGlvbiB0ZXN0cyBmYWlsZWQsIGJ1dCB5b3UgY2FuIHN0aWxsIHByb2NlZWQuIFlvdSBjYW4gYWRqdXN0IHNldHRpbmdzIGxhdGVyIGlmIG5lZWRlZC4nXG4gICAgfSk7XG4gICAgXG4gICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLmRlYnVnTW9kZSkge1xuICAgICAgZXJyb3JDb250YWluZXIuY3JlYXRlRWwoJ3AnLCB7IFxuICAgICAgICB0ZXh0OiBgRXJyb3I6ICR7ZXJyb3IubWVzc2FnZX1gLFxuICAgICAgICBjbHM6ICdlcnJvci1kZXRhaWxzJ1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyByZW5kZXJDb21wbGV0aW9uU3RlcChjb250YWluZXI6IEhUTUxFbGVtZW50KSB7XG4gICAgY29uc3Qgc3RlcCA9IGNvbnRhaW5lci5jcmVhdGVEaXYoJ29uYm9hcmRpbmctc3RlcCBjb21wbGV0aW9uLXN0ZXAnKTtcbiAgICBcbiAgICBzdGVwLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ/CfjokgU2V0dXAgQ29tcGxldGUhJyB9KTtcbiAgICBzdGVwLmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnVmF1bHRQaWxvdCBoYXMgYmVlbiBjb25maWd1cmVkIHdpdGggeW91ciBvcHRpbWFsIHNldHRpbmdzLicgfSk7XG4gICAgXG4gICAgY29uc3Qgc3VtbWFyeSA9IHN0ZXAuY3JlYXRlRGl2KCdzZXR1cC1zdW1tYXJ5Jyk7XG4gICAgc3VtbWFyeS5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6ICdDb25maWd1cmF0aW9uIFN1bW1hcnk6JyB9KTtcbiAgICBcbiAgICBjb25zdCBzdW1tYXJ5TGlzdCA9IHN1bW1hcnkuY3JlYXRlRWwoJ3VsJyk7XG4gICAgc3VtbWFyeUxpc3QuY3JlYXRlRWwoJ2xpJywgeyBcbiAgICAgIHRleHQ6IGBQZXJmb3JtYW5jZSBNb2RlOiAke3RoaXMucHJvZ3Jlc3MudXNlclByZWZlcmVuY2VzLnBlcmZvcm1hbmNlTW9kZX1gIFxuICAgIH0pO1xuICAgIHN1bW1hcnlMaXN0LmNyZWF0ZUVsKCdsaScsIHsgXG4gICAgICB0ZXh0OiBgUmVhbC10aW1lIFVwZGF0ZXM6ICR7dGhpcy5wcm9ncmVzcy51c2VyUHJlZmVyZW5jZXMuZW5hYmxlUmVhbFRpbWVVcGRhdGVzID8gJ0VuYWJsZWQnIDogJ0Rpc2FibGVkJ31gIFxuICAgIH0pO1xuICAgIHN1bW1hcnlMaXN0LmNyZWF0ZUVsKCdsaScsIHsgXG4gICAgICB0ZXh0OiBgQW5hbHl0aWNzOiAke3RoaXMucHJvZ3Jlc3MudXNlclByZWZlcmVuY2VzLmVuYWJsZUFuYWx5dGljcyA/ICdFbmFibGVkJyA6ICdEaXNhYmxlZCd9YCBcbiAgICB9KTtcbiAgICBcbiAgICBpZiAodGhpcy5wcm9ncmVzcy5kZXRlY3RlZENhcGFiaWxpdGllcykge1xuICAgICAgc3VtbWFyeUxpc3QuY3JlYXRlRWwoJ2xpJywgeyBcbiAgICAgICAgdGV4dDogYFJlY29tbWVuZGVkIFRyYW5zcG9ydDogJHt0aGlzLnByb2dyZXNzLmRldGVjdGVkQ2FwYWJpbGl0aWVzLnJlY29tbWVuZGVkVHJhbnNwb3J0fWAgXG4gICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgbmV4dFN0ZXBzID0gc3RlcC5jcmVhdGVEaXYoJ25leHQtc3RlcHMnKTtcbiAgICBuZXh0U3RlcHMuY3JlYXRlRWwoJ2g0JywgeyB0ZXh0OiAnV2hhdFxcJ3MgTmV4dDonIH0pO1xuICAgIGNvbnN0IG5leHRMaXN0ID0gbmV4dFN0ZXBzLmNyZWF0ZUVsKCd1bCcpO1xuICAgIG5leHRMaXN0LmNyZWF0ZUVsKCdsaScsIHsgdGV4dDogJ/Cfk4ogQ2hlY2sgdGhlIGRhc2hib2FyZCBmb3IgcmVhbC10aW1lIHN0YXR1cycgfSk7XG4gICAgbmV4dExpc3QuY3JlYXRlRWwoJ2xpJywgeyB0ZXh0OiAn4pqZ77iPIEFkanVzdCBhZHZhbmNlZCBzZXR0aW5ncyBhcyBuZWVkZWQnIH0pO1xuICAgIG5leHRMaXN0LmNyZWF0ZUVsKCdsaScsIHsgdGV4dDogJ/CfkqEgUmV2aWV3IEFJLXBvd2VyZWQgcmVjb21tZW5kYXRpb25zJyB9KTtcbiAgICBuZXh0TGlzdC5jcmVhdGVFbCgnbGknLCB7IHRleHQ6ICfwn5OIIE1vbml0b3IgcGVyZm9ybWFuY2UgYW5hbHl0aWNzJyB9KTtcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlUHJvZ3Jlc3NJbmRpY2F0b3JzKCkge1xuICAgIC8vIFVwZGF0ZSBzdGVwIGluZGljYXRvcnNcbiAgICB0aGlzLnN0ZXBFbGVtZW50cy5mb3JFYWNoKChlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcygnYWN0aXZlJywgJ2NvbXBsZXRlZCcsICdpbmFjdGl2ZScpO1xuICAgICAgaWYgKGluZGV4IDwgdGhpcy5jdXJyZW50U3RlcCkge1xuICAgICAgICBlbGVtZW50LmFkZENsYXNzKCdjb21wbGV0ZWQnKTtcbiAgICAgIH0gZWxzZSBpZiAoaW5kZXggPT09IHRoaXMuY3VycmVudFN0ZXApIHtcbiAgICAgICAgZWxlbWVudC5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtZW50LmFkZENsYXNzKCdpbmFjdGl2ZScpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIC8vIFVwZGF0ZSBwcm9ncmVzcyBiYXJcbiAgICBjb25zdCBwcm9ncmVzc0ZpbGwgPSB0aGlzLnByb2dyZXNzQmFyLnF1ZXJ5U2VsZWN0b3IoJy5wcm9ncmVzcy1maWxsJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgaWYgKHByb2dyZXNzRmlsbCkge1xuICAgICAgY29uc3QgcHJvZ3Jlc3MgPSAoKHRoaXMuY3VycmVudFN0ZXAgKyAxKSAvIHRoaXMudG90YWxTdGVwcykgKiAxMDA7XG4gICAgICBwcm9ncmVzc0ZpbGwuc3R5bGUud2lkdGggPSBgJHtwcm9ncmVzc30lYDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZU5hdmlnYXRpb25TdGF0ZSgpIHtcbiAgICAvLyBQcmV2aW91cyBidXR0b25cbiAgICB0aGlzLnByZXZpb3VzQnV0dG9uLnNldERpc2FibGVkKHRoaXMuY3VycmVudFN0ZXAgPT09IDApO1xuICAgIFxuICAgIC8vIE5leHQgYnV0dG9uXG4gICAgaWYgKHRoaXMuY3VycmVudFN0ZXAgPT09IHRoaXMudG90YWxTdGVwcyAtIDEpIHtcbiAgICAgIHRoaXMubmV4dEJ1dHRvbi5zZXRCdXR0b25UZXh0KCdGaW5pc2gnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5uZXh0QnV0dG9uLnNldEJ1dHRvblRleHQoJ05leHQnKTtcbiAgICB9XG4gICAgXG4gICAgLy8gU2tpcCBidXR0b24gLSBoaWRlIG9uIGxhc3Qgc3RlcFxuICAgIGlmICh0aGlzLmN1cnJlbnRTdGVwID09PSB0aGlzLnRvdGFsU3RlcHMgLSAxKSB7XG4gICAgICB0aGlzLnNraXBCdXR0b24uYnV0dG9uRWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5za2lwQnV0dG9uLmJ1dHRvbkVsLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIG5leHRTdGVwKCkge1xuICAgIGlmICh0aGlzLmN1cnJlbnRTdGVwIDwgdGhpcy50b3RhbFN0ZXBzIC0gMSkge1xuICAgICAgdGhpcy5wcm9ncmVzcy5jb21wbGV0ZWRTdGVwc1t0aGlzLmN1cnJlbnRTdGVwXSA9IHRydWU7XG4gICAgICB0aGlzLmN1cnJlbnRTdGVwKys7XG4gICAgICBhd2FpdCB0aGlzLnJlbmRlckN1cnJlbnRTdGVwKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEZpbmlzaCBvbmJvYXJkaW5nXG4gICAgICBhd2FpdCB0aGlzLmZpbmlzaE9uYm9hcmRpbmcoKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHByZXZpb3VzU3RlcCgpIHtcbiAgICBpZiAodGhpcy5jdXJyZW50U3RlcCA+IDApIHtcbiAgICAgIHRoaXMuY3VycmVudFN0ZXAtLTtcbiAgICAgIGF3YWl0IHRoaXMucmVuZGVyQ3VycmVudFN0ZXAoKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHNraXBPbmJvYXJkaW5nKCkge1xuICAgIGNvbnN0IGNvbmZpcm1lZCA9IGNvbmZpcm0oJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBza2lwIHRoZSBzZXR1cCB3aXphcmQ/IFlvdSBjYW4gYWNjZXNzIHRoZXNlIHNldHRpbmdzIGxhdGVyIGluIHRoZSBwbHVnaW4gc2V0dGluZ3MuJyk7XG4gICAgaWYgKGNvbmZpcm1lZCkge1xuICAgICAgYXdhaXQgdGhpcy5maW5pc2hPbmJvYXJkaW5nKHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgZmluaXNoT25ib2FyZGluZyhza2lwcGVkOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICB0cnkge1xuICAgICAgaWYgKCFza2lwcGVkKSB7XG4gICAgICAgIC8vIEFwcGx5IHRoZSBjb25maWd1cmF0aW9uXG4gICAgICAgIGF3YWl0IHRoaXMuYXBwbHlDb25maWd1cmF0aW9uKCk7XG4gICAgICAgIG5ldyBOb3RpY2UoJ+KchSBWYXVsdFBpbG90IGNvbmZpZ3VyYXRpb24gYXBwbGllZCBzdWNjZXNzZnVsbHkhJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXcgTm90aWNlKCfimqDvuI8gT25ib2FyZGluZyBza2lwcGVkIC0gdXNpbmcgZGVmYXVsdCBzZXR0aW5ncycpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBNYXJrIG9uYm9hcmRpbmcgYXMgY29tcGxldGVcbiAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLm9uYm9hcmRpbmdDb21wbGV0ZSA9IHRydWU7XG4gICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgIFxuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gYXBwbHkgb25ib2FyZGluZyBjb25maWd1cmF0aW9uOicsIGVycm9yKTtcbiAgICAgIG5ldyBOb3RpY2UoJ+KdjCBGYWlsZWQgdG8gYXBwbHkgY29uZmlndXJhdGlvbi4gUGxlYXNlIGNoZWNrIHNldHRpbmdzIG1hbnVhbGx5LicpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgYXBwbHlDb25maWd1cmF0aW9uKCkge1xuICAgIC8vIEFwcGx5IHVzZXIgcHJlZmVyZW5jZXMgdG8gcGx1Z2luIHNldHRpbmdzXG4gICAgY29uc3QgcHJlZmVyZW5jZXMgPSB0aGlzLnByb2dyZXNzLnVzZXJQcmVmZXJlbmNlcztcbiAgICBcbiAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5wZXJmb3JtYW5jZU1vZGUgPSBwcmVmZXJlbmNlcy5wZXJmb3JtYW5jZU1vZGU7XG4gICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZW5hYmxlUmVhbFRpbWVVcGRhdGVzID0gcHJlZmVyZW5jZXMuZW5hYmxlUmVhbFRpbWVVcGRhdGVzO1xuICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmVuYWJsZUFuYWx5dGljcyA9IHByZWZlcmVuY2VzLmVuYWJsZUFuYWx5dGljcztcbiAgICBcbiAgICBpZiAodGhpcy5wcm9ncmVzcy5kZXRlY3RlZENhcGFiaWxpdGllcykge1xuICAgICAgLy8gQXBwbHkgcmVjb21tZW5kZWQgdHJhbnNwb3J0IGNvbmZpZ3VyYXRpb25cbiAgICAgIGNvbnN0IGNhcGFiaWxpdGllcyA9IHRoaXMucHJvZ3Jlc3MuZGV0ZWN0ZWRDYXBhYmlsaXRpZXM7XG4gICAgICBcbiAgICAgIC8vIENvbmZpZ3VyZSB0cmFuc3BvcnQgbWFuYWdlciB3aXRoIGRldGVjdGVkIGNhcGFiaWxpdGllc1xuICAgICAgY29uc3QgdHJhbnNwb3J0Q29uZmlnID0ge1xuICAgICAgICBzZWxlY3Rpb25Dcml0ZXJpYTogdGhpcy5nZXRTZWxlY3Rpb25Dcml0ZXJpYUZvck1vZGUocHJlZmVyZW5jZXMucGVyZm9ybWFuY2VNb2RlKSxcbiAgICAgICAgZmFsbGJhY2tDaGFpbjogdGhpcy5idWlsZEZhbGxiYWNrQ2hhaW4oY2FwYWJpbGl0aWVzKSxcbiAgICAgICAgdHJhbnNwb3J0Q29uZmlnczoge1xuICAgICAgICAgIGh0dHA6IHsgYmFzZVVybDogdGhpcy5wbHVnaW4uc2V0dGluZ3MuYmFja2VuZFVybCB9LFxuICAgICAgICAgIHdlYnNvY2tldDogY2FwYWJpbGl0aWVzLndlYlNvY2tldFN1cHBvcnRlZCA/IHsgdXJsOiB0aGlzLnBsdWdpbi5zZXR0aW5ncy53ZWJTb2NrZXRVcmwgfSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICBmaWxlc3lzdGVtOiBjYXBhYmlsaXRpZXMuZmlsZVN5c3RlbUFjY2VzcyA/IHsgYmFzZVBhdGg6ICcudmF1bHRwaWxvdCcgfSA6IHVuZGVmaW5lZFxuICAgICAgICB9LFxuICAgICAgICBhdXRvRmFpbG92ZXI6IHRydWUsXG4gICAgICAgIGRlYnVnOiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5kZWJ1Z01vZGVcbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIFN0b3JlIGNvbmZpZ3VyYXRpb24gZm9yIHRyYW5zcG9ydCBtYW5hZ2VyXG4gICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy50cmFuc3BvcnRDb25maWcgPSB0cmFuc3BvcnRDb25maWc7XG4gICAgfVxuICAgIFxuICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRTZWxlY3Rpb25Dcml0ZXJpYUZvck1vZGUobW9kZTogc3RyaW5nKSB7XG4gICAgc3dpdGNoIChtb2RlKSB7XG4gICAgICBjYXNlICdwZXJmb3JtYW5jZSc6XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbGF0ZW5jeVdlaWdodDogMC42LFxuICAgICAgICAgIHJlbGlhYmlsaXR5V2VpZ2h0OiAwLjIsXG4gICAgICAgICAgY2FwYWJpbGl0eVdlaWdodDogMC4xLFxuICAgICAgICAgIGNvc3RXZWlnaHQ6IDAuMVxuICAgICAgICB9O1xuICAgICAgY2FzZSAncmVsaWFiaWxpdHknOlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGxhdGVuY3lXZWlnaHQ6IDAuMSxcbiAgICAgICAgICByZWxpYWJpbGl0eVdlaWdodDogMC42LFxuICAgICAgICAgIGNhcGFiaWxpdHlXZWlnaHQ6IDAuMixcbiAgICAgICAgICBjb3N0V2VpZ2h0OiAwLjFcbiAgICAgICAgfTtcbiAgICAgIGRlZmF1bHQ6IC8vIGJhbGFuY2VkXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbGF0ZW5jeVdlaWdodDogMC4zLFxuICAgICAgICAgIHJlbGlhYmlsaXR5V2VpZ2h0OiAwLjMsXG4gICAgICAgICAgY2FwYWJpbGl0eVdlaWdodDogMC4yLFxuICAgICAgICAgIGNvc3RXZWlnaHQ6IDAuMlxuICAgICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYnVpbGRGYWxsYmFja0NoYWluKGNhcGFiaWxpdGllczogRW52aXJvbm1lbnRDYXBhYmlsaXRpZXMpOiBzdHJpbmdbXSB7XG4gICAgY29uc3QgY2hhaW46IHN0cmluZ1tdID0gW107XG4gICAgXG4gICAgaWYgKGNhcGFiaWxpdGllcy53ZWJTb2NrZXRTdXBwb3J0ZWQpIHtcbiAgICAgIGNoYWluLnB1c2goJ3dlYnNvY2tldCcpO1xuICAgIH1cbiAgICBpZiAoY2FwYWJpbGl0aWVzLmh0dHBDYXBhYmlsaXRpZXMpIHtcbiAgICAgIGNoYWluLnB1c2goJ2h0dHAnKTtcbiAgICB9XG4gICAgaWYgKGNhcGFiaWxpdGllcy5maWxlU3lzdGVtQWNjZXNzKSB7XG4gICAgICBjaGFpbi5wdXNoKCdmaWxlc3lzdGVtJyk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBjaGFpbjtcbiAgfVxuXG4gIG9uQ2xvc2UoKSB7XG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgY29udGVudEVsLmVtcHR5KCk7XG4gIH1cbn1cbiIsIi8qKlxuICogUmVjb21tZW5kYXRpb25FbmdpbmUgLSBBSS1wb3dlcmVkIG9wdGltaXphdGlvbiBzdWdnZXN0aW9ucyBhbmQgaW5zaWdodHNcbiAqL1xuXG5pbXBvcnQgeyBUcmFuc3BvcnRUeXBlIH0gZnJvbSAnLi4vZGV2cGlwZS90cmFuc3BvcnRzL0RldlBpcGVUcmFuc3BvcnQnO1xuaW1wb3J0IHsgRW52aXJvbm1lbnREZXRlY3RvciB9IGZyb20gJy4uL3V0aWxzL0Vudmlyb25tZW50RGV0ZWN0b3InO1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlY29tbWVuZGF0aW9uQ29udGV4dCB7XG4gIHVzZXJJZD86IHN0cmluZztcbiAgc2Vzc2lvbklkOiBzdHJpbmc7XG4gIHRpbWVzdGFtcDogRGF0ZTtcbiAgY3VycmVudFRyYW5zcG9ydDogVHJhbnNwb3J0VHlwZTtcbiAgYXZhaWxhYmxlVHJhbnNwb3J0czogVHJhbnNwb3J0VHlwZVtdO1xuICBwZXJmb3JtYW5jZU1ldHJpY3M6IFBlcmZvcm1hbmNlU25hcHNob3Q7XG4gIHVzZXJCZWhhdmlvcjogVXNlckJlaGF2aW9yUGF0dGVybjtcbiAgZW52aXJvbm1lbnRDb250ZXh0OiBFbnZpcm9ubWVudENvbnRleHQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGVyZm9ybWFuY2VTbmFwc2hvdCB7XG4gIGF2ZXJhZ2VMYXRlbmN5OiBudW1iZXI7XG4gIGVycm9yUmF0ZTogbnVtYmVyO1xuICB0aHJvdWdocHV0OiBudW1iZXI7XG4gIHJlbGlhYmlsaXR5OiBudW1iZXI7XG4gIHRyYW5zcG9ydFVzYWdlOiBSZWNvcmQ8VHJhbnNwb3J0VHlwZSwgbnVtYmVyPjtcbiAgdGltZVdpbmRvdzogc3RyaW5nOyAvLyBlLmcuLCAnMWgnLCAnMjRoJywgJzdkJ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJCZWhhdmlvclBhdHRlcm4ge1xuICB1c2FnZUZyZXF1ZW5jeTogJ2xvdycgfCAnbWVkaXVtJyB8ICdoaWdoJztcbiAgcGVha1VzYWdlSG91cnM6IG51bWJlcltdO1xuICBwcmVmZXJyZWRGZWF0dXJlczogc3RyaW5nW107XG4gIGVycm9yVG9sZXJhbmNlOiAnbG93JyB8ICdtZWRpdW0nIHwgJ2hpZ2gnO1xuICBwZXJmb3JtYW5jZVNlbnNpdGl2aXR5OiAnbG93JyB8ICdtZWRpdW0nIHwgJ2hpZ2gnO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEVudmlyb25tZW50Q29udGV4dCB7XG4gIHBsYXRmb3JtOiBzdHJpbmc7XG4gIGNvbm5lY3Rpdml0eTogJ3Bvb3InIHwgJ2ZhaXInIHwgJ2dvb2QnIHwgJ2V4Y2VsbGVudCc7XG4gIGJhbmR3aWR0aDogbnVtYmVyOyAvLyBNYnBzXG4gIGxhdGVuY3k6IG51bWJlcjsgLy8gbXNcbiAgc3RhYmlsaXR5OiBudW1iZXI7IC8vIDAtMVxufVxuXG5leHBvcnQgZW51bSBSZWNvbW1lbmRhdGlvblR5cGUge1xuICBUUkFOU1BPUlRfT1BUSU1JWkFUSU9OID0gJ3RyYW5zcG9ydF9vcHRpbWl6YXRpb24nLFxuICBQRVJGT1JNQU5DRV9UVU5JTkcgPSAncGVyZm9ybWFuY2VfdHVuaW5nJyxcbiAgRVJST1JfUkVEVUNUSU9OID0gJ2Vycm9yX3JlZHVjdGlvbicsXG4gIENPU1RfT1BUSU1JWkFUSU9OID0gJ2Nvc3Rfb3B0aW1pemF0aW9uJyxcbiAgRkVBVFVSRV9BRE9QVElPTiA9ICdmZWF0dXJlX2Fkb3B0aW9uJyxcbiAgQ09ORklHVVJBVElPTl9JTVBST1ZFTUVOVCA9ICdjb25maWd1cmF0aW9uX2ltcHJvdmVtZW50JyxcbiAgUFJPQUNUSVZFX01BSU5URU5BTkNFID0gJ3Byb2FjdGl2ZV9tYWludGVuYW5jZSdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZWNvbW1lbmRhdGlvbiB7XG4gIGlkOiBzdHJpbmc7XG4gIHR5cGU6IFJlY29tbWVuZGF0aW9uVHlwZTtcbiAgcHJpb3JpdHk6ICdsb3cnIHwgJ21lZGl1bScgfCAnaGlnaCcgfCAnY3JpdGljYWwnO1xuICB0aXRsZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICByYXRpb25hbGU6IHN0cmluZztcbiAgXG4gIC8vIEV4cGVjdGVkIGltcGFjdFxuICBleHBlY3RlZEltcGFjdDoge1xuICAgIHBlcmZvcm1hbmNlSW1wcm92ZW1lbnQ6IG51bWJlcjsgLy8gcGVyY2VudGFnZVxuICAgIGVycm9yUmVkdWN0aW9uOiBudW1iZXI7IC8vIHBlcmNlbnRhZ2VcbiAgICByZWxpYWJpbGl0eUltcHJvdmVtZW50OiBudW1iZXI7IC8vIHBlcmNlbnRhZ2VcbiAgICBjb25maWRlbmNlU2NvcmU6IG51bWJlcjsgLy8gMC0xXG4gIH07XG4gIFxuICAvLyBJbXBsZW1lbnRhdGlvbiBkZXRhaWxzXG4gIGltcGxlbWVudGF0aW9uOiB7XG4gICAgZGlmZmljdWx0eTogJ2Vhc3knIHwgJ21lZGl1bScgfCAnaGFyZCc7XG4gICAgZXN0aW1hdGVkVGltZTogc3RyaW5nO1xuICAgIHN0ZXBzOiBSZWNvbW1lbmRhdGlvblN0ZXBbXTtcbiAgICByZXZlcnNpYmxlOiBib29sZWFuO1xuICAgIHJpc2tMZXZlbDogJ2xvdycgfCAnbWVkaXVtJyB8ICdoaWdoJztcbiAgfTtcbiAgXG4gIC8vIE1ldGFkYXRhXG4gIGNhdGVnb3J5OiBzdHJpbmc7XG4gIHRhZ3M6IHN0cmluZ1tdO1xuICBjcmVhdGVkOiBEYXRlO1xuICB2YWxpZFVudGlsPzogRGF0ZTtcbiAgYXBwbGllZEF0PzogRGF0ZTtcbiAgZWZmZWN0aXZlbmVzcz86IG51bWJlcjsgLy8gcG9zdC1pbXBsZW1lbnRhdGlvbiBmZWVkYmFja1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlY29tbWVuZGF0aW9uU3RlcCB7XG4gIGlkOiBzdHJpbmc7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIGFjdGlvbjogJ21hbnVhbCcgfCAnYXV0b21hdGljJztcbiAgY29tbWFuZD86IHN0cmluZztcbiAgdmFsaWRhdGlvbj86IHN0cmluZztcbiAgZGVwZW5kZW5jaWVzPzogc3RyaW5nW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgT3B0aW1pemF0aW9uT3Bwb3J0dW5pdHkge1xuICBhcmVhOiAndHJhbnNwb3J0JyB8ICdjb25maWd1cmF0aW9uJyB8ICd1c2FnZScgfCAnZW52aXJvbm1lbnQnO1xuICBpbXBhY3Q6ICdsb3cnIHwgJ21lZGl1bScgfCAnaGlnaCc7XG4gIGVmZm9ydDogJ2xvdycgfCAnbWVkaXVtJyB8ICdoaWdoJztcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgbWV0cmljczoge1xuICAgIGN1cnJlbnRWYWx1ZTogbnVtYmVyO1xuICAgIHBvdGVudGlhbFZhbHVlOiBudW1iZXI7XG4gICAgaW1wcm92ZW1lbnQ6IG51bWJlcjtcbiAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJbnNpZ2h0Q2F0ZWdvcnkge1xuICBuYW1lOiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIHByaW9yaXR5OiBudW1iZXI7XG4gIGluc2lnaHRzOiBJbnNpZ2h0W107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW5zaWdodCB7XG4gIGlkOiBzdHJpbmc7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIHR5cGU6ICdwb3NpdGl2ZScgfCAnbmV1dHJhbCcgfCAnd2FybmluZycgfCAnY3JpdGljYWwnO1xuICBjb25maWRlbmNlOiBudW1iZXI7IC8vIDAtMVxuICBkYXRhOiBhbnk7XG4gIGFjdGlvbmFibGU6IGJvb2xlYW47XG4gIHJlbGF0ZWQ6IHN0cmluZ1tdOyAvLyByZWxhdGVkIHJlY29tbWVuZGF0aW9uIElEc1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFByZWRpY3RpdmVBbGVydCB7XG4gIGlkOiBzdHJpbmc7XG4gIHR5cGU6ICdwZXJmb3JtYW5jZV9kZWdyYWRhdGlvbicgfCAndHJhbnNwb3J0X2ZhaWx1cmUnIHwgJ2NhcGFjaXR5X2xpbWl0JyB8ICdtYWludGVuYW5jZV9yZXF1aXJlZCc7XG4gIHNldmVyaXR5OiAnaW5mbycgfCAnd2FybmluZycgfCAnZXJyb3InIHwgJ2NyaXRpY2FsJztcbiAgcHJvYmFiaWxpdHk6IG51bWJlcjsgLy8gMC0xXG4gIHRpbWVmcmFtZTogc3RyaW5nOyAvLyBlLmcuLCAnMWgnLCAnMjRoJywgJzF3J1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICBwcmV2ZW50aXZlQWN0aW9uczogUmVjb21tZW5kYXRpb25bXTtcbiAgdHJpZ2dlcnM6IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgY2xhc3MgUmVjb21tZW5kYXRpb25FbmdpbmUge1xuICBwcml2YXRlIHBlcmZvcm1hbmNlSGlzdG9yeTogUGVyZm9ybWFuY2VTbmFwc2hvdFtdID0gW107XG4gIHByaXZhdGUgYmVoYXZpb3JQYXR0ZXJuczogTWFwPHN0cmluZywgVXNlckJlaGF2aW9yUGF0dGVybj4gPSBuZXcgTWFwKCk7XG4gIHByaXZhdGUgYXBwbGllZFJlY29tbWVuZGF0aW9uczogTWFwPHN0cmluZywgUmVjb21tZW5kYXRpb24+ID0gbmV3IE1hcCgpO1xuICBwcml2YXRlIGluc2lnaHRDYWNoZTogTWFwPHN0cmluZywgSW5zaWdodENhdGVnb3J5W10+ID0gbmV3IE1hcCgpO1xuICBwcml2YXRlIHByZWRpY3Rpb25Nb2RlbHM6IE1hcDxzdHJpbmcsIGFueT4gPSBuZXcgTWFwKCk7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBBTkFMWVNJU19XSU5ET1cgPSA3ICogMjQgKiA2MCAqIDYwICogMTAwMDsgLy8gNyBkYXlzXG4gIHByaXZhdGUgcmVhZG9ubHkgTUlOX0RBVEFfUE9JTlRTID0gMTA7XG4gIHByaXZhdGUgcmVhZG9ubHkgQ09ORklERU5DRV9USFJFU0hPTEQgPSAwLjc7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5pbml0aWFsaXplUHJlZGljdGlvbk1vZGVscygpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIGNvbXByZWhlbnNpdmUgcmVjb21tZW5kYXRpb25zIGJhc2VkIG9uIGN1cnJlbnQgY29udGV4dFxuICAgKi9cbiAgYXN5bmMgZ2VuZXJhdGVSZWNvbW1lbmRhdGlvbnMoY29udGV4dDogUmVjb21tZW5kYXRpb25Db250ZXh0KTogUHJvbWlzZTxSZWNvbW1lbmRhdGlvbltdPiB7XG4gICAgY29uc3QgcmVjb21tZW5kYXRpb25zOiBSZWNvbW1lbmRhdGlvbltdID0gW107XG5cbiAgICB0cnkge1xuICAgICAgLy8gQW5hbHl6ZSBjdXJyZW50IHBlcmZvcm1hbmNlIGFuZCBpZGVudGlmeSBvcHBvcnR1bml0aWVzXG4gICAgICBjb25zdCBvcHBvcnR1bml0aWVzID0gYXdhaXQgdGhpcy5hbmFseXplT3B0aW1pemF0aW9uT3Bwb3J0dW5pdGllcyhjb250ZXh0KTtcbiAgICAgIFxuICAgICAgLy8gR2VuZXJhdGUgdHJhbnNwb3J0LXNwZWNpZmljIHJlY29tbWVuZGF0aW9uc1xuICAgICAgY29uc3QgdHJhbnNwb3J0UmVjcyA9IGF3YWl0IHRoaXMuZ2VuZXJhdGVUcmFuc3BvcnRSZWNvbW1lbmRhdGlvbnMoY29udGV4dCwgb3Bwb3J0dW5pdGllcyk7XG4gICAgICByZWNvbW1lbmRhdGlvbnMucHVzaCguLi50cmFuc3BvcnRSZWNzKTtcblxuICAgICAgLy8gR2VuZXJhdGUgcGVyZm9ybWFuY2UgdHVuaW5nIHJlY29tbWVuZGF0aW9uc1xuICAgICAgY29uc3QgcGVyZm9ybWFuY2VSZWNzID0gYXdhaXQgdGhpcy5nZW5lcmF0ZVBlcmZvcm1hbmNlUmVjb21tZW5kYXRpb25zKGNvbnRleHQsIG9wcG9ydHVuaXRpZXMpO1xuICAgICAgcmVjb21tZW5kYXRpb25zLnB1c2goLi4ucGVyZm9ybWFuY2VSZWNzKTtcblxuICAgICAgLy8gR2VuZXJhdGUgY29uZmlndXJhdGlvbiByZWNvbW1lbmRhdGlvbnNcbiAgICAgIGNvbnN0IGNvbmZpZ1JlY3MgPSBhd2FpdCB0aGlzLmdlbmVyYXRlQ29uZmlndXJhdGlvblJlY29tbWVuZGF0aW9ucyhjb250ZXh0KTtcbiAgICAgIHJlY29tbWVuZGF0aW9ucy5wdXNoKC4uLmNvbmZpZ1JlY3MpO1xuXG4gICAgICAvLyBHZW5lcmF0ZSBwcm9hY3RpdmUgbWFpbnRlbmFuY2UgcmVjb21tZW5kYXRpb25zXG4gICAgICBjb25zdCBtYWludGVuYW5jZVJlY3MgPSBhd2FpdCB0aGlzLmdlbmVyYXRlTWFpbnRlbmFuY2VSZWNvbW1lbmRhdGlvbnMoY29udGV4dCk7XG4gICAgICByZWNvbW1lbmRhdGlvbnMucHVzaCguLi5tYWludGVuYW5jZVJlY3MpO1xuXG4gICAgICAvLyBTb3J0IGJ5IHByaW9yaXR5IGFuZCBleHBlY3RlZCBpbXBhY3RcbiAgICAgIGNvbnN0IHNvcnRlZFJlY29tbWVuZGF0aW9ucyA9IHRoaXMucHJpb3JpdGl6ZVJlY29tbWVuZGF0aW9ucyhyZWNvbW1lbmRhdGlvbnMpO1xuXG4gICAgICAvLyBDYWNoZSByZWNvbW1lbmRhdGlvbnMgZm9yIHRyYWNraW5nXG4gICAgICBzb3J0ZWRSZWNvbW1lbmRhdGlvbnMuZm9yRWFjaChyZWMgPT4ge1xuICAgICAgICB0aGlzLmFwcGxpZWRSZWNvbW1lbmRhdGlvbnMuc2V0KHJlYy5pZCwgcmVjKTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gc29ydGVkUmVjb21tZW5kYXRpb25zO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZ2VuZXJhdGUgcmVjb21tZW5kYXRpb25zOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQW5hbHl6ZSBjdXJyZW50IHN0YXRlIHRvIGlkZW50aWZ5IG9wdGltaXphdGlvbiBvcHBvcnR1bml0aWVzXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGFuYWx5emVPcHRpbWl6YXRpb25PcHBvcnR1bml0aWVzKGNvbnRleHQ6IFJlY29tbWVuZGF0aW9uQ29udGV4dCk6IFByb21pc2U8T3B0aW1pemF0aW9uT3Bwb3J0dW5pdHlbXT4ge1xuICAgIGNvbnN0IG9wcG9ydHVuaXRpZXM6IE9wdGltaXphdGlvbk9wcG9ydHVuaXR5W10gPSBbXTtcblxuICAgIC8vIEFuYWx5emUgdHJhbnNwb3J0IHBlcmZvcm1hbmNlXG4gICAgaWYgKGNvbnRleHQucGVyZm9ybWFuY2VNZXRyaWNzLmVycm9yUmF0ZSA+IDAuMDUpIHtcbiAgICAgIG9wcG9ydHVuaXRpZXMucHVzaCh7XG4gICAgICAgIGFyZWE6ICd0cmFuc3BvcnQnLFxuICAgICAgICBpbXBhY3Q6ICdoaWdoJyxcbiAgICAgICAgZWZmb3J0OiAnbWVkaXVtJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdIaWdoIGVycm9yIHJhdGUgZGV0ZWN0ZWQsIHRyYW5zcG9ydCBvcHRpbWl6YXRpb24gcmVjb21tZW5kZWQnLFxuICAgICAgICBtZXRyaWNzOiB7XG4gICAgICAgICAgY3VycmVudFZhbHVlOiBjb250ZXh0LnBlcmZvcm1hbmNlTWV0cmljcy5lcnJvclJhdGUsXG4gICAgICAgICAgcG90ZW50aWFsVmFsdWU6IDAuMDEsXG4gICAgICAgICAgaW1wcm92ZW1lbnQ6IChjb250ZXh0LnBlcmZvcm1hbmNlTWV0cmljcy5lcnJvclJhdGUgLSAwLjAxKSAvIGNvbnRleHQucGVyZm9ybWFuY2VNZXRyaWNzLmVycm9yUmF0ZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBBbmFseXplIGxhdGVuY3kgaXNzdWVzXG4gICAgaWYgKGNvbnRleHQucGVyZm9ybWFuY2VNZXRyaWNzLmF2ZXJhZ2VMYXRlbmN5ID4gNTAwKSB7XG4gICAgICBvcHBvcnR1bml0aWVzLnB1c2goe1xuICAgICAgICBhcmVhOiAnY29uZmlndXJhdGlvbicsXG4gICAgICAgIGltcGFjdDogJ21lZGl1bScsXG4gICAgICAgIGVmZm9ydDogJ2xvdycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnSGlnaCBsYXRlbmN5IGRldGVjdGVkLCBjb25maWd1cmF0aW9uIHR1bmluZyByZWNvbW1lbmRlZCcsXG4gICAgICAgIG1ldHJpY3M6IHtcbiAgICAgICAgICBjdXJyZW50VmFsdWU6IGNvbnRleHQucGVyZm9ybWFuY2VNZXRyaWNzLmF2ZXJhZ2VMYXRlbmN5LFxuICAgICAgICAgIHBvdGVudGlhbFZhbHVlOiAyMDAsXG4gICAgICAgICAgaW1wcm92ZW1lbnQ6IChjb250ZXh0LnBlcmZvcm1hbmNlTWV0cmljcy5hdmVyYWdlTGF0ZW5jeSAtIDIwMCkgLyBjb250ZXh0LnBlcmZvcm1hbmNlTWV0cmljcy5hdmVyYWdlTGF0ZW5jeVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBBbmFseXplIHRyYW5zcG9ydCB1c2FnZSBwYXR0ZXJuc1xuICAgIGNvbnN0IHRyYW5zcG9ydERpc3RyaWJ1dGlvbiA9IE9iamVjdC52YWx1ZXMoY29udGV4dC5wZXJmb3JtYW5jZU1ldHJpY3MudHJhbnNwb3J0VXNhZ2UpO1xuICAgIGNvbnN0IG1heFVzYWdlID0gTWF0aC5tYXgoLi4udHJhbnNwb3J0RGlzdHJpYnV0aW9uKTtcbiAgICBjb25zdCBtaW5Vc2FnZSA9IE1hdGgubWluKC4uLnRyYW5zcG9ydERpc3RyaWJ1dGlvbik7XG4gICAgXG4gICAgaWYgKG1heFVzYWdlIC8gKG1pblVzYWdlIHx8IDAuMDAxKSA+IDEwKSB7XG4gICAgICBvcHBvcnR1bml0aWVzLnB1c2goe1xuICAgICAgICBhcmVhOiAndXNhZ2UnLFxuICAgICAgICBpbXBhY3Q6ICdtZWRpdW0nLFxuICAgICAgICBlZmZvcnQ6ICdsb3cnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1VuYmFsYW5jZWQgdHJhbnNwb3J0IHVzYWdlIGRldGVjdGVkLCBsb2FkIGJhbGFuY2luZyByZWNvbW1lbmRlZCcsXG4gICAgICAgIG1ldHJpY3M6IHtcbiAgICAgICAgICBjdXJyZW50VmFsdWU6IG1heFVzYWdlIC8gKG1pblVzYWdlIHx8IDAuMDAxKSxcbiAgICAgICAgICBwb3RlbnRpYWxWYWx1ZTogMyxcbiAgICAgICAgICBpbXByb3ZlbWVudDogMC4zXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBvcHBvcnR1bml0aWVzO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIHRyYW5zcG9ydC1zcGVjaWZpYyByZWNvbW1lbmRhdGlvbnNcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZ2VuZXJhdGVUcmFuc3BvcnRSZWNvbW1lbmRhdGlvbnMoXG4gICAgY29udGV4dDogUmVjb21tZW5kYXRpb25Db250ZXh0LFxuICAgIG9wcG9ydHVuaXRpZXM6IE9wdGltaXphdGlvbk9wcG9ydHVuaXR5W11cbiAgKTogUHJvbWlzZTxSZWNvbW1lbmRhdGlvbltdPiB7XG4gICAgY29uc3QgcmVjb21tZW5kYXRpb25zOiBSZWNvbW1lbmRhdGlvbltdID0gW107XG5cbiAgICAvLyBDaGVjayBpZiBjdXJyZW50IHRyYW5zcG9ydCBpcyBvcHRpbWFsXG4gICAgY29uc3Qgb3B0aW1hbFRyYW5zcG9ydCA9IGF3YWl0IHRoaXMuZGV0ZXJtaW5lT3B0aW1hbFRyYW5zcG9ydChjb250ZXh0KTtcbiAgICBpZiAob3B0aW1hbFRyYW5zcG9ydCAhPT0gY29udGV4dC5jdXJyZW50VHJhbnNwb3J0KSB7XG4gICAgICByZWNvbW1lbmRhdGlvbnMucHVzaCh7XG4gICAgICAgIGlkOiBgdHJhbnNwb3J0LXN3aXRjaC0ke0RhdGUubm93KCl9YCxcbiAgICAgICAgdHlwZTogUmVjb21tZW5kYXRpb25UeXBlLlRSQU5TUE9SVF9PUFRJTUlaQVRJT04sXG4gICAgICAgIHByaW9yaXR5OiAnaGlnaCcsXG4gICAgICAgIHRpdGxlOiBgU3dpdGNoIHRvICR7b3B0aW1hbFRyYW5zcG9ydH0gVHJhbnNwb3J0YCxcbiAgICAgICAgZGVzY3JpcHRpb246IGBCYXNlZCBvbiB5b3VyIHVzYWdlIHBhdHRlcm5zIGFuZCBlbnZpcm9ubWVudCwgJHtvcHRpbWFsVHJhbnNwb3J0fSB0cmFuc3BvcnQgd291bGQgcHJvdmlkZSBiZXR0ZXIgcGVyZm9ybWFuY2UuYCxcbiAgICAgICAgcmF0aW9uYWxlOiB0aGlzLmdlbmVyYXRlVHJhbnNwb3J0U3dpdGNoUmF0aW9uYWxlKGNvbnRleHQsIG9wdGltYWxUcmFuc3BvcnQpLFxuICAgICAgICBleHBlY3RlZEltcGFjdDoge1xuICAgICAgICAgIHBlcmZvcm1hbmNlSW1wcm92ZW1lbnQ6IDI1LFxuICAgICAgICAgIGVycm9yUmVkdWN0aW9uOiA0MCxcbiAgICAgICAgICByZWxpYWJpbGl0eUltcHJvdmVtZW50OiAzMCxcbiAgICAgICAgICBjb25maWRlbmNlU2NvcmU6IDAuODVcbiAgICAgICAgfSxcbiAgICAgICAgaW1wbGVtZW50YXRpb246IHtcbiAgICAgICAgICBkaWZmaWN1bHR5OiAnZWFzeScsXG4gICAgICAgICAgZXN0aW1hdGVkVGltZTogJzEgbWludXRlJyxcbiAgICAgICAgICBzdGVwczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpZDogJ3N3aXRjaC10cmFuc3BvcnQnLFxuICAgICAgICAgICAgICB0aXRsZTogJ1N3aXRjaCBQcmltYXJ5IFRyYW5zcG9ydCcsXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBgQ2hhbmdlIHByaW1hcnkgdHJhbnNwb3J0IHRvICR7b3B0aW1hbFRyYW5zcG9ydH1gLFxuICAgICAgICAgICAgICBhY3Rpb246ICdhdXRvbWF0aWMnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXSxcbiAgICAgICAgICByZXZlcnNpYmxlOiB0cnVlLFxuICAgICAgICAgIHJpc2tMZXZlbDogJ2xvdydcbiAgICAgICAgfSxcbiAgICAgICAgY2F0ZWdvcnk6ICdUcmFuc3BvcnQnLFxuICAgICAgICB0YWdzOiBbJ3BlcmZvcm1hbmNlJywgJ29wdGltaXphdGlvbicsICd0cmFuc3BvcnQnXSxcbiAgICAgICAgY3JlYXRlZDogbmV3IERhdGUoKVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIHRyYW5zcG9ydCBmYWxsYmFjayBpbXByb3ZlbWVudHNcbiAgICBpZiAoY29udGV4dC5wZXJmb3JtYW5jZU1ldHJpY3MuZXJyb3JSYXRlID4gMC4wMikge1xuICAgICAgcmVjb21tZW5kYXRpb25zLnB1c2goe1xuICAgICAgICBpZDogYGZhbGxiYWNrLW9wdGltaXphdGlvbi0ke0RhdGUubm93KCl9YCxcbiAgICAgICAgdHlwZTogUmVjb21tZW5kYXRpb25UeXBlLlRSQU5TUE9SVF9PUFRJTUlaQVRJT04sXG4gICAgICAgIHByaW9yaXR5OiAnbWVkaXVtJyxcbiAgICAgICAgdGl0bGU6ICdPcHRpbWl6ZSBUcmFuc3BvcnQgRmFsbGJhY2sgQ2hhaW4nLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0NvbmZpZ3VyZSBpbnRlbGxpZ2VudCBmYWxsYmFjayB0byByZWR1Y2UgZXJyb3IgaW1wYWN0LicsXG4gICAgICAgIHJhdGlvbmFsZTogJ0N1cnJlbnQgZXJyb3IgcmF0ZSBzdWdnZXN0cyBmYWxsYmFjayBtZWNoYW5pc21zIGNvdWxkIGJlIGltcHJvdmVkLicsXG4gICAgICAgIGV4cGVjdGVkSW1wYWN0OiB7XG4gICAgICAgICAgcGVyZm9ybWFuY2VJbXByb3ZlbWVudDogMTUsXG4gICAgICAgICAgZXJyb3JSZWR1Y3Rpb246IDYwLFxuICAgICAgICAgIHJlbGlhYmlsaXR5SW1wcm92ZW1lbnQ6IDQ1LFxuICAgICAgICAgIGNvbmZpZGVuY2VTY29yZTogMC43NVxuICAgICAgICB9LFxuICAgICAgICBpbXBsZW1lbnRhdGlvbjoge1xuICAgICAgICAgIGRpZmZpY3VsdHk6ICdtZWRpdW0nLFxuICAgICAgICAgIGVzdGltYXRlZFRpbWU6ICc1IG1pbnV0ZXMnLFxuICAgICAgICAgIHN0ZXBzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGlkOiAnY29uZmlndXJlLWZhbGxiYWNrJyxcbiAgICAgICAgICAgICAgdGl0bGU6ICdDb25maWd1cmUgRmFsbGJhY2sgQ2hhaW4nLFxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ1NldCB1cCBpbnRlbGxpZ2VudCB0cmFuc3BvcnQgZmFsbGJhY2snLFxuICAgICAgICAgICAgICBhY3Rpb246ICdtYW51YWwnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXSxcbiAgICAgICAgICByZXZlcnNpYmxlOiB0cnVlLFxuICAgICAgICAgIHJpc2tMZXZlbDogJ2xvdydcbiAgICAgICAgfSxcbiAgICAgICAgY2F0ZWdvcnk6ICdSZWxpYWJpbGl0eScsXG4gICAgICAgIHRhZ3M6IFsnZmFsbGJhY2snLCAncmVsaWFiaWxpdHknLCAnZXJyb3ItcmVkdWN0aW9uJ10sXG4gICAgICAgIGNyZWF0ZWQ6IG5ldyBEYXRlKClcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiByZWNvbW1lbmRhdGlvbnM7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgcGVyZm9ybWFuY2UgdHVuaW5nIHJlY29tbWVuZGF0aW9uc1xuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBnZW5lcmF0ZVBlcmZvcm1hbmNlUmVjb21tZW5kYXRpb25zKFxuICAgIGNvbnRleHQ6IFJlY29tbWVuZGF0aW9uQ29udGV4dCxcbiAgICBvcHBvcnR1bml0aWVzOiBPcHRpbWl6YXRpb25PcHBvcnR1bml0eVtdXG4gICk6IFByb21pc2U8UmVjb21tZW5kYXRpb25bXT4ge1xuICAgIGNvbnN0IHJlY29tbWVuZGF0aW9uczogUmVjb21tZW5kYXRpb25bXSA9IFtdO1xuXG4gICAgLy8gQ2hlY2sgZm9yIHRpbWVvdXQgb3B0aW1pemF0aW9uXG4gICAgaWYgKGNvbnRleHQucGVyZm9ybWFuY2VNZXRyaWNzLmF2ZXJhZ2VMYXRlbmN5ID4gMTAwMCkge1xuICAgICAgcmVjb21tZW5kYXRpb25zLnB1c2goe1xuICAgICAgICBpZDogYHRpbWVvdXQtb3B0aW1pemF0aW9uLSR7RGF0ZS5ub3coKX1gLFxuICAgICAgICB0eXBlOiBSZWNvbW1lbmRhdGlvblR5cGUuUEVSRk9STUFOQ0VfVFVOSU5HLFxuICAgICAgICBwcmlvcml0eTogJ21lZGl1bScsXG4gICAgICAgIHRpdGxlOiAnT3B0aW1pemUgUmVxdWVzdCBUaW1lb3V0cycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQWRqdXN0IHRpbWVvdXQgc2V0dGluZ3MgdG8gcmVkdWNlIHdhaXQgdGltZXMgZm9yIGZhaWxlZCByZXF1ZXN0cy4nLFxuICAgICAgICByYXRpb25hbGU6ICdIaWdoIGF2ZXJhZ2UgbGF0ZW5jeSBpbmRpY2F0ZXMgdGltZW91dCBzZXR0aW5ncyBtYXkgbmVlZCBhZGp1c3RtZW50LicsXG4gICAgICAgIGV4cGVjdGVkSW1wYWN0OiB7XG4gICAgICAgICAgcGVyZm9ybWFuY2VJbXByb3ZlbWVudDogMjAsXG4gICAgICAgICAgZXJyb3JSZWR1Y3Rpb246IDEwLFxuICAgICAgICAgIHJlbGlhYmlsaXR5SW1wcm92ZW1lbnQ6IDE1LFxuICAgICAgICAgIGNvbmZpZGVuY2VTY29yZTogMC44XG4gICAgICAgIH0sXG4gICAgICAgIGltcGxlbWVudGF0aW9uOiB7XG4gICAgICAgICAgZGlmZmljdWx0eTogJ2Vhc3knLFxuICAgICAgICAgIGVzdGltYXRlZFRpbWU6ICcyIG1pbnV0ZXMnLFxuICAgICAgICAgIHN0ZXBzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGlkOiAnYWRqdXN0LXRpbWVvdXRzJyxcbiAgICAgICAgICAgICAgdGl0bGU6ICdBZGp1c3QgVGltZW91dCBTZXR0aW5ncycsXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnT3B0aW1pemUgcmVxdWVzdCB0aW1lb3V0IHZhbHVlcycsXG4gICAgICAgICAgICAgIGFjdGlvbjogJ21hbnVhbCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdLFxuICAgICAgICAgIHJldmVyc2libGU6IHRydWUsXG4gICAgICAgICAgcmlza0xldmVsOiAnbG93J1xuICAgICAgICB9LFxuICAgICAgICBjYXRlZ29yeTogJ1BlcmZvcm1hbmNlJyxcbiAgICAgICAgdGFnczogWyd0aW1lb3V0JywgJ2xhdGVuY3knLCAncGVyZm9ybWFuY2UnXSxcbiAgICAgICAgY3JlYXRlZDogbmV3IERhdGUoKVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIGNvbm5lY3Rpb24gcG9vbGluZyBvcHBvcnR1bml0aWVzXG4gICAgaWYgKGNvbnRleHQucGVyZm9ybWFuY2VNZXRyaWNzLnRocm91Z2hwdXQgPCAxMDApIHtcbiAgICAgIHJlY29tbWVuZGF0aW9ucy5wdXNoKHtcbiAgICAgICAgaWQ6IGBjb25uZWN0aW9uLXBvb2xpbmctJHtEYXRlLm5vdygpfWAsXG4gICAgICAgIHR5cGU6IFJlY29tbWVuZGF0aW9uVHlwZS5QRVJGT1JNQU5DRV9UVU5JTkcsXG4gICAgICAgIHByaW9yaXR5OiAnaGlnaCcsXG4gICAgICAgIHRpdGxlOiAnRW5hYmxlIENvbm5lY3Rpb24gUG9vbGluZycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnRW5hYmxlIGNvbm5lY3Rpb24gcG9vbGluZyB0byBpbXByb3ZlIHRocm91Z2hwdXQgYW5kIHJlZHVjZSBjb25uZWN0aW9uIG92ZXJoZWFkLicsXG4gICAgICAgIHJhdGlvbmFsZTogJ0xvdyB0aHJvdWdocHV0IHN1Z2dlc3RzIGNvbm5lY3Rpb24gcG9vbGluZyBjb3VsZCBwcm92aWRlIHNpZ25pZmljYW50IGJlbmVmaXRzLicsXG4gICAgICAgIGV4cGVjdGVkSW1wYWN0OiB7XG4gICAgICAgICAgcGVyZm9ybWFuY2VJbXByb3ZlbWVudDogNDAsXG4gICAgICAgICAgZXJyb3JSZWR1Y3Rpb246IDIwLFxuICAgICAgICAgIHJlbGlhYmlsaXR5SW1wcm92ZW1lbnQ6IDI1LFxuICAgICAgICAgIGNvbmZpZGVuY2VTY29yZTogMC45XG4gICAgICAgIH0sXG4gICAgICAgIGltcGxlbWVudGF0aW9uOiB7XG4gICAgICAgICAgZGlmZmljdWx0eTogJ21lZGl1bScsXG4gICAgICAgICAgZXN0aW1hdGVkVGltZTogJzMgbWludXRlcycsXG4gICAgICAgICAgc3RlcHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWQ6ICdlbmFibGUtcG9vbGluZycsXG4gICAgICAgICAgICAgIHRpdGxlOiAnRW5hYmxlIENvbm5lY3Rpb24gUG9vbGluZycsXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQ29uZmlndXJlIEhUVFAgY29ubmVjdGlvbiBwb29saW5nJyxcbiAgICAgICAgICAgICAgYWN0aW9uOiAnYXV0b21hdGljJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIF0sXG4gICAgICAgICAgcmV2ZXJzaWJsZTogdHJ1ZSxcbiAgICAgICAgICByaXNrTGV2ZWw6ICdsb3cnXG4gICAgICAgIH0sXG4gICAgICAgIGNhdGVnb3J5OiAnUGVyZm9ybWFuY2UnLFxuICAgICAgICB0YWdzOiBbJ2Nvbm5lY3Rpb24tcG9vbGluZycsICd0aHJvdWdocHV0JywgJ3BlcmZvcm1hbmNlJ10sXG4gICAgICAgIGNyZWF0ZWQ6IG5ldyBEYXRlKClcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiByZWNvbW1lbmRhdGlvbnM7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgY29uZmlndXJhdGlvbiByZWNvbW1lbmRhdGlvbnNcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZ2VuZXJhdGVDb25maWd1cmF0aW9uUmVjb21tZW5kYXRpb25zKGNvbnRleHQ6IFJlY29tbWVuZGF0aW9uQ29udGV4dCk6IFByb21pc2U8UmVjb21tZW5kYXRpb25bXT4ge1xuICAgIGNvbnN0IHJlY29tbWVuZGF0aW9uczogUmVjb21tZW5kYXRpb25bXSA9IFtdO1xuXG4gICAgLy8gQ2hlY2sgZm9yIHJldHJ5IGNvbmZpZ3VyYXRpb25cbiAgICBpZiAoY29udGV4dC5wZXJmb3JtYW5jZU1ldHJpY3MuZXJyb3JSYXRlID4gMC4wMykge1xuICAgICAgcmVjb21tZW5kYXRpb25zLnB1c2goe1xuICAgICAgICBpZDogYHJldHJ5LWNvbmZpZy0ke0RhdGUubm93KCl9YCxcbiAgICAgICAgdHlwZTogUmVjb21tZW5kYXRpb25UeXBlLkNPTkZJR1VSQVRJT05fSU1QUk9WRU1FTlQsXG4gICAgICAgIHByaW9yaXR5OiAnbWVkaXVtJyxcbiAgICAgICAgdGl0bGU6ICdPcHRpbWl6ZSBSZXRyeSBDb25maWd1cmF0aW9uJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdGaW5lLXR1bmUgcmV0cnkgYXR0ZW1wdHMgYW5kIGJhY2tvZmYgc3RyYXRlZ3kgdG8gaGFuZGxlIHRyYW5zaWVudCBlcnJvcnMgYmV0dGVyLicsXG4gICAgICAgIHJhdGlvbmFsZTogJ0Vycm9yIHJhdGUgc3VnZ2VzdHMgcmV0cnkgY29uZmlndXJhdGlvbiBjb3VsZCBiZSBvcHRpbWl6ZWQuJyxcbiAgICAgICAgZXhwZWN0ZWRJbXBhY3Q6IHtcbiAgICAgICAgICBwZXJmb3JtYW5jZUltcHJvdmVtZW50OiAxMCxcbiAgICAgICAgICBlcnJvclJlZHVjdGlvbjogMzUsXG4gICAgICAgICAgcmVsaWFiaWxpdHlJbXByb3ZlbWVudDogNDAsXG4gICAgICAgICAgY29uZmlkZW5jZVNjb3JlOiAwLjc1XG4gICAgICAgIH0sXG4gICAgICAgIGltcGxlbWVudGF0aW9uOiB7XG4gICAgICAgICAgZGlmZmljdWx0eTogJ21lZGl1bScsXG4gICAgICAgICAgZXN0aW1hdGVkVGltZTogJzUgbWludXRlcycsXG4gICAgICAgICAgc3RlcHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWQ6ICdjb25maWd1cmUtcmV0cnknLFxuICAgICAgICAgICAgICB0aXRsZTogJ0NvbmZpZ3VyZSBSZXRyeSBTdHJhdGVneScsXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnU2V0IHVwIGV4cG9uZW50aWFsIGJhY2tvZmYgcmV0cnkgc3RyYXRlZ3knLFxuICAgICAgICAgICAgICBhY3Rpb246ICdtYW51YWwnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXSxcbiAgICAgICAgICByZXZlcnNpYmxlOiB0cnVlLFxuICAgICAgICAgIHJpc2tMZXZlbDogJ2xvdydcbiAgICAgICAgfSxcbiAgICAgICAgY2F0ZWdvcnk6ICdDb25maWd1cmF0aW9uJyxcbiAgICAgICAgdGFnczogWydyZXRyeScsICdlcnJvci1oYW5kbGluZycsICdyZWxpYWJpbGl0eSddLFxuICAgICAgICBjcmVhdGVkOiBuZXcgRGF0ZSgpXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVjb21tZW5kYXRpb25zO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIHByb2FjdGl2ZSBtYWludGVuYW5jZSByZWNvbW1lbmRhdGlvbnNcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZ2VuZXJhdGVNYWludGVuYW5jZVJlY29tbWVuZGF0aW9ucyhjb250ZXh0OiBSZWNvbW1lbmRhdGlvbkNvbnRleHQpOiBQcm9taXNlPFJlY29tbWVuZGF0aW9uW10+IHtcbiAgICBjb25zdCByZWNvbW1lbmRhdGlvbnM6IFJlY29tbWVuZGF0aW9uW10gPSBbXTtcblxuICAgIC8vIENoZWNrIGZvciBoZWFsdGggbW9uaXRvcmluZyBvcHRpbWl6YXRpb25cbiAgICBjb25zdCBoZWFsdGhNb25pdG9yaW5nUmVjb21tZW5kYXRpb246IFJlY29tbWVuZGF0aW9uID0ge1xuICAgICAgaWQ6IGBoZWFsdGgtbW9uaXRvcmluZy0ke0RhdGUubm93KCl9YCxcbiAgICAgIHR5cGU6IFJlY29tbWVuZGF0aW9uVHlwZS5QUk9BQ1RJVkVfTUFJTlRFTkFOQ0UsXG4gICAgICBwcmlvcml0eTogJ2xvdycsXG4gICAgICB0aXRsZTogJ0VuaGFuY2UgSGVhbHRoIE1vbml0b3JpbmcnLFxuICAgICAgZGVzY3JpcHRpb246ICdTZXQgdXAgY29tcHJlaGVuc2l2ZSBoZWFsdGggbW9uaXRvcmluZyB0byBkZXRlY3QgaXNzdWVzIGVhcmx5LicsXG4gICAgICByYXRpb25hbGU6ICdQcm9hY3RpdmUgbW9uaXRvcmluZyBjYW4gcHJldmVudCBpc3N1ZXMgYmVmb3JlIHRoZXkgaW1wYWN0IHVzZXJzLicsXG4gICAgICBleHBlY3RlZEltcGFjdDoge1xuICAgICAgICBwZXJmb3JtYW5jZUltcHJvdmVtZW50OiA1LFxuICAgICAgICBlcnJvclJlZHVjdGlvbjogMjUsXG4gICAgICAgIHJlbGlhYmlsaXR5SW1wcm92ZW1lbnQ6IDM1LFxuICAgICAgICBjb25maWRlbmNlU2NvcmU6IDAuOFxuICAgICAgfSxcbiAgICAgIGltcGxlbWVudGF0aW9uOiB7XG4gICAgICAgIGRpZmZpY3VsdHk6ICdlYXN5JyxcbiAgICAgICAgZXN0aW1hdGVkVGltZTogJzIgbWludXRlcycsXG4gICAgICAgIHN0ZXBzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6ICdlbmFibGUtbW9uaXRvcmluZycsXG4gICAgICAgICAgICB0aXRsZTogJ0VuYWJsZSBFbmhhbmNlZCBNb25pdG9yaW5nJyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnVHVybiBvbiBjb21wcmVoZW5zaXZlIGhlYWx0aCBtb25pdG9yaW5nJyxcbiAgICAgICAgICAgIGFjdGlvbjogJ2F1dG9tYXRpYydcbiAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIHJldmVyc2libGU6IHRydWUsXG4gICAgICAgIHJpc2tMZXZlbDogJ2xvdydcbiAgICAgIH0sXG4gICAgICBjYXRlZ29yeTogJ01haW50ZW5hbmNlJyxcbiAgICAgIHRhZ3M6IFsnbW9uaXRvcmluZycsICdwcm9hY3RpdmUnLCAnaGVhbHRoJ10sXG4gICAgICBjcmVhdGVkOiBuZXcgRGF0ZSgpXG4gICAgfTtcblxuICAgIHJlY29tbWVuZGF0aW9ucy5wdXNoKGhlYWx0aE1vbml0b3JpbmdSZWNvbW1lbmRhdGlvbik7XG5cbiAgICByZXR1cm4gcmVjb21tZW5kYXRpb25zO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZSBvcHRpbWFsIHRyYW5zcG9ydCBiYXNlZCBvbiBjb250ZXh0XG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGRldGVybWluZU9wdGltYWxUcmFuc3BvcnQoY29udGV4dDogUmVjb21tZW5kYXRpb25Db250ZXh0KTogUHJvbWlzZTxUcmFuc3BvcnRUeXBlPiB7XG4gICAgY29uc3QgZW52aXJvbm1lbnQgPSBjb250ZXh0LmVudmlyb25tZW50Q29udGV4dDtcbiAgICBjb25zdCBiZWhhdmlvciA9IGNvbnRleHQudXNlckJlaGF2aW9yO1xuICAgIFxuICAgIC8vIFNjb3JlIGVhY2ggYXZhaWxhYmxlIHRyYW5zcG9ydFxuICAgIGNvbnN0IHNjb3JlczogUmVjb3JkPFRyYW5zcG9ydFR5cGUsIG51bWJlcj4gPSB7fSBhcyBSZWNvcmQ8VHJhbnNwb3J0VHlwZSwgbnVtYmVyPjtcbiAgICBcbiAgICBmb3IgKGNvbnN0IHRyYW5zcG9ydCBvZiBjb250ZXh0LmF2YWlsYWJsZVRyYW5zcG9ydHMpIHtcbiAgICAgIGxldCBzY29yZSA9IDA7XG4gICAgICBcbiAgICAgIHN3aXRjaCAodHJhbnNwb3J0KSB7XG4gICAgICAgIGNhc2UgVHJhbnNwb3J0VHlwZS5XRUJTT0NLRVQ6XG4gICAgICAgICAgLy8gV2ViU29ja2V0IGlzIGdyZWF0IGZvciByZWFsLXRpbWUsIGxvdyBsYXRlbmN5IG5lZWRzXG4gICAgICAgICAgc2NvcmUgKz0gZW52aXJvbm1lbnQuY29ubmVjdGl2aXR5ID09PSAnZXhjZWxsZW50JyA/IDQwIDogMjA7XG4gICAgICAgICAgc2NvcmUgKz0gZW52aXJvbm1lbnQubGF0ZW5jeSA8IDUwID8gMzAgOiAxMDtcbiAgICAgICAgICBzY29yZSArPSBiZWhhdmlvci5wZXJmb3JtYW5jZVNlbnNpdGl2aXR5ID09PSAnaGlnaCcgPyAyMCA6IDEwO1xuICAgICAgICAgIHNjb3JlICs9IGJlaGF2aW9yLnVzYWdlRnJlcXVlbmN5ID09PSAnaGlnaCcgPyAxMCA6IDA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgXG4gICAgICAgIGNhc2UgVHJhbnNwb3J0VHlwZS5IVFRQOlxuICAgICAgICAgIC8vIEhUVFAgaXMgcmVsaWFibGUgYW5kIHdpZGVseSBjb21wYXRpYmxlXG4gICAgICAgICAgc2NvcmUgKz0gMzA7IC8vIEJhc2UgcmVsaWFiaWxpdHkgc2NvcmVcbiAgICAgICAgICBzY29yZSArPSBlbnZpcm9ubWVudC5jb25uZWN0aXZpdHkgPT09ICdwb29yJyA/IDIwIDogMTA7XG4gICAgICAgICAgc2NvcmUgKz0gYmVoYXZpb3IuZXJyb3JUb2xlcmFuY2UgPT09ICdsb3cnID8gMjAgOiAxMDtcbiAgICAgICAgICBzY29yZSArPSAxNTsgLy8gV2lkZSBjb21wYXRpYmlsaXR5IGJvbnVzXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgXG4gICAgICAgIGNhc2UgVHJhbnNwb3J0VHlwZS5GSUxFU1lTVEVNOlxuICAgICAgICAgIC8vIEZpbGVTeXN0ZW0gaXMgZ29vZCBmb3Igb2ZmbGluZSBzY2VuYXJpb3NcbiAgICAgICAgICBzY29yZSArPSBlbnZpcm9ubWVudC5jb25uZWN0aXZpdHkgPT09ICdwb29yJyA/IDQwIDogNTtcbiAgICAgICAgICBzY29yZSArPSBiZWhhdmlvci51c2FnZUZyZXF1ZW5jeSA9PT0gJ2xvdycgPyAyMCA6IDA7XG4gICAgICAgICAgc2NvcmUgKz0gMTA7IC8vIE9mZmxpbmUgY2FwYWJpbGl0eSBib251c1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgXG4gICAgICBzY29yZXNbdHJhbnNwb3J0XSA9IHNjb3JlO1xuICAgIH1cbiAgICBcbiAgICAvLyBSZXR1cm4gdHJhbnNwb3J0IHdpdGggaGlnaGVzdCBzY29yZVxuICAgIHJldHVybiBPYmplY3QuZW50cmllcyhzY29yZXMpLnJlZHVjZSgoYSwgYikgPT4gc2NvcmVzW2FbMF0gYXMgVHJhbnNwb3J0VHlwZV0gPiBzY29yZXNbYlswXSBhcyBUcmFuc3BvcnRUeXBlXSA/IGEgOiBiKVswXSBhcyBUcmFuc3BvcnRUeXBlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIHJhdGlvbmFsZSBmb3IgdHJhbnNwb3J0IHN3aXRjaCByZWNvbW1lbmRhdGlvblxuICAgKi9cbiAgcHJpdmF0ZSBnZW5lcmF0ZVRyYW5zcG9ydFN3aXRjaFJhdGlvbmFsZShjb250ZXh0OiBSZWNvbW1lbmRhdGlvbkNvbnRleHQsIHJlY29tbWVuZGVkVHJhbnNwb3J0OiBUcmFuc3BvcnRUeXBlKTogc3RyaW5nIHtcbiAgICBjb25zdCBjdXJyZW50ID0gY29udGV4dC5jdXJyZW50VHJhbnNwb3J0O1xuICAgIGNvbnN0IGVudiA9IGNvbnRleHQuZW52aXJvbm1lbnRDb250ZXh0O1xuICAgIFxuICAgIGxldCByYXRpb25hbGUgPSBgU3dpdGNoaW5nIGZyb20gJHtjdXJyZW50fSB0byAke3JlY29tbWVuZGVkVHJhbnNwb3J0fSBpcyByZWNvbW1lbmRlZCBiZWNhdXNlOiBgO1xuICAgIFxuICAgIHN3aXRjaCAocmVjb21tZW5kZWRUcmFuc3BvcnQpIHtcbiAgICAgIGNhc2UgVHJhbnNwb3J0VHlwZS5XRUJTT0NLRVQ6XG4gICAgICAgIHJhdGlvbmFsZSArPSAnV2ViU29ja2V0IHByb3ZpZGVzIHJlYWwtdGltZSBjb21tdW5pY2F0aW9uIHdpdGggbG93ZXIgbGF0ZW5jeSwgJztcbiAgICAgICAgaWYgKGVudi5jb25uZWN0aXZpdHkgPT09ICdleGNlbGxlbnQnKSB7XG4gICAgICAgICAgcmF0aW9uYWxlICs9ICdhbmQgeW91ciBleGNlbGxlbnQgY29ubmVjdGl2aXR5IHN1cHBvcnRzIHN0YWJsZSBXZWJTb2NrZXQgY29ubmVjdGlvbnMuJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByYXRpb25hbGUgKz0gJ3doaWNoIHdvdWxkIGJlbmVmaXQgeW91ciB1c2FnZSBwYXR0ZXJucy4nO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgICBcbiAgICAgIGNhc2UgVHJhbnNwb3J0VHlwZS5IVFRQOlxuICAgICAgICByYXRpb25hbGUgKz0gJ0hUVFAgb2ZmZXJzIHN1cGVyaW9yIHJlbGlhYmlsaXR5IGFuZCBlcnJvciBoYW5kbGluZywgJztcbiAgICAgICAgaWYgKGNvbnRleHQucGVyZm9ybWFuY2VNZXRyaWNzLmVycm9yUmF0ZSA+IDAuMDUpIHtcbiAgICAgICAgICByYXRpb25hbGUgKz0gJ3doaWNoIGlzIGVzcGVjaWFsbHkgaW1wb3J0YW50IGdpdmVuIHlvdXIgY3VycmVudCBlcnJvciByYXRlLic7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmF0aW9uYWxlICs9ICdwcm92aWRpbmcgYSBtb3JlIHN0YWJsZSBmb3VuZGF0aW9uIGZvciB5b3VyIHVzYWdlLic7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICAgIFxuICAgICAgY2FzZSBUcmFuc3BvcnRUeXBlLkZJTEVTWVNURU06XG4gICAgICAgIHJhdGlvbmFsZSArPSAnRmlsZVN5c3RlbSB0cmFuc3BvcnQgcHJvdmlkZXMgb2ZmbGluZSBjYXBhYmlsaXR5IGFuZCBsb2NhbCBzdG9yYWdlIGJlbmVmaXRzLCAnO1xuICAgICAgICBpZiAoZW52LmNvbm5lY3Rpdml0eSA9PT0gJ3Bvb3InKSB7XG4gICAgICAgICAgcmF0aW9uYWxlICs9ICd3aGljaCBpcyBpZGVhbCBmb3IgeW91ciBjdXJyZW50IGNvbm5lY3Rpdml0eSBzaXR1YXRpb24uJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByYXRpb25hbGUgKz0gJ29mZmVyaW5nIGJldHRlciBwZXJmb3JtYW5jZSBmb3IgeW91ciB1c2FnZSBwYXR0ZXJucy4nO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gcmF0aW9uYWxlO1xuICB9XG5cbiAgLyoqXG4gICAqIFByaW9yaXRpemUgcmVjb21tZW5kYXRpb25zIGJ5IGltcGFjdCBhbmQgZmVhc2liaWxpdHlcbiAgICovXG4gIHByaXZhdGUgcHJpb3JpdGl6ZVJlY29tbWVuZGF0aW9ucyhyZWNvbW1lbmRhdGlvbnM6IFJlY29tbWVuZGF0aW9uW10pOiBSZWNvbW1lbmRhdGlvbltdIHtcbiAgICByZXR1cm4gcmVjb21tZW5kYXRpb25zLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgIC8vIEZpcnN0LCBzb3J0IGJ5IHByaW9yaXR5XG4gICAgICBjb25zdCBwcmlvcml0eU9yZGVyID0geyAnY3JpdGljYWwnOiA0LCAnaGlnaCc6IDMsICdtZWRpdW0nOiAyLCAnbG93JzogMSB9O1xuICAgICAgY29uc3QgcHJpb3JpdHlEaWZmID0gcHJpb3JpdHlPcmRlcltiLnByaW9yaXR5XSAtIHByaW9yaXR5T3JkZXJbYS5wcmlvcml0eV07XG4gICAgICBpZiAocHJpb3JpdHlEaWZmICE9PSAwKSByZXR1cm4gcHJpb3JpdHlEaWZmO1xuICAgICAgXG4gICAgICAvLyBUaGVuIGJ5IGV4cGVjdGVkIGltcGFjdCBzY29yZSAoY29tYmluYXRpb24gb2YgcGVyZm9ybWFuY2UgYW5kIGNvbmZpZGVuY2UpXG4gICAgICBjb25zdCBpbXBhY3RBID0gYS5leHBlY3RlZEltcGFjdC5wZXJmb3JtYW5jZUltcHJvdmVtZW50ICogYS5leHBlY3RlZEltcGFjdC5jb25maWRlbmNlU2NvcmU7XG4gICAgICBjb25zdCBpbXBhY3RCID0gYi5leHBlY3RlZEltcGFjdC5wZXJmb3JtYW5jZUltcHJvdmVtZW50ICogYi5leHBlY3RlZEltcGFjdC5jb25maWRlbmNlU2NvcmU7XG4gICAgICByZXR1cm4gaW1wYWN0QiAtIGltcGFjdEE7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgaW5zaWdodHMgZnJvbSBjdXJyZW50IHBlcmZvcm1hbmNlIGRhdGFcbiAgICovXG4gIGFzeW5jIGdlbmVyYXRlSW5zaWdodHMoY29udGV4dDogUmVjb21tZW5kYXRpb25Db250ZXh0KTogUHJvbWlzZTxJbnNpZ2h0Q2F0ZWdvcnlbXT4ge1xuICAgIGNvbnN0IGNhY2hlS2V5ID0gdGhpcy5nZW5lcmF0ZUluc2lnaHRDYWNoZUtleShjb250ZXh0KTtcbiAgICBcbiAgICAvLyBDaGVjayBjYWNoZSBmaXJzdFxuICAgIGlmICh0aGlzLmluc2lnaHRDYWNoZS5oYXMoY2FjaGVLZXkpKSB7XG4gICAgICBjb25zdCBjYWNoZWQgPSB0aGlzLmluc2lnaHRDYWNoZS5nZXQoY2FjaGVLZXkpITtcbiAgICAgIC8vIFJldHVybiBjYWNoZWQgaW5zaWdodHMgaWYgbGVzcyB0aGFuIDEwIG1pbnV0ZXMgb2xkXG4gICAgICBpZiAoRGF0ZS5ub3coKSAtIGNhY2hlZFswXT8uaW5zaWdodHNbMF0/LmRhdGE/LnRpbWVzdGFtcCA8IDEwICogNjAgKiAxMDAwKSB7XG4gICAgICAgIHJldHVybiBjYWNoZWQ7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGluc2lnaHRzOiBJbnNpZ2h0Q2F0ZWdvcnlbXSA9IFtdO1xuICAgIFxuICAgIC8vIFBlcmZvcm1hbmNlIGluc2lnaHRzXG4gICAgY29uc3QgcGVyZm9ybWFuY2VJbnNpZ2h0cyA9IGF3YWl0IHRoaXMuZ2VuZXJhdGVQZXJmb3JtYW5jZUluc2lnaHRzKGNvbnRleHQpO1xuICAgIGluc2lnaHRzLnB1c2goe1xuICAgICAgbmFtZTogJ1BlcmZvcm1hbmNlJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnQ3VycmVudCBwZXJmb3JtYW5jZSBhbmFseXNpcyBhbmQgdHJlbmRzJyxcbiAgICAgIHByaW9yaXR5OiAxLFxuICAgICAgaW5zaWdodHM6IHBlcmZvcm1hbmNlSW5zaWdodHNcbiAgICB9KTtcbiAgICBcbiAgICAvLyBVc2FnZSBpbnNpZ2h0c1xuICAgIGNvbnN0IHVzYWdlSW5zaWdodHMgPSBhd2FpdCB0aGlzLmdlbmVyYXRlVXNhZ2VJbnNpZ2h0cyhjb250ZXh0KTtcbiAgICBpbnNpZ2h0cy5wdXNoKHtcbiAgICAgIG5hbWU6ICdVc2FnZSBQYXR0ZXJucycsXG4gICAgICBkZXNjcmlwdGlvbjogJ0FuYWx5c2lzIG9mIHlvdXIgdXNhZ2UgcGF0dGVybnMgYW5kIGJlaGF2aW9yJyxcbiAgICAgIHByaW9yaXR5OiAyLFxuICAgICAgaW5zaWdodHM6IHVzYWdlSW5zaWdodHNcbiAgICB9KTtcbiAgICBcbiAgICAvLyBUcmFuc3BvcnQgaW5zaWdodHNcbiAgICBjb25zdCB0cmFuc3BvcnRJbnNpZ2h0cyA9IGF3YWl0IHRoaXMuZ2VuZXJhdGVUcmFuc3BvcnRJbnNpZ2h0cyhjb250ZXh0KTtcbiAgICBpbnNpZ2h0cy5wdXNoKHtcbiAgICAgIG5hbWU6ICdUcmFuc3BvcnQgQW5hbHlzaXMnLFxuICAgICAgZGVzY3JpcHRpb246ICdUcmFuc3BvcnQgcGVyZm9ybWFuY2UgYW5kIG9wdGltaXphdGlvbiBvcHBvcnR1bml0aWVzJyxcbiAgICAgIHByaW9yaXR5OiAzLFxuICAgICAgaW5zaWdodHM6IHRyYW5zcG9ydEluc2lnaHRzXG4gICAgfSk7XG4gICAgXG4gICAgLy8gQ2FjaGUgaW5zaWdodHNcbiAgICB0aGlzLmluc2lnaHRDYWNoZS5zZXQoY2FjaGVLZXksIGluc2lnaHRzKTtcbiAgICBcbiAgICByZXR1cm4gaW5zaWdodHM7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgcGVyZm9ybWFuY2UtcmVsYXRlZCBpbnNpZ2h0c1xuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBnZW5lcmF0ZVBlcmZvcm1hbmNlSW5zaWdodHMoY29udGV4dDogUmVjb21tZW5kYXRpb25Db250ZXh0KTogUHJvbWlzZTxJbnNpZ2h0W10+IHtcbiAgICBjb25zdCBpbnNpZ2h0czogSW5zaWdodFtdID0gW107XG4gICAgY29uc3QgbWV0cmljcyA9IGNvbnRleHQucGVyZm9ybWFuY2VNZXRyaWNzO1xuICAgIFxuICAgIC8vIExhdGVuY3kgaW5zaWdodFxuICAgIGlmIChtZXRyaWNzLmF2ZXJhZ2VMYXRlbmN5IDwgMjAwKSB7XG4gICAgICBpbnNpZ2h0cy5wdXNoKHtcbiAgICAgICAgaWQ6ICdsb3ctbGF0ZW5jeScsXG4gICAgICAgIHRpdGxlOiAnRXhjZWxsZW50IFJlc3BvbnNlIFRpbWUnLFxuICAgICAgICBkZXNjcmlwdGlvbjogYFlvdXIgYXZlcmFnZSByZXNwb25zZSB0aW1lIG9mICR7bWV0cmljcy5hdmVyYWdlTGF0ZW5jeX1tcyBpcyBleGNlbGxlbnQuYCxcbiAgICAgICAgdHlwZTogJ3Bvc2l0aXZlJyxcbiAgICAgICAgY29uZmlkZW5jZTogMC45LFxuICAgICAgICBkYXRhOiB7IGxhdGVuY3k6IG1ldHJpY3MuYXZlcmFnZUxhdGVuY3ksIHRpbWVzdGFtcDogRGF0ZS5ub3coKSB9LFxuICAgICAgICBhY3Rpb25hYmxlOiBmYWxzZSxcbiAgICAgICAgcmVsYXRlZDogW11cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAobWV0cmljcy5hdmVyYWdlTGF0ZW5jeSA+IDUwMCkge1xuICAgICAgaW5zaWdodHMucHVzaCh7XG4gICAgICAgIGlkOiAnaGlnaC1sYXRlbmN5JyxcbiAgICAgICAgdGl0bGU6ICdIaWdoIFJlc3BvbnNlIFRpbWUgRGV0ZWN0ZWQnLFxuICAgICAgICBkZXNjcmlwdGlvbjogYFlvdXIgYXZlcmFnZSByZXNwb25zZSB0aW1lIG9mICR7bWV0cmljcy5hdmVyYWdlTGF0ZW5jeX1tcyBjb3VsZCBiZSBpbXByb3ZlZC5gLFxuICAgICAgICB0eXBlOiAnd2FybmluZycsXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuODUsXG4gICAgICAgIGRhdGE6IHsgbGF0ZW5jeTogbWV0cmljcy5hdmVyYWdlTGF0ZW5jeSwgdGltZXN0YW1wOiBEYXRlLm5vdygpIH0sXG4gICAgICAgIGFjdGlvbmFibGU6IHRydWUsXG4gICAgICAgIHJlbGF0ZWQ6IFtdXG4gICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgLy8gRXJyb3IgcmF0ZSBpbnNpZ2h0XG4gICAgaWYgKG1ldHJpY3MuZXJyb3JSYXRlIDwgMC4wMSkge1xuICAgICAgaW5zaWdodHMucHVzaCh7XG4gICAgICAgIGlkOiAnbG93LWVycm9yLXJhdGUnLFxuICAgICAgICB0aXRsZTogJ0xvdyBFcnJvciBSYXRlJyxcbiAgICAgICAgZGVzY3JpcHRpb246IGBZb3VyIGVycm9yIHJhdGUgb2YgJHsobWV0cmljcy5lcnJvclJhdGUgKiAxMDApLnRvRml4ZWQoMil9JSBpcyB2ZXJ5IGdvb2QuYCxcbiAgICAgICAgdHlwZTogJ3Bvc2l0aXZlJyxcbiAgICAgICAgY29uZmlkZW5jZTogMC45LFxuICAgICAgICBkYXRhOiB7IGVycm9yUmF0ZTogbWV0cmljcy5lcnJvclJhdGUsIHRpbWVzdGFtcDogRGF0ZS5ub3coKSB9LFxuICAgICAgICBhY3Rpb25hYmxlOiBmYWxzZSxcbiAgICAgICAgcmVsYXRlZDogW11cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAobWV0cmljcy5lcnJvclJhdGUgPiAwLjA1KSB7XG4gICAgICBpbnNpZ2h0cy5wdXNoKHtcbiAgICAgICAgaWQ6ICdoaWdoLWVycm9yLXJhdGUnLFxuICAgICAgICB0aXRsZTogJ0hpZ2ggRXJyb3IgUmF0ZScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBgWW91ciBlcnJvciByYXRlIG9mICR7KG1ldHJpY3MuZXJyb3JSYXRlICogMTAwKS50b0ZpeGVkKDIpfSUgbmVlZHMgYXR0ZW50aW9uLmAsXG4gICAgICAgIHR5cGU6ICdjcml0aWNhbCcsXG4gICAgICAgIGNvbmZpZGVuY2U6IDAuOTUsXG4gICAgICAgIGRhdGE6IHsgZXJyb3JSYXRlOiBtZXRyaWNzLmVycm9yUmF0ZSwgdGltZXN0YW1wOiBEYXRlLm5vdygpIH0sXG4gICAgICAgIGFjdGlvbmFibGU6IHRydWUsXG4gICAgICAgIHJlbGF0ZWQ6IFtdXG4gICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGluc2lnaHRzO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIHVzYWdlIHBhdHRlcm4gaW5zaWdodHNcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZ2VuZXJhdGVVc2FnZUluc2lnaHRzKGNvbnRleHQ6IFJlY29tbWVuZGF0aW9uQ29udGV4dCk6IFByb21pc2U8SW5zaWdodFtdPiB7XG4gICAgY29uc3QgaW5zaWdodHM6IEluc2lnaHRbXSA9IFtdO1xuICAgIGNvbnN0IGJlaGF2aW9yID0gY29udGV4dC51c2VyQmVoYXZpb3I7XG4gICAgXG4gICAgLy8gVXNhZ2UgZnJlcXVlbmN5IGluc2lnaHRcbiAgICBpbnNpZ2h0cy5wdXNoKHtcbiAgICAgIGlkOiAndXNhZ2UtZnJlcXVlbmN5JyxcbiAgICAgIHRpdGxlOiAnVXNhZ2UgUGF0dGVybiBBbmFseXNpcycsXG4gICAgICBkZXNjcmlwdGlvbjogYFlvdXIgdXNhZ2UgZnJlcXVlbmN5IGlzICR7YmVoYXZpb3IudXNhZ2VGcmVxdWVuY3l9LiAke3RoaXMuZ2V0VXNhZ2VGcmVxdWVuY3lBZHZpY2UoYmVoYXZpb3IudXNhZ2VGcmVxdWVuY3kpfWAsXG4gICAgICB0eXBlOiAnbmV1dHJhbCcsXG4gICAgICBjb25maWRlbmNlOiAwLjgsXG4gICAgICBkYXRhOiB7IGZyZXF1ZW5jeTogYmVoYXZpb3IudXNhZ2VGcmVxdWVuY3ksIHRpbWVzdGFtcDogRGF0ZS5ub3coKSB9LFxuICAgICAgYWN0aW9uYWJsZTogYmVoYXZpb3IudXNhZ2VGcmVxdWVuY3kgIT09ICdtZWRpdW0nLFxuICAgICAgcmVsYXRlZDogW11cbiAgICB9KTtcbiAgICBcbiAgICAvLyBQZWFrIHVzYWdlIGluc2lnaHRcbiAgICBpZiAoYmVoYXZpb3IucGVha1VzYWdlSG91cnMubGVuZ3RoID4gMCkge1xuICAgICAgaW5zaWdodHMucHVzaCh7XG4gICAgICAgIGlkOiAncGVhay11c2FnZScsXG4gICAgICAgIHRpdGxlOiAnUGVhayBVc2FnZSBIb3VycycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBgWW91ciBwZWFrIHVzYWdlIG9jY3VycyBkdXJpbmcgaG91cnM6ICR7YmVoYXZpb3IucGVha1VzYWdlSG91cnMuam9pbignLCAnKX0uIENvbnNpZGVyIG9wdGltaXppbmcgZm9yIHRoZXNlIHRpbWVzLmAsXG4gICAgICAgIHR5cGU6ICduZXV0cmFsJyxcbiAgICAgICAgY29uZmlkZW5jZTogMC43LFxuICAgICAgICBkYXRhOiB7IHBlYWtIb3VyczogYmVoYXZpb3IucGVha1VzYWdlSG91cnMsIHRpbWVzdGFtcDogRGF0ZS5ub3coKSB9LFxuICAgICAgICBhY3Rpb25hYmxlOiB0cnVlLFxuICAgICAgICByZWxhdGVkOiBbXVxuICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBpbnNpZ2h0cztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZSB0cmFuc3BvcnQtc3BlY2lmaWMgaW5zaWdodHNcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZ2VuZXJhdGVUcmFuc3BvcnRJbnNpZ2h0cyhjb250ZXh0OiBSZWNvbW1lbmRhdGlvbkNvbnRleHQpOiBQcm9taXNlPEluc2lnaHRbXT4ge1xuICAgIGNvbnN0IGluc2lnaHRzOiBJbnNpZ2h0W10gPSBbXTtcbiAgICBjb25zdCB1c2FnZSA9IGNvbnRleHQucGVyZm9ybWFuY2VNZXRyaWNzLnRyYW5zcG9ydFVzYWdlO1xuICAgIFxuICAgIC8vIFRyYW5zcG9ydCBkaXN0cmlidXRpb24gaW5zaWdodFxuICAgIGNvbnN0IHRvdGFsVXNhZ2UgPSBPYmplY3QudmFsdWVzKHVzYWdlKS5yZWR1Y2UoKHN1bSwgdmFsKSA9PiBzdW0gKyB2YWwsIDApO1xuICAgIGNvbnN0IGRvbWluYW50VHJhbnNwb3J0ID0gT2JqZWN0LmVudHJpZXModXNhZ2UpLnJlZHVjZSgoYSwgYikgPT4gdXNhZ2VbYVswXSBhcyBUcmFuc3BvcnRUeXBlXSA+IHVzYWdlW2JbMF0gYXMgVHJhbnNwb3J0VHlwZV0gPyBhIDogYik7XG4gICAgXG4gICAgaWYgKHRvdGFsVXNhZ2UgPiAwKSB7XG4gICAgICBjb25zdCBkb21pbmFudFBlcmNlbnRhZ2UgPSAodXNhZ2VbZG9taW5hbnRUcmFuc3BvcnRbMF0gYXMgVHJhbnNwb3J0VHlwZV0gLyB0b3RhbFVzYWdlICogMTAwKTtcbiAgICAgIFxuICAgICAgaWYgKGRvbWluYW50UGVyY2VudGFnZSA+IDgwKSB7XG4gICAgICAgIGluc2lnaHRzLnB1c2goe1xuICAgICAgICAgIGlkOiAndHJhbnNwb3J0LWNvbmNlbnRyYXRpb24nLFxuICAgICAgICAgIHRpdGxlOiAnSGVhdnkgUmVsaWFuY2Ugb24gU2luZ2xlIFRyYW5zcG9ydCcsXG4gICAgICAgICAgZGVzY3JpcHRpb246IGBZb3UncmUgdXNpbmcgJHtkb21pbmFudFRyYW5zcG9ydFswXX0gZm9yICR7ZG9taW5hbnRQZXJjZW50YWdlLnRvRml4ZWQoMSl9JSBvZiByZXF1ZXN0cy4gQ29uc2lkZXIgbG9hZCBiYWxhbmNpbmcuYCxcbiAgICAgICAgICB0eXBlOiAnd2FybmluZycsXG4gICAgICAgICAgY29uZmlkZW5jZTogMC44LFxuICAgICAgICAgIGRhdGE6IHsgZGlzdHJpYnV0aW9uOiB1c2FnZSwgZG9taW5hbnQ6IGRvbWluYW50VHJhbnNwb3J0WzBdLCB0aW1lc3RhbXA6IERhdGUubm93KCkgfSxcbiAgICAgICAgICBhY3Rpb25hYmxlOiB0cnVlLFxuICAgICAgICAgIHJlbGF0ZWQ6IFtdXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5zaWdodHMucHVzaCh7XG4gICAgICAgICAgaWQ6ICdiYWxhbmNlZC10cmFuc3BvcnQtdXNhZ2UnLFxuICAgICAgICAgIHRpdGxlOiAnR29vZCBUcmFuc3BvcnQgRGlzdHJpYnV0aW9uJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1lvdXIgdHJhbnNwb3J0IHVzYWdlIGlzIHdlbGwgYmFsYW5jZWQgYWNyb3NzIGF2YWlsYWJsZSBvcHRpb25zLicsXG4gICAgICAgICAgdHlwZTogJ3Bvc2l0aXZlJyxcbiAgICAgICAgICBjb25maWRlbmNlOiAwLjc1LFxuICAgICAgICAgIGRhdGE6IHsgZGlzdHJpYnV0aW9uOiB1c2FnZSwgdGltZXN0YW1wOiBEYXRlLm5vdygpIH0sXG4gICAgICAgICAgYWN0aW9uYWJsZTogZmFsc2UsXG4gICAgICAgICAgcmVsYXRlZDogW11cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBpbnNpZ2h0cztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZSBwcmVkaWN0aXZlIGFsZXJ0cyBmb3IgcG90ZW50aWFsIGlzc3Vlc1xuICAgKi9cbiAgYXN5bmMgZ2VuZXJhdGVQcmVkaWN0aXZlQWxlcnRzKGNvbnRleHQ6IFJlY29tbWVuZGF0aW9uQ29udGV4dCk6IFByb21pc2U8UHJlZGljdGl2ZUFsZXJ0W10+IHtcbiAgICBjb25zdCBhbGVydHM6IFByZWRpY3RpdmVBbGVydFtdID0gW107XG4gICAgXG4gICAgLy8gUHJlZGljdCBwZXJmb3JtYW5jZSBkZWdyYWRhdGlvblxuICAgIGNvbnN0IHBlcmZvcm1hbmNlVHJlbmQgPSB0aGlzLmFuYWx5emVQZXJmb3JtYW5jZVRyZW5kKGNvbnRleHQpO1xuICAgIGlmIChwZXJmb3JtYW5jZVRyZW5kLmRlY2xpbmluZyAmJiBwZXJmb3JtYW5jZVRyZW5kLnNldmVyaXR5ID4gMC43KSB7XG4gICAgICBhbGVydHMucHVzaCh7XG4gICAgICAgIGlkOiBgcGVyZi1kZWdyYWRhdGlvbi0ke0RhdGUubm93KCl9YCxcbiAgICAgICAgdHlwZTogJ3BlcmZvcm1hbmNlX2RlZ3JhZGF0aW9uJyxcbiAgICAgICAgc2V2ZXJpdHk6ICd3YXJuaW5nJyxcbiAgICAgICAgcHJvYmFiaWxpdHk6IHBlcmZvcm1hbmNlVHJlbmQuc2V2ZXJpdHksXG4gICAgICAgIHRpbWVmcmFtZTogJzI0aCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnUGVyZm9ybWFuY2UgZGVncmFkYXRpb24gdHJlbmQgZGV0ZWN0ZWQuIFJlc3BvbnNlIHRpbWVzIG1heSBpbmNyZWFzZSBzaWduaWZpY2FudGx5LicsXG4gICAgICAgIHByZXZlbnRpdmVBY3Rpb25zOiBbXSxcbiAgICAgICAgdHJpZ2dlcnM6IFsnaW5jcmVhc2luZ19sYXRlbmN5JywgJ2Vycm9yX3JhdGVfcmlzZSddXG4gICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgLy8gUHJlZGljdCB0cmFuc3BvcnQgZmFpbHVyZVxuICAgIGlmIChjb250ZXh0LnBlcmZvcm1hbmNlTWV0cmljcy5lcnJvclJhdGUgPiAwLjEpIHtcbiAgICAgIGFsZXJ0cy5wdXNoKHtcbiAgICAgICAgaWQ6IGB0cmFuc3BvcnQtZmFpbHVyZS0ke0RhdGUubm93KCl9YCxcbiAgICAgICAgdHlwZTogJ3RyYW5zcG9ydF9mYWlsdXJlJyxcbiAgICAgICAgc2V2ZXJpdHk6ICdlcnJvcicsXG4gICAgICAgIHByb2JhYmlsaXR5OiBNYXRoLm1pbihjb250ZXh0LnBlcmZvcm1hbmNlTWV0cmljcy5lcnJvclJhdGUgKiAyLCAwLjkpLFxuICAgICAgICB0aW1lZnJhbWU6ICcxaCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBgJHtjb250ZXh0LmN1cnJlbnRUcmFuc3BvcnR9IHRyYW5zcG9ydCBzaG93aW5nIGhpZ2ggZXJyb3IgcmF0ZS4gRmFpbHVyZSByaXNrIGlzIGVsZXZhdGVkLmAsXG4gICAgICAgIHByZXZlbnRpdmVBY3Rpb25zOiBbXSxcbiAgICAgICAgdHJpZ2dlcnM6IFsnaGlnaF9lcnJvcl9yYXRlJywgJ2Nvbm5lY3Rpb25faW5zdGFiaWxpdHknXVxuICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBhbGVydHM7XG4gIH1cblxuICAvKipcbiAgICogQW5hbHl6ZSBwZXJmb3JtYW5jZSB0cmVuZCBmcm9tIGhpc3RvcmljYWwgZGF0YVxuICAgKi9cbiAgcHJpdmF0ZSBhbmFseXplUGVyZm9ybWFuY2VUcmVuZChjb250ZXh0OiBSZWNvbW1lbmRhdGlvbkNvbnRleHQpOiB7IGRlY2xpbmluZzogYm9vbGVhbjsgc2V2ZXJpdHk6IG51bWJlciB9IHtcbiAgICAvLyBTaW11bGF0ZSB0cmVuZCBhbmFseXNpcyAtIGluIHJlYWwgaW1wbGVtZW50YXRpb24sIHRoaXMgd291bGQgYW5hbHl6ZSBoaXN0b3JpY2FsIGRhdGFcbiAgICBjb25zdCByZWNlbnRMYXRlbmN5ID0gY29udGV4dC5wZXJmb3JtYW5jZU1ldHJpY3MuYXZlcmFnZUxhdGVuY3k7XG4gICAgY29uc3QgcmVjZW50RXJyb3JSYXRlID0gY29udGV4dC5wZXJmb3JtYW5jZU1ldHJpY3MuZXJyb3JSYXRlO1xuICAgIFxuICAgIC8vIFNpbXBsZSBoZXVyaXN0aWMgZm9yIHRyZW5kIGFuYWx5c2lzXG4gICAgY29uc3QgbGF0ZW5jeVNjb3JlID0gTWF0aC5taW4ocmVjZW50TGF0ZW5jeSAvIDEwMDAsIDEpOyAvLyBOb3JtYWxpemUgdG8gMC0xXG4gICAgY29uc3QgZXJyb3JTY29yZSA9IE1hdGgubWluKHJlY2VudEVycm9yUmF0ZSAqIDEwLCAxKTsgLy8gTm9ybWFsaXplIHRvIDAtMVxuICAgIFxuICAgIGNvbnN0IHNldmVyaXR5ID0gKGxhdGVuY3lTY29yZSArIGVycm9yU2NvcmUpIC8gMjtcbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgZGVjbGluaW5nOiBzZXZlcml0eSA+IDAuNSxcbiAgICAgIHNldmVyaXR5OiBzZXZlcml0eVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogR2V0IGFkdmljZSBiYXNlZCBvbiB1c2FnZSBmcmVxdWVuY3lcbiAgICovXG4gIHByaXZhdGUgZ2V0VXNhZ2VGcmVxdWVuY3lBZHZpY2UoZnJlcXVlbmN5OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHN3aXRjaCAoZnJlcXVlbmN5KSB7XG4gICAgICBjYXNlICdsb3cnOlxuICAgICAgICByZXR1cm4gJ0NvbnNpZGVyIHVzaW5nIEZpbGVTeXN0ZW0gdHJhbnNwb3J0IGZvciBiZXR0ZXIgb2ZmbGluZSBjYXBhYmlsaXR5Lic7XG4gICAgICBjYXNlICdoaWdoJzpcbiAgICAgICAgcmV0dXJuICdXZWJTb2NrZXQgdHJhbnNwb3J0IG1pZ2h0IHByb3ZpZGUgYmV0dGVyIHBlcmZvcm1hbmNlIGZvciB5b3VyIGludGVuc2l2ZSB1c2FnZS4nO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuICdZb3VyIGN1cnJlbnQgY29uZmlndXJhdGlvbiBzaG91bGQgd29yayB3ZWxsIGZvciB5b3VyIHVzYWdlIHBhdHRlcm5zLic7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIGNhY2hlIGtleSBmb3IgaW5zaWdodHNcbiAgICovXG4gIHByaXZhdGUgZ2VuZXJhdGVJbnNpZ2h0Q2FjaGVLZXkoY29udGV4dDogUmVjb21tZW5kYXRpb25Db250ZXh0KTogc3RyaW5nIHtcbiAgICByZXR1cm4gYGluc2lnaHRzLSR7Y29udGV4dC5zZXNzaW9uSWR9LSR7Y29udGV4dC5jdXJyZW50VHJhbnNwb3J0fS0ke01hdGguZmxvb3IoRGF0ZS5ub3coKSAvICgxMCAqIDYwICogMTAwMCkpfWA7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSBwcmVkaWN0aW9uIG1vZGVscyAocGxhY2Vob2xkZXIgZm9yIGZ1dHVyZSBNTCBtb2RlbHMpXG4gICAqL1xuICBwcml2YXRlIGluaXRpYWxpemVQcmVkaWN0aW9uTW9kZWxzKCk6IHZvaWQge1xuICAgIC8vIFBsYWNlaG9sZGVyIGZvciBmdXR1cmUgbWFjaGluZSBsZWFybmluZyBtb2RlbCBpbml0aWFsaXphdGlvblxuICAgIHRoaXMucHJlZGljdGlvbk1vZGVscy5zZXQoJ3BlcmZvcm1hbmNlX3RyZW5kJywge1xuICAgICAgdHlwZTogJ2xpbmVhcl9yZWdyZXNzaW9uJyxcbiAgICAgIGZlYXR1cmVzOiBbJ2xhdGVuY3knLCAnZXJyb3JfcmF0ZScsICd0aHJvdWdocHV0J10sXG4gICAgICB0cmFpbmVkOiBmYWxzZVxuICAgIH0pO1xuICAgIFxuICAgIHRoaXMucHJlZGljdGlvbk1vZGVscy5zZXQoJ2ZhaWx1cmVfcHJlZGljdGlvbicsIHtcbiAgICAgIHR5cGU6ICdjbGFzc2lmaWNhdGlvbicsXG4gICAgICBmZWF0dXJlczogWydlcnJvcl9yYXRlJywgJ2xhdGVuY3lfdmFyaWFuY2UnLCAnY29ubmVjdGlvbl9mYWlsdXJlcyddLFxuICAgICAgdHJhaW5lZDogZmFsc2VcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUcmFjayByZWNvbW1lbmRhdGlvbiBlZmZlY3RpdmVuZXNzIChjYWxsZWQgYWZ0ZXIgaW1wbGVtZW50YXRpb24pXG4gICAqL1xuICB0cmFja1JlY29tbWVuZGF0aW9uRWZmZWN0aXZlbmVzcyhyZWNvbW1lbmRhdGlvbklkOiBzdHJpbmcsIGVmZmVjdGl2ZW5lc3M6IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnN0IHJlY29tbWVuZGF0aW9uID0gdGhpcy5hcHBsaWVkUmVjb21tZW5kYXRpb25zLmdldChyZWNvbW1lbmRhdGlvbklkKTtcbiAgICBpZiAocmVjb21tZW5kYXRpb24pIHtcbiAgICAgIHJlY29tbWVuZGF0aW9uLmVmZmVjdGl2ZW5lc3MgPSBlZmZlY3RpdmVuZXNzO1xuICAgICAgcmVjb21tZW5kYXRpb24uYXBwbGllZEF0ID0gbmV3IERhdGUoKTtcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIHByZWRpY3Rpb24gbW9kZWxzIGJhc2VkIG9uIGZlZWRiYWNrIChmdXR1cmUgZW5oYW5jZW1lbnQpXG4gICAgICBjb25zb2xlLmxvZyhgUmVjb21tZW5kYXRpb24gJHtyZWNvbW1lbmRhdGlvbklkfSBlZmZlY3RpdmVuZXNzOiAke2VmZmVjdGl2ZW5lc3N9YCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCByZWNvbW1lbmRhdGlvbiBzdGF0aXN0aWNzXG4gICAqL1xuICBnZXRSZWNvbW1lbmRhdGlvblN0YXRzKCk6IHtcbiAgICB0b3RhbDogbnVtYmVyO1xuICAgIGFwcGxpZWQ6IG51bWJlcjtcbiAgICBhdmVyYWdlRWZmZWN0aXZlbmVzczogbnVtYmVyO1xuICAgIGJ5VHlwZTogUmVjb3JkPFJlY29tbWVuZGF0aW9uVHlwZSwgbnVtYmVyPjtcbiAgfSB7XG4gICAgY29uc3QgYXBwbGllZCA9IEFycmF5LmZyb20odGhpcy5hcHBsaWVkUmVjb21tZW5kYXRpb25zLnZhbHVlcygpKS5maWx0ZXIociA9PiByLmFwcGxpZWRBdCk7XG4gICAgY29uc3QgZWZmZWN0aXZlbmVzcyA9IGFwcGxpZWQuZmlsdGVyKHIgPT4gci5lZmZlY3RpdmVuZXNzICE9PSB1bmRlZmluZWQpO1xuICAgIFxuICAgIGNvbnN0IGJ5VHlwZTogUmVjb3JkPFJlY29tbWVuZGF0aW9uVHlwZSwgbnVtYmVyPiA9IHt9IGFzIFJlY29yZDxSZWNvbW1lbmRhdGlvblR5cGUsIG51bWJlcj47XG4gICAgYXBwbGllZC5mb3JFYWNoKHJlYyA9PiB7XG4gICAgICBieVR5cGVbcmVjLnR5cGVdID0gKGJ5VHlwZVtyZWMudHlwZV0gfHwgMCkgKyAxO1xuICAgIH0pO1xuICAgIFxuICAgIHJldHVybiB7XG4gICAgICB0b3RhbDogdGhpcy5hcHBsaWVkUmVjb21tZW5kYXRpb25zLnNpemUsXG4gICAgICBhcHBsaWVkOiBhcHBsaWVkLmxlbmd0aCxcbiAgICAgIGF2ZXJhZ2VFZmZlY3RpdmVuZXNzOiBlZmZlY3RpdmVuZXNzLmxlbmd0aCA+IDAgXG4gICAgICAgID8gZWZmZWN0aXZlbmVzcy5yZWR1Y2UoKHN1bSwgcikgPT4gc3VtICsgKHIuZWZmZWN0aXZlbmVzcyB8fCAwKSwgMCkgLyBlZmZlY3RpdmVuZXNzLmxlbmd0aCBcbiAgICAgICAgOiAwLFxuICAgICAgYnlUeXBlXG4gICAgfTtcbiAgfVxufVxuIiwiLyoqXG4gKiBCYXNlIHRyYW5zcG9ydCBpbXBsZW1lbnRhdGlvbiB3aXRoIGNvbW1vbiBmdW5jdGlvbmFsaXR5XG4gKiBBbGwgc3BlY2lmaWMgdHJhbnNwb3J0IHR5cGVzIGV4dGVuZCB0aGlzIGJhc2UgY2xhc3NcbiAqL1xuXG5pbXBvcnQgeyBcbiAgRGV2UGlwZVRyYW5zcG9ydCwgXG4gIFRyYW5zcG9ydFR5cGUsIFxuICBUcmFuc3BvcnRDb25maWcsIFxuICBUcmFuc3BvcnRIZWFsdGhTdGF0dXMsIFxuICBIZWFsdGhDaGVja1Jlc3VsdCxcbiAgRXZlbnRMaXN0ZW5lcixcbiAgVHJhbnNwb3J0RXZlbnQsXG4gIERldlBpcGVNZXNzYWdlLFxuICBEZXZQaXBlUmVzcG9uc2UsXG4gIFRyYW5zcG9ydENhcGFiaWxpdGllc1xufSBmcm9tICcuL0RldlBpcGVUcmFuc3BvcnQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIENpcmN1aXRCcmVha2VyQ29uZmlnIHtcbiAgZmFpbHVyZVRocmVzaG9sZDogbnVtYmVyO1xuICByZXNldFRpbWVvdXQ6IG51bWJlcjtcbiAgbW9uaXRvcmluZ1BlcmlvZDogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRyYW5zcG9ydE1ldHJpY3Mge1xuICBtZXNzYWdlc1NlbnQ6IG51bWJlcjtcbiAgbWVzc2FnZXNSZWNlaXZlZDogbnVtYmVyO1xuICBlcnJvcnM6IG51bWJlcjtcbiAgdG90YWxMYXRlbmN5OiBudW1iZXI7XG4gIGxhc3RBY3Rpdml0eTogbnVtYmVyO1xufVxuXG4vKipcbiAqIENpcmN1aXQgYnJlYWtlciBwYXR0ZXJuIGltcGxlbWVudGF0aW9uIGZvciB0cmFuc3BvcnQgcmVsaWFiaWxpdHlcbiAqL1xuZXhwb3J0IGNsYXNzIENpcmN1aXRCcmVha2VyIHtcbiAgcHJpdmF0ZSBzdGF0ZTogJ2Nsb3NlZCcgfCAnb3BlbicgfCAnaGFsZi1vcGVuJyA9ICdjbG9zZWQnO1xuICBwcml2YXRlIGZhaWx1cmVDb3VudDogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBsYXN0RmFpbHVyZVRpbWU6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgbmV4dEF0dGVtcHQ6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgY29uZmlnOiBDaXJjdWl0QnJlYWtlckNvbmZpZztcblxuICBjb25zdHJ1Y3Rvcihjb25maWc6IENpcmN1aXRCcmVha2VyQ29uZmlnKSB7XG4gICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gIH1cblxuICBhc3luYyBleGVjdXRlPFQ+KG9wZXJhdGlvbjogKCkgPT4gUHJvbWlzZTxUPik6IFByb21pc2U8VD4ge1xuICAgIGlmICh0aGlzLnN0YXRlID09PSAnb3BlbicpIHtcbiAgICAgIGlmIChEYXRlLm5vdygpIDwgdGhpcy5uZXh0QXR0ZW1wdCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NpcmN1aXQgYnJlYWtlciBpcyBPUEVOJyk7XG4gICAgICB9XG4gICAgICB0aGlzLnN0YXRlID0gJ2hhbGYtb3Blbic7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG9wZXJhdGlvbigpO1xuICAgICAgdGhpcy5vblN1Y2Nlc3MoKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRoaXMub25GYWlsdXJlKCk7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIG9uU3VjY2VzcygpOiB2b2lkIHtcbiAgICB0aGlzLmZhaWx1cmVDb3VudCA9IDA7XG4gICAgdGhpcy5zdGF0ZSA9ICdjbG9zZWQnO1xuICB9XG5cbiAgcHJpdmF0ZSBvbkZhaWx1cmUoKTogdm9pZCB7XG4gICAgdGhpcy5mYWlsdXJlQ291bnQrKztcbiAgICB0aGlzLmxhc3RGYWlsdXJlVGltZSA9IERhdGUubm93KCk7XG5cbiAgICBpZiAodGhpcy5mYWlsdXJlQ291bnQgPj0gdGhpcy5jb25maWcuZmFpbHVyZVRocmVzaG9sZCkge1xuICAgICAgdGhpcy5zdGF0ZSA9ICdvcGVuJztcbiAgICAgIHRoaXMubmV4dEF0dGVtcHQgPSBEYXRlLm5vdygpICsgdGhpcy5jb25maWcucmVzZXRUaW1lb3V0O1xuICAgIH1cbiAgfVxuXG4gIGdldFN0YXRlKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGU7XG4gIH1cbn1cblxuLyoqXG4gKiBCYXNlIHRyYW5zcG9ydCBjbGFzcyB3aXRoIGNvbW1vbiBmdW5jdGlvbmFsaXR5XG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBCYXNlVHJhbnNwb3J0IGltcGxlbWVudHMgRGV2UGlwZVRyYW5zcG9ydCB7XG4gIHByb3RlY3RlZCBjb25maWc6IFRyYW5zcG9ydENvbmZpZztcbiAgcHJvdGVjdGVkIGhlYWx0aFN0YXR1czogVHJhbnNwb3J0SGVhbHRoU3RhdHVzO1xuICBwcm90ZWN0ZWQgY2lyY3VpdEJyZWFrZXI6IENpcmN1aXRCcmVha2VyO1xuICBwcm90ZWN0ZWQgbWV0cmljczogVHJhbnNwb3J0TWV0cmljcztcbiAgcHJvdGVjdGVkIGV2ZW50TGlzdGVuZXJzOiBNYXA8c3RyaW5nLCBFdmVudExpc3RlbmVyW10+ID0gbmV3IE1hcCgpO1xuICBcbiAgcHVibGljIHJlYWRvbmx5IHR5cGU6IFRyYW5zcG9ydFR5cGU7XG4gIHB1YmxpYyByZWFkb25seSBpZDogc3RyaW5nO1xuICBwcm90ZWN0ZWQgY29ubmVjdGVkOiBib29sZWFuID0gZmFsc2U7XG4gIHByb3RlY3RlZCBpbml0aWFsaXplZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKHR5cGU6IFRyYW5zcG9ydFR5cGUsIGNvbmZpZzogVHJhbnNwb3J0Q29uZmlnKSB7XG4gICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICB0aGlzLmlkID0gYCR7dHlwZX0tJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gO1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgIFxuICAgIHRoaXMuaGVhbHRoU3RhdHVzID0ge1xuICAgICAgc3RhdHVzOiAnZGlzY29ubmVjdGVkJyxcbiAgICAgIGxhc3RDaGVjazogRGF0ZS5ub3coKSxcbiAgICAgIGxhdGVuY3k6IDAsXG4gICAgICBlcnJvclJhdGU6IDAsXG4gICAgICBjb25zZWN1dGl2ZUZhaWx1cmVzOiAwLFxuICAgICAgdXB0aW1lOiAwXG4gICAgfTtcbiAgICBcbiAgICB0aGlzLmNpcmN1aXRCcmVha2VyID0gbmV3IENpcmN1aXRCcmVha2VyKHtcbiAgICAgIGZhaWx1cmVUaHJlc2hvbGQ6IDUsXG4gICAgICByZXNldFRpbWVvdXQ6IDMwMDAwLFxuICAgICAgbW9uaXRvcmluZ1BlcmlvZDogMTAwMDBcbiAgICB9KTtcbiAgICBcbiAgICB0aGlzLm1ldHJpY3MgPSB7XG4gICAgICBtZXNzYWdlc1NlbnQ6IDAsXG4gICAgICBtZXNzYWdlc1JlY2VpdmVkOiAwLFxuICAgICAgZXJyb3JzOiAwLFxuICAgICAgdG90YWxMYXRlbmN5OiAwLFxuICAgICAgbGFzdEFjdGl2aXR5OiBEYXRlLm5vdygpXG4gICAgfTtcblxuICAgIHRoaXMuZGVidWcoYFRyYW5zcG9ydCAke3RoaXMuaWR9IGNyZWF0ZWRgKTtcbiAgfVxuXG4gIC8vIEV2ZW50IHN5c3RlbSBpbXBsZW1lbnRhdGlvblxuICBvbihldmVudDogVHJhbnNwb3J0RXZlbnQgfCBzdHJpbmcsIGxpc3RlbmVyOiBFdmVudExpc3RlbmVyKTogdm9pZCB7XG4gICAgY29uc3QgZXZlbnRLZXkgPSBldmVudC50b1N0cmluZygpO1xuICAgIGlmICghdGhpcy5ldmVudExpc3RlbmVycy5oYXMoZXZlbnRLZXkpKSB7XG4gICAgICB0aGlzLmV2ZW50TGlzdGVuZXJzLnNldChldmVudEtleSwgW10pO1xuICAgIH1cbiAgICB0aGlzLmV2ZW50TGlzdGVuZXJzLmdldChldmVudEtleSkhLnB1c2gobGlzdGVuZXIpO1xuICB9XG5cbiAgb2ZmKGV2ZW50OiBUcmFuc3BvcnRFdmVudCB8IHN0cmluZywgbGlzdGVuZXI6IEV2ZW50TGlzdGVuZXIpOiB2b2lkIHtcbiAgICBjb25zdCBldmVudEtleSA9IGV2ZW50LnRvU3RyaW5nKCk7XG4gICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5ldmVudExpc3RlbmVycy5nZXQoZXZlbnRLZXkpO1xuICAgIGlmIChsaXN0ZW5lcnMpIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpO1xuICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZW1pdChldmVudDogVHJhbnNwb3J0RXZlbnQgfCBzdHJpbmcsIGRhdGE/OiBhbnkpOiB2b2lkIHtcbiAgICBjb25zdCBldmVudEtleSA9IGV2ZW50LnRvU3RyaW5nKCk7XG4gICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5ldmVudExpc3RlbmVycy5nZXQoZXZlbnRLZXkpO1xuICAgIGlmIChsaXN0ZW5lcnMpIHtcbiAgICAgIGxpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBsaXN0ZW5lcihkYXRhKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICB0aGlzLmRlYnVnKGBFcnJvciBpbiBldmVudCBsaXN0ZW5lciBmb3IgJHtldmVudEtleX06YCwgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvLyBIZWFsdGggbW9uaXRvcmluZ1xuICBhc3luYyBwZXJmb3JtSGVhbHRoQ2hlY2soKTogUHJvbWlzZTxIZWFsdGhDaGVja1Jlc3VsdD4ge1xuICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHRoaXMuZG9IZWFsdGhDaGVjaygpO1xuICAgICAgY29uc3QgbGF0ZW5jeSA9IERhdGUubm93KCkgLSBzdGFydFRpbWU7XG4gICAgICBcbiAgICAgIHRoaXMuaGVhbHRoU3RhdHVzLnN0YXR1cyA9ICdoZWFsdGh5JztcbiAgICAgIHRoaXMuaGVhbHRoU3RhdHVzLmxhdGVuY3kgPSBsYXRlbmN5O1xuICAgICAgdGhpcy5oZWFsdGhTdGF0dXMuY29uc2VjdXRpdmVGYWlsdXJlcyA9IDA7XG4gICAgICB0aGlzLmhlYWx0aFN0YXR1cy5sYXN0Q2hlY2sgPSBEYXRlLm5vdygpO1xuICAgICAgXG4gICAgICB0aGlzLmVtaXQoVHJhbnNwb3J0RXZlbnQuSEVBTFRIX0NIRUNLLCB7IHN1Y2Nlc3M6IHRydWUsIGxhdGVuY3kgfSk7XG4gICAgICBcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGxhdGVuY3ksIHRpbWVzdGFtcDogRGF0ZS5ub3coKSB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLmhlYWx0aFN0YXR1cy5zdGF0dXMgPSAnZmFpbGluZyc7XG4gICAgICB0aGlzLmhlYWx0aFN0YXR1cy5jb25zZWN1dGl2ZUZhaWx1cmVzKys7XG4gICAgICB0aGlzLmhlYWx0aFN0YXR1cy5sYXN0Q2hlY2sgPSBEYXRlLm5vdygpO1xuICAgICAgXG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJztcbiAgICAgIHRoaXMuZW1pdChUcmFuc3BvcnRFdmVudC5IRUFMVEhfQ0hFQ0ssIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvck1lc3NhZ2UgfSk7XG4gICAgICBcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3JNZXNzYWdlLCBsYXRlbmN5OiBEYXRlLm5vdygpIC0gc3RhcnRUaW1lLCB0aW1lc3RhbXA6IERhdGUubm93KCkgfTtcbiAgICB9XG4gIH1cblxuICAvLyBDaXJjdWl0IGJyZWFrZXIgd3JhcHBlciBmb3Igb3BlcmF0aW9uc1xuICBwcm90ZWN0ZWQgYXN5bmMgZXhlY3V0ZVdpdGhDaXJjdWl0QnJlYWtlcjxUPihcbiAgICBvcGVyYXRpb246ICgpID0+IFByb21pc2U8VD4sXG4gICAgb3BlcmF0aW9uTmFtZTogc3RyaW5nXG4gICk6IFByb21pc2U8VD4ge1xuICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuY2lyY3VpdEJyZWFrZXIuZXhlY3V0ZShvcGVyYXRpb24pO1xuICAgICAgY29uc3QgbGF0ZW5jeSA9IERhdGUubm93KCkgLSBzdGFydFRpbWU7XG4gICAgICB0aGlzLnVwZGF0ZU1ldHJpY3ModHJ1ZSwgbGF0ZW5jeSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zdCBsYXRlbmN5ID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZTtcbiAgICAgIHRoaXMudXBkYXRlTWV0cmljcyhmYWxzZSwgbGF0ZW5jeSk7XG4gICAgICB0aGlzLmRlYnVnKGBPcGVyYXRpb24gJHtvcGVyYXRpb25OYW1lfSBmYWlsZWQ6YCwgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVNZXRyaWNzKHN1Y2Nlc3M6IGJvb2xlYW4sIGxhdGVuY3k6IG51bWJlcik6IHZvaWQge1xuICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICB0aGlzLm1ldHJpY3MubWVzc2FnZXNTZW50Kys7XG4gICAgICB0aGlzLm1ldHJpY3MudG90YWxMYXRlbmN5ICs9IGxhdGVuY3k7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubWV0cmljcy5lcnJvcnMrKztcbiAgICB9XG4gICAgdGhpcy5tZXRyaWNzLmxhc3RBY3Rpdml0eSA9IERhdGUubm93KCk7XG4gIH1cblxuICAvLyBVdGlsaXR5IG1ldGhvZHNcbiAgcHJvdGVjdGVkIGdlbmVyYXRlTWVzc2FnZUlkKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGBtc2ctJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gO1xuICB9XG5cbiAgcHJvdGVjdGVkIGRlYnVnKG1lc3NhZ2U6IHN0cmluZywgLi4uYXJnczogYW55W10pOiB2b2lkIHtcbiAgICBpZiAodGhpcy5jb25maWcuZGVidWcpIHtcbiAgICAgIGNvbnNvbGUubG9nKGBbJHt0aGlzLnR5cGV9OiR7dGhpcy5pZH1dICR7bWVzc2FnZX1gLCAuLi5hcmdzKTtcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgY2FsY3VsYXRlUmVsaWFiaWxpdHkoKTogbnVtYmVyIHtcbiAgICBjb25zdCB0b3RhbCA9IHRoaXMubWV0cmljcy5tZXNzYWdlc1NlbnQgKyB0aGlzLm1ldHJpY3MuZXJyb3JzO1xuICAgIGlmICh0b3RhbCA9PT0gMCkgcmV0dXJuIDEuMDtcbiAgICByZXR1cm4gdGhpcy5tZXRyaWNzLm1lc3NhZ2VzU2VudCAvIHRvdGFsO1xuICB9XG5cbiAgLy8gU3RhbmRhcmQgaW50ZXJmYWNlIGltcGxlbWVudGF0aW9uc1xuICBpc0F2YWlsYWJsZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5pbml0aWFsaXplZCAmJiB0aGlzLmNpcmN1aXRCcmVha2VyLmdldFN0YXRlKCkgIT09ICdvcGVuJztcbiAgfVxuXG4gIGlzQ29ubmVjdGVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmNvbm5lY3RlZCAmJiB0aGlzLmlzQXZhaWxhYmxlKCk7XG4gIH1cblxuICBnZXRIZWFsdGhTdGF0dXMoKTogVHJhbnNwb3J0SGVhbHRoU3RhdHVzIHtcbiAgICByZXR1cm4geyAuLi50aGlzLmhlYWx0aFN0YXR1cyB9O1xuICB9XG5cbiAgYXN5bmMgaW5pdGlhbGl6ZShjb25maWc6IFRyYW5zcG9ydENvbmZpZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRoaXMuY29uZmlnID0geyAuLi50aGlzLmNvbmZpZywgLi4uY29uZmlnIH07XG4gICAgYXdhaXQgdGhpcy5kb0luaXRpYWxpemUoKTtcbiAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICB0aGlzLmRlYnVnKCdUcmFuc3BvcnQgaW5pdGlhbGl6ZWQnKTtcbiAgfVxuXG4gIGFzeW5jIGRlc3Ryb3koKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgYXdhaXQgdGhpcy5kaXNjb25uZWN0KCk7XG4gICAgdGhpcy5ldmVudExpc3RlbmVycy5jbGVhcigpO1xuICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICB0aGlzLmRlYnVnKCdUcmFuc3BvcnQgZGVzdHJveWVkJyk7XG4gIH1cblxuICAvLyBBYnN0cmFjdCBtZXRob2RzIHRoYXQgbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBzcGVjaWZpYyB0cmFuc3BvcnQgdHlwZXNcbiAgcHJvdGVjdGVkIGFic3RyYWN0IGRvSW5pdGlhbGl6ZSgpOiBQcm9taXNlPHZvaWQ+O1xuICBwcm90ZWN0ZWQgYWJzdHJhY3QgZG9IZWFsdGhDaGVjaygpOiBQcm9taXNlPHZvaWQ+O1xuICBwdWJsaWMgYWJzdHJhY3QgY29ubmVjdCgpOiBQcm9taXNlPHZvaWQ+O1xuICBwdWJsaWMgYWJzdHJhY3QgZGlzY29ubmVjdCgpOiBQcm9taXNlPHZvaWQ+O1xuICBwdWJsaWMgYWJzdHJhY3Qgc2VuZChtZXNzYWdlOiBEZXZQaXBlTWVzc2FnZSk6IFByb21pc2U8RGV2UGlwZVJlc3BvbnNlPjtcbiAgcHVibGljIGFic3RyYWN0IGdldENhcGFiaWxpdGllcygpOiBUcmFuc3BvcnRDYXBhYmlsaXRpZXM7XG59XG4iLCIvKipcbiAqIEVuaGFuY2VkIEhUVFAgVHJhbnNwb3J0IGZvciBEZXZQaXBlIGNvbW11bmljYXRpb25cbiAqIFN1cHBvcnRzIFNlcnZlci1TZW50IEV2ZW50cywgY29ubmVjdGlvbiBwb29saW5nLCBhbmQgYWR2YW5jZWQgcmV0cnkgbG9naWNcbiAqL1xuXG5pbXBvcnQgeyBcbiAgRGV2UGlwZVRyYW5zcG9ydCxcbiAgVHJhbnNwb3J0VHlwZSxcbiAgVHJhbnNwb3J0Q29uZmlnLFxuICBUcmFuc3BvcnRDYXBhYmlsaXRpZXMsXG4gIERldlBpcGVNZXNzYWdlLFxuICBEZXZQaXBlUmVzcG9uc2UsXG4gIFRyYW5zcG9ydEV2ZW50LFxuICBIVFRQVHJhbnNwb3J0Q29uZmlnXG59IGZyb20gJy4vRGV2UGlwZVRyYW5zcG9ydCc7XG5pbXBvcnQgeyBCYXNlVHJhbnNwb3J0IH0gZnJvbSAnLi9CYXNlVHJhbnNwb3J0JztcbmltcG9ydCB7IEVudmlyb25tZW50RGV0ZWN0b3IgfSBmcm9tICcuLi8uLi91dGlscy9FbnZpcm9ubWVudERldGVjdG9yJztcblxuaW50ZXJmYWNlIFBlbmRpbmdSZXF1ZXN0IHtcbiAgaWQ6IHN0cmluZztcbiAgbWVzc2FnZTogRGV2UGlwZU1lc3NhZ2U7XG4gIHJlc29sdmU6IChyZXNwb25zZTogRGV2UGlwZVJlc3BvbnNlKSA9PiB2b2lkO1xuICByZWplY3Q6IChlcnJvcjogRXJyb3IpID0+IHZvaWQ7XG4gIHRpbWVvdXQ6IGFueTsgLy8gQ2FuIGJlIE5vZGVKUy5UaW1lb3V0IG9yIG51bWJlciBkZXBlbmRpbmcgb24gZW52aXJvbm1lbnRcbiAgdGltZXN0YW1wOiBudW1iZXI7XG59XG5cbmludGVyZmFjZSBDb25uZWN0aW9uUG9vbE9wdGlvbnMge1xuICBtYXhDb25uZWN0aW9uczogbnVtYmVyO1xuICBrZWVwQWxpdmU6IGJvb2xlYW47XG4gIHRpbWVvdXQ6IG51bWJlcjtcbn1cblxuLyoqXG4gKiBTaW1wbGUgY29ubmVjdGlvbiBwb29sIGZvciBIVFRQIHJlcXVlc3RzXG4gKi9cbmNsYXNzIENvbm5lY3Rpb25Qb29sIHtcbiAgcHJpdmF0ZSBhY3RpdmVDb25uZWN0aW9uczogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBtYXhDb25uZWN0aW9uczogbnVtYmVyO1xuICBwcml2YXRlIHF1ZXVlOiAoKCkgPT4gdm9pZClbXSA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IENvbm5lY3Rpb25Qb29sT3B0aW9ucykge1xuICAgIHRoaXMubWF4Q29ubmVjdGlvbnMgPSBvcHRpb25zLm1heENvbm5lY3Rpb25zO1xuICB9XG5cbiAgYXN5bmMgYWNxdWlyZTxUPihvcGVyYXRpb246ICgpID0+IFByb21pc2U8VD4pOiBQcm9taXNlPFQ+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgZXhlY3V0ZSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgdGhpcy5hY3RpdmVDb25uZWN0aW9ucysrO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG9wZXJhdGlvbigpO1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHRoaXMuYWN0aXZlQ29ubmVjdGlvbnMtLTtcbiAgICAgICAgICBpZiAodGhpcy5xdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0ID0gdGhpcy5xdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgaWYgKG5leHQpIG5leHQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGlmICh0aGlzLmFjdGl2ZUNvbm5lY3Rpb25zIDwgdGhpcy5tYXhDb25uZWN0aW9ucykge1xuICAgICAgICBleGVjdXRlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnF1ZXVlLnB1c2goZXhlY3V0ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBIVFRQIFRyYW5zcG9ydCBpbXBsZW1lbnRhdGlvbiB3aXRoIGVuaGFuY2VkIGZlYXR1cmVzXG4gKi9cbmV4cG9ydCBjbGFzcyBIVFRQVHJhbnNwb3J0IGV4dGVuZHMgQmFzZVRyYW5zcG9ydCB7XG4gIHByaXZhdGUgc3NlQ29ubmVjdGlvbj86IEV2ZW50U291cmNlO1xuICBwcml2YXRlIGNvbm5lY3Rpb25Qb29sOiBDb25uZWN0aW9uUG9vbDtcbiAgcHJpdmF0ZSBwZW5kaW5nUmVxdWVzdHM6IE1hcDxzdHJpbmcsIFBlbmRpbmdSZXF1ZXN0PiA9IG5ldyBNYXAoKTtcbiAgcHJpdmF0ZSBodHRwQ29uZmlnOiBIVFRQVHJhbnNwb3J0Q29uZmlnO1xuICBwcml2YXRlIG1lc3NhZ2VRdWV1ZTogRGV2UGlwZU1lc3NhZ2VbXSA9IFtdO1xuICBwcml2YXRlIHByb2Nlc3NpbmdRdWV1ZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogVHJhbnNwb3J0Q29uZmlnKSB7XG4gICAgc3VwZXIoVHJhbnNwb3J0VHlwZS5IVFRQLCBjb25maWcpO1xuICAgIFxuICAgIHRoaXMuaHR0cENvbmZpZyA9IGNvbmZpZy5odHRwIHx8IHtcbiAgICAgIGVuYWJsZVNTRTogdHJ1ZSxcbiAgICAgIG1heENvbm5lY3Rpb25zOiAxMCxcbiAgICAgIGtlZXBBbGl2ZTogdHJ1ZSxcbiAgICAgIGNvbXByZXNzaW9uOiB0cnVlXG4gICAgfTtcbiAgICBcbiAgICB0aGlzLmNvbm5lY3Rpb25Qb29sID0gbmV3IENvbm5lY3Rpb25Qb29sKHtcbiAgICAgIG1heENvbm5lY3Rpb25zOiB0aGlzLmh0dHBDb25maWcubWF4Q29ubmVjdGlvbnMgfHwgMTAsXG4gICAgICBrZWVwQWxpdmU6IHRoaXMuaHR0cENvbmZpZy5rZWVwQWxpdmUgIT09IGZhbHNlLFxuICAgICAgdGltZW91dDogY29uZmlnLnRpbWVvdXRcbiAgICB9KTtcbiAgfVxuXG4gIHByb3RlY3RlZCBhc3luYyBkb0luaXRpYWxpemUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgLy8gVmFsaWRhdGUgSFRUUCBzdXBwb3J0IGluIGVudmlyb25tZW50XG4gICAgY29uc3QgZW52aXJvbm1lbnQgPSBFbnZpcm9ubWVudERldGVjdG9yLmRldGVjdCgpO1xuICAgIGlmICghZW52aXJvbm1lbnQuaGFzSFRUUCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdIVFRQIHRyYW5zcG9ydCBub3Qgc3VwcG9ydGVkIGluIHRoaXMgZW52aXJvbm1lbnQnKTtcbiAgICB9XG5cbiAgICB0aGlzLmRlYnVnKCdIVFRQIHRyYW5zcG9ydCBpbml0aWFsaXplZCcpO1xuICB9XG5cbiAgYXN5bmMgY29ubmVjdCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgLy8gVGVzdCBiYXNpYyBjb25uZWN0aXZpdHlcbiAgICAgIGF3YWl0IHRoaXMuZG9IZWFsdGhDaGVjaygpO1xuICAgICAgXG4gICAgICAvLyBTZXR1cCBTZXJ2ZXItU2VudCBFdmVudHMgaWYgZW5hYmxlZFxuICAgICAgaWYgKHRoaXMuaHR0cENvbmZpZy5lbmFibGVTU0UgJiYgdGhpcy5jb25maWcuc2VydmVyVXJsKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuc2V0dXBTU0UoKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgdGhpcy5jb25uZWN0ZWQgPSB0cnVlO1xuICAgICAgdGhpcy5oZWFsdGhTdGF0dXMuc3RhdHVzID0gJ2hlYWx0aHknO1xuICAgICAgdGhpcy5lbWl0KFRyYW5zcG9ydEV2ZW50LkNPTk5FQ1RFRCwgeyB0cmFuc3BvcnQ6IHRoaXMudHlwZSB9KTtcbiAgICAgIFxuICAgICAgdGhpcy5kZWJ1ZygnSFRUUCB0cmFuc3BvcnQgY29ubmVjdGVkJyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRoaXMuZW1pdChUcmFuc3BvcnRFdmVudC5FUlJPUiwgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZGlzY29ubmVjdCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvLyBSZWplY3QgYWxsIHBlbmRpbmcgcmVxdWVzdHNcbiAgICBjb25zdCByZXF1ZXN0cyA9IEFycmF5LmZyb20odGhpcy5wZW5kaW5nUmVxdWVzdHMudmFsdWVzKCkpO1xuICAgIGZvciAoY29uc3QgcmVxdWVzdCBvZiByZXF1ZXN0cykge1xuICAgICAgY2xlYXJUaW1lb3V0KHJlcXVlc3QudGltZW91dCk7XG4gICAgICByZXF1ZXN0LnJlamVjdChuZXcgRXJyb3IoJ1RyYW5zcG9ydCBkaXNjb25uZWN0ZWQnKSk7XG4gICAgfVxuICAgIHRoaXMucGVuZGluZ1JlcXVlc3RzLmNsZWFyKCk7XG5cbiAgICAvLyBDbG9zZSBTU0UgY29ubmVjdGlvblxuICAgIGlmICh0aGlzLnNzZUNvbm5lY3Rpb24pIHtcbiAgICAgIHRoaXMuc3NlQ29ubmVjdGlvbi5jbG9zZSgpO1xuICAgICAgdGhpcy5zc2VDb25uZWN0aW9uID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG4gICAgdGhpcy5oZWFsdGhTdGF0dXMuc3RhdHVzID0gJ2Rpc2Nvbm5lY3RlZCc7XG4gICAgdGhpcy5lbWl0KFRyYW5zcG9ydEV2ZW50LkRJU0NPTk5FQ1RFRCwgeyB0cmFuc3BvcnQ6IHRoaXMudHlwZSB9KTtcbiAgICBcbiAgICB0aGlzLmRlYnVnKCdIVFRQIHRyYW5zcG9ydCBkaXNjb25uZWN0ZWQnKTtcbiAgfVxuXG4gIGFzeW5jIHNlbmQobWVzc2FnZTogRGV2UGlwZU1lc3NhZ2UpOiBQcm9taXNlPERldlBpcGVSZXNwb25zZT4ge1xuICAgIGlmICghdGhpcy5pc0Nvbm5lY3RlZCgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0hUVFAgdHJhbnNwb3J0IG5vdCBjb25uZWN0ZWQnKTtcbiAgICB9XG5cbiAgICAvLyBBZGQgbWVzc2FnZSBJRCBpZiBub3QgcHJlc2VudFxuICAgIGlmICghbWVzc2FnZS5pZCkge1xuICAgICAgbWVzc2FnZS5pZCA9IHRoaXMuZ2VuZXJhdGVNZXNzYWdlSWQoKTtcbiAgICB9XG5cbiAgICAvLyBBZGQgdGltZXN0YW1wXG4gICAgbWVzc2FnZS50aW1lc3RhbXAgPSBEYXRlLm5vdygpO1xuXG4gICAgcmV0dXJuIHRoaXMuZXhlY3V0ZVdpdGhDaXJjdWl0QnJlYWtlcihhc3luYyAoKSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy5zZW5kSHR0cFJlcXVlc3QobWVzc2FnZSk7XG4gICAgfSwgJ2h0dHBfc2VuZCcpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBzZW5kSHR0cFJlcXVlc3QobWVzc2FnZTogRGV2UGlwZU1lc3NhZ2UpOiBQcm9taXNlPERldlBpcGVSZXNwb25zZT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCB0aW1lb3V0SGFuZGxlID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMucGVuZGluZ1JlcXVlc3RzLmRlbGV0ZShtZXNzYWdlLmlkISk7XG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IoYFJlcXVlc3QgdGltZW91dCBhZnRlciAke3RoaXMuY29uZmlnLnRpbWVvdXR9bXNgKSk7XG4gICAgICB9LCB0aGlzLmNvbmZpZy50aW1lb3V0KTtcblxuICAgICAgY29uc3QgcmVxdWVzdDogUGVuZGluZ1JlcXVlc3QgPSB7XG4gICAgICAgIGlkOiBtZXNzYWdlLmlkISxcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgcmVzb2x2ZTogKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRIYW5kbGUpO1xuICAgICAgICAgIHRoaXMucGVuZGluZ1JlcXVlc3RzLmRlbGV0ZShtZXNzYWdlLmlkISk7XG4gICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlamVjdDogKGVycm9yKSA9PiB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRIYW5kbGUpO1xuICAgICAgICAgIHRoaXMucGVuZGluZ1JlcXVlc3RzLmRlbGV0ZShtZXNzYWdlLmlkISk7XG4gICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgfSxcbiAgICAgICAgdGltZW91dDogdGltZW91dEhhbmRsZSxcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpXG4gICAgICB9O1xuXG4gICAgICB0aGlzLnBlbmRpbmdSZXF1ZXN0cy5zZXQobWVzc2FnZS5pZCEsIHJlcXVlc3QpO1xuICAgICAgdGhpcy5wZXJmb3JtSHR0cFJlcXVlc3QobWVzc2FnZSwgcmVxdWVzdCk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHBlcmZvcm1IdHRwUmVxdWVzdChtZXNzYWdlOiBEZXZQaXBlTWVzc2FnZSwgcmVxdWVzdDogUGVuZGluZ1JlcXVlc3QpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNvbm5lY3Rpb25Qb29sLmFjcXVpcmUoYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBmZXRjaFJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7dGhpcy5jb25maWcuc2VydmVyVXJsfS9hcGkvdjEvZGV2cGlwZS9tZXNzYWdlYCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAuLi4odGhpcy5odHRwQ29uZmlnLmNvbXByZXNzaW9uICYmIHsgJ0FjY2VwdC1FbmNvZGluZyc6ICdnemlwLCBkZWZsYXRlJyB9KVxuICAgICAgICAgIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkobWVzc2FnZSlcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFmZXRjaFJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIVFRQICR7ZmV0Y2hSZXNwb25zZS5zdGF0dXN9OiAke2ZldGNoUmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmZXRjaFJlc3BvbnNlLmpzb24oKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBIYW5kbGUgaW1tZWRpYXRlIHJlc3BvbnNlXG4gICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2UuaWQgPT09IG1lc3NhZ2UuaWQpIHtcbiAgICAgICAgY29uc3QgZGV2UGlwZVJlc3BvbnNlOiBEZXZQaXBlUmVzcG9uc2UgPSB7XG4gICAgICAgICAgaWQ6IHJlc3BvbnNlLmlkLFxuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgcGF5bG9hZDogcmVzcG9uc2UucGF5bG9hZCB8fCByZXNwb25zZSxcbiAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KClcbiAgICAgICAgfTtcbiAgICAgICAgcmVxdWVzdC5yZXNvbHZlKGRldlBpcGVSZXNwb25zZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBXYWl0IGZvciBhc3luYyByZXNwb25zZSB2aWEgU1NFIG9yIHBvbGxpbmdcbiAgICAgICAgdGhpcy5kZWJ1ZyhgV2FpdGluZyBmb3IgYXN5bmMgcmVzcG9uc2UgZm9yIG1lc3NhZ2UgJHttZXNzYWdlLmlkfWApO1xuICAgICAgfVxuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcXVlc3QucmVqZWN0KGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvciA6IG5ldyBFcnJvcignSFRUUCByZXF1ZXN0IGZhaWxlZCcpKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHNldHVwU1NFKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghdGhpcy5jb25maWcuc2VydmVyVXJsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NlcnZlciBVUkwgcmVxdWlyZWQgZm9yIFNTRScpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCBzc2VVcmwgPSBgJHt0aGlzLmNvbmZpZy5zZXJ2ZXJVcmx9L2FwaS92MS9kZXZwaXBlL3N0cmVhbWA7XG4gICAgICB0aGlzLnNzZUNvbm5lY3Rpb24gPSBuZXcgRXZlbnRTb3VyY2Uoc3NlVXJsKTtcbiAgICAgIFxuICAgICAgdGhpcy5zc2VDb25uZWN0aW9uLm9ub3BlbiA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5kZWJ1ZygnU1NFIGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQnKTtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfTtcblxuICAgICAgdGhpcy5zc2VDb25uZWN0aW9uLm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpO1xuICAgICAgICAgIHRoaXMuaGFuZGxlU1NFTWVzc2FnZShkYXRhKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICB0aGlzLmRlYnVnKCdGYWlsZWQgdG8gcGFyc2UgU1NFIG1lc3NhZ2U6JywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB0aGlzLnNzZUNvbm5lY3Rpb24ub25lcnJvciA9IChlcnJvcikgPT4ge1xuICAgICAgICB0aGlzLmRlYnVnKCdTU0UgY29ubmVjdGlvbiBlcnJvcjonLCBlcnJvcik7XG4gICAgICAgIGlmICh0aGlzLnNzZUNvbm5lY3Rpb24/LnJlYWR5U3RhdGUgPT09IEV2ZW50U291cmNlLkNPTk5FQ1RJTkcpIHtcbiAgICAgICAgICB0aGlzLmVtaXQoVHJhbnNwb3J0RXZlbnQuUkVDT05ORUNUSU5HLCB7IHRyYW5zcG9ydDogdGhpcy50eXBlIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuZW1pdChUcmFuc3BvcnRFdmVudC5FUlJPUiwgZXJyb3IpO1xuICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVNTRU1lc3NhZ2UoZGF0YTogYW55KTogdm9pZCB7XG4gICAgaWYgKGRhdGEudHlwZSA9PT0gJ3Jlc3BvbnNlJyAmJiBkYXRhLmlkKSB7XG4gICAgICAvLyBIYW5kbGUgcmVzcG9uc2UgdG8gcGVuZGluZyByZXF1ZXN0XG4gICAgICBjb25zdCByZXF1ZXN0ID0gdGhpcy5wZW5kaW5nUmVxdWVzdHMuZ2V0KGRhdGEuaWQpO1xuICAgICAgaWYgKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2U6IERldlBpcGVSZXNwb25zZSA9IHtcbiAgICAgICAgICBpZDogZGF0YS5pZCxcbiAgICAgICAgICBzdWNjZXNzOiBkYXRhLnN1Y2Nlc3MgIT09IGZhbHNlLFxuICAgICAgICAgIHBheWxvYWQ6IGRhdGEucGF5bG9hZCxcbiAgICAgICAgICBlcnJvcjogZGF0YS5lcnJvcixcbiAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KClcbiAgICAgICAgfTtcbiAgICAgICAgcmVxdWVzdC5yZXNvbHZlKHJlc3BvbnNlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSGFuZGxlIGluY29taW5nIG1lc3NhZ2VcbiAgICAgIHRoaXMuZW1pdChUcmFuc3BvcnRFdmVudC5NRVNTQUdFLCBkYXRhKTtcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgYXN5bmMgZG9IZWFsdGhDaGVjaygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIXRoaXMuY29uZmlnLnNlcnZlclVybCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBzZXJ2ZXIgVVJMIGNvbmZpZ3VyZWQnKTtcbiAgICB9XG5cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3RoaXMuY29uZmlnLnNlcnZlclVybH0vYXBpL3YxL2RldnBpcGUvaGVhbHRoYCwge1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgc2lnbmFsOiBBYm9ydFNpZ25hbC50aW1lb3V0KDUwMDApXG4gICAgfSk7XG5cbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEhlYWx0aCBjaGVjayBmYWlsZWQ6ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0Q2FwYWJpbGl0aWVzKCk6IFRyYW5zcG9ydENhcGFiaWxpdGllcyB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1cHBvcnRzUmVhbHRpbWU6ICEhdGhpcy5odHRwQ29uZmlnLmVuYWJsZVNTRSxcbiAgICAgIHN1cHBvcnRzQmlkaXJlY3Rpb25hbDogISF0aGlzLmh0dHBDb25maWcuZW5hYmxlU1NFLFxuICAgICAgc3VwcG9ydHNGaWxlU3lzdGVtOiBmYWxzZSxcbiAgICAgIHN1cHBvcnRzU3RyZWFtaW5nOiB0cnVlLFxuICAgICAgbWF4TWVzc2FnZVNpemU6IDEwICogMTAyNCAqIDEwMjQsIC8vIDEwTUJcbiAgICAgIGF2ZXJhZ2VMYXRlbmN5OiB0aGlzLmhlYWx0aFN0YXR1cy5sYXRlbmN5LFxuICAgICAgbWF4Q29uY3VycmVudENvbm5lY3Rpb25zOiB0aGlzLmh0dHBDb25maWcubWF4Q29ubmVjdGlvbnMgfHwgMTAsXG4gICAgICByZWxpYWJpbGl0eTogdGhpcy5jYWxjdWxhdGVSZWxpYWJpbGl0eSgpLFxuICAgICAgc3VwcG9ydGVkRW52aXJvbm1lbnRzOiBbJ2Jyb3dzZXInLCAnbm9kZScsICdvYnNpZGlhbiddXG4gICAgfTtcbiAgfVxufVxuIiwiLyoqXG4gKiBXZWJTb2NrZXQgVHJhbnNwb3J0IGZvciBEZXZQaXBlIGNvbW11bmljYXRpb25cbiAqIFN1cHBvcnRzIHJlYWwtdGltZSBiaWRpcmVjdGlvbmFsIGNvbW11bmljYXRpb24gd2l0aCBhdXRvbWF0aWMgcmVjb25uZWN0aW9uXG4gKi9cblxuaW1wb3J0IHsgXG4gIERldlBpcGVUcmFuc3BvcnQsXG4gIFRyYW5zcG9ydFR5cGUsXG4gIFRyYW5zcG9ydENvbmZpZyxcbiAgVHJhbnNwb3J0Q2FwYWJpbGl0aWVzLFxuICBEZXZQaXBlTWVzc2FnZSxcbiAgRGV2UGlwZVJlc3BvbnNlLFxuICBUcmFuc3BvcnRFdmVudCxcbiAgV2ViU29ja2V0VHJhbnNwb3J0Q29uZmlnXG59IGZyb20gJy4vRGV2UGlwZVRyYW5zcG9ydCc7XG5pbXBvcnQgeyBCYXNlVHJhbnNwb3J0IH0gZnJvbSAnLi9CYXNlVHJhbnNwb3J0JztcbmltcG9ydCB7IEVudmlyb25tZW50RGV0ZWN0b3IgfSBmcm9tICcuLi8uLi91dGlscy9FbnZpcm9ubWVudERldGVjdG9yJztcblxuaW50ZXJmYWNlIFJlc3BvbnNlSGFuZGxlciB7XG4gIHJlc29sdmU6IChyZXNwb25zZTogRGV2UGlwZVJlc3BvbnNlKSA9PiB2b2lkO1xuICByZWplY3Q6IChlcnJvcjogRXJyb3IpID0+IHZvaWQ7XG4gIHRpbWVvdXQ6IGFueTtcbiAgdGltZXN0YW1wOiBudW1iZXI7XG59XG5cbmludGVyZmFjZSBNZXNzYWdlUXVldWUge1xuICBtZXNzYWdlczogRGV2UGlwZU1lc3NhZ2VbXTtcbiAgbWF4U2l6ZTogbnVtYmVyO1xuICBwZXJzaXN0VG9EaXNrOiBib29sZWFuO1xufVxuXG4vKipcbiAqIFNpbXBsZSByZWNvbm5lY3RpbmcgV2ViU29ja2V0IHdyYXBwZXJcbiAqL1xuY2xhc3MgUmVjb25uZWN0aW5nV2ViU29ja2V0IHtcbiAgcHJpdmF0ZSB3cz86IFdlYlNvY2tldDtcbiAgcHJpdmF0ZSB1cmw6IHN0cmluZztcbiAgcHJpdmF0ZSBwcm90b2NvbHM6IHN0cmluZ1tdO1xuICBwcml2YXRlIG9wdGlvbnM6IGFueTtcbiAgcHJpdmF0ZSByZWNvbm5lY3RBdHRlbXB0czogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBtYXhSZWNvbm5lY3RBdHRlbXB0czogbnVtYmVyO1xuICBwcml2YXRlIHJlY29ubmVjdERlbGF5OiBudW1iZXI7XG4gIHByaXZhdGUgc2hvdWxkUmVjb25uZWN0OiBib29sZWFuID0gdHJ1ZTtcbiAgXG4gIHB1YmxpYyBvbm9wZW4/OiAoZXZlbnQ6IEV2ZW50KSA9PiB2b2lkO1xuICBwdWJsaWMgb25jbG9zZT86IChldmVudDogQ2xvc2VFdmVudCkgPT4gdm9pZDtcbiAgcHVibGljIG9ubWVzc2FnZT86IChldmVudDogTWVzc2FnZUV2ZW50KSA9PiB2b2lkO1xuICBwdWJsaWMgb25lcnJvcj86IChldmVudDogRXZlbnQpID0+IHZvaWQ7XG5cbiAgY29uc3RydWN0b3IodXJsOiBzdHJpbmcsIHByb3RvY29sczogc3RyaW5nW10gPSBbXSwgb3B0aW9uczogYW55ID0ge30pIHtcbiAgICB0aGlzLnVybCA9IHVybDtcbiAgICB0aGlzLnByb3RvY29scyA9IHByb3RvY29scztcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMubWF4UmVjb25uZWN0QXR0ZW1wdHMgPSBvcHRpb25zLm1heFJlY29ubmVjdEF0dGVtcHRzIHx8IDEwO1xuICAgIHRoaXMucmVjb25uZWN0RGVsYXkgPSBvcHRpb25zLnJlY29ubmVjdERlbGF5IHx8IDEwMDA7XG4gICAgdGhpcy5jb25uZWN0KCk7XG4gIH1cblxuICBwcml2YXRlIGNvbm5lY3QoKTogdm9pZCB7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMud3MgPSBuZXcgV2ViU29ja2V0KHRoaXMudXJsLCB0aGlzLnByb3RvY29scyk7XG4gICAgICBcbiAgICAgIHRoaXMud3Mub25vcGVuID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIHRoaXMucmVjb25uZWN0QXR0ZW1wdHMgPSAwO1xuICAgICAgICBpZiAodGhpcy5vbm9wZW4pIHRoaXMub25vcGVuKGV2ZW50KTtcbiAgICAgIH07XG4gICAgICBcbiAgICAgIHRoaXMud3Mub25jbG9zZSA9IChldmVudCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5vbmNsb3NlKSB0aGlzLm9uY2xvc2UoZXZlbnQpO1xuICAgICAgICBpZiAodGhpcy5zaG91bGRSZWNvbm5lY3QgJiYgdGhpcy5yZWNvbm5lY3RBdHRlbXB0cyA8IHRoaXMubWF4UmVjb25uZWN0QXR0ZW1wdHMpIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMucmVjb25uZWN0KCksIHRoaXMucmVjb25uZWN0RGVsYXkgKiBNYXRoLnBvdygyLCB0aGlzLnJlY29ubmVjdEF0dGVtcHRzKSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBcbiAgICAgIHRoaXMud3Mub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmICh0aGlzLm9ubWVzc2FnZSkgdGhpcy5vbm1lc3NhZ2UoZXZlbnQpO1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgdGhpcy53cy5vbmVycm9yID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmICh0aGlzLm9uZXJyb3IpIHRoaXMub25lcnJvcihldmVudCk7XG4gICAgICB9O1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmICh0aGlzLm9uZXJyb3IpIHRoaXMub25lcnJvcihuZXcgRXZlbnQoJ2Vycm9yJykpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcmVjb25uZWN0KCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnNob3VsZFJlY29ubmVjdCAmJiB0aGlzLnJlY29ubmVjdEF0dGVtcHRzIDwgdGhpcy5tYXhSZWNvbm5lY3RBdHRlbXB0cykge1xuICAgICAgdGhpcy5yZWNvbm5lY3RBdHRlbXB0cysrO1xuICAgICAgdGhpcy5jb25uZWN0KCk7XG4gICAgfVxuICB9XG5cbiAgc2VuZChkYXRhOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XG4gICAgICB0aGlzLndzLnNlbmQoZGF0YSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignV2ViU29ja2V0IG5vdCBjb25uZWN0ZWQnKTtcbiAgICB9XG4gIH1cblxuICBjbG9zZSgpOiB2b2lkIHtcbiAgICB0aGlzLnNob3VsZFJlY29ubmVjdCA9IGZhbHNlO1xuICAgIGlmICh0aGlzLndzKSB7XG4gICAgICB0aGlzLndzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0IHJlYWR5U3RhdGUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy53cyA/IHRoaXMud3MucmVhZHlTdGF0ZSA6IFdlYlNvY2tldC5DTE9TRUQ7XG4gIH1cbn1cblxuLyoqXG4gKiBXZWJTb2NrZXQgVHJhbnNwb3J0IGltcGxlbWVudGF0aW9uXG4gKi9cbmV4cG9ydCBjbGFzcyBXZWJTb2NrZXRUcmFuc3BvcnQgZXh0ZW5kcyBCYXNlVHJhbnNwb3J0IHtcbiAgcHJpdmF0ZSB3ZWJzb2NrZXQ/OiBSZWNvbm5lY3RpbmdXZWJTb2NrZXQ7XG4gIHByaXZhdGUgbWVzc2FnZVF1ZXVlOiBNZXNzYWdlUXVldWU7XG4gIHByaXZhdGUgaGVhcnRiZWF0SW50ZXJ2YWw/OiBhbnk7XG4gIHByaXZhdGUgcmVzcG9uc2VIYW5kbGVyczogTWFwPHN0cmluZywgUmVzcG9uc2VIYW5kbGVyPiA9IG5ldyBNYXAoKTtcbiAgcHJpdmF0ZSB3c0NvbmZpZzogV2ViU29ja2V0VHJhbnNwb3J0Q29uZmlnO1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogVHJhbnNwb3J0Q29uZmlnKSB7XG4gICAgc3VwZXIoVHJhbnNwb3J0VHlwZS5XRUJTT0NLRVQsIGNvbmZpZyk7XG4gICAgXG4gICAgdGhpcy53c0NvbmZpZyA9IGNvbmZpZy53ZWJzb2NrZXQgfHwge1xuICAgICAgaGVhcnRiZWF0SW50ZXJ2YWw6IDMwMDAwLFxuICAgICAgcmVjb25uZWN0RGVsYXk6IDEwMDAsXG4gICAgICBtYXhSZWNvbm5lY3RBdHRlbXB0czogMTAsXG4gICAgICBwZXJzaXN0TWVzc2FnZXM6IGZhbHNlXG4gICAgfTtcbiAgICBcbiAgICB0aGlzLm1lc3NhZ2VRdWV1ZSA9IHtcbiAgICAgIG1lc3NhZ2VzOiBbXSxcbiAgICAgIG1heFNpemU6IDEwMDAsXG4gICAgICBwZXJzaXN0VG9EaXNrOiB0aGlzLndzQ29uZmlnLnBlcnNpc3RNZXNzYWdlcyB8fCBmYWxzZVxuICAgIH07XG4gIH1cblxuICBwcm90ZWN0ZWQgYXN5bmMgZG9Jbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIC8vIFZhbGlkYXRlIFdlYlNvY2tldCBzdXBwb3J0IGluIGVudmlyb25tZW50XG4gICAgY29uc3QgZW52aXJvbm1lbnQgPSBFbnZpcm9ubWVudERldGVjdG9yLmRldGVjdCgpO1xuICAgIGlmICghZW52aXJvbm1lbnQuaGFzV2ViU29ja2V0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dlYlNvY2tldCB0cmFuc3BvcnQgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGVudmlyb25tZW50Jyk7XG4gICAgfVxuXG4gICAgdGhpcy5kZWJ1ZygnV2ViU29ja2V0IHRyYW5zcG9ydCBpbml0aWFsaXplZCcpO1xuICB9XG5cbiAgYXN5bmMgY29ubmVjdCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIXRoaXMuY29uZmlnLnNlcnZlclVybCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdTZXJ2ZXIgVVJMIHJlcXVpcmVkIGZvciBXZWJTb2NrZXQgdHJhbnNwb3J0Jyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IHdzVXJsID0gdGhpcy5jb25maWcuc2VydmVyVXJsIS5yZXBsYWNlKC9eaHR0cC8sICd3cycpICsgJy9hcGkvdjEvZGV2cGlwZS93cyc7XG4gICAgICBcbiAgICAgIHRoaXMud2Vic29ja2V0ID0gbmV3IFJlY29ubmVjdGluZ1dlYlNvY2tldCh3c1VybCwgW10sIHtcbiAgICAgICAgY29ubmVjdGlvblRpbWVvdXQ6IHRoaXMuY29uZmlnLnRpbWVvdXQsXG4gICAgICAgIGRlYnVnOiB0aGlzLmNvbmZpZy5kZWJ1ZyxcbiAgICAgICAgbWF4UmVjb25uZWN0QXR0ZW1wdHM6IHRoaXMud3NDb25maWcubWF4UmVjb25uZWN0QXR0ZW1wdHMsXG4gICAgICAgIHJlY29ubmVjdERlbGF5OiB0aGlzLndzQ29uZmlnLnJlY29ubmVjdERlbGF5XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgdGhpcy53ZWJzb2NrZXQub25vcGVuID0gKCkgPT4ge1xuICAgICAgICB0aGlzLmNvbm5lY3RlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuaGVhbHRoU3RhdHVzLnN0YXR1cyA9ICdoZWFsdGh5JztcbiAgICAgICAgdGhpcy5zdGFydEhlYXJ0YmVhdCgpO1xuICAgICAgICB0aGlzLmVtaXQoVHJhbnNwb3J0RXZlbnQuQ09OTkVDVEVELCB7IHRyYW5zcG9ydDogdGhpcy50eXBlIH0pO1xuICAgICAgICB0aGlzLmRlYnVnKCdXZWJTb2NrZXQgY29ubmVjdGVkJyk7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH07XG4gICAgICBcbiAgICAgIHRoaXMud2Vic29ja2V0Lm9uZXJyb3IgPSAoZXJyb3IpID0+IHtcbiAgICAgICAgdGhpcy5kZWJ1ZygnV2ViU29ja2V0IGVycm9yOicsIGVycm9yKTtcbiAgICAgICAgdGhpcy5lbWl0KFRyYW5zcG9ydEV2ZW50LkVSUk9SLCBlcnJvcik7XG4gICAgICAgIGlmICghdGhpcy5jb25uZWN0ZWQpIHtcbiAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdGYWlsZWQgdG8gY29ubmVjdCBXZWJTb2NrZXQnKSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBcbiAgICAgIHRoaXMud2Vic29ja2V0Lm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xuICAgICAgICB0aGlzLmhhbmRsZU1lc3NhZ2UoZXZlbnQuZGF0YSk7XG4gICAgICB9O1xuICAgICAgXG4gICAgICB0aGlzLndlYnNvY2tldC5vbmNsb3NlID0gKCkgPT4ge1xuICAgICAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmhlYWx0aFN0YXR1cy5zdGF0dXMgPSAnZGlzY29ubmVjdGVkJztcbiAgICAgICAgdGhpcy5zdG9wSGVhcnRiZWF0KCk7XG4gICAgICAgIHRoaXMuZW1pdChUcmFuc3BvcnRFdmVudC5ESVNDT05ORUNURUQsIHsgdHJhbnNwb3J0OiB0aGlzLnR5cGUgfSk7XG4gICAgICAgIHRoaXMuZGVidWcoJ1dlYlNvY2tldCBkaXNjb25uZWN0ZWQnKTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBkaXNjb25uZWN0KCk6IFByb21pc2U8dm9pZD4ge1xuICAgIC8vIFJlamVjdCBhbGwgcGVuZGluZyByZXNwb25zZSBoYW5kbGVyc1xuICAgIGNvbnN0IGhhbmRsZXJzID0gQXJyYXkuZnJvbSh0aGlzLnJlc3BvbnNlSGFuZGxlcnMudmFsdWVzKCkpO1xuICAgIGZvciAoY29uc3QgaGFuZGxlciBvZiBoYW5kbGVycykge1xuICAgICAgY2xlYXJUaW1lb3V0KGhhbmRsZXIudGltZW91dCk7XG4gICAgICBoYW5kbGVyLnJlamVjdChuZXcgRXJyb3IoJ1RyYW5zcG9ydCBkaXNjb25uZWN0ZWQnKSk7XG4gICAgfVxuICAgIHRoaXMucmVzcG9uc2VIYW5kbGVycy5jbGVhcigpO1xuXG4gICAgLy8gU3RvcCBoZWFydGJlYXRcbiAgICB0aGlzLnN0b3BIZWFydGJlYXQoKTtcblxuICAgIC8vIENsb3NlIFdlYlNvY2tldFxuICAgIGlmICh0aGlzLndlYnNvY2tldCkge1xuICAgICAgdGhpcy53ZWJzb2NrZXQuY2xvc2UoKTtcbiAgICAgIHRoaXMud2Vic29ja2V0ID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG4gICAgdGhpcy5oZWFsdGhTdGF0dXMuc3RhdHVzID0gJ2Rpc2Nvbm5lY3RlZCc7XG4gICAgdGhpcy5lbWl0KFRyYW5zcG9ydEV2ZW50LkRJU0NPTk5FQ1RFRCwgeyB0cmFuc3BvcnQ6IHRoaXMudHlwZSB9KTtcbiAgICBcbiAgICB0aGlzLmRlYnVnKCdXZWJTb2NrZXQgdHJhbnNwb3J0IGRpc2Nvbm5lY3RlZCcpO1xuICB9XG5cbiAgYXN5bmMgc2VuZChtZXNzYWdlOiBEZXZQaXBlTWVzc2FnZSk6IFByb21pc2U8RGV2UGlwZVJlc3BvbnNlPiB7XG4gICAgaWYgKCF0aGlzLmlzQ29ubmVjdGVkKCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignV2ViU29ja2V0IHRyYW5zcG9ydCBub3QgY29ubmVjdGVkJyk7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1lc3NhZ2UgSUQgaWYgbm90IHByZXNlbnRcbiAgICBpZiAoIW1lc3NhZ2UuaWQpIHtcbiAgICAgIG1lc3NhZ2UuaWQgPSB0aGlzLmdlbmVyYXRlTWVzc2FnZUlkKCk7XG4gICAgfVxuXG4gICAgLy8gQWRkIHRpbWVzdGFtcFxuICAgIG1lc3NhZ2UudGltZXN0YW1wID0gRGF0ZS5ub3coKTtcblxuICAgIHJldHVybiB0aGlzLmV4ZWN1dGVXaXRoQ2lyY3VpdEJyZWFrZXIoYXN5bmMgKCkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuc2VuZFdlYlNvY2tldE1lc3NhZ2UobWVzc2FnZSk7XG4gICAgfSwgJ3dlYnNvY2tldF9zZW5kJyk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHNlbmRXZWJTb2NrZXRNZXNzYWdlKG1lc3NhZ2U6IERldlBpcGVNZXNzYWdlKTogUHJvbWlzZTxEZXZQaXBlUmVzcG9uc2U+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgdGltZW91dEhhbmRsZSA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLnJlc3BvbnNlSGFuZGxlcnMuZGVsZXRlKG1lc3NhZ2UuaWQhKTtcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihgV2ViU29ja2V0IHJlcXVlc3QgdGltZW91dCBhZnRlciAke3RoaXMuY29uZmlnLnRpbWVvdXR9bXNgKSk7XG4gICAgICB9LCB0aGlzLmNvbmZpZy50aW1lb3V0KTtcblxuICAgICAgY29uc3QgaGFuZGxlcjogUmVzcG9uc2VIYW5kbGVyID0ge1xuICAgICAgICByZXNvbHZlOiAocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dEhhbmRsZSk7XG4gICAgICAgICAgdGhpcy5yZXNwb25zZUhhbmRsZXJzLmRlbGV0ZShtZXNzYWdlLmlkISk7XG4gICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlamVjdDogKGVycm9yKSA9PiB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRIYW5kbGUpO1xuICAgICAgICAgIHRoaXMucmVzcG9uc2VIYW5kbGVycy5kZWxldGUobWVzc2FnZS5pZCEpO1xuICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgIH0sXG4gICAgICAgIHRpbWVvdXQ6IHRpbWVvdXRIYW5kbGUsXG4gICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuICAgICAgfTtcblxuICAgICAgdGhpcy5yZXNwb25zZUhhbmRsZXJzLnNldChtZXNzYWdlLmlkISwgaGFuZGxlcik7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMud2Vic29ja2V0IS5zZW5kKEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UpKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SGFuZGxlKTtcbiAgICAgICAgdGhpcy5yZXNwb25zZUhhbmRsZXJzLmRlbGV0ZShtZXNzYWdlLmlkISk7XG4gICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZU1lc3NhZ2UoZGF0YTogc3RyaW5nKTogdm9pZCB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgXG4gICAgICBpZiAobWVzc2FnZS50eXBlID09PSAncG9uZycpIHtcbiAgICAgICAgLy8gSGFuZGxlIGhlYXJ0YmVhdCBwb25nXG4gICAgICAgIHRoaXMuZGVidWcoJ1JlY2VpdmVkIGhlYXJ0YmVhdCBwb25nJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKG1lc3NhZ2UudHlwZSA9PT0gJ3Jlc3BvbnNlJyAmJiBtZXNzYWdlLnJlcGx5VG8pIHtcbiAgICAgICAgLy8gSGFuZGxlIHJlc3BvbnNlIHRvIHBlbmRpbmcgcmVxdWVzdFxuICAgICAgICBjb25zdCBoYW5kbGVyID0gdGhpcy5yZXNwb25zZUhhbmRsZXJzLmdldChtZXNzYWdlLnJlcGx5VG8pO1xuICAgICAgICBpZiAoaGFuZGxlcikge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlOiBEZXZQaXBlUmVzcG9uc2UgPSB7XG4gICAgICAgICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IG1lc3NhZ2Uuc3VjY2VzcyAhPT0gZmFsc2UsXG4gICAgICAgICAgICBwYXlsb2FkOiBtZXNzYWdlLnBheWxvYWQsXG4gICAgICAgICAgICBlcnJvcjogbWVzc2FnZS5lcnJvcixcbiAgICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuICAgICAgICAgIH07XG4gICAgICAgICAgaGFuZGxlci5yZXNvbHZlKHJlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChtZXNzYWdlLnR5cGUgPT09ICdoZWFsdGhfcG9uZycgJiYgbWVzc2FnZS5pZCkge1xuICAgICAgICAvLyBIYW5kbGUgaGVhbHRoIGNoZWNrIHJlc3BvbnNlXG4gICAgICAgIGNvbnN0IGhhbmRsZXIgPSB0aGlzLnJlc3BvbnNlSGFuZGxlcnMuZ2V0KG1lc3NhZ2UuaWQpO1xuICAgICAgICBpZiAoaGFuZGxlcikge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlOiBEZXZQaXBlUmVzcG9uc2UgPSB7XG4gICAgICAgICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICBwYXlsb2FkOiB7IHN0YXR1czogJ2hlYWx0aHknIH0sXG4gICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KClcbiAgICAgICAgICB9O1xuICAgICAgICAgIGhhbmRsZXIucmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEhhbmRsZSBpbmNvbWluZyBtZXNzYWdlXG4gICAgICAgIHRoaXMuZW1pdChUcmFuc3BvcnRFdmVudC5NRVNTQUdFLCBtZXNzYWdlKTtcbiAgICAgIH1cbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLmRlYnVnKCdGYWlsZWQgdG8gaGFuZGxlIFdlYlNvY2tldCBtZXNzYWdlOicsIGVycm9yKTtcbiAgICAgIHRoaXMuZW1pdChUcmFuc3BvcnRFdmVudC5FUlJPUiwgZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc3RhcnRIZWFydGJlYXQoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuaGVhcnRiZWF0SW50ZXJ2YWwpIHJldHVybjtcbiAgICBcbiAgICB0aGlzLmhlYXJ0YmVhdEludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuaXNDb25uZWN0ZWQoKSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHRoaXMud2Vic29ja2V0IS5zZW5kKEpTT04uc3RyaW5naWZ5KHsgXG4gICAgICAgICAgICB0eXBlOiAncGluZycsIFxuICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpIFxuICAgICAgICAgIH0pKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICB0aGlzLmRlYnVnKCdGYWlsZWQgdG8gc2VuZCBoZWFydGJlYXQ6JywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgdGhpcy53c0NvbmZpZy5oZWFydGJlYXRJbnRlcnZhbCB8fCAzMDAwMCk7XG4gIH1cblxuICBwcml2YXRlIHN0b3BIZWFydGJlYXQoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuaGVhcnRiZWF0SW50ZXJ2YWwpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5oZWFydGJlYXRJbnRlcnZhbCk7XG4gICAgICB0aGlzLmhlYXJ0YmVhdEludGVydmFsID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBhc3luYyBkb0hlYWx0aENoZWNrKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghdGhpcy5pc0Nvbm5lY3RlZCgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dlYlNvY2tldCBub3QgY29ubmVjdGVkJyk7XG4gICAgfVxuXG4gICAgLy8gU2VuZCBwaW5nIGFuZCB3YWl0IGZvciBwb25nXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignSGVhbHRoIGNoZWNrIHRpbWVvdXQnKSk7XG4gICAgICB9LCA1MDAwKTtcbiAgICAgIFxuICAgICAgY29uc3QgcGluZ0lkID0gdGhpcy5nZW5lcmF0ZU1lc3NhZ2VJZCgpO1xuICAgICAgY29uc3QgaGFuZGxlcjogUmVzcG9uc2VIYW5kbGVyID0ge1xuICAgICAgICByZXNvbHZlOiAoKSA9PiB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVqZWN0OiAoZXJyb3IpID0+IHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgfSxcbiAgICAgICAgdGltZW91dCxcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpXG4gICAgICB9O1xuICAgICAgXG4gICAgICB0aGlzLnJlc3BvbnNlSGFuZGxlcnMuc2V0KHBpbmdJZCwgaGFuZGxlcik7XG4gICAgICBcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMud2Vic29ja2V0IS5zZW5kKEpTT04uc3RyaW5naWZ5KHsgXG4gICAgICAgICAgdHlwZTogJ2hlYWx0aF9waW5nJywgXG4gICAgICAgICAgaWQ6IHBpbmdJZCxcbiAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KClcbiAgICAgICAgfSkpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICB0aGlzLnJlc3BvbnNlSGFuZGxlcnMuZGVsZXRlKHBpbmdJZCk7XG4gICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBnZXRDYXBhYmlsaXRpZXMoKTogVHJhbnNwb3J0Q2FwYWJpbGl0aWVzIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3VwcG9ydHNSZWFsdGltZTogdHJ1ZSxcbiAgICAgIHN1cHBvcnRzQmlkaXJlY3Rpb25hbDogdHJ1ZSxcbiAgICAgIHN1cHBvcnRzRmlsZVN5c3RlbTogZmFsc2UsXG4gICAgICBzdXBwb3J0c1N0cmVhbWluZzogdHJ1ZSxcbiAgICAgIG1heE1lc3NhZ2VTaXplOiAxMDI0ICogMTAyNCwgLy8gMU1CXG4gICAgICBhdmVyYWdlTGF0ZW5jeTogdGhpcy5oZWFsdGhTdGF0dXMubGF0ZW5jeSxcbiAgICAgIG1heENvbmN1cnJlbnRDb25uZWN0aW9uczogMSxcbiAgICAgIHJlbGlhYmlsaXR5OiB0aGlzLmNhbGN1bGF0ZVJlbGlhYmlsaXR5KCksXG4gICAgICBzdXBwb3J0ZWRFbnZpcm9ubWVudHM6IFsnYnJvd3NlcicsICdub2RlJywgJ29ic2lkaWFuJ11cbiAgICB9O1xuICB9XG59XG4iLCIvKipcbiAqIEZpbGVTeXN0ZW0gVHJhbnNwb3J0IGZvciBEZXZQaXBlIGNvbW11bmljYXRpb25cbiAqIFN1cHBvcnRzIGZpbGUtYmFzZWQgY29tbXVuaWNhdGlvbiB3aXRoIHByb3BlciBsb2NraW5nIGFuZCBhdG9taWMgb3BlcmF0aW9uc1xuICovXG5cbmltcG9ydCB7IFxuICBEZXZQaXBlVHJhbnNwb3J0LFxuICBUcmFuc3BvcnRUeXBlLFxuICBUcmFuc3BvcnRDb25maWcsXG4gIFRyYW5zcG9ydENhcGFiaWxpdGllcyxcbiAgRGV2UGlwZU1lc3NhZ2UsXG4gIERldlBpcGVSZXNwb25zZSxcbiAgVHJhbnNwb3J0RXZlbnQsXG4gIEZpbGVTeXN0ZW1UcmFuc3BvcnRDb25maWdcbn0gZnJvbSAnLi9EZXZQaXBlVHJhbnNwb3J0JztcbmltcG9ydCB7IEJhc2VUcmFuc3BvcnQgfSBmcm9tICcuL0Jhc2VUcmFuc3BvcnQnO1xuaW1wb3J0IHsgRW52aXJvbm1lbnREZXRlY3RvciB9IGZyb20gJy4uLy4uL3V0aWxzL0Vudmlyb25tZW50RGV0ZWN0b3InO1xuXG5pbnRlcmZhY2UgUGVuZGluZ0ZpbGVSZXF1ZXN0IHtcbiAgaWQ6IHN0cmluZztcbiAgbWVzc2FnZTogRGV2UGlwZU1lc3NhZ2U7XG4gIHJlc29sdmU6IChyZXNwb25zZTogRGV2UGlwZVJlc3BvbnNlKSA9PiB2b2lkO1xuICByZWplY3Q6IChlcnJvcjogRXJyb3IpID0+IHZvaWQ7XG4gIHRpbWVvdXQ6IGFueTtcbiAgdGltZXN0YW1wOiBudW1iZXI7XG4gIHJlcXVlc3RGaWxlOiBzdHJpbmc7XG4gIHJlc3BvbnNlRmlsZTogc3RyaW5nO1xufVxuXG4vKipcbiAqIFNpbXBsZSBmaWxlIGxvY2sgbWFuYWdlciBmb3IgYXRvbWljIG9wZXJhdGlvbnNcbiAqL1xuY2xhc3MgRmlsZUxvY2tNYW5hZ2VyIHtcbiAgcHJpdmF0ZSBsb2NrczogU2V0PHN0cmluZz4gPSBuZXcgU2V0KCk7XG4gIHByaXZhdGUgbG9ja1RpbWVvdXQ6IG51bWJlcjtcblxuICBjb25zdHJ1Y3Rvcihsb2NrVGltZW91dDogbnVtYmVyID0gNTAwMCkge1xuICAgIHRoaXMubG9ja1RpbWVvdXQgPSBsb2NrVGltZW91dDtcbiAgfVxuXG4gIGFzeW5jIGFjcXVpcmVMb2NrKGZpbGVQYXRoOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgYXR0ZW1wdExvY2sgPSAoKSA9PiB7XG4gICAgICAgIGlmICghdGhpcy5sb2Nrcy5oYXMoZmlsZVBhdGgpKSB7XG4gICAgICAgICAgdGhpcy5sb2Nrcy5hZGQoZmlsZVBhdGgpO1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KGF0dGVtcHRMb2NrLCAxMDApOyAvLyBSZXRyeSBldmVyeSAxMDBtc1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAvLyBTZXQgdGltZW91dCBmb3IgbG9jayBhY3F1aXNpdGlvblxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IoYEZhaWxlZCB0byBhY3F1aXJlIGxvY2sgZm9yICR7ZmlsZVBhdGh9IHdpdGhpbiAke3RoaXMubG9ja1RpbWVvdXR9bXNgKSk7XG4gICAgICB9LCB0aGlzLmxvY2tUaW1lb3V0KTtcblxuICAgICAgYXR0ZW1wdExvY2soKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlbGVhc2VMb2NrKGZpbGVQYXRoOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLmxvY2tzLmRlbGV0ZShmaWxlUGF0aCk7XG4gIH1cbn1cblxuLyoqXG4gKiBGaWxlIHdhdGNoZXIgaW1wbGVtZW50YXRpb24gZm9yIG1vbml0b3JpbmcgcmVzcG9uc2UgZmlsZXNcbiAqL1xuY2xhc3MgRmlsZVdhdGNoZXIge1xuICBwcml2YXRlIHdhdGNoZXJzOiBNYXA8c3RyaW5nLCBhbnk+ID0gbmV3IE1hcCgpO1xuICBwcml2YXRlIGNhbGxiYWNrczogTWFwPHN0cmluZywgKGNvbnRlbnQ6IHN0cmluZykgPT4gdm9pZD4gPSBuZXcgTWFwKCk7XG5cbiAgd2F0Y2goZmlsZVBhdGg6IHN0cmluZywgY2FsbGJhY2s6IChjb250ZW50OiBzdHJpbmcpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLmNhbGxiYWNrcy5zZXQoZmlsZVBhdGgsIGNhbGxiYWNrKTtcbiAgICBcbiAgICAvLyBTaW1wbGUgcG9sbGluZyBpbXBsZW1lbnRhdGlvbiAoY291bGQgYmUgZW5oYW5jZWQgd2l0aCBwcm9wZXIgZmlsZSB3YXRjaGluZylcbiAgICBjb25zdCB3YXRjaGVyID0gc2V0SW50ZXJ2YWwoYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZXhpc3RzID0gYXdhaXQgdGhpcy5maWxlRXhpc3RzKGZpbGVQYXRoKTtcbiAgICAgICAgaWYgKGV4aXN0cykge1xuICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLnJlYWRGaWxlKGZpbGVQYXRoKTtcbiAgICAgICAgICBjYWxsYmFjayhjb250ZW50KTtcbiAgICAgICAgICB0aGlzLnVud2F0Y2goZmlsZVBhdGgpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBGaWxlIGRvZXNuJ3QgZXhpc3QgeWV0IG9yIG90aGVyIGVycm9yLCBjb250aW51ZSB3YXRjaGluZ1xuICAgICAgfVxuICAgIH0sIDUwMCk7IC8vIENoZWNrIGV2ZXJ5IDUwMG1zXG5cbiAgICB0aGlzLndhdGNoZXJzLnNldChmaWxlUGF0aCwgd2F0Y2hlcik7XG4gIH1cblxuICB1bndhdGNoKGZpbGVQYXRoOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBjb25zdCB3YXRjaGVyID0gdGhpcy53YXRjaGVycy5nZXQoZmlsZVBhdGgpO1xuICAgIGlmICh3YXRjaGVyKSB7XG4gICAgICBjbGVhckludGVydmFsKHdhdGNoZXIpO1xuICAgICAgdGhpcy53YXRjaGVycy5kZWxldGUoZmlsZVBhdGgpO1xuICAgIH1cbiAgICB0aGlzLmNhbGxiYWNrcy5kZWxldGUoZmlsZVBhdGgpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBmaWxlRXhpc3RzKGZpbGVQYXRoOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAvLyBQbGF0Zm9ybS1zcGVjaWZpYyBmaWxlIGV4aXN0ZW5jZSBjaGVja1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuYXBwPy52YXVsdD8uYWRhcHRlcj8uZXhpc3RzKSB7XG4gICAgICAvLyBPYnNpZGlhbiBlbnZpcm9ubWVudFxuICAgICAgcmV0dXJuIHdpbmRvdy5hcHAudmF1bHQuYWRhcHRlci5leGlzdHMoZmlsZVBhdGgpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIChnbG9iYWxUaGlzIGFzIGFueSkucmVxdWlyZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIE5vZGUuanMgZW52aXJvbm1lbnRcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGZzID0gKGdsb2JhbFRoaXMgYXMgYW55KS5yZXF1aXJlKCdmcycpLnByb21pc2VzO1xuICAgICAgICBhd2FpdCBmcy5hY2Nlc3MoZmlsZVBhdGgpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgcmVhZEZpbGUoZmlsZVBhdGg6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgLy8gUGxhdGZvcm0tc3BlY2lmaWMgZmlsZSByZWFkaW5nXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5hcHA/LnZhdWx0Py5hZGFwdGVyPy5yZWFkKSB7XG4gICAgICAvLyBPYnNpZGlhbiBlbnZpcm9ubWVudFxuICAgICAgcmV0dXJuIHdpbmRvdy5hcHAudmF1bHQuYWRhcHRlci5yZWFkKGZpbGVQYXRoKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiAoZ2xvYmFsVGhpcyBhcyBhbnkpLnJlcXVpcmUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBOb2RlLmpzIGVudmlyb25tZW50XG4gICAgICBjb25zdCBmcyA9IChnbG9iYWxUaGlzIGFzIGFueSkucmVxdWlyZSgnZnMnKS5wcm9taXNlcztcbiAgICAgIHJldHVybiBmcy5yZWFkRmlsZShmaWxlUGF0aCwgJ3V0Zi04Jyk7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcignRmlsZSByZWFkaW5nIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBlbnZpcm9ubWVudCcpO1xuICB9XG59XG5cbi8qKlxuICogRmlsZVN5c3RlbSBUcmFuc3BvcnQgaW1wbGVtZW50YXRpb25cbiAqL1xuZXhwb3J0IGNsYXNzIEZpbGVTeXN0ZW1UcmFuc3BvcnQgZXh0ZW5kcyBCYXNlVHJhbnNwb3J0IHtcbiAgcHJpdmF0ZSBkZXZQaXBlUGF0aDogc3RyaW5nO1xuICBwcml2YXRlIGZpbGVXYXRjaGVyOiBGaWxlV2F0Y2hlcjtcbiAgcHJpdmF0ZSBsb2NrTWFuYWdlcjogRmlsZUxvY2tNYW5hZ2VyO1xuICBwcml2YXRlIHBlbmRpbmdSZXF1ZXN0czogTWFwPHN0cmluZywgUGVuZGluZ0ZpbGVSZXF1ZXN0PiA9IG5ldyBNYXAoKTtcbiAgcHJpdmF0ZSBmc0NvbmZpZzogRmlsZVN5c3RlbVRyYW5zcG9ydENvbmZpZztcbiAgcHJpdmF0ZSBtZXNzYWdlUXVldWU6IERldlBpcGVNZXNzYWdlW10gPSBbXTtcblxuICBjb25zdHJ1Y3Rvcihjb25maWc6IFRyYW5zcG9ydENvbmZpZykge1xuICAgIHN1cGVyKFRyYW5zcG9ydFR5cGUuRklMRVNZU1RFTSwgY29uZmlnKTtcbiAgICBcbiAgICB0aGlzLmZzQ29uZmlnID0gY29uZmlnLmZpbGVzeXN0ZW0gfHwge1xuICAgICAgd2F0Y2hJbnRlcnZhbDogNTAwLFxuICAgICAgbG9ja1RpbWVvdXQ6IDUwMDAsXG4gICAgICBtYXhRdWV1ZVNpemU6IDEwMFxuICAgIH07XG4gICAgXG4gICAgdGhpcy5kZXZQaXBlUGF0aCA9IGNvbmZpZy5kZXZQaXBlUGF0aCB8fCAnLi9kZXZwaXBlJztcbiAgICB0aGlzLmZpbGVXYXRjaGVyID0gbmV3IEZpbGVXYXRjaGVyKCk7XG4gICAgdGhpcy5sb2NrTWFuYWdlciA9IG5ldyBGaWxlTG9ja01hbmFnZXIodGhpcy5mc0NvbmZpZy5sb2NrVGltZW91dCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgYXN5bmMgZG9Jbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIC8vIFZhbGlkYXRlIGZpbGUgc3lzdGVtIHN1cHBvcnQgaW4gZW52aXJvbm1lbnRcbiAgICBjb25zdCBlbnZpcm9ubWVudCA9IEVudmlyb25tZW50RGV0ZWN0b3IuZGV0ZWN0KCk7XG4gICAgaWYgKCFlbnZpcm9ubWVudC5oYXNGaWxlU3lzdGVtKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZpbGVTeXN0ZW0gdHJhbnNwb3J0IG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBlbnZpcm9ubWVudCcpO1xuICAgIH1cblxuICAgIC8vIEVuc3VyZSBkZXZwaXBlIGRpcmVjdG9yeSBleGlzdHNcbiAgICBhd2FpdCB0aGlzLmVuc3VyZURpcmVjdG9yeUV4aXN0cyh0aGlzLmRldlBpcGVQYXRoKTtcbiAgICBcbiAgICB0aGlzLmRlYnVnKCdGaWxlU3lzdGVtIHRyYW5zcG9ydCBpbml0aWFsaXplZCcpO1xuICB9XG5cbiAgYXN5bmMgY29ubmVjdCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgLy8gVGVzdCBmaWxlIHN5c3RlbSBhY2Nlc3NcbiAgICAgIGF3YWl0IHRoaXMuZG9IZWFsdGhDaGVjaygpO1xuICAgICAgXG4gICAgICAvLyBTdGFydCB3YXRjaGluZyBmb3IgaW5jb21pbmcgbWVzc2FnZXNcbiAgICAgIHRoaXMuc2V0dXBJbmNvbWluZ01lc3NhZ2VXYXRjaGVyKCk7XG4gICAgICBcbiAgICAgIHRoaXMuY29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuaGVhbHRoU3RhdHVzLnN0YXR1cyA9ICdoZWFsdGh5JztcbiAgICAgIHRoaXMuZW1pdChUcmFuc3BvcnRFdmVudC5DT05ORUNURUQsIHsgdHJhbnNwb3J0OiB0aGlzLnR5cGUgfSk7XG4gICAgICBcbiAgICAgIHRoaXMuZGVidWcoJ0ZpbGVTeXN0ZW0gdHJhbnNwb3J0IGNvbm5lY3RlZCcpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLmVtaXQoVHJhbnNwb3J0RXZlbnQuRVJST1IsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGRpc2Nvbm5lY3QoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgLy8gUmVqZWN0IGFsbCBwZW5kaW5nIHJlcXVlc3RzXG4gICAgY29uc3QgcmVxdWVzdHMgPSBBcnJheS5mcm9tKHRoaXMucGVuZGluZ1JlcXVlc3RzLnZhbHVlcygpKTtcbiAgICBmb3IgKGNvbnN0IHJlcXVlc3Qgb2YgcmVxdWVzdHMpIHtcbiAgICAgIGNsZWFyVGltZW91dChyZXF1ZXN0LnRpbWVvdXQpO1xuICAgICAgdGhpcy5maWxlV2F0Y2hlci51bndhdGNoKHJlcXVlc3QucmVzcG9uc2VGaWxlKTtcbiAgICAgIHJlcXVlc3QucmVqZWN0KG5ldyBFcnJvcignVHJhbnNwb3J0IGRpc2Nvbm5lY3RlZCcpKTtcbiAgICB9XG4gICAgdGhpcy5wZW5kaW5nUmVxdWVzdHMuY2xlYXIoKTtcblxuICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG4gICAgdGhpcy5oZWFsdGhTdGF0dXMuc3RhdHVzID0gJ2Rpc2Nvbm5lY3RlZCc7XG4gICAgdGhpcy5lbWl0KFRyYW5zcG9ydEV2ZW50LkRJU0NPTk5FQ1RFRCwgeyB0cmFuc3BvcnQ6IHRoaXMudHlwZSB9KTtcbiAgICBcbiAgICB0aGlzLmRlYnVnKCdGaWxlU3lzdGVtIHRyYW5zcG9ydCBkaXNjb25uZWN0ZWQnKTtcbiAgfVxuXG4gIGFzeW5jIHNlbmQobWVzc2FnZTogRGV2UGlwZU1lc3NhZ2UpOiBQcm9taXNlPERldlBpcGVSZXNwb25zZT4ge1xuICAgIGlmICghdGhpcy5pc0Nvbm5lY3RlZCgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZpbGVTeXN0ZW0gdHJhbnNwb3J0IG5vdCBjb25uZWN0ZWQnKTtcbiAgICB9XG5cbiAgICAvLyBBZGQgbWVzc2FnZSBJRCBpZiBub3QgcHJlc2VudFxuICAgIGlmICghbWVzc2FnZS5pZCkge1xuICAgICAgbWVzc2FnZS5pZCA9IHRoaXMuZ2VuZXJhdGVNZXNzYWdlSWQoKTtcbiAgICB9XG5cbiAgICAvLyBBZGQgdGltZXN0YW1wXG4gICAgbWVzc2FnZS50aW1lc3RhbXAgPSBEYXRlLm5vdygpO1xuXG4gICAgcmV0dXJuIHRoaXMuZXhlY3V0ZVdpdGhDaXJjdWl0QnJlYWtlcihhc3luYyAoKSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy5zZW5kRmlsZU1lc3NhZ2UobWVzc2FnZSk7XG4gICAgfSwgJ2ZpbGVzeXN0ZW1fc2VuZCcpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBzZW5kRmlsZU1lc3NhZ2UobWVzc2FnZTogRGV2UGlwZU1lc3NhZ2UpOiBQcm9taXNlPERldlBpcGVSZXNwb25zZT4ge1xuICAgIGNvbnN0IHJlcXVlc3RGaWxlID0gYCR7dGhpcy5kZXZQaXBlUGF0aH0vcmVxdWVzdF8ke21lc3NhZ2UuaWR9Lmpzb25gO1xuICAgIGNvbnN0IHJlc3BvbnNlRmlsZSA9IGAke3RoaXMuZGV2UGlwZVBhdGh9L3Jlc3BvbnNlXyR7bWVzc2FnZS5pZH0uanNvbmA7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgdGltZW91dEhhbmRsZSA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLnBlbmRpbmdSZXF1ZXN0cy5kZWxldGUobWVzc2FnZS5pZCEpO1xuICAgICAgICB0aGlzLmZpbGVXYXRjaGVyLnVud2F0Y2gocmVzcG9uc2VGaWxlKTtcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihgRmlsZVN5c3RlbSByZXF1ZXN0IHRpbWVvdXQgYWZ0ZXIgJHt0aGlzLmNvbmZpZy50aW1lb3V0fW1zYCkpO1xuICAgICAgfSwgdGhpcy5jb25maWcudGltZW91dCk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3Q6IFBlbmRpbmdGaWxlUmVxdWVzdCA9IHtcbiAgICAgICAgaWQ6IG1lc3NhZ2UuaWQhLFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICByZXNvbHZlOiAocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dEhhbmRsZSk7XG4gICAgICAgICAgdGhpcy5wZW5kaW5nUmVxdWVzdHMuZGVsZXRlKG1lc3NhZ2UuaWQhKTtcbiAgICAgICAgICB0aGlzLmZpbGVXYXRjaGVyLnVud2F0Y2gocmVzcG9uc2VGaWxlKTtcbiAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVqZWN0OiAoZXJyb3IpID0+IHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dEhhbmRsZSk7XG4gICAgICAgICAgdGhpcy5wZW5kaW5nUmVxdWVzdHMuZGVsZXRlKG1lc3NhZ2UuaWQhKTtcbiAgICAgICAgICB0aGlzLmZpbGVXYXRjaGVyLnVud2F0Y2gocmVzcG9uc2VGaWxlKTtcbiAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICB9LFxuICAgICAgICB0aW1lb3V0OiB0aW1lb3V0SGFuZGxlLFxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgIHJlcXVlc3RGaWxlLFxuICAgICAgICByZXNwb25zZUZpbGVcbiAgICAgIH07XG5cbiAgICAgIHRoaXMucGVuZGluZ1JlcXVlc3RzLnNldChtZXNzYWdlLmlkISwgcmVxdWVzdCk7XG5cbiAgICAgIC8vIFdhdGNoIGZvciByZXNwb25zZSBmaWxlXG4gICAgICB0aGlzLmZpbGVXYXRjaGVyLndhdGNoKHJlc3BvbnNlRmlsZSwgKGNvbnRlbnQpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IEpTT04ucGFyc2UoY29udGVudCk7XG4gICAgICAgICAgY29uc3QgZGV2UGlwZVJlc3BvbnNlOiBEZXZQaXBlUmVzcG9uc2UgPSB7XG4gICAgICAgICAgICBpZDogcmVzcG9uc2UuaWQsXG4gICAgICAgICAgICBzdWNjZXNzOiByZXNwb25zZS5zdWNjZXNzICE9PSBmYWxzZSxcbiAgICAgICAgICAgIHBheWxvYWQ6IHJlc3BvbnNlLnBheWxvYWQsXG4gICAgICAgICAgICBlcnJvcjogcmVzcG9uc2UuZXJyb3IsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KClcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJlcXVlc3QucmVzb2x2ZShkZXZQaXBlUmVzcG9uc2UpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIHJlcXVlc3QucmVqZWN0KG5ldyBFcnJvcignRmFpbGVkIHRvIHBhcnNlIHJlc3BvbnNlIGZpbGUnKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBXcml0ZSByZXF1ZXN0IGZpbGVcbiAgICAgIHRoaXMud3JpdGVSZXF1ZXN0RmlsZShyZXF1ZXN0RmlsZSwgbWVzc2FnZSwgcmVxdWVzdCk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHdyaXRlUmVxdWVzdEZpbGUoZmlsZVBhdGg6IHN0cmluZywgbWVzc2FnZTogRGV2UGlwZU1lc3NhZ2UsIHJlcXVlc3Q6IFBlbmRpbmdGaWxlUmVxdWVzdCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCB0aGlzLmxvY2tNYW5hZ2VyLmFjcXVpcmVMb2NrKGZpbGVQYXRoKTtcbiAgICAgIGF3YWl0IHRoaXMud3JpdGVGaWxlKGZpbGVQYXRoLCBKU09OLnN0cmluZ2lmeShtZXNzYWdlLCBudWxsLCAyKSk7XG4gICAgICB0aGlzLmxvY2tNYW5hZ2VyLnJlbGVhc2VMb2NrKGZpbGVQYXRoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5sb2NrTWFuYWdlci5yZWxlYXNlTG9jayhmaWxlUGF0aCk7XG4gICAgICByZXF1ZXN0LnJlamVjdChlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiBuZXcgRXJyb3IoJ0ZhaWxlZCB0byB3cml0ZSByZXF1ZXN0IGZpbGUnKSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzZXR1cEluY29taW5nTWVzc2FnZVdhdGNoZXIoKTogdm9pZCB7XG4gICAgLy8gV2F0Y2ggZm9yIGluY29taW5nIG1lc3NhZ2VzICh0aGlzIHdvdWxkIGJlIGltcGxlbWVudGVkIGJhc2VkIG9uIHRoZSBzcGVjaWZpYyBwcm90b2NvbClcbiAgICAvLyBGb3Igbm93LCB3ZSdsbCBqdXN0IGxvZyB0aGF0IHRoZSB3YXRjaGVyIGlzIHNldCB1cFxuICAgIHRoaXMuZGVidWcoJ0luY29taW5nIG1lc3NhZ2Ugd2F0Y2hlciBzZXR1cCBjb21wbGV0ZWQnKTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgZW5zdXJlRGlyZWN0b3J5RXhpc3RzKHBhdGg6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIC8vIFBsYXRmb3JtLXNwZWNpZmljIGRpcmVjdG9yeSBjcmVhdGlvblxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuYXBwPy52YXVsdD8uYWRhcHRlcj8ubWtkaXIpIHtcbiAgICAgIC8vIE9ic2lkaWFuIGVudmlyb25tZW50XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCB3aW5kb3cuYXBwLnZhdWx0LmFkYXB0ZXIubWtkaXIocGF0aCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBEaXJlY3RvcnkgbWlnaHQgYWxyZWFkeSBleGlzdFxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIChnbG9iYWxUaGlzIGFzIGFueSkucmVxdWlyZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIE5vZGUuanMgZW52aXJvbm1lbnRcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGZzID0gKGdsb2JhbFRoaXMgYXMgYW55KS5yZXF1aXJlKCdmcycpLnByb21pc2VzO1xuICAgICAgICBhd2FpdCBmcy5ta2RpcihwYXRoLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIERpcmVjdG9yeSBtaWdodCBhbHJlYWR5IGV4aXN0XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyB3cml0ZUZpbGUoZmlsZVBhdGg6IHN0cmluZywgY29udGVudDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgLy8gUGxhdGZvcm0tc3BlY2lmaWMgZmlsZSB3cml0aW5nXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5hcHA/LnZhdWx0Py5hZGFwdGVyPy53cml0ZSkge1xuICAgICAgLy8gT2JzaWRpYW4gZW52aXJvbm1lbnRcbiAgICAgIHJldHVybiB3aW5kb3cuYXBwLnZhdWx0LmFkYXB0ZXIud3JpdGUoZmlsZVBhdGgsIGNvbnRlbnQpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIChnbG9iYWxUaGlzIGFzIGFueSkucmVxdWlyZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIE5vZGUuanMgZW52aXJvbm1lbnRcbiAgICAgIGNvbnN0IGZzID0gKGdsb2JhbFRoaXMgYXMgYW55KS5yZXF1aXJlKCdmcycpLnByb21pc2VzO1xuICAgICAgcmV0dXJuIGZzLndyaXRlRmlsZShmaWxlUGF0aCwgY29udGVudCwgJ3V0Zi04Jyk7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcignRmlsZSB3cml0aW5nIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBlbnZpcm9ubWVudCcpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyByZWFkRmlsZShmaWxlUGF0aDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAvLyBQbGF0Zm9ybS1zcGVjaWZpYyBmaWxlIHJlYWRpbmdcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmFwcD8udmF1bHQ/LmFkYXB0ZXI/LnJlYWQpIHtcbiAgICAgIC8vIE9ic2lkaWFuIGVudmlyb25tZW50XG4gICAgICByZXR1cm4gd2luZG93LmFwcC52YXVsdC5hZGFwdGVyLnJlYWQoZmlsZVBhdGgpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIChnbG9iYWxUaGlzIGFzIGFueSkucmVxdWlyZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIE5vZGUuanMgZW52aXJvbm1lbnRcbiAgICAgIGNvbnN0IGZzID0gKGdsb2JhbFRoaXMgYXMgYW55KS5yZXF1aXJlKCdmcycpLnByb21pc2VzO1xuICAgICAgcmV0dXJuIGZzLnJlYWRGaWxlKGZpbGVQYXRoLCAndXRmLTgnKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKCdGaWxlIHJlYWRpbmcgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGVudmlyb25tZW50Jyk7XG4gIH1cblxuICBwcm90ZWN0ZWQgYXN5bmMgZG9IZWFsdGhDaGVjaygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCB0ZXN0RmlsZSA9IGAke3RoaXMuZGV2UGlwZVBhdGh9L2hlYWx0aF9jaGVja18ke0RhdGUubm93KCl9LnRtcGA7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIFRlc3Qgd3JpdGUgYWNjZXNzXG4gICAgICBhd2FpdCB0aGlzLndyaXRlRmlsZSh0ZXN0RmlsZSwgJ2hlYWx0aF9jaGVjaycpO1xuICAgICAgXG4gICAgICAvLyBUZXN0IHJlYWQgYWNjZXNzXG4gICAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgdGhpcy5yZWFkRmlsZSh0ZXN0RmlsZSk7XG4gICAgICBpZiAoY29udGVudCAhPT0gJ2hlYWx0aF9jaGVjaycpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGaWxlIGNvbnRlbnQgbWlzbWF0Y2ggZHVyaW5nIGhlYWx0aCBjaGVjaycpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBDbGVhbiB1cCB0ZXN0IGZpbGVcbiAgICAgIGF3YWl0IHRoaXMuZGVsZXRlRmlsZSh0ZXN0RmlsZSk7XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGaWxlU3lzdGVtIGhlYWx0aCBjaGVjayBmYWlsZWQ6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBkZWxldGVGaWxlKGZpbGVQYXRoOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvLyBQbGF0Zm9ybS1zcGVjaWZpYyBmaWxlIGRlbGV0aW9uXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5hcHA/LnZhdWx0Py5hZGFwdGVyPy5yZW1vdmUpIHtcbiAgICAgIC8vIE9ic2lkaWFuIGVudmlyb25tZW50XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCB3aW5kb3cuYXBwLnZhdWx0LmFkYXB0ZXIucmVtb3ZlKGZpbGVQYXRoKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIEZpbGUgbWlnaHQgbm90IGV4aXN0XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgKGdsb2JhbFRoaXMgYXMgYW55KS5yZXF1aXJlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gTm9kZS5qcyBlbnZpcm9ubWVudFxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZnMgPSAoZ2xvYmFsVGhpcyBhcyBhbnkpLnJlcXVpcmUoJ2ZzJykucHJvbWlzZXM7XG4gICAgICAgIGF3YWl0IGZzLnVubGluayhmaWxlUGF0aCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBGaWxlIG1pZ2h0IG5vdCBleGlzdFxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGdldENhcGFiaWxpdGllcygpOiBUcmFuc3BvcnRDYXBhYmlsaXRpZXMge1xuICAgIHJldHVybiB7XG4gICAgICBzdXBwb3J0c1JlYWx0aW1lOiBmYWxzZSxcbiAgICAgIHN1cHBvcnRzQmlkaXJlY3Rpb25hbDogdHJ1ZSxcbiAgICAgIHN1cHBvcnRzRmlsZVN5c3RlbTogdHJ1ZSxcbiAgICAgIHN1cHBvcnRzU3RyZWFtaW5nOiBmYWxzZSxcbiAgICAgIG1heE1lc3NhZ2VTaXplOiAxMCAqIDEwMjQgKiAxMDI0LCAvLyAxME1CXG4gICAgICBhdmVyYWdlTGF0ZW5jeTogdGhpcy5oZWFsdGhTdGF0dXMubGF0ZW5jeSxcbiAgICAgIG1heENvbmN1cnJlbnRDb25uZWN0aW9uczogMSxcbiAgICAgIHJlbGlhYmlsaXR5OiB0aGlzLmNhbGN1bGF0ZVJlbGlhYmlsaXR5KCksXG4gICAgICBzdXBwb3J0ZWRFbnZpcm9ubWVudHM6IFsnbm9kZScsICdvYnNpZGlhbiddXG4gICAgfTtcbiAgfVxufVxuIiwiLyoqXG4gKiBUcmFuc3BvcnQgSGVhbHRoIE1vbml0b3IgZm9yIG1vbml0b3JpbmcgdHJhbnNwb3J0IGhlYWx0aCBhbmQgcGVyZm9ybWFuY2VcbiAqL1xuXG5pbXBvcnQgeyBcbiAgRGV2UGlwZVRyYW5zcG9ydCwgXG4gIFRyYW5zcG9ydFR5cGUsIFxuICBUcmFuc3BvcnRIZWFsdGhTdGF0dXMsXG4gIEhlYWx0aENoZWNrUmVzdWx0LFxuICBUcmFuc3BvcnRFdmVudFxufSBmcm9tICcuLi90cmFuc3BvcnRzL0RldlBpcGVUcmFuc3BvcnQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEhlYWx0aENoZWNrU2NoZWR1bGUge1xuICB0cmFuc3BvcnQ6IERldlBpcGVUcmFuc3BvcnQ7XG4gIGludGVydmFsOiBudW1iZXI7XG4gIGxhc3RDaGVjazogbnVtYmVyO1xuICBjb25zZWN1dGl2ZUZhaWx1cmVzOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSGVhbHRoQXNzZXNzbWVudCB7XG4gIHRyYW5zcG9ydDogVHJhbnNwb3J0VHlwZTtcbiAgc2NvcmU6IG51bWJlcjsgLy8gMC0xLCBoaWdoZXIgaXMgYmV0dGVyXG4gIHN0YXR1czogJ2V4Y2VsbGVudCcgfCAnZ29vZCcgfCAnZmFpcicgfCAncG9vcicgfCAnZmFpbGluZyc7XG4gIG1ldHJpY3M6IHtcbiAgICBhdmFpbGFiaWxpdHk6IG51bWJlcjtcbiAgICBsYXRlbmN5OiBudW1iZXI7XG4gICAgcmVsaWFiaWxpdHk6IG51bWJlcjtcbiAgICBlcnJvclJhdGU6IG51bWJlcjtcbiAgfTtcbiAgcmVjb21tZW5kYXRpb246ICd1c2UnIHwgJ21vbml0b3InIHwgJ2F2b2lkJztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNZXRyaWNzQ29sbGVjdG9yIHtcbiAgcmVjb3JkTGF0ZW5jeSh0cmFuc3BvcnQ6IFRyYW5zcG9ydFR5cGUsIGxhdGVuY3k6IG51bWJlcik6IHZvaWQ7XG4gIHJlY29yZFN1Y2Nlc3ModHJhbnNwb3J0OiBUcmFuc3BvcnRUeXBlKTogdm9pZDtcbiAgcmVjb3JkRmFpbHVyZSh0cmFuc3BvcnQ6IFRyYW5zcG9ydFR5cGUsIGVycm9yOiBFcnJvcik6IHZvaWQ7XG4gIGdldE1ldHJpY3ModHJhbnNwb3J0OiBUcmFuc3BvcnRUeXBlKTogVHJhbnNwb3J0TWV0cmljcztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUcmFuc3BvcnRNZXRyaWNzIHtcbiAgdG90YWxSZXF1ZXN0czogbnVtYmVyO1xuICBzdWNjZXNzZnVsUmVxdWVzdHM6IG51bWJlcjtcbiAgZmFpbGVkUmVxdWVzdHM6IG51bWJlcjtcbiAgYXZlcmFnZUxhdGVuY3k6IG51bWJlcjtcbiAgbWluTGF0ZW5jeTogbnVtYmVyO1xuICBtYXhMYXRlbmN5OiBudW1iZXI7XG4gIHVwdGltZTogbnVtYmVyO1xuICBsYXN0QWN0aXZpdHk6IG51bWJlcjtcbn1cblxuLyoqXG4gKiBDb2xsZWN0cyBhbmQgYWdncmVnYXRlcyB0cmFuc3BvcnQgcGVyZm9ybWFuY2UgbWV0cmljc1xuICovXG5leHBvcnQgY2xhc3MgRGVmYXVsdE1ldHJpY3NDb2xsZWN0b3IgaW1wbGVtZW50cyBNZXRyaWNzQ29sbGVjdG9yIHtcbiAgcHJpdmF0ZSBtZXRyaWNzOiBNYXA8VHJhbnNwb3J0VHlwZSwgVHJhbnNwb3J0TWV0cmljcz4gPSBuZXcgTWFwKCk7XG4gIHByaXZhdGUgbGF0ZW5jeUhpc3Rvcnk6IE1hcDxUcmFuc3BvcnRUeXBlLCBudW1iZXJbXT4gPSBuZXcgTWFwKCk7XG4gIHByaXZhdGUgcmVhZG9ubHkgTUFYX0hJU1RPUllfU0laRSA9IDEwMDtcblxuICByZWNvcmRMYXRlbmN5KHRyYW5zcG9ydDogVHJhbnNwb3J0VHlwZSwgbGF0ZW5jeTogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3QgbWV0cmljcyA9IHRoaXMuZ2V0T3JDcmVhdGVNZXRyaWNzKHRyYW5zcG9ydCk7XG4gICAgXG4gICAgLy8gVXBkYXRlIGxhdGVuY3kgbWV0cmljc1xuICAgIGNvbnN0IGhpc3RvcnkgPSB0aGlzLmdldE9yQ3JlYXRlSGlzdG9yeSh0cmFuc3BvcnQpO1xuICAgIGhpc3RvcnkucHVzaChsYXRlbmN5KTtcbiAgICBpZiAoaGlzdG9yeS5sZW5ndGggPiB0aGlzLk1BWF9ISVNUT1JZX1NJWkUpIHtcbiAgICAgIGhpc3Rvcnkuc2hpZnQoKTtcbiAgICB9XG4gICAgXG4gICAgbWV0cmljcy5hdmVyYWdlTGF0ZW5jeSA9IGhpc3RvcnkucmVkdWNlKChzdW0sIHZhbCkgPT4gc3VtICsgdmFsLCAwKSAvIGhpc3RvcnkubGVuZ3RoO1xuICAgIG1ldHJpY3MubWluTGF0ZW5jeSA9IE1hdGgubWluKG1ldHJpY3MubWluTGF0ZW5jeSwgbGF0ZW5jeSk7XG4gICAgbWV0cmljcy5tYXhMYXRlbmN5ID0gTWF0aC5tYXgobWV0cmljcy5tYXhMYXRlbmN5LCBsYXRlbmN5KTtcbiAgICBtZXRyaWNzLmxhc3RBY3Rpdml0eSA9IERhdGUubm93KCk7XG4gIH1cblxuICByZWNvcmRTdWNjZXNzKHRyYW5zcG9ydDogVHJhbnNwb3J0VHlwZSk6IHZvaWQge1xuICAgIGNvbnN0IG1ldHJpY3MgPSB0aGlzLmdldE9yQ3JlYXRlTWV0cmljcyh0cmFuc3BvcnQpO1xuICAgIG1ldHJpY3MudG90YWxSZXF1ZXN0cysrO1xuICAgIG1ldHJpY3Muc3VjY2Vzc2Z1bFJlcXVlc3RzKys7XG4gICAgbWV0cmljcy5sYXN0QWN0aXZpdHkgPSBEYXRlLm5vdygpO1xuICB9XG5cbiAgcmVjb3JkRmFpbHVyZSh0cmFuc3BvcnQ6IFRyYW5zcG9ydFR5cGUsIGVycm9yOiBFcnJvcik6IHZvaWQge1xuICAgIGNvbnN0IG1ldHJpY3MgPSB0aGlzLmdldE9yQ3JlYXRlTWV0cmljcyh0cmFuc3BvcnQpO1xuICAgIG1ldHJpY3MudG90YWxSZXF1ZXN0cysrO1xuICAgIG1ldHJpY3MuZmFpbGVkUmVxdWVzdHMrKztcbiAgICBtZXRyaWNzLmxhc3RBY3Rpdml0eSA9IERhdGUubm93KCk7XG4gIH1cblxuICBnZXRNZXRyaWNzKHRyYW5zcG9ydDogVHJhbnNwb3J0VHlwZSk6IFRyYW5zcG9ydE1ldHJpY3Mge1xuICAgIHJldHVybiB0aGlzLmdldE9yQ3JlYXRlTWV0cmljcyh0cmFuc3BvcnQpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRPckNyZWF0ZU1ldHJpY3ModHJhbnNwb3J0OiBUcmFuc3BvcnRUeXBlKTogVHJhbnNwb3J0TWV0cmljcyB7XG4gICAgaWYgKCF0aGlzLm1ldHJpY3MuaGFzKHRyYW5zcG9ydCkpIHtcbiAgICAgIHRoaXMubWV0cmljcy5zZXQodHJhbnNwb3J0LCB7XG4gICAgICAgIHRvdGFsUmVxdWVzdHM6IDAsXG4gICAgICAgIHN1Y2Nlc3NmdWxSZXF1ZXN0czogMCxcbiAgICAgICAgZmFpbGVkUmVxdWVzdHM6IDAsXG4gICAgICAgIGF2ZXJhZ2VMYXRlbmN5OiAwLFxuICAgICAgICBtaW5MYXRlbmN5OiBJbmZpbml0eSxcbiAgICAgICAgbWF4TGF0ZW5jeTogMCxcbiAgICAgICAgdXB0aW1lOiAwLFxuICAgICAgICBsYXN0QWN0aXZpdHk6IERhdGUubm93KClcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5tZXRyaWNzLmdldCh0cmFuc3BvcnQpITtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0T3JDcmVhdGVIaXN0b3J5KHRyYW5zcG9ydDogVHJhbnNwb3J0VHlwZSk6IG51bWJlcltdIHtcbiAgICBpZiAoIXRoaXMubGF0ZW5jeUhpc3RvcnkuaGFzKHRyYW5zcG9ydCkpIHtcbiAgICAgIHRoaXMubGF0ZW5jeUhpc3Rvcnkuc2V0KHRyYW5zcG9ydCwgW10pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5sYXRlbmN5SGlzdG9yeS5nZXQodHJhbnNwb3J0KSE7XG4gIH1cbn1cblxuLyoqXG4gKiBNb25pdG9ycyB0cmFuc3BvcnQgaGVhbHRoIGFuZCBwcm92aWRlcyBhc3Nlc3NtZW50c1xuICovXG5leHBvcnQgY2xhc3MgVHJhbnNwb3J0SGVhbHRoTW9uaXRvciB7XG4gIHByaXZhdGUgc2NoZWR1bGVzOiBNYXA8c3RyaW5nLCBIZWFsdGhDaGVja1NjaGVkdWxlPiA9IG5ldyBNYXAoKTtcbiAgcHJpdmF0ZSBtZXRyaWNzQ29sbGVjdG9yOiBNZXRyaWNzQ29sbGVjdG9yO1xuICBwcml2YXRlIG1vbml0b3JpbmdJbnRlcnZhbD86IGFueTtcbiAgcHJpdmF0ZSBldmVudExpc3RlbmVyczogTWFwPHN0cmluZywgRnVuY3Rpb25bXT4gPSBuZXcgTWFwKCk7XG5cbiAgY29uc3RydWN0b3IobWV0cmljc0NvbGxlY3Rvcj86IE1ldHJpY3NDb2xsZWN0b3IpIHtcbiAgICB0aGlzLm1ldHJpY3NDb2xsZWN0b3IgPSBtZXRyaWNzQ29sbGVjdG9yIHx8IG5ldyBEZWZhdWx0TWV0cmljc0NvbGxlY3RvcigpO1xuICB9XG5cbiAgc3RhcnRNb25pdG9yaW5nKHRyYW5zcG9ydDogRGV2UGlwZVRyYW5zcG9ydCwgaW50ZXJ2YWw6IG51bWJlciA9IDMwMDAwKTogdm9pZCB7XG4gICAgY29uc3Qgc2NoZWR1bGU6IEhlYWx0aENoZWNrU2NoZWR1bGUgPSB7XG4gICAgICB0cmFuc3BvcnQsXG4gICAgICBpbnRlcnZhbCxcbiAgICAgIGxhc3RDaGVjazogMCxcbiAgICAgIGNvbnNlY3V0aXZlRmFpbHVyZXM6IDBcbiAgICB9O1xuXG4gICAgdGhpcy5zY2hlZHVsZXMuc2V0KHRyYW5zcG9ydC5pZCwgc2NoZWR1bGUpO1xuXG4gICAgLy8gU2V0IHVwIHRyYW5zcG9ydCBldmVudCBsaXN0ZW5lcnNcbiAgICB0cmFuc3BvcnQub24oVHJhbnNwb3J0RXZlbnQuSEVBTFRIX0NIRUNLLCAocmVzdWx0OiBIZWFsdGhDaGVja1Jlc3VsdCkgPT4ge1xuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIHRoaXMubWV0cmljc0NvbGxlY3Rvci5yZWNvcmRMYXRlbmN5KHRyYW5zcG9ydC50eXBlLCByZXN1bHQubGF0ZW5jeSk7XG4gICAgICAgIHRoaXMubWV0cmljc0NvbGxlY3Rvci5yZWNvcmRTdWNjZXNzKHRyYW5zcG9ydC50eXBlKTtcbiAgICAgICAgc2NoZWR1bGUuY29uc2VjdXRpdmVGYWlsdXJlcyA9IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm1ldHJpY3NDb2xsZWN0b3IucmVjb3JkRmFpbHVyZSh0cmFuc3BvcnQudHlwZSwgbmV3IEVycm9yKHJlc3VsdC5lcnJvciB8fCAnSGVhbHRoIGNoZWNrIGZhaWxlZCcpKTtcbiAgICAgICAgc2NoZWR1bGUuY29uc2VjdXRpdmVGYWlsdXJlcysrO1xuICAgICAgfVxuICAgICAgXG4gICAgICB0aGlzLmVtaXQoJ2hlYWx0aC11cGRhdGVkJywgdGhpcy5hc3Nlc3NUcmFuc3BvcnRIZWFsdGgodHJhbnNwb3J0KSk7XG4gICAgfSk7XG5cbiAgICAvLyBTdGFydCBwZXJpb2RpYyBtb25pdG9yaW5nIGlmIG5vdCBhbHJlYWR5IHJ1bm5pbmdcbiAgICBpZiAoIXRoaXMubW9uaXRvcmluZ0ludGVydmFsKSB7XG4gICAgICB0aGlzLnN0YXJ0UGVyaW9kaWNDaGVja3MoKTtcbiAgICB9XG4gIH1cblxuICBzdG9wTW9uaXRvcmluZyh0cmFuc3BvcnQ6IERldlBpcGVUcmFuc3BvcnQpOiB2b2lkIHtcbiAgICB0aGlzLnNjaGVkdWxlcy5kZWxldGUodHJhbnNwb3J0LmlkKTtcbiAgICBcbiAgICAvLyBTdG9wIHBlcmlvZGljIG1vbml0b3JpbmcgaWYgbm8gdHJhbnNwb3J0cyBhcmUgYmVpbmcgbW9uaXRvcmVkXG4gICAgaWYgKHRoaXMuc2NoZWR1bGVzLnNpemUgPT09IDAgJiYgdGhpcy5tb25pdG9yaW5nSW50ZXJ2YWwpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5tb25pdG9yaW5nSW50ZXJ2YWwpO1xuICAgICAgdGhpcy5tb25pdG9yaW5nSW50ZXJ2YWwgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgYXNzZXNzVHJhbnNwb3J0SGVhbHRoKHRyYW5zcG9ydDogRGV2UGlwZVRyYW5zcG9ydCk6IEhlYWx0aEFzc2Vzc21lbnQge1xuICAgIGNvbnN0IG1ldHJpY3MgPSB0aGlzLm1ldHJpY3NDb2xsZWN0b3IuZ2V0TWV0cmljcyh0cmFuc3BvcnQudHlwZSk7XG4gICAgY29uc3QgaGVhbHRoU3RhdHVzID0gdHJhbnNwb3J0LmdldEhlYWx0aFN0YXR1cygpO1xuICAgIGNvbnN0IGNhcGFiaWxpdGllcyA9IHRyYW5zcG9ydC5nZXRDYXBhYmlsaXRpZXMoKTtcbiAgICBcbiAgICAvLyBDYWxjdWxhdGUgaW5kaXZpZHVhbCBtZXRyaWMgc2NvcmVzICgwLTEpXG4gICAgY29uc3QgYXZhaWxhYmlsaXR5ID0gdGhpcy5jYWxjdWxhdGVBdmFpbGFiaWxpdHlTY29yZSh0cmFuc3BvcnQpO1xuICAgIGNvbnN0IGxhdGVuY3kgPSB0aGlzLmNhbGN1bGF0ZUxhdGVuY3lTY29yZShoZWFsdGhTdGF0dXMubGF0ZW5jeSk7XG4gICAgY29uc3QgcmVsaWFiaWxpdHkgPSB0aGlzLmNhbGN1bGF0ZVJlbGlhYmlsaXR5U2NvcmUobWV0cmljcyk7XG4gICAgY29uc3QgZXJyb3JSYXRlID0gdGhpcy5jYWxjdWxhdGVFcnJvclJhdGVTY29yZShtZXRyaWNzKTtcbiAgICBcbiAgICAvLyBXZWlnaHRlZCBvdmVyYWxsIHNjb3JlXG4gICAgY29uc3Qgc2NvcmUgPSAoXG4gICAgICBhdmFpbGFiaWxpdHkgKiAwLjMgK1xuICAgICAgbGF0ZW5jeSAqIDAuMjUgK1xuICAgICAgcmVsaWFiaWxpdHkgKiAwLjMgK1xuICAgICAgZXJyb3JSYXRlICogMC4xNVxuICAgICk7XG4gICAgXG4gICAgLy8gRGV0ZXJtaW5lIHN0YXR1cyBiYXNlZCBvbiBzY29yZVxuICAgIGxldCBzdGF0dXM6IEhlYWx0aEFzc2Vzc21lbnRbJ3N0YXR1cyddO1xuICAgIGlmIChzY29yZSA+PSAwLjkpIHN0YXR1cyA9ICdleGNlbGxlbnQnO1xuICAgIGVsc2UgaWYgKHNjb3JlID49IDAuNykgc3RhdHVzID0gJ2dvb2QnO1xuICAgIGVsc2UgaWYgKHNjb3JlID49IDAuNSkgc3RhdHVzID0gJ2ZhaXInO1xuICAgIGVsc2UgaWYgKHNjb3JlID49IDAuMykgc3RhdHVzID0gJ3Bvb3InO1xuICAgIGVsc2Ugc3RhdHVzID0gJ2ZhaWxpbmcnO1xuICAgIFxuICAgIC8vIERldGVybWluZSByZWNvbW1lbmRhdGlvblxuICAgIGxldCByZWNvbW1lbmRhdGlvbjogSGVhbHRoQXNzZXNzbWVudFsncmVjb21tZW5kYXRpb24nXTtcbiAgICBpZiAoc2NvcmUgPj0gMC43KSByZWNvbW1lbmRhdGlvbiA9ICd1c2UnO1xuICAgIGVsc2UgaWYgKHNjb3JlID49IDAuNCkgcmVjb21tZW5kYXRpb24gPSAnbW9uaXRvcic7XG4gICAgZWxzZSByZWNvbW1lbmRhdGlvbiA9ICdhdm9pZCc7XG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIHRyYW5zcG9ydDogdHJhbnNwb3J0LnR5cGUsXG4gICAgICBzY29yZSxcbiAgICAgIHN0YXR1cyxcbiAgICAgIG1ldHJpY3M6IHtcbiAgICAgICAgYXZhaWxhYmlsaXR5LFxuICAgICAgICBsYXRlbmN5OiBsYXRlbmN5LFxuICAgICAgICByZWxpYWJpbGl0eSxcbiAgICAgICAgZXJyb3JSYXRlOiAxIC0gZXJyb3JSYXRlIC8vIEludmVydCBmb3IgZGlzcGxheSAoaGlnaGVyIGlzIGJldHRlcilcbiAgICAgIH0sXG4gICAgICByZWNvbW1lbmRhdGlvblxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIGNhbGN1bGF0ZUF2YWlsYWJpbGl0eVNjb3JlKHRyYW5zcG9ydDogRGV2UGlwZVRyYW5zcG9ydCk6IG51bWJlciB7XG4gICAgaWYgKCF0cmFuc3BvcnQuaXNBdmFpbGFibGUoKSkgcmV0dXJuIDA7XG4gICAgaWYgKCF0cmFuc3BvcnQuaXNDb25uZWN0ZWQoKSkgcmV0dXJuIDAuMztcbiAgICBcbiAgICBjb25zdCBzY2hlZHVsZSA9IHRoaXMuc2NoZWR1bGVzLmdldCh0cmFuc3BvcnQuaWQpO1xuICAgIGlmICghc2NoZWR1bGUpIHJldHVybiAwLjg7IC8vIERlZmF1bHQgaWYgbm8gbW9uaXRvcmluZyBkYXRhXG4gICAgXG4gICAgLy8gUGVuYWxpemUgY29uc2VjdXRpdmUgZmFpbHVyZXNcbiAgICBjb25zdCBmYWlsdXJlUGVuYWx0eSA9IE1hdGgubWluKHNjaGVkdWxlLmNvbnNlY3V0aXZlRmFpbHVyZXMgKiAwLjEsIDAuNSk7XG4gICAgcmV0dXJuIE1hdGgubWF4KDEuMCAtIGZhaWx1cmVQZW5hbHR5LCAwKTtcbiAgfVxuXG4gIHByaXZhdGUgY2FsY3VsYXRlTGF0ZW5jeVNjb3JlKGxhdGVuY3k6IG51bWJlcik6IG51bWJlciB7XG4gICAgLy8gT3B0aW1hbCBsYXRlbmN5IHRhcmdldHMgYnkgdHJhbnNwb3J0IHR5cGVcbiAgICBjb25zdCBleGNlbGxlbnQgPSA1MDsgICAvLyA8NTBtc1xuICAgIGNvbnN0IGdvb2QgPSAyMDA7ICAgICAgIC8vIDwyMDBtc1xuICAgIGNvbnN0IGFjY2VwdGFibGUgPSAxMDAwOyAvLyA8MXNcbiAgICBcbiAgICBpZiAobGF0ZW5jeSA8PSBleGNlbGxlbnQpIHJldHVybiAxLjA7XG4gICAgaWYgKGxhdGVuY3kgPD0gZ29vZCkgcmV0dXJuIDAuODtcbiAgICBpZiAobGF0ZW5jeSA8PSBhY2NlcHRhYmxlKSByZXR1cm4gMC42O1xuICAgIHJldHVybiBNYXRoLm1heCgwLjIsIDEuMCAtIChsYXRlbmN5IC8gNTAwMCkpOyAvLyBEZWdyYWRlIGZ1cnRoZXIgZm9yIHZlcnkgaGlnaCBsYXRlbmN5XG4gIH1cblxuICBwcml2YXRlIGNhbGN1bGF0ZVJlbGlhYmlsaXR5U2NvcmUobWV0cmljczogVHJhbnNwb3J0TWV0cmljcyk6IG51bWJlciB7XG4gICAgaWYgKG1ldHJpY3MudG90YWxSZXF1ZXN0cyA9PT0gMCkgcmV0dXJuIDAuNTsgLy8gVW5rbm93blxuICAgIFxuICAgIGNvbnN0IHN1Y2Nlc3NSYXRlID0gbWV0cmljcy5zdWNjZXNzZnVsUmVxdWVzdHMgLyBtZXRyaWNzLnRvdGFsUmVxdWVzdHM7XG4gICAgcmV0dXJuIHN1Y2Nlc3NSYXRlO1xuICB9XG5cbiAgcHJpdmF0ZSBjYWxjdWxhdGVFcnJvclJhdGVTY29yZShtZXRyaWNzOiBUcmFuc3BvcnRNZXRyaWNzKTogbnVtYmVyIHtcbiAgICBpZiAobWV0cmljcy50b3RhbFJlcXVlc3RzID09PSAwKSByZXR1cm4gMS4wOyAvLyBObyBlcnJvcnMgeWV0XG4gICAgXG4gICAgY29uc3QgZXJyb3JSYXRlID0gbWV0cmljcy5mYWlsZWRSZXF1ZXN0cyAvIG1ldHJpY3MudG90YWxSZXF1ZXN0cztcbiAgICByZXR1cm4gTWF0aC5tYXgoMCwgMS4wIC0gZXJyb3JSYXRlKTtcbiAgfVxuXG4gIHByaXZhdGUgc3RhcnRQZXJpb2RpY0NoZWNrcygpOiB2b2lkIHtcbiAgICB0aGlzLm1vbml0b3JpbmdJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgICBcbiAgICAgIGNvbnN0IHNjaGVkdWxlcyA9IEFycmF5LmZyb20odGhpcy5zY2hlZHVsZXMudmFsdWVzKCkpO1xuICAgICAgZm9yIChjb25zdCBzY2hlZHVsZSBvZiBzY2hlZHVsZXMpIHtcbiAgICAgICAgaWYgKG5vdyAtIHNjaGVkdWxlLmxhc3RDaGVjayA+PSBzY2hlZHVsZS5pbnRlcnZhbCkge1xuICAgICAgICAgIHNjaGVkdWxlLmxhc3RDaGVjayA9IG5vdztcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBQZXJmb3JtIGhlYWx0aCBjaGVja1xuICAgICAgICAgIHNjaGVkdWxlLnRyYW5zcG9ydC5wZXJmb3JtSGVhbHRoQ2hlY2soKS5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgICAvLyBFcnJvciBpcyBhbHJlYWR5IGhhbmRsZWQgYnkgdGhlIHRyYW5zcG9ydCdzIGhlYWx0aCBjaGVjayBldmVudFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgNTAwMCk7IC8vIENoZWNrIGV2ZXJ5IDUgc2Vjb25kc1xuICB9XG5cbiAgLy8gRXZlbnQgc3lzdGVtXG4gIG9uKGV2ZW50OiBzdHJpbmcsIGxpc3RlbmVyOiBGdW5jdGlvbik6IHZvaWQge1xuICAgIGlmICghdGhpcy5ldmVudExpc3RlbmVycy5oYXMoZXZlbnQpKSB7XG4gICAgICB0aGlzLmV2ZW50TGlzdGVuZXJzLnNldChldmVudCwgW10pO1xuICAgIH1cbiAgICB0aGlzLmV2ZW50TGlzdGVuZXJzLmdldChldmVudCkhLnB1c2gobGlzdGVuZXIpO1xuICB9XG5cbiAgb2ZmKGV2ZW50OiBzdHJpbmcsIGxpc3RlbmVyOiBGdW5jdGlvbik6IHZvaWQge1xuICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuZXZlbnRMaXN0ZW5lcnMuZ2V0KGV2ZW50KTtcbiAgICBpZiAobGlzdGVuZXJzKSB7XG4gICAgICBjb25zdCBpbmRleCA9IGxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcbiAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZW1pdChldmVudDogc3RyaW5nLCBkYXRhOiBhbnkpOiB2b2lkIHtcbiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLmV2ZW50TGlzdGVuZXJzLmdldChldmVudCk7XG4gICAgaWYgKGxpc3RlbmVycykge1xuICAgICAgbGlzdGVuZXJzLmZvckVhY2gobGlzdGVuZXIgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGxpc3RlbmVyKGRhdGEpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluIGhlYWx0aCBtb25pdG9yIGV2ZW50IGxpc3RlbmVyIGZvciAke2V2ZW50fTpgLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGdldE1ldHJpY3NDb2xsZWN0b3IoKTogTWV0cmljc0NvbGxlY3RvciB7XG4gICAgcmV0dXJuIHRoaXMubWV0cmljc0NvbGxlY3RvcjtcbiAgfVxufVxuIiwiLyoqXG4gKiBUcmFuc3BvcnQgTWFuYWdlciAtIEludGVsbGlnZW50IHRyYW5zcG9ydCBzZWxlY3Rpb24gYW5kIGZhaWxvdmVyIG1hbmFnZW1lbnRcbiAqL1xuXG5pbXBvcnQgeyBcbiAgRGV2UGlwZVRyYW5zcG9ydCxcbiAgVHJhbnNwb3J0VHlwZSxcbiAgVHJhbnNwb3J0Q29uZmlnLFxuICBEZXZQaXBlTWVzc2FnZSxcbiAgRGV2UGlwZVJlc3BvbnNlLFxuICBUcmFuc3BvcnRFdmVudFxufSBmcm9tICcuL3RyYW5zcG9ydHMvRGV2UGlwZVRyYW5zcG9ydCc7XG5pbXBvcnQgeyBIVFRQVHJhbnNwb3J0IH0gZnJvbSAnLi90cmFuc3BvcnRzL0hUVFBUcmFuc3BvcnQnO1xuaW1wb3J0IHsgV2ViU29ja2V0VHJhbnNwb3J0IH0gZnJvbSAnLi90cmFuc3BvcnRzL1dlYlNvY2tldFRyYW5zcG9ydCc7XG5pbXBvcnQgeyBGaWxlU3lzdGVtVHJhbnNwb3J0IH0gZnJvbSAnLi90cmFuc3BvcnRzL0ZpbGVTeXN0ZW1UcmFuc3BvcnQnO1xuaW1wb3J0IHsgVHJhbnNwb3J0SGVhbHRoTW9uaXRvciwgSGVhbHRoQXNzZXNzbWVudCB9IGZyb20gJy4vbW9uaXRvcmluZy9UcmFuc3BvcnRIZWFsdGhNb25pdG9yJztcbmltcG9ydCB7IEVudmlyb25tZW50RGV0ZWN0b3IgfSBmcm9tICcuLi91dGlscy9FbnZpcm9ubWVudERldGVjdG9yJztcblxuZXhwb3J0IGludGVyZmFjZSBUcmFuc3BvcnRTZWxlY3Rpb25Dcml0ZXJpYSB7XG4gIGxhdGVuY3lXZWlnaHQ6IG51bWJlcjsgICAgICAvLyAwLTFcbiAgcmVsaWFiaWxpdHlXZWlnaHQ6IG51bWJlcjsgIC8vIDAtMVxuICBjYXBhYmlsaXR5V2VpZ2h0OiBudW1iZXI7ICAgLy8gMC0xXG4gIGNvc3RXZWlnaHQ6IG51bWJlcjsgICAgICAgICAvLyAwLTFcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnIHtcbiAgc2VsZWN0aW9uQ3JpdGVyaWE6IFRyYW5zcG9ydFNlbGVjdGlvbkNyaXRlcmlhO1xuICBmYWxsYmFja0NoYWluOiBUcmFuc3BvcnRUeXBlW107XG4gIHRyYW5zcG9ydENvbmZpZ3M6IHtcbiAgICBodHRwOiBUcmFuc3BvcnRDb25maWc7XG4gICAgd2Vic29ja2V0PzogVHJhbnNwb3J0Q29uZmlnO1xuICAgIGZpbGVzeXN0ZW0/OiBUcmFuc3BvcnRDb25maWc7XG4gIH07XG4gIGhlYWx0aENoZWNrSW50ZXJ2YWw/OiBudW1iZXI7XG4gIGF1dG9GYWlsb3Zlcj86IGJvb2xlYW47XG4gIGRlYnVnPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTZWxlY3Rpb25Db250ZXh0IHtcbiAgbWVzc2FnZVR5cGU/OiBzdHJpbmc7XG4gIHByaW9yaXR5PzogJ2xvdycgfCAnbm9ybWFsJyB8ICdoaWdoJyB8ICdjcml0aWNhbCc7XG4gIHJlcXVpcmVzUmVhbHRpbWU/OiBib29sZWFuO1xuICBtYXhMYXRlbmN5PzogbnVtYmVyO1xuICByZXRyeUF0dGVtcHQ/OiBudW1iZXI7XG59XG5cbi8qKlxuICogVHJhbnNwb3J0IHNlbGVjdG9yIHRoYXQgY2hvb3NlcyB0aGUgYmVzdCB0cmFuc3BvcnQgYmFzZWQgb24gY3JpdGVyaWFcbiAqL1xuZXhwb3J0IGNsYXNzIFRyYW5zcG9ydFNlbGVjdG9yIHtcbiAgcHJpdmF0ZSBjcml0ZXJpYTogVHJhbnNwb3J0U2VsZWN0aW9uQ3JpdGVyaWE7XG5cbiAgY29uc3RydWN0b3IoY3JpdGVyaWE6IFRyYW5zcG9ydFNlbGVjdGlvbkNyaXRlcmlhKSB7XG4gICAgdGhpcy5jcml0ZXJpYSA9IGNyaXRlcmlhO1xuICB9XG5cbiAgYXN5bmMgY2FsY3VsYXRlU2NvcmUodHJhbnNwb3J0OiBEZXZQaXBlVHJhbnNwb3J0LCBjb250ZXh0PzogU2VsZWN0aW9uQ29udGV4dCk6IFByb21pc2U8bnVtYmVyPiB7XG4gICAgY29uc3QgY2FwYWJpbGl0aWVzID0gdHJhbnNwb3J0LmdldENhcGFiaWxpdGllcygpO1xuICAgIGNvbnN0IGhlYWx0aFN0YXR1cyA9IHRyYW5zcG9ydC5nZXRIZWFsdGhTdGF0dXMoKTtcbiAgICBcbiAgICAvLyBDYXBhYmlsaXR5IHNjb3JlICgwLTEpXG4gICAgbGV0IGNhcGFiaWxpdHlTY29yZSA9IDAuNTsgLy8gQmFzZSBzY29yZVxuICAgIFxuICAgIGlmIChjb250ZXh0Py5yZXF1aXJlc1JlYWx0aW1lICYmIGNhcGFiaWxpdGllcy5zdXBwb3J0c1JlYWx0aW1lKSB7XG4gICAgICBjYXBhYmlsaXR5U2NvcmUgKz0gMC4zO1xuICAgIH1cbiAgICBcbiAgICBpZiAoY29udGV4dD8ubWF4TGF0ZW5jeSAmJiBjYXBhYmlsaXRpZXMuYXZlcmFnZUxhdGVuY3kgPD0gY29udGV4dC5tYXhMYXRlbmN5KSB7XG4gICAgICBjYXBhYmlsaXR5U2NvcmUgKz0gMC4yO1xuICAgIH1cbiAgICBcbiAgICAvLyBOb3JtYWxpemUgY2FwYWJpbGl0eSBzY29yZVxuICAgIGNhcGFiaWxpdHlTY29yZSA9IE1hdGgubWluKGNhcGFiaWxpdHlTY29yZSwgMS4wKTtcbiAgICBcbiAgICAvLyBMYXRlbmN5IHNjb3JlICgwLTEsIGxvd2VyIGxhdGVuY3kgPSBoaWdoZXIgc2NvcmUpXG4gICAgY29uc3QgbGF0ZW5jeVNjb3JlID0gTWF0aC5tYXgoMCwgMS4wIC0gKGNhcGFiaWxpdGllcy5hdmVyYWdlTGF0ZW5jeSAvIDUwMDApKTtcbiAgICBcbiAgICAvLyBSZWxpYWJpbGl0eSBzY29yZSAoMC0xKVxuICAgIGNvbnN0IHJlbGlhYmlsaXR5U2NvcmUgPSBjYXBhYmlsaXRpZXMucmVsaWFiaWxpdHk7XG4gICAgXG4gICAgLy8gQ29zdCBzY29yZSAoc2ltcGxpZmllZCAtIGNvdWxkIGJlIGVuaGFuY2VkIHdpdGggYWN0dWFsIGNvc3QgZGF0YSlcbiAgICBsZXQgY29zdFNjb3JlID0gMS4wO1xuICAgIGlmICh0cmFuc3BvcnQudHlwZSA9PT0gVHJhbnNwb3J0VHlwZS5IVFRQKSBjb3N0U2NvcmUgPSAwLjg7XG4gICAgZWxzZSBpZiAodHJhbnNwb3J0LnR5cGUgPT09IFRyYW5zcG9ydFR5cGUuV0VCU09DS0VUKSBjb3N0U2NvcmUgPSAwLjk7XG4gICAgZWxzZSBpZiAodHJhbnNwb3J0LnR5cGUgPT09IFRyYW5zcG9ydFR5cGUuRklMRVNZU1RFTSkgY29zdFNjb3JlID0gMS4wO1xuICAgIFxuICAgIC8vIEF2YWlsYWJpbGl0eSBwZW5hbHR5XG4gICAgbGV0IGF2YWlsYWJpbGl0eU11bHRpcGxpZXIgPSAxLjA7XG4gICAgaWYgKCF0cmFuc3BvcnQuaXNBdmFpbGFibGUoKSkgYXZhaWxhYmlsaXR5TXVsdGlwbGllciA9IDA7XG4gICAgZWxzZSBpZiAoIXRyYW5zcG9ydC5pc0Nvbm5lY3RlZCgpKSBhdmFpbGFiaWxpdHlNdWx0aXBsaWVyID0gMC4zO1xuICAgIGVsc2UgaWYgKGhlYWx0aFN0YXR1cy5zdGF0dXMgPT09ICdmYWlsaW5nJykgYXZhaWxhYmlsaXR5TXVsdGlwbGllciA9IDAuMTtcbiAgICBlbHNlIGlmIChoZWFsdGhTdGF0dXMuc3RhdHVzID09PSAnZGVncmFkZWQnKSBhdmFpbGFiaWxpdHlNdWx0aXBsaWVyID0gMC41O1xuICAgIFxuICAgIC8vIENhbGN1bGF0ZSB3ZWlnaHRlZCBzY29yZVxuICAgIGNvbnN0IHdlaWdodGVkU2NvcmUgPSAoXG4gICAgICBsYXRlbmN5U2NvcmUgKiB0aGlzLmNyaXRlcmlhLmxhdGVuY3lXZWlnaHQgK1xuICAgICAgcmVsaWFiaWxpdHlTY29yZSAqIHRoaXMuY3JpdGVyaWEucmVsaWFiaWxpdHlXZWlnaHQgK1xuICAgICAgY2FwYWJpbGl0eVNjb3JlICogdGhpcy5jcml0ZXJpYS5jYXBhYmlsaXR5V2VpZ2h0ICtcbiAgICAgIGNvc3RTY29yZSAqIHRoaXMuY3JpdGVyaWEuY29zdFdlaWdodFxuICAgICkgKiBhdmFpbGFiaWxpdHlNdWx0aXBsaWVyO1xuICAgIFxuICAgIHJldHVybiBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCB3ZWlnaHRlZFNjb3JlKSk7XG4gIH1cblxuICBzZWxlY3RCZXN0KFxuICAgIGF2YWlsYWJsZTogRGV2UGlwZVRyYW5zcG9ydFtdLCBcbiAgICBjb250ZXh0PzogU2VsZWN0aW9uQ29udGV4dFxuICApOiBQcm9taXNlPERldlBpcGVUcmFuc3BvcnQgfCBudWxsPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlKSA9PiB7XG4gICAgICBpZiAoYXZhaWxhYmxlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXNvbHZlKG51bGwpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENhbGN1bGF0ZSBzY29yZXMgZm9yIGFsbCBhdmFpbGFibGUgdHJhbnNwb3J0c1xuICAgICAgY29uc3Qgc2NvcmVkVHJhbnNwb3J0cyA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICBhdmFpbGFibGUubWFwKGFzeW5jICh0cmFuc3BvcnQpID0+ICh7XG4gICAgICAgICAgdHJhbnNwb3J0LFxuICAgICAgICAgIHNjb3JlOiBhd2FpdCB0aGlzLmNhbGN1bGF0ZVNjb3JlKHRyYW5zcG9ydCwgY29udGV4dClcbiAgICAgICAgfSkpXG4gICAgICApO1xuICAgICAgXG4gICAgICAvLyBTb3J0IGJ5IHNjb3JlIChoaWdoZXN0IGZpcnN0KVxuICAgICAgc2NvcmVkVHJhbnNwb3J0cy5zb3J0KChhLCBiKSA9PiBiLnNjb3JlIC0gYS5zY29yZSk7XG4gICAgICBcbiAgICAgIC8vIFJldHVybiB0aGUgYmVzdCB0cmFuc3BvcnRcbiAgICAgIHJlc29sdmUoc2NvcmVkVHJhbnNwb3J0c1swXS50cmFuc3BvcnQpO1xuICAgIH0pO1xuICB9XG59XG5cbi8qKlxuICogTWFpbiBUcmFuc3BvcnQgTWFuYWdlciBjbGFzc1xuICovXG5leHBvcnQgY2xhc3MgVHJhbnNwb3J0TWFuYWdlciB7XG4gIHByaXZhdGUgdHJhbnNwb3J0czogTWFwPFRyYW5zcG9ydFR5cGUsIERldlBpcGVUcmFuc3BvcnQ+ID0gbmV3IE1hcCgpO1xuICBwcml2YXRlIGFjdGl2ZVRyYW5zcG9ydD86IERldlBpcGVUcmFuc3BvcnQ7XG4gIHByaXZhdGUgZmFsbGJhY2tDaGFpbjogVHJhbnNwb3J0VHlwZVtdO1xuICBwcml2YXRlIGhlYWx0aE1vbml0b3I6IFRyYW5zcG9ydEhlYWx0aE1vbml0b3I7XG4gIHByaXZhdGUgc2VsZWN0b3I6IFRyYW5zcG9ydFNlbGVjdG9yO1xuICBwcml2YXRlIGNvbmZpZzogVHJhbnNwb3J0TWFuYWdlckNvbmZpZztcbiAgcHJpdmF0ZSBldmVudExpc3RlbmVyczogTWFwPHN0cmluZywgRnVuY3Rpb25bXT4gPSBuZXcgTWFwKCk7XG4gIHByaXZhdGUgZmFpbG92ZXJJblByb2dyZXNzOiBib29sZWFuID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IoY29uZmlnOiBUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnKSB7XG4gICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgdGhpcy5mYWxsYmFja0NoYWluID0gY29uZmlnLmZhbGxiYWNrQ2hhaW4gfHwgW1xuICAgICAgVHJhbnNwb3J0VHlwZS5XRUJTT0NLRVQsXG4gICAgICBUcmFuc3BvcnRUeXBlLkhUVFAsXG4gICAgICBUcmFuc3BvcnRUeXBlLkZJTEVTWVNURU1cbiAgICBdO1xuICAgIFxuICAgIHRoaXMuaGVhbHRoTW9uaXRvciA9IG5ldyBUcmFuc3BvcnRIZWFsdGhNb25pdG9yKCk7XG4gICAgdGhpcy5zZWxlY3RvciA9IG5ldyBUcmFuc3BvcnRTZWxlY3Rvcihjb25maWcuc2VsZWN0aW9uQ3JpdGVyaWEpO1xuICAgIFxuICAgIHRoaXMuaW5pdGlhbGl6ZVRyYW5zcG9ydHMoKTtcbiAgICB0aGlzLnNldHVwSGVhbHRoTW9uaXRvcmluZygpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBpbml0aWFsaXplVHJhbnNwb3J0cygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBlbnZpcm9ubWVudCA9IEVudmlyb25tZW50RGV0ZWN0b3IuZGV0ZWN0KCk7XG4gICAgXG4gICAgLy8gQWx3YXlzIGluaXRpYWxpemUgSFRUUCB0cmFuc3BvcnQgKG1vc3QgY29tcGF0aWJsZSlcbiAgICBjb25zdCBodHRwVHJhbnNwb3J0ID0gbmV3IEhUVFBUcmFuc3BvcnQodGhpcy5jb25maWcudHJhbnNwb3J0Q29uZmlncy5odHRwKTtcbiAgICBhd2FpdCBodHRwVHJhbnNwb3J0LmluaXRpYWxpemUodGhpcy5jb25maWcudHJhbnNwb3J0Q29uZmlncy5odHRwKTtcbiAgICB0aGlzLnRyYW5zcG9ydHMuc2V0KFRyYW5zcG9ydFR5cGUuSFRUUCwgaHR0cFRyYW5zcG9ydCk7XG4gICAgXG4gICAgLy8gSW5pdGlhbGl6ZSBXZWJTb2NrZXQgdHJhbnNwb3J0IGlmIHN1cHBvcnRlZCBhbmQgY29uZmlndXJlZFxuICAgIGlmIChlbnZpcm9ubWVudC5oYXNXZWJTb2NrZXQgJiYgdGhpcy5jb25maWcudHJhbnNwb3J0Q29uZmlncy53ZWJzb2NrZXQpIHtcbiAgICAgIGNvbnN0IHdzVHJhbnNwb3J0ID0gbmV3IFdlYlNvY2tldFRyYW5zcG9ydCh0aGlzLmNvbmZpZy50cmFuc3BvcnRDb25maWdzLndlYnNvY2tldCk7XG4gICAgICBhd2FpdCB3c1RyYW5zcG9ydC5pbml0aWFsaXplKHRoaXMuY29uZmlnLnRyYW5zcG9ydENvbmZpZ3Mud2Vic29ja2V0KTtcbiAgICAgIHRoaXMudHJhbnNwb3J0cy5zZXQoVHJhbnNwb3J0VHlwZS5XRUJTT0NLRVQsIHdzVHJhbnNwb3J0KTtcbiAgICB9XG4gICAgXG4gICAgLy8gSW5pdGlhbGl6ZSBGaWxlU3lzdGVtIHRyYW5zcG9ydCBpZiBzdXBwb3J0ZWQgYW5kIGNvbmZpZ3VyZWRcbiAgICBpZiAoZW52aXJvbm1lbnQuaGFzRmlsZVN5c3RlbSAmJiB0aGlzLmNvbmZpZy50cmFuc3BvcnRDb25maWdzLmZpbGVzeXN0ZW0pIHtcbiAgICAgIGNvbnN0IGZzVHJhbnNwb3J0ID0gbmV3IEZpbGVTeXN0ZW1UcmFuc3BvcnQodGhpcy5jb25maWcudHJhbnNwb3J0Q29uZmlncy5maWxlc3lzdGVtKTtcbiAgICAgIGF3YWl0IGZzVHJhbnNwb3J0LmluaXRpYWxpemUodGhpcy5jb25maWcudHJhbnNwb3J0Q29uZmlncy5maWxlc3lzdGVtKTtcbiAgICAgIHRoaXMudHJhbnNwb3J0cy5zZXQoVHJhbnNwb3J0VHlwZS5GSUxFU1lTVEVNLCBmc1RyYW5zcG9ydCk7XG4gICAgfVxuICAgIFxuICAgIC8vIFNldHVwIGV2ZW50IGhhbmRsZXJzIGZvciBlYWNoIHRyYW5zcG9ydFxuICAgIGNvbnN0IHRyYW5zcG9ydHMgPSBBcnJheS5mcm9tKHRoaXMudHJhbnNwb3J0cy52YWx1ZXMoKSk7XG4gICAgZm9yIChjb25zdCB0cmFuc3BvcnQgb2YgdHJhbnNwb3J0cykge1xuICAgICAgdGhpcy5zZXR1cFRyYW5zcG9ydEV2ZW50SGFuZGxlcnModHJhbnNwb3J0KTtcbiAgICB9XG4gICAgXG4gICAgdGhpcy5kZWJ1ZyhgSW5pdGlhbGl6ZWQgJHt0aGlzLnRyYW5zcG9ydHMuc2l6ZX0gdHJhbnNwb3J0c2ApO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXR1cFRyYW5zcG9ydEV2ZW50SGFuZGxlcnModHJhbnNwb3J0OiBEZXZQaXBlVHJhbnNwb3J0KTogdm9pZCB7XG4gICAgdHJhbnNwb3J0Lm9uKFRyYW5zcG9ydEV2ZW50LkNPTk5FQ1RFRCwgKCkgPT4ge1xuICAgICAgdGhpcy5kZWJ1ZyhgVHJhbnNwb3J0ICR7dHJhbnNwb3J0LnR5cGV9IGNvbm5lY3RlZGApO1xuICAgICAgdGhpcy5lbWl0KCd0cmFuc3BvcnRfY29ubmVjdGVkJywgeyB0cmFuc3BvcnQ6IHRyYW5zcG9ydC50eXBlIH0pO1xuICAgIH0pO1xuICAgIFxuICAgIHRyYW5zcG9ydC5vbihUcmFuc3BvcnRFdmVudC5ESVNDT05ORUNURUQsICgpID0+IHtcbiAgICAgIHRoaXMuZGVidWcoYFRyYW5zcG9ydCAke3RyYW5zcG9ydC50eXBlfSBkaXNjb25uZWN0ZWRgKTtcbiAgICAgIHRoaXMuZW1pdCgndHJhbnNwb3J0X2Rpc2Nvbm5lY3RlZCcsIHsgdHJhbnNwb3J0OiB0cmFuc3BvcnQudHlwZSB9KTtcbiAgICAgIFxuICAgICAgLy8gVHJpZ2dlciBmYWlsb3ZlciBpZiB0aGlzIHdhcyB0aGUgYWN0aXZlIHRyYW5zcG9ydFxuICAgICAgaWYgKHRoaXMuYWN0aXZlVHJhbnNwb3J0ID09PSB0cmFuc3BvcnQgJiYgdGhpcy5jb25maWcuYXV0b0ZhaWxvdmVyICE9PSBmYWxzZSkge1xuICAgICAgICB0aGlzLmhhbmRsZVRyYW5zcG9ydEZhaWx1cmUodHJhbnNwb3J0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICB0cmFuc3BvcnQub24oVHJhbnNwb3J0RXZlbnQuRVJST1IsIChlcnJvcikgPT4ge1xuICAgICAgdGhpcy5kZWJ1ZyhgVHJhbnNwb3J0ICR7dHJhbnNwb3J0LnR5cGV9IGVycm9yOmAsIGVycm9yKTtcbiAgICAgIHRoaXMuZW1pdCgndHJhbnNwb3J0X2Vycm9yJywgeyB0cmFuc3BvcnQ6IHRyYW5zcG9ydC50eXBlLCBlcnJvciB9KTtcbiAgICB9KTtcbiAgICBcbiAgICB0cmFuc3BvcnQub24oVHJhbnNwb3J0RXZlbnQuTUVTU0FHRSwgKG1lc3NhZ2UpID0+IHtcbiAgICAgIHRoaXMuZW1pdCgnbWVzc2FnZScsIG1lc3NhZ2UpO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXR1cEhlYWx0aE1vbml0b3JpbmcoKTogdm9pZCB7XG4gICAgY29uc3QgdHJhbnNwb3J0cyA9IEFycmF5LmZyb20odGhpcy50cmFuc3BvcnRzLnZhbHVlcygpKTtcbiAgICBmb3IgKGNvbnN0IHRyYW5zcG9ydCBvZiB0cmFuc3BvcnRzKSB7XG4gICAgICB0aGlzLmhlYWx0aE1vbml0b3Iuc3RhcnRNb25pdG9yaW5nKFxuICAgICAgICB0cmFuc3BvcnQsIFxuICAgICAgICB0aGlzLmNvbmZpZy5oZWFsdGhDaGVja0ludGVydmFsIHx8IDMwMDAwXG4gICAgICApO1xuICAgIH1cbiAgICBcbiAgICB0aGlzLmhlYWx0aE1vbml0b3Iub24oJ2hlYWx0aC11cGRhdGVkJywgKGFzc2Vzc21lbnQ6IEhlYWx0aEFzc2Vzc21lbnQpID0+IHtcbiAgICAgIHRoaXMuZW1pdCgnaGVhbHRoX3VwZGF0ZWQnLCBhc3Nlc3NtZW50KTtcbiAgICAgIFxuICAgICAgLy8gQ29uc2lkZXIgdHJhbnNwb3J0IHN3aXRjaGluZyBpZiBjdXJyZW50IHRyYW5zcG9ydCBpcyBkZWdyYWRpbmdcbiAgICAgIGlmICh0aGlzLmFjdGl2ZVRyYW5zcG9ydD8udHlwZSA9PT0gYXNzZXNzbWVudC50cmFuc3BvcnQgJiYgXG4gICAgICAgICAgYXNzZXNzbWVudC5yZWNvbW1lbmRhdGlvbiA9PT0gJ2F2b2lkJyAmJlxuICAgICAgICAgICF0aGlzLmZhaWxvdmVySW5Qcm9ncmVzcykge1xuICAgICAgICB0aGlzLnNlbGVjdE9wdGltYWxUcmFuc3BvcnQoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIHNlbGVjdE9wdGltYWxUcmFuc3BvcnQoY29udGV4dD86IFNlbGVjdGlvbkNvbnRleHQpOiBQcm9taXNlPERldlBpcGVUcmFuc3BvcnQ+IHtcbiAgICBjb25zdCBhdmFpbGFibGVUcmFuc3BvcnRzID0gQXJyYXkuZnJvbSh0aGlzLnRyYW5zcG9ydHMudmFsdWVzKCkpXG4gICAgICAuZmlsdGVyKHRyYW5zcG9ydCA9PiB0cmFuc3BvcnQuaXNBdmFpbGFibGUoKSk7XG4gICAgXG4gICAgaWYgKGF2YWlsYWJsZVRyYW5zcG9ydHMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGF2YWlsYWJsZSB0cmFuc3BvcnRzJyk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHNlbGVjdGVkVHJhbnNwb3J0ID0gYXdhaXQgdGhpcy5zZWxlY3Rvci5zZWxlY3RCZXN0KGF2YWlsYWJsZVRyYW5zcG9ydHMsIGNvbnRleHQpO1xuICAgIGlmICghc2VsZWN0ZWRUcmFuc3BvcnQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gc3VpdGFibGUgdHJhbnNwb3J0IGZvdW5kJyk7XG4gICAgfVxuICAgIFxuICAgIGlmICh0aGlzLmFjdGl2ZVRyYW5zcG9ydCAhPT0gc2VsZWN0ZWRUcmFuc3BvcnQpIHtcbiAgICAgIGF3YWl0IHRoaXMuc3dpdGNoVHJhbnNwb3J0KHNlbGVjdGVkVHJhbnNwb3J0LCAnb3B0aW1pemF0aW9uJyk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBzZWxlY3RlZFRyYW5zcG9ydDtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgc3dpdGNoVHJhbnNwb3J0KFxuICAgIG5ld1RyYW5zcG9ydDogRGV2UGlwZVRyYW5zcG9ydCwgXG4gICAgcmVhc29uOiAnb3B0aW1pemF0aW9uJyB8ICdmYWlsb3ZlcicgfCAnbWFudWFsJ1xuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBvbGRUcmFuc3BvcnQgPSB0aGlzLmFjdGl2ZVRyYW5zcG9ydDtcbiAgICBcbiAgICB0cnkge1xuICAgICAgdGhpcy5kZWJ1ZyhgU3dpdGNoaW5nIHRyYW5zcG9ydCBmcm9tICR7b2xkVHJhbnNwb3J0Py50eXBlIHx8ICdub25lJ30gdG8gJHtuZXdUcmFuc3BvcnQudHlwZX0gKCR7cmVhc29ufSlgKTtcbiAgICAgIFxuICAgICAgLy8gQ29ubmVjdCBuZXcgdHJhbnNwb3J0IGlmIG5vdCBhbHJlYWR5IGNvbm5lY3RlZFxuICAgICAgaWYgKCFuZXdUcmFuc3BvcnQuaXNDb25uZWN0ZWQoKSkge1xuICAgICAgICBhd2FpdCBuZXdUcmFuc3BvcnQuY29ubmVjdCgpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBTd2l0Y2ggYWN0aXZlIHRyYW5zcG9ydFxuICAgICAgdGhpcy5hY3RpdmVUcmFuc3BvcnQgPSBuZXdUcmFuc3BvcnQ7XG4gICAgICBcbiAgICAgIC8vIERpc2Nvbm5lY3Qgb2xkIHRyYW5zcG9ydCBpZiBkaWZmZXJlbnQgKGJ1dCBkb24ndCBhd2FpdCB0byBhdm9pZCBkZWxheXMpXG4gICAgICBpZiAob2xkVHJhbnNwb3J0ICYmIG9sZFRyYW5zcG9ydCAhPT0gbmV3VHJhbnNwb3J0KSB7XG4gICAgICAgIG9sZFRyYW5zcG9ydC5kaXNjb25uZWN0KCkuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgIHRoaXMuZGVidWcoYEVycm9yIGRpc2Nvbm5lY3Rpbmcgb2xkIHRyYW5zcG9ydCAke29sZFRyYW5zcG9ydC50eXBlfTpgLCBlcnJvcik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgXG4gICAgICB0aGlzLmVtaXQoJ3RyYW5zcG9ydF9zd2l0Y2hlZCcsIHtcbiAgICAgICAgZnJvbTogb2xkVHJhbnNwb3J0Py50eXBlLFxuICAgICAgICB0bzogbmV3VHJhbnNwb3J0LnR5cGUsXG4gICAgICAgIHJlYXNvblxuICAgICAgfSk7XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gUm9sbGJhY2sgaWYgc3dpdGNoIGZhaWxlZFxuICAgICAgaWYgKG9sZFRyYW5zcG9ydCAmJiBvbGRUcmFuc3BvcnQuaXNDb25uZWN0ZWQoKSkge1xuICAgICAgICB0aGlzLmFjdGl2ZVRyYW5zcG9ydCA9IG9sZFRyYW5zcG9ydDtcbiAgICAgIH1cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGhhbmRsZVRyYW5zcG9ydEZhaWx1cmUoZmFpbGVkVHJhbnNwb3J0OiBEZXZQaXBlVHJhbnNwb3J0KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKHRoaXMuZmFpbG92ZXJJblByb2dyZXNzKSByZXR1cm47XG4gICAgdGhpcy5mYWlsb3ZlckluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICB0aGlzLmRlYnVnKGBIYW5kbGluZyBmYWlsdXJlIG9mIHRyYW5zcG9ydCAke2ZhaWxlZFRyYW5zcG9ydC50eXBlfWApO1xuICAgICAgdGhpcy5lbWl0KCd0cmFuc3BvcnRfZmFpbGVkJywge1xuICAgICAgICB0cmFuc3BvcnQ6IGZhaWxlZFRyYW5zcG9ydC50eXBlLFxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KClcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBUcnkgZmFsbGJhY2sgY2hhaW5cbiAgICAgIGZvciAoY29uc3QgdHJhbnNwb3J0VHlwZSBvZiB0aGlzLmZhbGxiYWNrQ2hhaW4pIHtcbiAgICAgICAgaWYgKHRyYW5zcG9ydFR5cGUgPT09IGZhaWxlZFRyYW5zcG9ydC50eXBlKSBjb250aW51ZTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGZhbGxiYWNrVHJhbnNwb3J0ID0gdGhpcy50cmFuc3BvcnRzLmdldCh0cmFuc3BvcnRUeXBlKTtcbiAgICAgICAgaWYgKGZhbGxiYWNrVHJhbnNwb3J0ICYmIGZhbGxiYWNrVHJhbnNwb3J0LmlzQXZhaWxhYmxlKCkpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5zd2l0Y2hUcmFuc3BvcnQoZmFsbGJhY2tUcmFuc3BvcnQsICdmYWlsb3ZlcicpO1xuICAgICAgICAgICAgdGhpcy5kZWJ1ZyhgU3VjY2Vzc2Z1bGx5IGZhaWxlZCBvdmVyIHRvICR7dHJhbnNwb3J0VHlwZX1gKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5kZWJ1ZyhgRmFpbG92ZXIgdG8gJHt0cmFuc3BvcnRUeXBlfSBmYWlsZWQ6YCwgZXJyb3IpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIHRocm93IG5ldyBFcnJvcignQWxsIHRyYW5zcG9ydHMgZmFpbGVkJyk7XG4gICAgICBcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdGhpcy5mYWlsb3ZlckluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBzZW5kKG1lc3NhZ2U6IERldlBpcGVNZXNzYWdlLCBjb250ZXh0PzogU2VsZWN0aW9uQ29udGV4dCk6IFByb21pc2U8RGV2UGlwZVJlc3BvbnNlPiB7XG4gICAgLy8gRW5zdXJlIHdlIGhhdmUgYW4gYWN0aXZlIHRyYW5zcG9ydFxuICAgIGlmICghdGhpcy5hY3RpdmVUcmFuc3BvcnQpIHtcbiAgICAgIGF3YWl0IHRoaXMuc2VsZWN0T3B0aW1hbFRyYW5zcG9ydChjb250ZXh0KTtcbiAgICB9XG4gICAgXG4gICAgaWYgKCF0aGlzLmFjdGl2ZVRyYW5zcG9ydCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBhY3RpdmUgdHJhbnNwb3J0IGF2YWlsYWJsZScpO1xuICAgIH1cbiAgICBcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuYWN0aXZlVHJhbnNwb3J0LnNlbmQobWVzc2FnZSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIEhhbmRsZSB0cmFuc3BvcnQgZmFpbHVyZSBhbmQgcmV0cnlcbiAgICAgIHRoaXMuZGVidWcoYFNlbmQgZmFpbGVkIG9uICR7dGhpcy5hY3RpdmVUcmFuc3BvcnQudHlwZX0sIGF0dGVtcHRpbmcgZmFpbG92ZXJgKTtcbiAgICAgIGF3YWl0IHRoaXMuaGFuZGxlVHJhbnNwb3J0RmFpbHVyZSh0aGlzLmFjdGl2ZVRyYW5zcG9ydCk7XG4gICAgICBcbiAgICAgIGlmICh0aGlzLmFjdGl2ZVRyYW5zcG9ydCkge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5hY3RpdmVUcmFuc3BvcnQuc2VuZChtZXNzYWdlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGNvbm5lY3QoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgYXdhaXQgdGhpcy5zZWxlY3RPcHRpbWFsVHJhbnNwb3J0KCk7XG4gIH1cblxuICBhc3luYyBkaXNjb25uZWN0KCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGRpc2Nvbm5lY3RQcm9taXNlcyA9IEFycmF5LmZyb20odGhpcy50cmFuc3BvcnRzLnZhbHVlcygpKVxuICAgICAgLm1hcCh0cmFuc3BvcnQgPT4gdHJhbnNwb3J0LmRpc2Nvbm5lY3QoKS5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgIHRoaXMuZGVidWcoYEVycm9yIGRpc2Nvbm5lY3RpbmcgdHJhbnNwb3J0ICR7dHJhbnNwb3J0LnR5cGV9OmAsIGVycm9yKTtcbiAgICAgIH0pKTtcbiAgICBcbiAgICBhd2FpdCBQcm9taXNlLmFsbChkaXNjb25uZWN0UHJvbWlzZXMpO1xuICAgIHRoaXMuYWN0aXZlVHJhbnNwb3J0ID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgZ2V0QWN0aXZlVHJhbnNwb3J0KCk6IERldlBpcGVUcmFuc3BvcnQgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLmFjdGl2ZVRyYW5zcG9ydDtcbiAgfVxuXG4gIGdldEF2YWlsYWJsZVRyYW5zcG9ydHMoKTogRGV2UGlwZVRyYW5zcG9ydFtdIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnRyYW5zcG9ydHMudmFsdWVzKCkpXG4gICAgICAuZmlsdGVyKHRyYW5zcG9ydCA9PiB0cmFuc3BvcnQuaXNBdmFpbGFibGUoKSk7XG4gIH1cblxuICBnZXRUcmFuc3BvcnRIZWFsdGgoKTogTWFwPFRyYW5zcG9ydFR5cGUsIEhlYWx0aEFzc2Vzc21lbnQ+IHtcbiAgICBjb25zdCBhc3Nlc3NtZW50cyA9IG5ldyBNYXA8VHJhbnNwb3J0VHlwZSwgSGVhbHRoQXNzZXNzbWVudD4oKTtcbiAgICBcbiAgICBjb25zdCB0cmFuc3BvcnRzID0gQXJyYXkuZnJvbSh0aGlzLnRyYW5zcG9ydHMudmFsdWVzKCkpO1xuICAgIGZvciAoY29uc3QgdHJhbnNwb3J0IG9mIHRyYW5zcG9ydHMpIHtcbiAgICAgIGFzc2Vzc21lbnRzLnNldCh0cmFuc3BvcnQudHlwZSwgdGhpcy5oZWFsdGhNb25pdG9yLmFzc2Vzc1RyYW5zcG9ydEhlYWx0aCh0cmFuc3BvcnQpKTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGFzc2Vzc21lbnRzO1xuICB9XG5cbiAgLy8gRXZlbnQgc3lzdGVtXG4gIG9uKGV2ZW50OiBzdHJpbmcsIGxpc3RlbmVyOiBGdW5jdGlvbik6IHZvaWQge1xuICAgIGlmICghdGhpcy5ldmVudExpc3RlbmVycy5oYXMoZXZlbnQpKSB7XG4gICAgICB0aGlzLmV2ZW50TGlzdGVuZXJzLnNldChldmVudCwgW10pO1xuICAgIH1cbiAgICB0aGlzLmV2ZW50TGlzdGVuZXJzLmdldChldmVudCkhLnB1c2gobGlzdGVuZXIpO1xuICB9XG5cbiAgb2ZmKGV2ZW50OiBzdHJpbmcsIGxpc3RlbmVyOiBGdW5jdGlvbik6IHZvaWQge1xuICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuZXZlbnRMaXN0ZW5lcnMuZ2V0KGV2ZW50KTtcbiAgICBpZiAobGlzdGVuZXJzKSB7XG4gICAgICBjb25zdCBpbmRleCA9IGxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcbiAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZW1pdChldmVudDogc3RyaW5nLCBkYXRhOiBhbnkpOiB2b2lkIHtcbiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLmV2ZW50TGlzdGVuZXJzLmdldChldmVudCk7XG4gICAgaWYgKGxpc3RlbmVycykge1xuICAgICAgbGlzdGVuZXJzLmZvckVhY2gobGlzdGVuZXIgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGxpc3RlbmVyKGRhdGEpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIHRoaXMuZGVidWcoYEVycm9yIGluIHRyYW5zcG9ydCBtYW5hZ2VyIGV2ZW50IGxpc3RlbmVyIGZvciAke2V2ZW50fTpgLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZGVidWcobWVzc2FnZTogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSk6IHZvaWQge1xuICAgIGlmICh0aGlzLmNvbmZpZy5kZWJ1Zykge1xuICAgICAgY29uc29sZS5sb2coYFtUcmFuc3BvcnRNYW5hZ2VyXSAke21lc3NhZ2V9YCwgLi4uYXJncyk7XG4gICAgfVxuICB9XG59XG4iLCIvKipcbiAqIFRyYW5zcG9ydERhc2hib2FyZCAtIFJlYWwtdGltZSB0cmFuc3BvcnQgc3RhdHVzIG1vbml0b3JpbmcgYW5kIG1hbmFnZW1lbnRcbiAqL1xuXG5pbXBvcnQgeyBDb21wb25lbnQsIE5vdGljZSB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IFRyYW5zcG9ydE1hbmFnZXIsIFRyYW5zcG9ydE1hbmFnZXJDb25maWcgfSBmcm9tICcuLi9kZXZwaXBlL1RyYW5zcG9ydE1hbmFnZXInO1xuaW1wb3J0IHsgVHJhbnNwb3J0VHlwZSwgVHJhbnNwb3J0RXZlbnQgfSBmcm9tICcuLi9kZXZwaXBlL3RyYW5zcG9ydHMvRGV2UGlwZVRyYW5zcG9ydCc7XG5pbXBvcnQgVmF1bHRQaWxvdFBsdWdpbiBmcm9tICcuLi9tYWluJztcblxuZXhwb3J0IGludGVyZmFjZSBEYXNoYm9hcmRDb25maWcge1xuICB1cGRhdGVJbnRlcnZhbDogbnVtYmVyO1xuICBzaG93QWR2YW5jZWRNZXRyaWNzOiBib29sZWFuO1xuICBlbmFibGVSZWFsVGltZVVwZGF0ZXM6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVHJhbnNwb3J0U3RhdHVzRGF0YSB7XG4gIHR5cGU6IFRyYW5zcG9ydFR5cGU7XG4gIHN0YXR1czogJ2hlYWx0aHknIHwgJ2RlZ3JhZGVkJyB8ICdmYWlsaW5nJyB8ICdkaXNjb25uZWN0ZWQnO1xuICBsYXN0UmVzcG9uc2VUaW1lOiBudW1iZXI7XG4gIHN1Y2Nlc3NSYXRlOiBudW1iZXI7XG4gIGVycm9yQ291bnQ6IG51bWJlcjtcbiAgbGFzdEVycm9yPzogc3RyaW5nO1xuICBjYXBhYmlsaXRpZXM6IHN0cmluZ1tdO1xuICBjb25uZWN0aW9uU3RhdGU6ICdjb25uZWN0ZWQnIHwgJ2Nvbm5lY3RpbmcnIHwgJ2Rpc2Nvbm5lY3RlZCcgfCAnZXJyb3InO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN5c3RlbUhlYWx0aCB7XG4gIG92ZXJhbGw6ICdleGNlbGxlbnQnIHwgJ2dvb2QnIHwgJ2ZhaXInIHwgJ3Bvb3InIHwgJ2NyaXRpY2FsJztcbiAgYWN0aXZlVHJhbnNwb3J0OiBUcmFuc3BvcnRUeXBlO1xuICBhdmFpbGFibGVUcmFuc3BvcnRzOiBUcmFuc3BvcnRUeXBlW107XG4gIGxhc3RIZWFsdGhDaGVjazogRGF0ZTtcbiAgdXB0aW1lOiBudW1iZXI7XG4gIHRvdGFsUmVxdWVzdHM6IG51bWJlcjtcbiAgdG90YWxFcnJvcnM6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQZXJmb3JtYW5jZU1ldHJpY3Mge1xuICBhdmVyYWdlUmVzcG9uc2VUaW1lOiBudW1iZXI7XG4gIHA5NVJlc3BvbnNlVGltZTogbnVtYmVyO1xuICByZXF1ZXN0c1Blck1pbnV0ZTogbnVtYmVyO1xuICBlcnJvclJhdGU6IG51bWJlcjtcbiAgdHJhbnNwb3J0RGlzdHJpYnV0aW9uOiBSZWNvcmQ8VHJhbnNwb3J0VHlwZSwgbnVtYmVyPjtcbiAgdHJlbmRzOiB7XG4gICAgcmVzcG9uc2VUaW1lOiBudW1iZXJbXTtcbiAgICBlcnJvclJhdGU6IG51bWJlcltdO1xuICAgIHRocm91Z2hwdXQ6IG51bWJlcltdO1xuICAgIHRpbWVzdGFtcHM6IERhdGVbXTtcbiAgfTtcbn1cblxuZXhwb3J0IGNsYXNzIFRyYW5zcG9ydERhc2hib2FyZCBleHRlbmRzIENvbXBvbmVudCB7XG4gIHByaXZhdGUgY29udGFpbmVyRWw6IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIHRyYW5zcG9ydE1hbmFnZXI/OiBUcmFuc3BvcnRNYW5hZ2VyO1xuICBwcml2YXRlIHBsdWdpbjogVmF1bHRQaWxvdFBsdWdpbjtcbiAgcHJpdmF0ZSBjb25maWc6IERhc2hib2FyZENvbmZpZztcbiAgXG4gIHByaXZhdGUgdXBkYXRlSW50ZXJ2YWw/OiBudW1iZXI7XG4gIHByaXZhdGUgc3RhdHVzQ2FyZHM6IE1hcDxUcmFuc3BvcnRUeXBlLCBIVE1MRWxlbWVudD4gPSBuZXcgTWFwKCk7XG4gIHByaXZhdGUgbWV0cmljc0NvbnRhaW5lciE6IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIHN5c3RlbUhlYWx0aENvbnRhaW5lciE6IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIGNoYXJ0c0NvbnRhaW5lciE6IEhUTUxFbGVtZW50O1xuICBcbiAgcHJpdmF0ZSBjdXJyZW50SGVhbHRoPzogU3lzdGVtSGVhbHRoO1xuICBwcml2YXRlIGN1cnJlbnRNZXRyaWNzPzogUGVyZm9ybWFuY2VNZXRyaWNzO1xuICBwcml2YXRlIGlzUmVhbFRpbWVFbmFibGVkOiBib29sZWFuID0gdHJ1ZTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBjb250YWluZXJFbDogSFRNTEVsZW1lbnQsIFxuICAgIHBsdWdpbjogVmF1bHRQaWxvdFBsdWdpbiwgXG4gICAgY29uZmlnOiBEYXNoYm9hcmRDb25maWcgPSB7XG4gICAgICB1cGRhdGVJbnRlcnZhbDogMjAwMCxcbiAgICAgIHNob3dBZHZhbmNlZE1ldHJpY3M6IHRydWUsXG4gICAgICBlbmFibGVSZWFsVGltZVVwZGF0ZXM6IHRydWVcbiAgICB9XG4gICkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5jb250YWluZXJFbCA9IGNvbnRhaW5lckVsO1xuICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgIC8vIFRyYW5zcG9ydCBtYW5hZ2VyIHdpbGwgYmUgaW5pdGlhbGl6ZWQgd2hlbiBhdmFpbGFibGVcbiAgICB0aGlzLmlzUmVhbFRpbWVFbmFibGVkID0gY29uZmlnLmVuYWJsZVJlYWxUaW1lVXBkYXRlcztcbiAgfVxuXG4gIGFzeW5jIG9ubG9hZCgpIHtcbiAgICB0aGlzLmluaXRpYWxpemVEYXNoYm9hcmQoKTtcbiAgICBcbiAgICBpZiAodGhpcy5pc1JlYWxUaW1lRW5hYmxlZCkge1xuICAgICAgdGhpcy5zdGFydFJlYWxUaW1lVXBkYXRlcygpO1xuICAgICAgdGhpcy5zZXR1cEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgfVxuICAgIFxuICAgIC8vIEluaXRpYWwgbG9hZFxuICAgIGF3YWl0IHRoaXMudXBkYXRlRGFzaGJvYXJkKCk7XG4gIH1cblxuICBvbnVubG9hZCgpIHtcbiAgICB0aGlzLnN0b3BSZWFsVGltZVVwZGF0ZXMoKTtcbiAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICBwcml2YXRlIGluaXRpYWxpemVEYXNoYm9hcmQoKSB7XG4gICAgdGhpcy5jb250YWluZXJFbC5lbXB0eSgpO1xuICAgIHRoaXMuY29udGFpbmVyRWwuYWRkQ2xhc3MoJ3RyYW5zcG9ydC1kYXNoYm9hcmQnKTtcbiAgICBcbiAgICAvLyBDcmVhdGUgaGVhZGVyXG4gICAgdGhpcy5jcmVhdGVIZWFkZXIoKTtcbiAgICBcbiAgICAvLyBDcmVhdGUgc3lzdGVtIGhlYWx0aCBvdmVydmlld1xuICAgIHRoaXMuY3JlYXRlU3lzdGVtSGVhbHRoU2VjdGlvbigpO1xuICAgIFxuICAgIC8vIENyZWF0ZSB0cmFuc3BvcnQgc3RhdHVzIGNhcmRzXG4gICAgdGhpcy5jcmVhdGVUcmFuc3BvcnRTdGF0dXNTZWN0aW9uKCk7XG4gICAgXG4gICAgLy8gQ3JlYXRlIHBlcmZvcm1hbmNlIG1ldHJpY3NcbiAgICB0aGlzLmNyZWF0ZVBlcmZvcm1hbmNlTWV0cmljc1NlY3Rpb24oKTtcbiAgICBcbiAgICAvLyBDcmVhdGUgY2hhcnRzIHNlY3Rpb25cbiAgICB0aGlzLmNyZWF0ZUNoYXJ0c1NlY3Rpb24oKTtcbiAgICBcbiAgICAvLyBDcmVhdGUgY29udHJvbHNcbiAgICB0aGlzLmNyZWF0ZUNvbnRyb2xzU2VjdGlvbigpO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVIZWFkZXIoKSB7XG4gICAgY29uc3QgaGVhZGVyID0gdGhpcy5jb250YWluZXJFbC5jcmVhdGVEaXYoJ2Rhc2hib2FyZC1oZWFkZXInKTtcbiAgICBoZWFkZXIuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAnVHJhbnNwb3J0IERhc2hib2FyZCcgfSk7XG4gICAgXG4gICAgY29uc3QgbGFzdFVwZGF0ZSA9IGhlYWRlci5jcmVhdGVEaXYoJ2xhc3QtdXBkYXRlJyk7XG4gICAgbGFzdFVwZGF0ZS5jcmVhdGVTcGFuKHsgdGV4dDogJ0xhc3QgdXBkYXRlZDogJywgY2xzOiAnbGFiZWwnIH0pO1xuICAgIGNvbnN0IHRpbWVzdGFtcCA9IGxhc3RVcGRhdGUuY3JlYXRlU3Bhbih7IGNsczogJ3RpbWVzdGFtcCcgfSk7XG4gICAgdGltZXN0YW1wLnRleHRDb250ZW50ID0gbmV3IERhdGUoKS50b0xvY2FsZVRpbWVTdHJpbmcoKTtcbiAgICBcbiAgICAvLyBSZWFsLXRpbWUgaW5kaWNhdG9yXG4gICAgY29uc3QgaW5kaWNhdG9yID0gaGVhZGVyLmNyZWF0ZURpdigncmVhbHRpbWUtaW5kaWNhdG9yJyk7XG4gICAgaWYgKHRoaXMuaXNSZWFsVGltZUVuYWJsZWQpIHtcbiAgICAgIGluZGljYXRvci5jcmVhdGVTcGFuKHsgdGV4dDogJ/Cfn6IgUmVhbC10aW1lJywgY2xzOiAncmVhbHRpbWUtYWN0aXZlJyB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5kaWNhdG9yLmNyZWF0ZVNwYW4oeyB0ZXh0OiAn4pqqIE1hbnVhbCByZWZyZXNoJywgY2xzOiAncmVhbHRpbWUtaW5hY3RpdmUnIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlU3lzdGVtSGVhbHRoU2VjdGlvbigpIHtcbiAgICBjb25zdCBzZWN0aW9uID0gdGhpcy5jb250YWluZXJFbC5jcmVhdGVEaXYoJ3N5c3RlbS1oZWFsdGgtc2VjdGlvbicpO1xuICAgIHNlY3Rpb24uY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnU3lzdGVtIEhlYWx0aCcgfSk7XG4gICAgXG4gICAgdGhpcy5zeXN0ZW1IZWFsdGhDb250YWluZXIgPSBzZWN0aW9uLmNyZWF0ZURpdignc3lzdGVtLWhlYWx0aC1jb250YWluZXInKTtcbiAgICBcbiAgICAvLyBQbGFjZWhvbGRlciBjb250ZW50XG4gICAgdGhpcy5yZW5kZXJTeXN0ZW1IZWFsdGhQbGFjZWhvbGRlcigpO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVUcmFuc3BvcnRTdGF0dXNTZWN0aW9uKCkge1xuICAgIGNvbnN0IHNlY3Rpb24gPSB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZURpdigndHJhbnNwb3J0LXN0YXR1cy1zZWN0aW9uJyk7XG4gICAgc2VjdGlvbi5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdUcmFuc3BvcnQgU3RhdHVzJyB9KTtcbiAgICBcbiAgICBjb25zdCBjYXJkc0NvbnRhaW5lciA9IHNlY3Rpb24uY3JlYXRlRGl2KCd0cmFuc3BvcnQtY2FyZHMtY29udGFpbmVyJyk7XG4gICAgXG4gICAgLy8gQ3JlYXRlIGNhcmRzIGZvciBhbGwgc3VwcG9ydGVkIHRyYW5zcG9ydCB0eXBlc1xuICAgIGNvbnN0IHN1cHBvcnRlZFRyYW5zcG9ydHMgPSBbVHJhbnNwb3J0VHlwZS5IVFRQLCBUcmFuc3BvcnRUeXBlLldFQlNPQ0tFVCwgVHJhbnNwb3J0VHlwZS5GSUxFU1lTVEVNXTtcbiAgICBcbiAgICBzdXBwb3J0ZWRUcmFuc3BvcnRzLmZvckVhY2godHJhbnNwb3J0VHlwZSA9PiB7XG4gICAgICBjb25zdCBjYXJkID0gdGhpcy5jcmVhdGVUcmFuc3BvcnRDYXJkKGNhcmRzQ29udGFpbmVyLCB0cmFuc3BvcnRUeXBlKTtcbiAgICAgIHRoaXMuc3RhdHVzQ2FyZHMuc2V0KHRyYW5zcG9ydFR5cGUsIGNhcmQpO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVUcmFuc3BvcnRDYXJkKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIHRyYW5zcG9ydFR5cGU6IFRyYW5zcG9ydFR5cGUpOiBIVE1MRWxlbWVudCB7XG4gICAgY29uc3QgY2FyZCA9IGNvbnRhaW5lci5jcmVhdGVEaXYoJ3RyYW5zcG9ydC1zdGF0dXMtY2FyZCcpO1xuICAgIGNhcmQuYWRkQ2xhc3MoYHRyYW5zcG9ydC0ke3RyYW5zcG9ydFR5cGV9YCk7XG4gICAgY2FyZC5hZGRDbGFzcygnc3RhdHVzLXVua25vd24nKTtcbiAgICBcbiAgICAvLyBIZWFkZXJcbiAgICBjb25zdCBoZWFkZXIgPSBjYXJkLmNyZWF0ZURpdignY2FyZC1oZWFkZXInKTtcbiAgICBoZWFkZXIuY3JlYXRlRWwoJ2g0JywgeyB0ZXh0OiB0cmFuc3BvcnRUeXBlLnRvVXBwZXJDYXNlKCkgfSk7XG4gICAgXG4gICAgY29uc3Qgc3RhdHVzQmFkZ2UgPSBoZWFkZXIuY3JlYXRlRGl2KCdzdGF0dXMtYmFkZ2UnKTtcbiAgICBzdGF0dXNCYWRnZS50ZXh0Q29udGVudCA9ICdVbmtub3duJztcbiAgICBcbiAgICAvLyBNZXRyaWNzXG4gICAgY29uc3QgbWV0cmljcyA9IGNhcmQuY3JlYXRlRGl2KCdjYXJkLW1ldHJpY3MnKTtcbiAgICBcbiAgICBjb25zdCByZXNwb25zZVRpbWUgPSBtZXRyaWNzLmNyZWF0ZURpdignbWV0cmljJyk7XG4gICAgcmVzcG9uc2VUaW1lLmNyZWF0ZVNwYW4oeyB0ZXh0OiAnUmVzcG9uc2UgVGltZScsIGNsczogJ21ldHJpYy1sYWJlbCcgfSk7XG4gICAgcmVzcG9uc2VUaW1lLmNyZWF0ZVNwYW4oeyB0ZXh0OiAnLS0nLCBjbHM6ICdtZXRyaWMtdmFsdWUgcmVzcG9uc2UtdGltZScgfSk7XG4gICAgXG4gICAgY29uc3Qgc3VjY2Vzc1JhdGUgPSBtZXRyaWNzLmNyZWF0ZURpdignbWV0cmljJyk7XG4gICAgc3VjY2Vzc1JhdGUuY3JlYXRlU3Bhbih7IHRleHQ6ICdTdWNjZXNzIFJhdGUnLCBjbHM6ICdtZXRyaWMtbGFiZWwnIH0pO1xuICAgIHN1Y2Nlc3NSYXRlLmNyZWF0ZVNwYW4oeyB0ZXh0OiAnLS0nLCBjbHM6ICdtZXRyaWMtdmFsdWUgc3VjY2Vzcy1yYXRlJyB9KTtcbiAgICBcbiAgICBjb25zdCBlcnJvckNvdW50ID0gbWV0cmljcy5jcmVhdGVEaXYoJ21ldHJpYycpO1xuICAgIGVycm9yQ291bnQuY3JlYXRlU3Bhbih7IHRleHQ6ICdFcnJvcnMnLCBjbHM6ICdtZXRyaWMtbGFiZWwnIH0pO1xuICAgIGVycm9yQ291bnQuY3JlYXRlU3Bhbih7IHRleHQ6ICctLScsIGNsczogJ21ldHJpYy12YWx1ZSBlcnJvci1jb3VudCcgfSk7XG4gICAgXG4gICAgLy8gQ29ubmVjdGlvbiBzdGF0ZVxuICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBjYXJkLmNyZWF0ZURpdignY29ubmVjdGlvbi1zdGF0ZScpO1xuICAgIGNvbm5lY3Rpb24uY3JlYXRlU3Bhbih7IHRleHQ6ICdEaXNjb25uZWN0ZWQnLCBjbHM6ICdjb25uZWN0aW9uLXN0YXR1cycgfSk7XG4gICAgXG4gICAgLy8gQWN0aW9uc1xuICAgIGNvbnN0IGFjdGlvbnMgPSBjYXJkLmNyZWF0ZURpdignY2FyZC1hY3Rpb25zJyk7XG4gICAgXG4gICAgY29uc3QgdGVzdEJ1dHRvbiA9IGFjdGlvbnMuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ1Rlc3QnLCBjbHM6ICdtb2QtbXV0ZWQnIH0pO1xuICAgIHRlc3RCdXR0b24ub25jbGljayA9ICgpID0+IHRoaXMudGVzdFRyYW5zcG9ydCh0cmFuc3BvcnRUeXBlKTtcbiAgICBcbiAgICBjb25zdCBzd2l0Y2hCdXR0b24gPSBhY3Rpb25zLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdTd2l0Y2ggVG8nLCBjbHM6ICdtb2QtY3RhJyB9KTtcbiAgICBzd2l0Y2hCdXR0b24ub25jbGljayA9ICgpID0+IHRoaXMuc3dpdGNoVG9UcmFuc3BvcnQodHJhbnNwb3J0VHlwZSk7XG4gICAgXG4gICAgcmV0dXJuIGNhcmQ7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZVBlcmZvcm1hbmNlTWV0cmljc1NlY3Rpb24oKSB7XG4gICAgY29uc3Qgc2VjdGlvbiA9IHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRGl2KCdwZXJmb3JtYW5jZS1tZXRyaWNzLXNlY3Rpb24nKTtcbiAgICBzZWN0aW9uLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ1BlcmZvcm1hbmNlIE1ldHJpY3MnIH0pO1xuICAgIFxuICAgIHRoaXMubWV0cmljc0NvbnRhaW5lciA9IHNlY3Rpb24uY3JlYXRlRGl2KCdtZXRyaWNzLWNvbnRhaW5lcicpO1xuICAgIFxuICAgIC8vIFBsYWNlaG9sZGVyIGNvbnRlbnRcbiAgICB0aGlzLnJlbmRlclBlcmZvcm1hbmNlTWV0cmljc1BsYWNlaG9sZGVyKCk7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZUNoYXJ0c1NlY3Rpb24oKSB7XG4gICAgY29uc3Qgc2VjdGlvbiA9IHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRGl2KCdjaGFydHMtc2VjdGlvbicpO1xuICAgIHNlY3Rpb24uY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnUGVyZm9ybWFuY2UgVHJlbmRzJyB9KTtcbiAgICBcbiAgICB0aGlzLmNoYXJ0c0NvbnRhaW5lciA9IHNlY3Rpb24uY3JlYXRlRGl2KCdjaGFydHMtY29udGFpbmVyJyk7XG4gICAgXG4gICAgLy8gRm9yIG5vdywgY3JlYXRlIHBsYWNlaG9sZGVyIGNoYXJ0c1xuICAgIHRoaXMucmVuZGVyQ2hhcnRzUGxhY2Vob2xkZXIoKTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlQ29udHJvbHNTZWN0aW9uKCkge1xuICAgIGNvbnN0IHNlY3Rpb24gPSB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZURpdignY29udHJvbHMtc2VjdGlvbicpO1xuICAgIFxuICAgIGNvbnN0IGNvbnRyb2xzID0gc2VjdGlvbi5jcmVhdGVEaXYoJ2Rhc2hib2FyZC1jb250cm9scycpO1xuICAgIFxuICAgIC8vIFJlZnJlc2ggYnV0dG9uXG4gICAgY29uc3QgcmVmcmVzaEJ1dHRvbiA9IGNvbnRyb2xzLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICfwn5SEIFJlZnJlc2gnLCBjbHM6ICdtb2QtY3RhJyB9KTtcbiAgICByZWZyZXNoQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB0aGlzLm1hbnVhbFJlZnJlc2goKTtcbiAgICBcbiAgICAvLyBFeHBvcnQgYnV0dG9uXG4gICAgY29uc3QgZXhwb3J0QnV0dG9uID0gY29udHJvbHMuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ/Cfk4ogRXhwb3J0IERhdGEnLCBjbHM6ICdtb2QtbXV0ZWQnIH0pO1xuICAgIGV4cG9ydEJ1dHRvbi5vbmNsaWNrID0gKCkgPT4gdGhpcy5leHBvcnREYXRhKCk7XG4gICAgXG4gICAgLy8gU2V0dGluZ3MgYnV0dG9uXG4gICAgY29uc3Qgc2V0dGluZ3NCdXR0b24gPSBjb250cm9scy5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAn4pqZ77iPIFNldHRpbmdzJywgY2xzOiAnbW9kLW11dGVkJyB9KTtcbiAgICBzZXR0aW5nc0J1dHRvbi5vbmNsaWNrID0gKCkgPT4gdGhpcy5vcGVuRGFzaGJvYXJkU2V0dGluZ3MoKTtcbiAgICBcbiAgICAvLyBSZWFsLXRpbWUgdG9nZ2xlXG4gICAgY29uc3QgcmVhbHRpbWVUb2dnbGUgPSBjb250cm9scy5jcmVhdGVEaXYoJ3JlYWx0aW1lLXRvZ2dsZScpO1xuICAgIHJlYWx0aW1lVG9nZ2xlLmNyZWF0ZVNwYW4oeyB0ZXh0OiAnUmVhbC10aW1lIHVwZGF0ZXM6ICcgfSk7XG4gICAgXG4gICAgY29uc3QgdG9nZ2xlID0gcmVhbHRpbWVUb2dnbGUuY3JlYXRlRWwoJ2lucHV0JywgeyB0eXBlOiAnY2hlY2tib3gnIH0pO1xuICAgIHRvZ2dsZS5jaGVja2VkID0gdGhpcy5pc1JlYWxUaW1lRW5hYmxlZDtcbiAgICB0b2dnbGUub25jaGFuZ2UgPSAoKSA9PiB0aGlzLnRvZ2dsZVJlYWxUaW1lVXBkYXRlcyh0b2dnbGUuY2hlY2tlZCk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHVwZGF0ZURhc2hib2FyZCgpIHtcbiAgICB0cnkge1xuICAgICAgLy8gVXBkYXRlIHN5c3RlbSBoZWFsdGhcbiAgICAgIHRoaXMuY3VycmVudEhlYWx0aCA9IGF3YWl0IHRoaXMuZ2V0U3lzdGVtSGVhbHRoKCk7XG4gICAgICB0aGlzLnJlbmRlclN5c3RlbUhlYWx0aCh0aGlzLmN1cnJlbnRIZWFsdGgpO1xuICAgICAgXG4gICAgICAvLyBVcGRhdGUgdHJhbnNwb3J0IHN0YXR1c2VzXG4gICAgICBhd2FpdCB0aGlzLnVwZGF0ZVRyYW5zcG9ydFN0YXR1c2VzKCk7XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSBwZXJmb3JtYW5jZSBtZXRyaWNzXG4gICAgICB0aGlzLmN1cnJlbnRNZXRyaWNzID0gYXdhaXQgdGhpcy5nZXRQZXJmb3JtYW5jZU1ldHJpY3MoKTtcbiAgICAgIHRoaXMucmVuZGVyUGVyZm9ybWFuY2VNZXRyaWNzKHRoaXMuY3VycmVudE1ldHJpY3MpO1xuICAgICAgXG4gICAgICAvLyBVcGRhdGUgdGltZXN0YW1wXG4gICAgICB0aGlzLnVwZGF0ZVRpbWVzdGFtcCgpO1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byB1cGRhdGUgZGFzaGJvYXJkOicsIGVycm9yKTtcbiAgICAgIHRoaXMucmVuZGVyRXJyb3IoJ0ZhaWxlZCB0byB1cGRhdGUgZGFzaGJvYXJkIGRhdGEnKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGdldFN5c3RlbUhlYWx0aCgpOiBQcm9taXNlPFN5c3RlbUhlYWx0aD4ge1xuICAgIC8vIEdldCBoZWFsdGggZnJvbSB0cmFuc3BvcnQgbWFuYWdlclxuICAgIGNvbnN0IHRyYW5zcG9ydE1hbmFnZXIgPSB0aGlzLnRyYW5zcG9ydE1hbmFnZXI7XG4gICAgXG4gICAgLy8gU2ltdWxhdGUgZ2V0dGluZyBjb21wcmVoZW5zaXZlIGhlYWx0aCBkYXRhXG4gICAgY29uc3QgaGVhbHRoOiBTeXN0ZW1IZWFsdGggPSB7XG4gICAgICBvdmVyYWxsOiAnZ29vZCcsXG4gICAgICBhY3RpdmVUcmFuc3BvcnQ6ICdodHRwJyBhcyBUcmFuc3BvcnRUeXBlLFxuICAgICAgYXZhaWxhYmxlVHJhbnNwb3J0czogWydodHRwJywgJ3dlYnNvY2tldCddIGFzIFRyYW5zcG9ydFR5cGVbXSxcbiAgICAgIGxhc3RIZWFsdGhDaGVjazogbmV3IERhdGUoKSxcbiAgICAgIHVwdGltZTogRGF0ZS5ub3coKSAtICh0aGlzLnBsdWdpbi5hcHAgYXMgYW55KS52YXVsdC5hZGFwdGVyLnN0YXJ0ZWQgfHwgMCxcbiAgICAgIHRvdGFsUmVxdWVzdHM6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwKSxcbiAgICAgIHRvdGFsRXJyb3JzOiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApXG4gICAgfTtcbiAgICBcbiAgICAvLyBEZXRlcm1pbmUgb3ZlcmFsbCBoZWFsdGggYmFzZWQgb24gZXJyb3IgcmF0ZVxuICAgIGNvbnN0IGVycm9yUmF0ZSA9IGhlYWx0aC50b3RhbEVycm9ycyAvIGhlYWx0aC50b3RhbFJlcXVlc3RzO1xuICAgIGlmIChlcnJvclJhdGUgPCAwLjAxKSB7XG4gICAgICBoZWFsdGgub3ZlcmFsbCA9ICdleGNlbGxlbnQnO1xuICAgIH0gZWxzZSBpZiAoZXJyb3JSYXRlIDwgMC4wNSkge1xuICAgICAgaGVhbHRoLm92ZXJhbGwgPSAnZ29vZCc7XG4gICAgfSBlbHNlIGlmIChlcnJvclJhdGUgPCAwLjEpIHtcbiAgICAgIGhlYWx0aC5vdmVyYWxsID0gJ2ZhaXInO1xuICAgIH0gZWxzZSBpZiAoZXJyb3JSYXRlIDwgMC4yKSB7XG4gICAgICBoZWFsdGgub3ZlcmFsbCA9ICdwb29yJztcbiAgICB9IGVsc2Uge1xuICAgICAgaGVhbHRoLm92ZXJhbGwgPSAnY3JpdGljYWwnO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gaGVhbHRoO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBnZXRQZXJmb3JtYW5jZU1ldHJpY3MoKTogUHJvbWlzZTxQZXJmb3JtYW5jZU1ldHJpY3M+IHtcbiAgICAvLyBHZXQgbWV0cmljcyBmcm9tIHRyYW5zcG9ydCBtYW5hZ2VyXG4gICAgY29uc3QgbWV0cmljczogUGVyZm9ybWFuY2VNZXRyaWNzID0ge1xuICAgICAgYXZlcmFnZVJlc3BvbnNlVGltZTogMTUwICsgTWF0aC5yYW5kb20oKSAqIDEwMCxcbiAgICAgIHA5NVJlc3BvbnNlVGltZTogMzAwICsgTWF0aC5yYW5kb20oKSAqIDIwMCxcbiAgICAgIHJlcXVlc3RzUGVyTWludXRlOiAxMDAgKyBNYXRoLnJhbmRvbSgpICogNTAsXG4gICAgICBlcnJvclJhdGU6IE1hdGgucmFuZG9tKCkgKiAwLjA1LFxuICAgICAgdHJhbnNwb3J0RGlzdHJpYnV0aW9uOiB7XG4gICAgICAgICdodHRwJzogMC43LFxuICAgICAgICAnd2Vic29ja2V0JzogMC4yNSxcbiAgICAgICAgJ2ZpbGVzeXN0ZW0nOiAwLjA1XG4gICAgICB9LFxuICAgICAgdHJlbmRzOiB7XG4gICAgICAgIHJlc3BvbnNlVGltZTogdGhpcy5nZW5lcmF0ZVRyZW5kRGF0YSgxNTAsIDIwKSxcbiAgICAgICAgZXJyb3JSYXRlOiB0aGlzLmdlbmVyYXRlVHJlbmREYXRhKDAuMDIsIDAuMDEpLFxuICAgICAgICB0aHJvdWdocHV0OiB0aGlzLmdlbmVyYXRlVHJlbmREYXRhKDEwMCwgMjApLFxuICAgICAgICB0aW1lc3RhbXBzOiB0aGlzLmdlbmVyYXRlVGltZXN0YW1wcygyMClcbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIHJldHVybiBtZXRyaWNzO1xuICB9XG5cbiAgcHJpdmF0ZSBnZW5lcmF0ZVRyZW5kRGF0YShiYXNlbGluZTogbnVtYmVyLCB2YXJpYW5jZTogbnVtYmVyLCBwb2ludHM6IG51bWJlciA9IDIwKTogbnVtYmVyW10ge1xuICAgIGNvbnN0IGRhdGE6IG51bWJlcltdID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludHM7IGkrKykge1xuICAgICAgZGF0YS5wdXNoKGJhc2VsaW5lICsgKE1hdGgucmFuZG9tKCkgLSAwLjUpICogdmFyaWFuY2UgKiAyKTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICBwcml2YXRlIGdlbmVyYXRlVGltZXN0YW1wcyhwb2ludHM6IG51bWJlcik6IERhdGVbXSB7XG4gICAgY29uc3QgdGltZXN0YW1wczogRGF0ZVtdID0gW107XG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICBmb3IgKGxldCBpID0gcG9pbnRzIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHRpbWVzdGFtcHMucHVzaChuZXcgRGF0ZShub3cuZ2V0VGltZSgpIC0gaSAqIDYwMDAwKSk7IC8vIDEgbWludXRlIGludGVydmFsc1xuICAgIH1cbiAgICByZXR1cm4gdGltZXN0YW1wcztcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgdXBkYXRlVHJhbnNwb3J0U3RhdHVzZXMoKSB7XG4gICAgY29uc3Qgc3VwcG9ydGVkVHJhbnNwb3J0cyA9IFtUcmFuc3BvcnRUeXBlLkhUVFAsIFRyYW5zcG9ydFR5cGUuV0VCU09DS0VULCBUcmFuc3BvcnRUeXBlLkZJTEVTWVNURU1dO1xuICAgIFxuICAgIGZvciAoY29uc3QgdHJhbnNwb3J0VHlwZSBvZiBzdXBwb3J0ZWRUcmFuc3BvcnRzKSB7XG4gICAgICBjb25zdCBzdGF0dXMgPSBhd2FpdCB0aGlzLmdldFRyYW5zcG9ydFN0YXR1cyh0cmFuc3BvcnRUeXBlKTtcbiAgICAgIHRoaXMudXBkYXRlVHJhbnNwb3J0Q2FyZCh0cmFuc3BvcnRUeXBlLCBzdGF0dXMpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgZ2V0VHJhbnNwb3J0U3RhdHVzKHRyYW5zcG9ydFR5cGU6IFRyYW5zcG9ydFR5cGUpOiBQcm9taXNlPFRyYW5zcG9ydFN0YXR1c0RhdGE+IHtcbiAgICAvLyBTaW11bGF0ZSBnZXR0aW5nIHRyYW5zcG9ydCBzdGF0dXNcbiAgICBjb25zdCBpc0FjdGl2ZSA9IE1hdGgucmFuZG9tKCkgPiAwLjI7IC8vIDgwJSBjaGFuY2Ugb2YgYmVpbmcgYWN0aXZlXG4gICAgY29uc3QgcmVzcG9uc2VUaW1lID0gMTAwICsgTWF0aC5yYW5kb20oKSAqIDIwMDtcbiAgICBjb25zdCBzdWNjZXNzUmF0ZSA9IDAuOSArIE1hdGgucmFuZG9tKCkgKiAwLjE7XG4gICAgXG4gICAgY29uc3Qgc3RhdHVzOiBUcmFuc3BvcnRTdGF0dXNEYXRhID0ge1xuICAgICAgdHlwZTogdHJhbnNwb3J0VHlwZSxcbiAgICAgIHN0YXR1czogaXNBY3RpdmUgPyAoc3VjY2Vzc1JhdGUgPiAwLjk1ID8gJ2hlYWx0aHknIDogJ2RlZ3JhZGVkJykgOiAnZGlzY29ubmVjdGVkJyxcbiAgICAgIGxhc3RSZXNwb25zZVRpbWU6IHJlc3BvbnNlVGltZSxcbiAgICAgIHN1Y2Nlc3NSYXRlOiBzdWNjZXNzUmF0ZSxcbiAgICAgIGVycm9yQ291bnQ6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKSxcbiAgICAgIGNhcGFiaWxpdGllczogdGhpcy5nZXRUcmFuc3BvcnRDYXBhYmlsaXRpZXModHJhbnNwb3J0VHlwZSksXG4gICAgICBjb25uZWN0aW9uU3RhdGU6IGlzQWN0aXZlID8gJ2Nvbm5lY3RlZCcgOiAnZGlzY29ubmVjdGVkJ1xuICAgIH07XG4gICAgXG4gICAgaWYgKCFpc0FjdGl2ZSkge1xuICAgICAgc3RhdHVzLmxhc3RFcnJvciA9ICdDb25uZWN0aW9uIHRpbWVvdXQnO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gc3RhdHVzO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRUcmFuc3BvcnRDYXBhYmlsaXRpZXModHJhbnNwb3J0VHlwZTogVHJhbnNwb3J0VHlwZSk6IHN0cmluZ1tdIHtcbiAgICBzd2l0Y2ggKHRyYW5zcG9ydFR5cGUpIHtcbiAgICAgIGNhc2UgVHJhbnNwb3J0VHlwZS5IVFRQOlxuICAgICAgICByZXR1cm4gWydSRVNUZnVsIEFQSScsICdDb25uZWN0aW9uIFBvb2xpbmcnLCAnUmV0cnkgTG9naWMnXTtcbiAgICAgIGNhc2UgVHJhbnNwb3J0VHlwZS5XRUJTT0NLRVQ6XG4gICAgICAgIHJldHVybiBbJ1JlYWwtdGltZScsICdCaWRpcmVjdGlvbmFsJywgJ0F1dG8tcmVjb25uZWN0J107XG4gICAgICBjYXNlIFRyYW5zcG9ydFR5cGUuRklMRVNZU1RFTTpcbiAgICAgICAgcmV0dXJuIFsnTG9jYWwgU3RvcmFnZScsICdGaWxlIExvY2tpbmcnLCAnT2ZmbGluZSBTdXBwb3J0J107XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVUcmFuc3BvcnRDYXJkKHRyYW5zcG9ydFR5cGU6IFRyYW5zcG9ydFR5cGUsIHN0YXR1czogVHJhbnNwb3J0U3RhdHVzRGF0YSkge1xuICAgIGNvbnN0IGNhcmQgPSB0aGlzLnN0YXR1c0NhcmRzLmdldCh0cmFuc3BvcnRUeXBlKTtcbiAgICBpZiAoIWNhcmQpIHJldHVybjtcbiAgICBcbiAgICAvLyBVcGRhdGUgc3RhdHVzIGNsYXNzXG4gICAgY2FyZC5jbGFzc05hbWUgPSBgdHJhbnNwb3J0LXN0YXR1cy1jYXJkIHRyYW5zcG9ydC0ke3RyYW5zcG9ydFR5cGV9IHN0YXR1cy0ke3N0YXR1cy5zdGF0dXN9YDtcbiAgICBcbiAgICAvLyBVcGRhdGUgc3RhdHVzIGJhZGdlXG4gICAgY29uc3Qgc3RhdHVzQmFkZ2UgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoJy5zdGF0dXMtYmFkZ2UnKSBhcyBIVE1MRWxlbWVudDtcbiAgICBzdGF0dXNCYWRnZS50ZXh0Q29udGVudCA9IHN0YXR1cy5zdGF0dXMuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdGF0dXMuc3RhdHVzLnNsaWNlKDEpO1xuICAgIFxuICAgIC8vIFVwZGF0ZSBtZXRyaWNzXG4gICAgY29uc3QgcmVzcG9uc2VUaW1lRWwgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoJy5yZXNwb25zZS10aW1lJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgcmVzcG9uc2VUaW1lRWwudGV4dENvbnRlbnQgPSBgJHtzdGF0dXMubGFzdFJlc3BvbnNlVGltZS50b0ZpeGVkKDApfW1zYDtcbiAgICBcbiAgICBjb25zdCBzdWNjZXNzUmF0ZUVsID0gY2FyZC5xdWVyeVNlbGVjdG9yKCcuc3VjY2Vzcy1yYXRlJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgc3VjY2Vzc1JhdGVFbC50ZXh0Q29udGVudCA9IGAkeyhzdGF0dXMuc3VjY2Vzc1JhdGUgKiAxMDApLnRvRml4ZWQoMSl9JWA7XG4gICAgXG4gICAgY29uc3QgZXJyb3JDb3VudEVsID0gY2FyZC5xdWVyeVNlbGVjdG9yKCcuZXJyb3ItY291bnQnKSBhcyBIVE1MRWxlbWVudDtcbiAgICBlcnJvckNvdW50RWwudGV4dENvbnRlbnQgPSBzdGF0dXMuZXJyb3JDb3VudC50b1N0cmluZygpO1xuICAgIFxuICAgIC8vIFVwZGF0ZSBjb25uZWN0aW9uIHN0YXRlXG4gICAgY29uc3QgY29ubmVjdGlvbkVsID0gY2FyZC5xdWVyeVNlbGVjdG9yKCcuY29ubmVjdGlvbi1zdGF0dXMnKSBhcyBIVE1MRWxlbWVudDtcbiAgICBjb25uZWN0aW9uRWwudGV4dENvbnRlbnQgPSBzdGF0dXMuY29ubmVjdGlvblN0YXRlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RhdHVzLmNvbm5lY3Rpb25TdGF0ZS5zbGljZSgxKTtcbiAgICBjb25uZWN0aW9uRWwuY2xhc3NOYW1lID0gYGNvbm5lY3Rpb24tc3RhdHVzIHN0YXRlLSR7c3RhdHVzLmNvbm5lY3Rpb25TdGF0ZX1gO1xuICAgIFxuICAgIC8vIFVwZGF0ZSBhY3Rpb24gYnV0dG9uc1xuICAgIGNvbnN0IHN3aXRjaEJ1dHRvbiA9IGNhcmQucXVlcnlTZWxlY3RvcignLm1vZC1jdGEnKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcbiAgICBzd2l0Y2hCdXR0b24uZGlzYWJsZWQgPSBzdGF0dXMuc3RhdHVzID09PSAnZmFpbGluZycgfHwgc3RhdHVzLmNvbm5lY3Rpb25TdGF0ZSA9PT0gJ2Rpc2Nvbm5lY3RlZCc7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlclN5c3RlbUhlYWx0aChoZWFsdGg6IFN5c3RlbUhlYWx0aCkge1xuICAgIHRoaXMuc3lzdGVtSGVhbHRoQ29udGFpbmVyLmVtcHR5KCk7XG4gICAgXG4gICAgY29uc3QgaGVhbHRoR3JpZCA9IHRoaXMuc3lzdGVtSGVhbHRoQ29udGFpbmVyLmNyZWF0ZURpdignaGVhbHRoLWdyaWQnKTtcbiAgICBcbiAgICAvLyBPdmVyYWxsIGhlYWx0aFxuICAgIGNvbnN0IG92ZXJhbGxIZWFsdGggPSBoZWFsdGhHcmlkLmNyZWF0ZURpdignaGVhbHRoLWl0ZW0gb3ZlcmFsbC1oZWFsdGgnKTtcbiAgICBvdmVyYWxsSGVhbHRoLmFkZENsYXNzKGBoZWFsdGgtJHtoZWFsdGgub3ZlcmFsbH1gKTtcbiAgICBvdmVyYWxsSGVhbHRoLmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogJ092ZXJhbGwgSGVhbHRoJyB9KTtcbiAgICBvdmVyYWxsSGVhbHRoLmNyZWF0ZUVsKCdzcGFuJywgeyBcbiAgICAgIHRleHQ6IGhlYWx0aC5vdmVyYWxsLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgaGVhbHRoLm92ZXJhbGwuc2xpY2UoMSksXG4gICAgICBjbHM6ICdoZWFsdGgtdmFsdWUnXG4gICAgfSk7XG4gICAgXG4gICAgLy8gQWN0aXZlIHRyYW5zcG9ydFxuICAgIGNvbnN0IGFjdGl2ZVRyYW5zcG9ydCA9IGhlYWx0aEdyaWQuY3JlYXRlRGl2KCdoZWFsdGgtaXRlbScpO1xuICAgIGFjdGl2ZVRyYW5zcG9ydC5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6ICdBY3RpdmUgVHJhbnNwb3J0JyB9KTtcbiAgICBhY3RpdmVUcmFuc3BvcnQuY3JlYXRlRWwoJ3NwYW4nLCB7IFxuICAgICAgdGV4dDogaGVhbHRoLmFjdGl2ZVRyYW5zcG9ydC50b1VwcGVyQ2FzZSgpLFxuICAgICAgY2xzOiAnaGVhbHRoLXZhbHVlJ1xuICAgIH0pO1xuICAgIFxuICAgIC8vIFVwdGltZVxuICAgIGNvbnN0IHVwdGltZSA9IGhlYWx0aEdyaWQuY3JlYXRlRGl2KCdoZWFsdGgtaXRlbScpO1xuICAgIHVwdGltZS5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6ICdVcHRpbWUnIH0pO1xuICAgIHVwdGltZS5jcmVhdGVFbCgnc3BhbicsIHsgXG4gICAgICB0ZXh0OiB0aGlzLmZvcm1hdFVwdGltZShoZWFsdGgudXB0aW1lKSxcbiAgICAgIGNsczogJ2hlYWx0aC12YWx1ZSdcbiAgICB9KTtcbiAgICBcbiAgICAvLyBUb3RhbCByZXF1ZXN0c1xuICAgIGNvbnN0IHJlcXVlc3RzID0gaGVhbHRoR3JpZC5jcmVhdGVEaXYoJ2hlYWx0aC1pdGVtJyk7XG4gICAgcmVxdWVzdHMuY3JlYXRlRWwoJ2g0JywgeyB0ZXh0OiAnVG90YWwgUmVxdWVzdHMnIH0pO1xuICAgIHJlcXVlc3RzLmNyZWF0ZUVsKCdzcGFuJywgeyBcbiAgICAgIHRleHQ6IGhlYWx0aC50b3RhbFJlcXVlc3RzLnRvTG9jYWxlU3RyaW5nKCksXG4gICAgICBjbHM6ICdoZWFsdGgtdmFsdWUnXG4gICAgfSk7XG4gICAgXG4gICAgLy8gRXJyb3IgcmF0ZVxuICAgIGNvbnN0IGVycm9yUmF0ZSA9IGhlYWx0aEdyaWQuY3JlYXRlRGl2KCdoZWFsdGgtaXRlbScpO1xuICAgIGVycm9yUmF0ZS5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6ICdFcnJvciBSYXRlJyB9KTtcbiAgICBjb25zdCByYXRlID0gKGhlYWx0aC50b3RhbEVycm9ycyAvIGhlYWx0aC50b3RhbFJlcXVlc3RzICogMTAwKTtcbiAgICBlcnJvclJhdGUuY3JlYXRlRWwoJ3NwYW4nLCB7IFxuICAgICAgdGV4dDogYCR7cmF0ZS50b0ZpeGVkKDIpfSVgLFxuICAgICAgY2xzOiAnaGVhbHRoLXZhbHVlJ1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJQZXJmb3JtYW5jZU1ldHJpY3MobWV0cmljczogUGVyZm9ybWFuY2VNZXRyaWNzKSB7XG4gICAgdGhpcy5tZXRyaWNzQ29udGFpbmVyLmVtcHR5KCk7XG4gICAgXG4gICAgY29uc3QgbWV0cmljc0dyaWQgPSB0aGlzLm1ldHJpY3NDb250YWluZXIuY3JlYXRlRGl2KCdtZXRyaWNzLWdyaWQnKTtcbiAgICBcbiAgICAvLyBBdmVyYWdlIHJlc3BvbnNlIHRpbWVcbiAgICBjb25zdCBhdmdSZXNwb25zZSA9IG1ldHJpY3NHcmlkLmNyZWF0ZURpdignbWV0cmljLWl0ZW0nKTtcbiAgICBhdmdSZXNwb25zZS5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6ICdBdmcgUmVzcG9uc2UgVGltZScgfSk7XG4gICAgYXZnUmVzcG9uc2UuY3JlYXRlRWwoJ3NwYW4nLCB7IFxuICAgICAgdGV4dDogYCR7bWV0cmljcy5hdmVyYWdlUmVzcG9uc2VUaW1lLnRvRml4ZWQoMCl9bXNgLFxuICAgICAgY2xzOiAnbWV0cmljLXZhbHVlJ1xuICAgIH0pO1xuICAgIFxuICAgIC8vIFA5NSByZXNwb25zZSB0aW1lXG4gICAgY29uc3QgcDk1UmVzcG9uc2UgPSBtZXRyaWNzR3JpZC5jcmVhdGVEaXYoJ21ldHJpYy1pdGVtJyk7XG4gICAgcDk1UmVzcG9uc2UuY3JlYXRlRWwoJ2g0JywgeyB0ZXh0OiAnUDk1IFJlc3BvbnNlIFRpbWUnIH0pO1xuICAgIHA5NVJlc3BvbnNlLmNyZWF0ZUVsKCdzcGFuJywgeyBcbiAgICAgIHRleHQ6IGAke21ldHJpY3MucDk1UmVzcG9uc2VUaW1lLnRvRml4ZWQoMCl9bXNgLFxuICAgICAgY2xzOiAnbWV0cmljLXZhbHVlJ1xuICAgIH0pO1xuICAgIFxuICAgIC8vIFJlcXVlc3RzIHBlciBtaW51dGVcbiAgICBjb25zdCBycG0gPSBtZXRyaWNzR3JpZC5jcmVhdGVEaXYoJ21ldHJpYy1pdGVtJyk7XG4gICAgcnBtLmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogJ1JlcXVlc3RzL01pbicgfSk7XG4gICAgcnBtLmNyZWF0ZUVsKCdzcGFuJywgeyBcbiAgICAgIHRleHQ6IG1ldHJpY3MucmVxdWVzdHNQZXJNaW51dGUudG9GaXhlZCgwKSxcbiAgICAgIGNsczogJ21ldHJpYy12YWx1ZSdcbiAgICB9KTtcbiAgICBcbiAgICAvLyBFcnJvciByYXRlXG4gICAgY29uc3QgZXJyb3JSYXRlID0gbWV0cmljc0dyaWQuY3JlYXRlRGl2KCdtZXRyaWMtaXRlbScpO1xuICAgIGVycm9yUmF0ZS5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6ICdFcnJvciBSYXRlJyB9KTtcbiAgICBlcnJvclJhdGUuY3JlYXRlRWwoJ3NwYW4nLCB7IFxuICAgICAgdGV4dDogYCR7KG1ldHJpY3MuZXJyb3JSYXRlICogMTAwKS50b0ZpeGVkKDIpfSVgLFxuICAgICAgY2xzOiAnbWV0cmljLXZhbHVlJ1xuICAgIH0pO1xuICAgIFxuICAgIC8vIFRyYW5zcG9ydCBkaXN0cmlidXRpb25cbiAgICBjb25zdCBkaXN0cmlidXRpb24gPSB0aGlzLm1ldHJpY3NDb250YWluZXIuY3JlYXRlRGl2KCd0cmFuc3BvcnQtZGlzdHJpYnV0aW9uJyk7XG4gICAgZGlzdHJpYnV0aW9uLmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogJ1RyYW5zcG9ydCBVc2FnZSBEaXN0cmlidXRpb24nIH0pO1xuICAgIFxuICAgIGNvbnN0IGRpc3RyaWJ1dGlvbkJhcnMgPSBkaXN0cmlidXRpb24uY3JlYXRlRGl2KCdkaXN0cmlidXRpb24tYmFycycpO1xuICAgIE9iamVjdC5lbnRyaWVzKG1ldHJpY3MudHJhbnNwb3J0RGlzdHJpYnV0aW9uKS5mb3JFYWNoKChbdHJhbnNwb3J0LCBwZXJjZW50YWdlXSkgPT4ge1xuICAgICAgY29uc3QgYmFyID0gZGlzdHJpYnV0aW9uQmFycy5jcmVhdGVEaXYoJ2Rpc3RyaWJ1dGlvbi1iYXInKTtcbiAgICAgIGJhci5jcmVhdGVTcGFuKHsgdGV4dDogdHJhbnNwb3J0LnRvVXBwZXJDYXNlKCksIGNsczogJ3RyYW5zcG9ydC1sYWJlbCcgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IGJhckNvbnRhaW5lciA9IGJhci5jcmVhdGVEaXYoJ2Jhci1jb250YWluZXInKTtcbiAgICAgIGNvbnN0IGJhckZpbGwgPSBiYXJDb250YWluZXIuY3JlYXRlRGl2KCdiYXItZmlsbCcpO1xuICAgICAgYmFyRmlsbC5zdHlsZS53aWR0aCA9IGAke3BlcmNlbnRhZ2UgKiAxMDB9JWA7XG4gICAgICBcbiAgICAgIGJhci5jcmVhdGVTcGFuKHsgdGV4dDogYCR7KHBlcmNlbnRhZ2UgKiAxMDApLnRvRml4ZWQoMSl9JWAsIGNsczogJ3BlcmNlbnRhZ2UtbGFiZWwnIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJTeXN0ZW1IZWFsdGhQbGFjZWhvbGRlcigpIHtcbiAgICB0aGlzLnN5c3RlbUhlYWx0aENvbnRhaW5lci5jcmVhdGVFbCgncCcsIHsgXG4gICAgICB0ZXh0OiAnTG9hZGluZyBzeXN0ZW0gaGVhbHRoIGRhdGEuLi4nLFxuICAgICAgY2xzOiAncGxhY2Vob2xkZXItdGV4dCdcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyUGVyZm9ybWFuY2VNZXRyaWNzUGxhY2Vob2xkZXIoKSB7XG4gICAgdGhpcy5tZXRyaWNzQ29udGFpbmVyLmNyZWF0ZUVsKCdwJywgeyBcbiAgICAgIHRleHQ6ICdMb2FkaW5nIHBlcmZvcm1hbmNlIG1ldHJpY3MuLi4nLFxuICAgICAgY2xzOiAncGxhY2Vob2xkZXItdGV4dCdcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyQ2hhcnRzUGxhY2Vob2xkZXIoKSB7XG4gICAgdGhpcy5jaGFydHNDb250YWluZXIuY3JlYXRlRWwoJ3AnLCB7IFxuICAgICAgdGV4dDogJ1BlcmZvcm1hbmNlIGNoYXJ0cyB3aWxsIGJlIGRpc3BsYXllZCBoZXJlJyxcbiAgICAgIGNsczogJ3BsYWNlaG9sZGVyLXRleHQnXG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlckVycm9yKG1lc3NhZ2U6IHN0cmluZykge1xuICAgIGNvbnN0IGVycm9yRWwgPSB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZURpdignZGFzaGJvYXJkLWVycm9yJyk7XG4gICAgZXJyb3JFbC5jcmVhdGVFbCgncCcsIHsgdGV4dDogYEVycm9yOiAke21lc3NhZ2V9YCwgY2xzOiAnZXJyb3ItbWVzc2FnZScgfSk7XG4gIH1cblxuICBwcml2YXRlIGZvcm1hdFVwdGltZSh1cHRpbWU6IG51bWJlcik6IHN0cmluZyB7XG4gICAgY29uc3Qgc2Vjb25kcyA9IE1hdGguZmxvb3IodXB0aW1lIC8gMTAwMCk7XG4gICAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3Ioc2Vjb25kcyAvIDYwKTtcbiAgICBjb25zdCBob3VycyA9IE1hdGguZmxvb3IobWludXRlcyAvIDYwKTtcbiAgICBjb25zdCBkYXlzID0gTWF0aC5mbG9vcihob3VycyAvIDI0KTtcbiAgICBcbiAgICBpZiAoZGF5cyA+IDApIHtcbiAgICAgIHJldHVybiBgJHtkYXlzfWQgJHtob3VycyAlIDI0fWhgO1xuICAgIH0gZWxzZSBpZiAoaG91cnMgPiAwKSB7XG4gICAgICByZXR1cm4gYCR7aG91cnN9aCAke21pbnV0ZXMgJSA2MH1tYDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGAke21pbnV0ZXN9bSAke3NlY29uZHMgJSA2MH1zYDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZVRpbWVzdGFtcCgpIHtcbiAgICBjb25zdCB0aW1lc3RhbXBFbCA9IHRoaXMuY29udGFpbmVyRWwucXVlcnlTZWxlY3RvcignLnRpbWVzdGFtcCcpIGFzIEhUTUxFbGVtZW50O1xuICAgIGlmICh0aW1lc3RhbXBFbCkge1xuICAgICAgdGltZXN0YW1wRWwudGV4dENvbnRlbnQgPSBuZXcgRGF0ZSgpLnRvTG9jYWxlVGltZVN0cmluZygpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc3RhcnRSZWFsVGltZVVwZGF0ZXMoKSB7XG4gICAgaWYgKHRoaXMudXBkYXRlSW50ZXJ2YWwpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy51cGRhdGVJbnRlcnZhbCk7XG4gICAgfVxuICAgIFxuICAgIHRoaXMudXBkYXRlSW50ZXJ2YWwgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgdGhpcy51cGRhdGVEYXNoYm9hcmQoKTtcbiAgICB9LCB0aGlzLmNvbmZpZy51cGRhdGVJbnRlcnZhbCk7XG4gIH1cblxuICBwcml2YXRlIHN0b3BSZWFsVGltZVVwZGF0ZXMoKSB7XG4gICAgaWYgKHRoaXMudXBkYXRlSW50ZXJ2YWwpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy51cGRhdGVJbnRlcnZhbCk7XG4gICAgICB0aGlzLnVwZGF0ZUludGVydmFsID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc2V0dXBFdmVudExpc3RlbmVycygpIHtcbiAgICAvLyBMaXN0ZW4gZm9yIHRyYW5zcG9ydCBldmVudHMgaWYgdHJhbnNwb3J0IG1hbmFnZXIgaXMgYXZhaWxhYmxlXG4gICAgaWYgKHRoaXMudHJhbnNwb3J0TWFuYWdlcikge1xuICAgICAgLy8gTm90ZTogQWN0dWFsIGV2ZW50IGhhbmRsaW5nIHdpbGwgZGVwZW5kIG9uIHRoZSBUcmFuc3BvcnRNYW5hZ2VyIGltcGxlbWVudGF0aW9uXG4gICAgICAvLyBGb3Igbm93LCB3ZSdsbCB1c2UgYSBzaW1wbGVyIGFwcHJvYWNoXG4gICAgICBjb25zb2xlLmxvZygnU2V0dGluZyB1cCB0cmFuc3BvcnQgZXZlbnQgbGlzdGVuZXJzJyk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByZW1vdmVFdmVudExpc3RlbmVycygpIHtcbiAgICAvLyBSZW1vdmUgdHJhbnNwb3J0IGV2ZW50IGxpc3RlbmVycyBpZiBuZWVkZWRcbiAgICBpZiAodGhpcy50cmFuc3BvcnRNYW5hZ2VyKSB7XG4gICAgICBjb25zb2xlLmxvZygnUmVtb3ZpbmcgdHJhbnNwb3J0IGV2ZW50IGxpc3RlbmVycycpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgb25UcmFuc3BvcnRTd2l0Y2hlZChldmVudDogYW55KSB7XG4gICAgbmV3IE5vdGljZShgVHJhbnNwb3J0IHN3aXRjaGVkIHRvICR7ZXZlbnQudHJhbnNwb3J0Py50b1VwcGVyQ2FzZSgpIHx8ICd1bmtub3duJ31gKTtcbiAgICB0aGlzLnVwZGF0ZURhc2hib2FyZCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBvbkhlYWx0aENoYW5nZWQoZXZlbnQ6IGFueSkge1xuICAgIGNvbnNvbGUubG9nKCdIZWFsdGggY2hhbmdlZDonLCBldmVudCk7XG4gICAgdGhpcy51cGRhdGVEYXNoYm9hcmQoKTtcbiAgfVxuXG4gIHByaXZhdGUgb25FcnJvck9jY3VycmVkKGV2ZW50OiBhbnkpIHtcbiAgICBjb25zb2xlLndhcm4oJ1RyYW5zcG9ydCBlcnJvciBvY2N1cnJlZDonLCBldmVudCk7XG4gICAgdGhpcy51cGRhdGVEYXNoYm9hcmQoKTtcbiAgfVxuXG4gIHByaXZhdGUgdG9nZ2xlUmVhbFRpbWVVcGRhdGVzKGVuYWJsZWQ6IGJvb2xlYW4pIHtcbiAgICB0aGlzLmlzUmVhbFRpbWVFbmFibGVkID0gZW5hYmxlZDtcbiAgICB0aGlzLmNvbmZpZy5lbmFibGVSZWFsVGltZVVwZGF0ZXMgPSBlbmFibGVkO1xuICAgIFxuICAgIGlmIChlbmFibGVkKSB7XG4gICAgICB0aGlzLnN0YXJ0UmVhbFRpbWVVcGRhdGVzKCk7XG4gICAgICBuZXcgTm90aWNlKCdSZWFsLXRpbWUgdXBkYXRlcyBlbmFibGVkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3RvcFJlYWxUaW1lVXBkYXRlcygpO1xuICAgICAgbmV3IE5vdGljZSgnUmVhbC10aW1lIHVwZGF0ZXMgZGlzYWJsZWQnKTtcbiAgICB9XG4gICAgXG4gICAgLy8gVXBkYXRlIGluZGljYXRvclxuICAgIGNvbnN0IGluZGljYXRvciA9IHRoaXMuY29udGFpbmVyRWwucXVlcnlTZWxlY3RvcignLnJlYWx0aW1lLWluZGljYXRvcicpIGFzIEhUTUxFbGVtZW50O1xuICAgIGlmIChpbmRpY2F0b3IpIHtcbiAgICAgIGluZGljYXRvci5lbXB0eSgpO1xuICAgICAgaWYgKGVuYWJsZWQpIHtcbiAgICAgICAgaW5kaWNhdG9yLmNyZWF0ZVNwYW4oeyB0ZXh0OiAn8J+foiBSZWFsLXRpbWUnLCBjbHM6ICdyZWFsdGltZS1hY3RpdmUnIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5kaWNhdG9yLmNyZWF0ZVNwYW4oeyB0ZXh0OiAn4pqqIE1hbnVhbCByZWZyZXNoJywgY2xzOiAncmVhbHRpbWUtaW5hY3RpdmUnIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgbWFudWFsUmVmcmVzaCgpIHtcbiAgICBjb25zdCBidXR0b24gPSB0aGlzLmNvbnRhaW5lckVsLnF1ZXJ5U2VsZWN0b3IoJy5tb2QtY3RhJykgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gICAgaWYgKGJ1dHRvbikge1xuICAgICAgYnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9ICfwn5SEIFJlZnJlc2hpbmcuLi4nO1xuICAgIH1cbiAgICBcbiAgICB0cnkge1xuICAgICAgYXdhaXQgdGhpcy51cGRhdGVEYXNoYm9hcmQoKTtcbiAgICAgIG5ldyBOb3RpY2UoJ0Rhc2hib2FyZCByZWZyZXNoZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIG5ldyBOb3RpY2UoJ0ZhaWxlZCB0byByZWZyZXNoIGRhc2hib2FyZCcpO1xuICAgICAgY29uc29sZS5lcnJvcignTWFudWFsIHJlZnJlc2ggZmFpbGVkOicsIGVycm9yKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKGJ1dHRvbikge1xuICAgICAgICBidXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgYnV0dG9uLnRleHRDb250ZW50ID0gJ/CflIQgUmVmcmVzaCc7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyB0ZXN0VHJhbnNwb3J0KHRyYW5zcG9ydFR5cGU6IFRyYW5zcG9ydFR5cGUpIHtcbiAgICBuZXcgTm90aWNlKGBUZXN0aW5nICR7dHJhbnNwb3J0VHlwZX0gdHJhbnNwb3J0Li4uYCk7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIFRlc3QgdGhlIHNwZWNpZmljIHRyYW5zcG9ydFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5wZXJmb3JtVHJhbnNwb3J0VGVzdCh0cmFuc3BvcnRUeXBlKTtcbiAgICAgIFxuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIG5ldyBOb3RpY2UoYOKchSAke3RyYW5zcG9ydFR5cGV9IHRyYW5zcG9ydCB0ZXN0IHN1Y2Nlc3NmdWxgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ldyBOb3RpY2UoYOKdjCAke3RyYW5zcG9ydFR5cGV9IHRyYW5zcG9ydCB0ZXN0IGZhaWxlZDogJHtyZXN1bHQuZXJyb3J9YCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSB0aGUgc3BlY2lmaWMgY2FyZFxuICAgICAgY29uc3Qgc3RhdHVzID0gYXdhaXQgdGhpcy5nZXRUcmFuc3BvcnRTdGF0dXModHJhbnNwb3J0VHlwZSk7XG4gICAgICB0aGlzLnVwZGF0ZVRyYW5zcG9ydENhcmQodHJhbnNwb3J0VHlwZSwgc3RhdHVzKTtcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBuZXcgTm90aWNlKGDinYwgJHt0cmFuc3BvcnRUeXBlfSB0cmFuc3BvcnQgdGVzdCBmYWlsZWRgKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFRyYW5zcG9ydCB0ZXN0IGZhaWxlZCBmb3IgJHt0cmFuc3BvcnRUeXBlfTpgLCBlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBwZXJmb3JtVHJhbnNwb3J0VGVzdCh0cmFuc3BvcnRUeXBlOiBUcmFuc3BvcnRUeXBlKTogUHJvbWlzZTx7c3VjY2VzczogYm9vbGVhbiwgZXJyb3I/OiBzdHJpbmd9PiB7XG4gICAgLy8gU2ltdWxhdGUgdHJhbnNwb3J0IHRlc3RcbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwMCkpO1xuICAgIFxuICAgIC8vIFJhbmRvbSBzdWNjZXNzL2ZhaWx1cmUgZm9yIGRlbW9uc3RyYXRpb25cbiAgICBjb25zdCBzdWNjZXNzID0gTWF0aC5yYW5kb20oKSA+IDAuMjtcbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzcyxcbiAgICAgIGVycm9yOiBzdWNjZXNzID8gdW5kZWZpbmVkIDogJ0Nvbm5lY3Rpb24gdGltZW91dCdcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBzd2l0Y2hUb1RyYW5zcG9ydCh0cmFuc3BvcnRUeXBlOiBUcmFuc3BvcnRUeXBlKSB7XG4gICAgY29uc3QgY29uZmlybWVkID0gY29uZmlybShgU3dpdGNoIHRvICR7dHJhbnNwb3J0VHlwZX0gdHJhbnNwb3J0IGFzIHByaW1hcnk/YCk7XG4gICAgaWYgKCFjb25maXJtZWQpIHJldHVybjtcbiAgICBcbiAgICB0cnkge1xuICAgICAgLy8gU3dpdGNoIHRyYW5zcG9ydCB2aWEgdHJhbnNwb3J0IG1hbmFnZXJcbiAgICAgIC8vIGF3YWl0IHRoaXMudHJhbnNwb3J0TWFuYWdlci5zd2l0Y2hQcmltYXJ5VHJhbnNwb3J0KHRyYW5zcG9ydFR5cGUpO1xuICAgICAgXG4gICAgICBuZXcgTm90aWNlKGDinIUgU3dpdGNoZWQgdG8gJHt0cmFuc3BvcnRUeXBlfSB0cmFuc3BvcnRgKTtcbiAgICAgIGF3YWl0IHRoaXMudXBkYXRlRGFzaGJvYXJkKCk7XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbmV3IE5vdGljZShg4p2MIEZhaWxlZCB0byBzd2l0Y2ggdG8gJHt0cmFuc3BvcnRUeXBlfSB0cmFuc3BvcnRgKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1RyYW5zcG9ydCBzd2l0Y2ggZmFpbGVkOicsIGVycm9yKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGV4cG9ydERhdGEoKSB7XG4gICAgY29uc3QgZGF0YSA9IHtcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgc3lzdGVtSGVhbHRoOiB0aGlzLmN1cnJlbnRIZWFsdGgsXG4gICAgICBwZXJmb3JtYW5jZU1ldHJpY3M6IHRoaXMuY3VycmVudE1ldHJpY3MsXG4gICAgICBleHBvcnRlZEJ5OiAnVmF1bHRQaWxvdCBUcmFuc3BvcnQgRGFzaGJvYXJkJ1xuICAgIH07XG4gICAgXG4gICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtKU09OLnN0cmluZ2lmeShkYXRhLCBudWxsLCAyKV0sIHsgdHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nIH0pO1xuICAgIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgXG4gICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICBhLmhyZWYgPSB1cmw7XG4gICAgYS5kb3dubG9hZCA9IGB2YXVsdHBpbG90LWRhc2hib2FyZC0ke25ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdfS5qc29uYDtcbiAgICBhLmNsaWNrKCk7XG4gICAgXG4gICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xuICAgIG5ldyBOb3RpY2UoJ0Rhc2hib2FyZCBkYXRhIGV4cG9ydGVkIHN1Y2Nlc3NmdWxseScpO1xuICB9XG5cbiAgcHJpdmF0ZSBvcGVuRGFzaGJvYXJkU2V0dGluZ3MoKSB7XG4gICAgbmV3IE5vdGljZSgnRGFzaGJvYXJkIHNldHRpbmdzIHdpbGwgb3BlbiBpbiBhIGZ1dHVyZSB1cGRhdGUnKTtcbiAgICAvLyBUT0RPOiBJbXBsZW1lbnQgZGFzaGJvYXJkIHNldHRpbmdzIG1vZGFsXG4gIH1cbn1cbiIsIi8qKlxuICogQWR2YW5jZWRTZXR0aW5ncyAtIFZpc3VhbCBjb25maWd1cmF0aW9uIGludGVyZmFjZSBmb3IgVmF1bHRQaWxvdFxuICovXG5cbmltcG9ydCB7IFNldHRpbmcsIENvbXBvbmVudCwgTm90aWNlLCBNb2RhbCwgQXBwIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgVHJhbnNwb3J0VHlwZSB9IGZyb20gJy4uL2RldnBpcGUvdHJhbnNwb3J0cy9EZXZQaXBlVHJhbnNwb3J0JztcbmltcG9ydCB7IFRyYW5zcG9ydE1hbmFnZXJDb25maWcgfSBmcm9tICcuLi9kZXZwaXBlL1RyYW5zcG9ydE1hbmFnZXInO1xuaW1wb3J0IFZhdWx0UGlsb3RQbHVnaW4gZnJvbSAnLi4vbWFpbic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQWR2YW5jZWRTZXR0aW5nc0NvbmZpZyB7XG4gIHNob3dFeHBlcnRPcHRpb25zOiBib29sZWFuO1xuICBlbmFibGVSZWFsVGltZVZhbGlkYXRpb246IGJvb2xlYW47XG4gIGFsbG93SW1wb3J0RXhwb3J0OiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbmZpZ3VyYXRpb25Qcm9maWxlIHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICBjb25maWc6IFZhdWx0UGlsb3RDb25maWd1cmF0aW9uO1xuICBjcmVhdGVkOiBEYXRlO1xuICBsYXN0TW9kaWZpZWQ6IERhdGU7XG4gIGlzRGVmYXVsdDogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBWYXVsdFBpbG90Q29uZmlndXJhdGlvbiB7XG4gIHRyYW5zcG9ydDoge1xuICAgIHByaW1hcnlUcmFuc3BvcnQ6IFRyYW5zcG9ydFR5cGU7XG4gICAgZmFsbGJhY2tDaGFpbjogVHJhbnNwb3J0VHlwZVtdO1xuICAgIHNlbGVjdGlvbkNyaXRlcmlhOiB7XG4gICAgICBsYXRlbmN5V2VpZ2h0OiBudW1iZXI7XG4gICAgICByZWxpYWJpbGl0eVdlaWdodDogbnVtYmVyO1xuICAgICAgY2FwYWJpbGl0eVdlaWdodDogbnVtYmVyO1xuICAgICAgY29zdFdlaWdodDogbnVtYmVyO1xuICAgIH07XG4gICAgdGltZW91dHM6IHtcbiAgICAgIGNvbm5lY3Rpb246IG51bWJlcjtcbiAgICAgIHJlcXVlc3Q6IG51bWJlcjtcbiAgICAgIHJldHJ5OiBudW1iZXI7XG4gICAgfTtcbiAgICByZXRyeVBvbGljeToge1xuICAgICAgbWF4QXR0ZW1wdHM6IG51bWJlcjtcbiAgICAgIGJhY2tvZmZNdWx0aXBsaWVyOiBudW1iZXI7XG4gICAgICBtYXhCYWNrb2ZmVGltZTogbnVtYmVyO1xuICAgIH07XG4gIH07XG4gIHBlcmZvcm1hbmNlOiB7XG4gICAgbW9kZTogJ3BlcmZvcm1hbmNlJyB8ICdiYWxhbmNlZCcgfCAncmVsaWFiaWxpdHknO1xuICAgIGVuYWJsZUNvbm5lY3Rpb25Qb29saW5nOiBib29sZWFuO1xuICAgIG1heENvbmN1cnJlbnRSZXF1ZXN0czogbnVtYmVyO1xuICAgIGVuYWJsZUNvbXByZXNzaW9uOiBib29sZWFuO1xuICAgIGVuYWJsZUNhY2hpbmc6IGJvb2xlYW47XG4gICAgY2FjaGVTaXplOiBudW1iZXI7XG4gIH07XG4gIG1vbml0b3Jpbmc6IHtcbiAgICBlbmFibGVIZWFsdGhDaGVja3M6IGJvb2xlYW47XG4gICAgaGVhbHRoQ2hlY2tJbnRlcnZhbDogbnVtYmVyO1xuICAgIGVuYWJsZU1ldHJpY3M6IGJvb2xlYW47XG4gICAgbWV0cmljc1JldGVudGlvbjogbnVtYmVyO1xuICAgIGVuYWJsZVByZWRpY3RpdmVBbGVydHM6IGJvb2xlYW47XG4gIH07XG4gIHVpOiB7XG4gICAgdGhlbWU6ICdhdXRvJyB8ICdsaWdodCcgfCAnZGFyayc7XG4gICAgZW5hYmxlQW5pbWF0aW9uczogYm9vbGVhbjtcbiAgICBzaG93QWR2YW5jZWRNZXRyaWNzOiBib29sZWFuO1xuICAgIGRhc2hib2FyZFJlZnJlc2hSYXRlOiBudW1iZXI7XG4gICAgZW5hYmxlTm90aWZpY2F0aW9uczogYm9vbGVhbjtcbiAgfTtcbiAgcHJpdmFjeToge1xuICAgIGVuYWJsZUFuYWx5dGljczogYm9vbGVhbjtcbiAgICBzaGFyZVVzYWdlRGF0YTogYm9vbGVhbjtcbiAgICBkYXRhUmV0ZW50aW9uRGF5czogbnVtYmVyO1xuICB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbmZpZ3VyYXRpb25WYWxpZGF0aW9uUmVzdWx0IHtcbiAgaXNWYWxpZDogYm9vbGVhbjtcbiAgZXJyb3JzOiBWYWxpZGF0aW9uRXJyb3JbXTtcbiAgd2FybmluZ3M6IFZhbGlkYXRpb25XYXJuaW5nW107XG4gIGVzdGltYXRlZEltcGFjdDoge1xuICAgIHBlcmZvcm1hbmNlQ2hhbmdlOiBudW1iZXI7XG4gICAgcmVsaWFiaWxpdHlDaGFuZ2U6IG51bWJlcjtcbiAgICByZXNvdXJjZVVzYWdlOiBudW1iZXI7XG4gIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmFsaWRhdGlvbkVycm9yIHtcbiAgZmllbGQ6IHN0cmluZztcbiAgbWVzc2FnZTogc3RyaW5nO1xuICBzZXZlcml0eTogJ2Vycm9yJyB8ICd3YXJuaW5nJztcbiAgc3VnZ2VzdGlvbj86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBWYWxpZGF0aW9uV2FybmluZyB7XG4gIGZpZWxkOiBzdHJpbmc7XG4gIG1lc3NhZ2U6IHN0cmluZztcbiAgaW1wYWN0OiAnbG93JyB8ICdtZWRpdW0nIHwgJ2hpZ2gnO1xuICByZWNvbW1lbmRhdGlvbj86IHN0cmluZztcbn1cblxuZXhwb3J0IGNsYXNzIEFkdmFuY2VkU2V0dGluZ3MgZXh0ZW5kcyBDb21wb25lbnQge1xuICBwcml2YXRlIGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudDtcbiAgcHJpdmF0ZSBwbHVnaW46IFZhdWx0UGlsb3RQbHVnaW47XG4gIHByaXZhdGUgY29uZmlnOiBBZHZhbmNlZFNldHRpbmdzQ29uZmlnO1xuICBwcml2YXRlIGN1cnJlbnRDb25maWd1cmF0aW9uOiBWYXVsdFBpbG90Q29uZmlndXJhdGlvbjtcbiAgcHJpdmF0ZSBwcm9maWxlczogQ29uZmlndXJhdGlvblByb2ZpbGVbXSA9IFtdO1xuICBwcml2YXRlIHZhbGlkYXRpb25SZXN1bHQ/OiBDb25maWd1cmF0aW9uVmFsaWRhdGlvblJlc3VsdDtcbiAgXG4gIC8vIFVJIEVsZW1lbnRzXG4gIHByaXZhdGUgcHJvZmlsZVNlbGVjdG9yITogSFRNTFNlbGVjdEVsZW1lbnQ7XG4gIHByaXZhdGUgdmFsaWRhdGlvbkNvbnRhaW5lciE6IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIGNvbmZpZ3VyYXRpb25Db250YWluZXIhOiBIVE1MRWxlbWVudDtcbiAgcHJpdmF0ZSBwcmV2aWV3Q29udGFpbmVyITogSFRNTEVsZW1lbnQ7XG4gIFxuICBwcml2YXRlIHZhbGlkYXRpb25UaW1lb3V0PzogbnVtYmVyO1xuICBwcml2YXRlIGhhc1Vuc2F2ZWRDaGFuZ2VzOiBib29sZWFuID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgY29udGFpbmVyRWw6IEhUTUxFbGVtZW50LFxuICAgIHBsdWdpbjogVmF1bHRQaWxvdFBsdWdpbixcbiAgICBjb25maWc6IEFkdmFuY2VkU2V0dGluZ3NDb25maWcgPSB7XG4gICAgICBzaG93RXhwZXJ0T3B0aW9uczogZmFsc2UsXG4gICAgICBlbmFibGVSZWFsVGltZVZhbGlkYXRpb246IHRydWUsXG4gICAgICBhbGxvd0ltcG9ydEV4cG9ydDogdHJ1ZVxuICAgIH1cbiAgKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmNvbnRhaW5lckVsID0gY29udGFpbmVyRWw7XG4gICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgdGhpcy5jdXJyZW50Q29uZmlndXJhdGlvbiA9IHRoaXMuZ2V0RGVmYXVsdENvbmZpZ3VyYXRpb24oKTtcbiAgICB0aGlzLmxvYWRQcm9maWxlcygpO1xuICB9XG5cbiAgYXN5bmMgb25sb2FkKCkge1xuICAgIHRoaXMuaW5pdGlhbGl6ZUludGVyZmFjZSgpO1xuICAgIGF3YWl0IHRoaXMubG9hZEN1cnJlbnRDb25maWd1cmF0aW9uKCk7XG4gICAgdGhpcy5yZW5kZXJTZXR0aW5ncygpO1xuICAgIFxuICAgIGlmICh0aGlzLmNvbmZpZy5lbmFibGVSZWFsVGltZVZhbGlkYXRpb24pIHtcbiAgICAgIHRoaXMuc3RhcnRSZWFsVGltZVZhbGlkYXRpb24oKTtcbiAgICB9XG4gIH1cblxuICBvbnVubG9hZCgpIHtcbiAgICBpZiAodGhpcy52YWxpZGF0aW9uVGltZW91dCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudmFsaWRhdGlvblRpbWVvdXQpO1xuICAgIH1cbiAgICBcbiAgICBpZiAodGhpcy5oYXNVbnNhdmVkQ2hhbmdlcykge1xuICAgICAgY29uc3Qgc2hvdWxkU2F2ZSA9IGNvbmZpcm0oJ1lvdSBoYXZlIHVuc2F2ZWQgY2hhbmdlcy4gV291bGQgeW91IGxpa2UgdG8gc2F2ZSB0aGVtPycpO1xuICAgICAgaWYgKHNob3VsZFNhdmUpIHtcbiAgICAgICAgdGhpcy5zYXZlQ29uZmlndXJhdGlvbigpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaW5pdGlhbGl6ZUludGVyZmFjZSgpIHtcbiAgICB0aGlzLmNvbnRhaW5lckVsLmVtcHR5KCk7XG4gICAgdGhpcy5jb250YWluZXJFbC5hZGRDbGFzcygnYWR2YW5jZWQtc2V0dGluZ3MnKTtcbiAgICBcbiAgICAvLyBDcmVhdGUgaGVhZGVyXG4gICAgdGhpcy5jcmVhdGVIZWFkZXIoKTtcbiAgICBcbiAgICAvLyBDcmVhdGUgcHJvZmlsZSBtYW5hZ2VtZW50IHNlY3Rpb25cbiAgICB0aGlzLmNyZWF0ZVByb2ZpbGVNYW5hZ2VtZW50KCk7XG4gICAgXG4gICAgLy8gQ3JlYXRlIHZhbGlkYXRpb24gc2VjdGlvblxuICAgIHRoaXMuY3JlYXRlVmFsaWRhdGlvblNlY3Rpb24oKTtcbiAgICBcbiAgICAvLyBDcmVhdGUgY29uZmlndXJhdGlvbiBzZWN0aW9uc1xuICAgIHRoaXMuY3JlYXRlQ29uZmlndXJhdGlvblNlY3Rpb25zKCk7XG4gICAgXG4gICAgLy8gQ3JlYXRlIHByZXZpZXcgc2VjdGlvblxuICAgIHRoaXMuY3JlYXRlUHJldmlld1NlY3Rpb24oKTtcbiAgICBcbiAgICAvLyBDcmVhdGUgYWN0aW9uIGJ1dHRvbnNcbiAgICB0aGlzLmNyZWF0ZUFjdGlvbkJ1dHRvbnMoKTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlSGVhZGVyKCkge1xuICAgIGNvbnN0IGhlYWRlciA9IHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRGl2KCdzZXR0aW5ncy1oZWFkZXInKTtcbiAgICBoZWFkZXIuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAnQWR2YW5jZWQgU2V0dGluZ3MnIH0pO1xuICAgIGhlYWRlci5jcmVhdGVFbCgncCcsIHsgXG4gICAgICB0ZXh0OiAnRmluZS10dW5lIFZhdWx0UGlsb3QgY29uZmlndXJhdGlvbiBmb3Igb3B0aW1hbCBwZXJmb3JtYW5jZScsXG4gICAgICBjbHM6ICdzZXR0aW5ncy1zdWJ0aXRsZSdcbiAgICB9KTtcbiAgICBcbiAgICAvLyBFeHBlcnQgbW9kZSB0b2dnbGVcbiAgICBjb25zdCBleHBlcnRUb2dnbGUgPSBoZWFkZXIuY3JlYXRlRGl2KCdleHBlcnQtdG9nZ2xlJyk7XG4gICAgY29uc3QgZXhwZXJ0TGFiZWwgPSBleHBlcnRUb2dnbGUuY3JlYXRlRWwoJ2xhYmVsJyk7XG4gICAgZXhwZXJ0TGFiZWwuY3JlYXRlU3Bhbih7IHRleHQ6ICdFeHBlcnQgTW9kZScgfSk7XG4gICAgY29uc3QgZXhwZXJ0Q2hlY2tib3ggPSBleHBlcnRMYWJlbC5jcmVhdGVFbCgnaW5wdXQnLCB7IHR5cGU6ICdjaGVja2JveCcgfSk7XG4gICAgZXhwZXJ0Q2hlY2tib3guY2hlY2tlZCA9IHRoaXMuY29uZmlnLnNob3dFeHBlcnRPcHRpb25zO1xuICAgIGV4cGVydENoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgIHRoaXMuY29uZmlnLnNob3dFeHBlcnRPcHRpb25zID0gZXhwZXJ0Q2hlY2tib3guY2hlY2tlZDtcbiAgICAgIHRoaXMudXBkYXRlRXhwZXJ0T3B0aW9uc1Zpc2liaWxpdHkoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlUHJvZmlsZU1hbmFnZW1lbnQoKSB7XG4gICAgY29uc3Qgc2VjdGlvbiA9IHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRGl2KCdwcm9maWxlLW1hbmFnZW1lbnQtc2VjdGlvbicpO1xuICAgIHNlY3Rpb24uY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiAnQ29uZmlndXJhdGlvbiBQcm9maWxlcycgfSk7XG4gICAgXG4gICAgY29uc3QgcHJvZmlsZUNvbnRyb2xzID0gc2VjdGlvbi5jcmVhdGVEaXYoJ3Byb2ZpbGUtY29udHJvbHMnKTtcbiAgICBcbiAgICAvLyBQcm9maWxlIHNlbGVjdG9yXG4gICAgY29uc3Qgc2VsZWN0b3JDb250YWluZXIgPSBwcm9maWxlQ29udHJvbHMuY3JlYXRlRGl2KCdwcm9maWxlLXNlbGVjdG9yLWNvbnRhaW5lcicpO1xuICAgIHNlbGVjdG9yQ29udGFpbmVyLmNyZWF0ZVNwYW4oeyB0ZXh0OiAnQ3VycmVudCBQcm9maWxlOicsIGNsczogJ3Byb2ZpbGUtbGFiZWwnIH0pO1xuICAgIHRoaXMucHJvZmlsZVNlbGVjdG9yID0gc2VsZWN0b3JDb250YWluZXIuY3JlYXRlRWwoJ3NlbGVjdCcsIHsgY2xzOiAncHJvZmlsZS1zZWxlY3RvcicgfSk7XG4gICAgdGhpcy51cGRhdGVQcm9maWxlU2VsZWN0b3IoKTtcbiAgICBcbiAgICB0aGlzLnByb2ZpbGVTZWxlY3Rvci5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICB0aGlzLmxvYWRQcm9maWxlKHRoaXMucHJvZmlsZVNlbGVjdG9yLnZhbHVlKTtcbiAgICB9KTtcbiAgICBcbiAgICAvLyBQcm9maWxlIGFjdGlvbiBidXR0b25zXG4gICAgY29uc3QgcHJvZmlsZUFjdGlvbnMgPSBwcm9maWxlQ29udHJvbHMuY3JlYXRlRGl2KCdwcm9maWxlLWFjdGlvbnMnKTtcbiAgICBcbiAgICBjb25zdCBzYXZlUHJvZmlsZUJ0biA9IHByb2ZpbGVBY3Rpb25zLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdTYXZlIGFzIE5ldyBQcm9maWxlJywgY2xzOiAnbW9kLW11dGVkJyB9KTtcbiAgICBzYXZlUHJvZmlsZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuc2hvd1NhdmVQcm9maWxlTW9kYWwoKSk7XG4gICAgXG4gICAgY29uc3QgZGVsZXRlUHJvZmlsZUJ0biA9IHByb2ZpbGVBY3Rpb25zLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdEZWxldGUgUHJvZmlsZScsIGNsczogJ21vZC13YXJuaW5nJyB9KTtcbiAgICBkZWxldGVQcm9maWxlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5kZWxldGVDdXJyZW50UHJvZmlsZSgpKTtcbiAgICBcbiAgICBpZiAodGhpcy5jb25maWcuYWxsb3dJbXBvcnRFeHBvcnQpIHtcbiAgICAgIGNvbnN0IGltcG9ydEJ0biA9IHByb2ZpbGVBY3Rpb25zLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdJbXBvcnQnLCBjbHM6ICdtb2QtbXV0ZWQnIH0pO1xuICAgICAgaW1wb3J0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5pbXBvcnRDb25maWd1cmF0aW9uKCkpO1xuICAgICAgXG4gICAgICBjb25zdCBleHBvcnRCdG4gPSBwcm9maWxlQWN0aW9ucy5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnRXhwb3J0JywgY2xzOiAnbW9kLW11dGVkJyB9KTtcbiAgICAgIGV4cG9ydEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuZXhwb3J0Q29uZmlndXJhdGlvbigpKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZVZhbGlkYXRpb25TZWN0aW9uKCkge1xuICAgIGNvbnN0IHNlY3Rpb24gPSB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZURpdigndmFsaWRhdGlvbi1zZWN0aW9uJyk7XG4gICAgc2VjdGlvbi5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdDb25maWd1cmF0aW9uIFN0YXR1cycgfSk7XG4gICAgXG4gICAgdGhpcy52YWxpZGF0aW9uQ29udGFpbmVyID0gc2VjdGlvbi5jcmVhdGVEaXYoJ3ZhbGlkYXRpb24tY29udGFpbmVyJyk7XG4gICAgdGhpcy5yZW5kZXJWYWxpZGF0aW9uUGxhY2Vob2xkZXIoKTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlQ29uZmlndXJhdGlvblNlY3Rpb25zKCkge1xuICAgIHRoaXMuY29uZmlndXJhdGlvbkNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRGl2KCdjb25maWd1cmF0aW9uLXNlY3Rpb25zJyk7XG4gICAgXG4gICAgLy8gVHJhbnNwb3J0IHNldHRpbmdzXG4gICAgdGhpcy5jcmVhdGVUcmFuc3BvcnRTZXR0aW5ncygpO1xuICAgIFxuICAgIC8vIFBlcmZvcm1hbmNlIHNldHRpbmdzXG4gICAgdGhpcy5jcmVhdGVQZXJmb3JtYW5jZVNldHRpbmdzKCk7XG4gICAgXG4gICAgLy8gTW9uaXRvcmluZyBzZXR0aW5nc1xuICAgIHRoaXMuY3JlYXRlTW9uaXRvcmluZ1NldHRpbmdzKCk7XG4gICAgXG4gICAgLy8gVUkgc2V0dGluZ3NcbiAgICB0aGlzLmNyZWF0ZVVJU2V0dGluZ3MoKTtcbiAgICBcbiAgICAvLyBQcml2YWN5IHNldHRpbmdzXG4gICAgdGhpcy5jcmVhdGVQcml2YWN5U2V0dGluZ3MoKTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlVHJhbnNwb3J0U2V0dGluZ3MoKSB7XG4gICAgY29uc3Qgc2VjdGlvbiA9IHRoaXMuY29uZmlndXJhdGlvbkNvbnRhaW5lci5jcmVhdGVEaXYoJ2NvbmZpZy1zZWN0aW9uIHRyYW5zcG9ydC1zZWN0aW9uJyk7XG4gICAgc2VjdGlvbi5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6ICfwn5qAIFRyYW5zcG9ydCBDb25maWd1cmF0aW9uJyB9KTtcbiAgICBcbiAgICBjb25zdCBzZXR0aW5nc0NvbnRhaW5lciA9IHNlY3Rpb24uY3JlYXRlRGl2KCdzZXR0aW5ncy1jb250YWluZXInKTtcbiAgICBcbiAgICAvLyBQcmltYXJ5IHRyYW5zcG9ydCBzZWxlY3Rpb25cbiAgICBuZXcgU2V0dGluZyhzZXR0aW5nc0NvbnRhaW5lcilcbiAgICAgIC5zZXROYW1lKCdQcmltYXJ5IFRyYW5zcG9ydCcpXG4gICAgICAuc2V0RGVzYygnQ2hvb3NlIHRoZSBwcmVmZXJyZWQgdHJhbnNwb3J0IG1ldGhvZCcpXG4gICAgICAuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4ge1xuICAgICAgICBkcm9wZG93bi5hZGRPcHRpb24oVHJhbnNwb3J0VHlwZS5IVFRQLCAnSFRUUCAoUmVsaWFibGUpJyk7XG4gICAgICAgIGRyb3Bkb3duLmFkZE9wdGlvbihUcmFuc3BvcnRUeXBlLldFQlNPQ0tFVCwgJ1dlYlNvY2tldCAoUmVhbC10aW1lKScpO1xuICAgICAgICBkcm9wZG93bi5hZGRPcHRpb24oVHJhbnNwb3J0VHlwZS5GSUxFU1lTVEVNLCAnRmlsZVN5c3RlbSAoT2ZmbGluZSknKTtcbiAgICAgICAgZHJvcGRvd24uc2V0VmFsdWUodGhpcy5jdXJyZW50Q29uZmlndXJhdGlvbi50cmFuc3BvcnQucHJpbWFyeVRyYW5zcG9ydCk7XG4gICAgICAgIGRyb3Bkb3duLm9uQ2hhbmdlKHZhbHVlID0+IHtcbiAgICAgICAgICB0aGlzLmN1cnJlbnRDb25maWd1cmF0aW9uLnRyYW5zcG9ydC5wcmltYXJ5VHJhbnNwb3J0ID0gdmFsdWUgYXMgVHJhbnNwb3J0VHlwZTtcbiAgICAgICAgICB0aGlzLm9uQ29uZmlndXJhdGlvbkNoYW5nZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIFxuICAgIC8vIEZhbGxiYWNrIGNoYWluIGNvbmZpZ3VyYXRpb25cbiAgICB0aGlzLmNyZWF0ZUZhbGxiYWNrQ2hhaW5Db25maWcoc2V0dGluZ3NDb250YWluZXIpO1xuICAgIFxuICAgIC8vIFNlbGVjdGlvbiBjcml0ZXJpYSBzbGlkZXJzXG4gICAgdGhpcy5jcmVhdGVTZWxlY3Rpb25Dcml0ZXJpYUNvbmZpZyhzZXR0aW5nc0NvbnRhaW5lcik7XG4gICAgXG4gICAgLy8gVGltZW91dCBjb25maWd1cmF0aW9uXG4gICAgdGhpcy5jcmVhdGVUaW1lb3V0Q29uZmlnKHNldHRpbmdzQ29udGFpbmVyKTtcbiAgICBcbiAgICAvLyBSZXRyeSBwb2xpY3kgY29uZmlndXJhdGlvblxuICAgIHRoaXMuY3JlYXRlUmV0cnlQb2xpY3lDb25maWcoc2V0dGluZ3NDb250YWluZXIpO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVGYWxsYmFja0NoYWluQ29uZmlnKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcbiAgICBjb25zdCBmYWxsYmFja1NldHRpbmcgPSBuZXcgU2V0dGluZyhjb250YWluZXIpXG4gICAgICAuc2V0TmFtZSgnRmFsbGJhY2sgQ2hhaW4nKVxuICAgICAgLnNldERlc2MoJ0NvbmZpZ3VyZSB0cmFuc3BvcnQgZmFsbGJhY2sgb3JkZXInKTtcbiAgICBcbiAgICBjb25zdCBmYWxsYmFja0NvbnRhaW5lciA9IGZhbGxiYWNrU2V0dGluZy5jb250cm9sRWwuY3JlYXRlRGl2KCdmYWxsYmFjay1jaGFpbi1jb25maWcnKTtcbiAgICBcbiAgICAvLyBDdXJyZW50IGZhbGxiYWNrIGNoYWluIGRpc3BsYXlcbiAgICBjb25zdCBjaGFpbkRpc3BsYXkgPSBmYWxsYmFja0NvbnRhaW5lci5jcmVhdGVEaXYoJ2NoYWluLWRpc3BsYXknKTtcbiAgICB0aGlzLnVwZGF0ZUZhbGxiYWNrQ2hhaW5EaXNwbGF5KGNoYWluRGlzcGxheSk7XG4gICAgXG4gICAgLy8gQWRkIHRyYW5zcG9ydCBidXR0b25zXG4gICAgY29uc3QgYWRkQnV0dG9ucyA9IGZhbGxiYWNrQ29udGFpbmVyLmNyZWF0ZURpdignYWRkLXRyYW5zcG9ydC1idXR0b25zJyk7XG4gICAgW1RyYW5zcG9ydFR5cGUuSFRUUCwgVHJhbnNwb3J0VHlwZS5XRUJTT0NLRVQsIFRyYW5zcG9ydFR5cGUuRklMRVNZU1RFTV0uZm9yRWFjaCh0cmFuc3BvcnQgPT4ge1xuICAgICAgY29uc3QgYnV0dG9uID0gYWRkQnV0dG9ucy5jcmVhdGVFbCgnYnV0dG9uJywgeyBcbiAgICAgICAgdGV4dDogYEFkZCAke3RyYW5zcG9ydC50b1VwcGVyQ2FzZSgpfWAsXG4gICAgICAgIGNsczogJ21vZC1tdXRlZCBhZGQtdHJhbnNwb3J0LWJ0bidcbiAgICAgIH0pO1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBpZiAoIXRoaXMuY3VycmVudENvbmZpZ3VyYXRpb24udHJhbnNwb3J0LmZhbGxiYWNrQ2hhaW4uaW5jbHVkZXModHJhbnNwb3J0KSkge1xuICAgICAgICAgIHRoaXMuY3VycmVudENvbmZpZ3VyYXRpb24udHJhbnNwb3J0LmZhbGxiYWNrQ2hhaW4ucHVzaCh0cmFuc3BvcnQpO1xuICAgICAgICAgIHRoaXMudXBkYXRlRmFsbGJhY2tDaGFpbkRpc3BsYXkoY2hhaW5EaXNwbGF5KTtcbiAgICAgICAgICB0aGlzLm9uQ29uZmlndXJhdGlvbkNoYW5nZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlRmFsbGJhY2tDaGFpbkRpc3BsYXkoY29udGFpbmVyOiBIVE1MRWxlbWVudCkge1xuICAgIGNvbnRhaW5lci5lbXB0eSgpO1xuICAgIFxuICAgIGNvbnN0IGNoYWluID0gdGhpcy5jdXJyZW50Q29uZmlndXJhdGlvbi50cmFuc3BvcnQuZmFsbGJhY2tDaGFpbjtcbiAgICBjaGFpbi5mb3JFYWNoKCh0cmFuc3BvcnQsIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCBpdGVtID0gY29udGFpbmVyLmNyZWF0ZURpdignY2hhaW4taXRlbScpO1xuICAgICAgaXRlbS5jcmVhdGVTcGFuKHsgdGV4dDogYCR7aW5kZXggKyAxfS4gJHt0cmFuc3BvcnQudG9VcHBlckNhc2UoKX1gLCBjbHM6ICdjaGFpbi1sYWJlbCcgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IGFjdGlvbnMgPSBpdGVtLmNyZWF0ZURpdignY2hhaW4tYWN0aW9ucycpO1xuICAgICAgXG4gICAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICAgIGNvbnN0IG1vdmVVcEJ0biA9IGFjdGlvbnMuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ+KGkScsIGNsczogJ21vZC1tdXRlZCBjaGFpbi1idG4nIH0pO1xuICAgICAgICBtb3ZlVXBCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgW2NoYWluW2luZGV4XSwgY2hhaW5baW5kZXggLSAxXV0gPSBbY2hhaW5baW5kZXggLSAxXSwgY2hhaW5baW5kZXhdXTtcbiAgICAgICAgICB0aGlzLnVwZGF0ZUZhbGxiYWNrQ2hhaW5EaXNwbGF5KGNvbnRhaW5lcik7XG4gICAgICAgICAgdGhpcy5vbkNvbmZpZ3VyYXRpb25DaGFuZ2UoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChpbmRleCA8IGNoYWluLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgY29uc3QgbW92ZURvd25CdG4gPSBhY3Rpb25zLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICfihpMnLCBjbHM6ICdtb2QtbXV0ZWQgY2hhaW4tYnRuJyB9KTtcbiAgICAgICAgbW92ZURvd25CdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgW2NoYWluW2luZGV4XSwgY2hhaW5baW5kZXggKyAxXV0gPSBbY2hhaW5baW5kZXggKyAxXSwgY2hhaW5baW5kZXhdXTtcbiAgICAgICAgICB0aGlzLnVwZGF0ZUZhbGxiYWNrQ2hhaW5EaXNwbGF5KGNvbnRhaW5lcik7XG4gICAgICAgICAgdGhpcy5vbkNvbmZpZ3VyYXRpb25DaGFuZ2UoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IHJlbW92ZUJ0biA9IGFjdGlvbnMuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ+KclScsIGNsczogJ21vZC13YXJuaW5nIGNoYWluLWJ0bicgfSk7XG4gICAgICByZW1vdmVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGNoYWluLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIHRoaXMudXBkYXRlRmFsbGJhY2tDaGFpbkRpc3BsYXkoY29udGFpbmVyKTtcbiAgICAgICAgdGhpcy5vbkNvbmZpZ3VyYXRpb25DaGFuZ2UoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVTZWxlY3Rpb25Dcml0ZXJpYUNvbmZpZyhjb250YWluZXI6IEhUTUxFbGVtZW50KSB7XG4gICAgY29uc3QgY3JpdGVyaWFDb250YWluZXIgPSBjb250YWluZXIuY3JlYXRlRGl2KCdzZWxlY3Rpb24tY3JpdGVyaWEtY29udGFpbmVyJyk7XG4gICAgY3JpdGVyaWFDb250YWluZXIuY3JlYXRlRWwoJ2g1JywgeyB0ZXh0OiAnVHJhbnNwb3J0IFNlbGVjdGlvbiBDcml0ZXJpYScgfSk7XG4gICAgXG4gICAgY29uc3QgY3JpdGVyaWEgPSB0aGlzLmN1cnJlbnRDb25maWd1cmF0aW9uLnRyYW5zcG9ydC5zZWxlY3Rpb25Dcml0ZXJpYTtcbiAgICBcbiAgICAvLyBMYXRlbmN5IHdlaWdodFxuICAgIG5ldyBTZXR0aW5nKGNyaXRlcmlhQ29udGFpbmVyKVxuICAgICAgLnNldE5hbWUoJ0xhdGVuY3kgUHJpb3JpdHknKVxuICAgICAgLnNldERlc2MoJ0hvdyBtdWNoIHRvIHByaW9yaXRpemUgbG93IGxhdGVuY3kgKDAtMTAwJSknKVxuICAgICAgLmFkZFNsaWRlcihzbGlkZXIgPT4ge1xuICAgICAgICBzbGlkZXIuc2V0TGltaXRzKDAsIDEwMCwgNSk7XG4gICAgICAgIHNsaWRlci5zZXRWYWx1ZShjcml0ZXJpYS5sYXRlbmN5V2VpZ2h0ICogMTAwKTtcbiAgICAgICAgc2xpZGVyLm9uQ2hhbmdlKHZhbHVlID0+IHtcbiAgICAgICAgICBjcml0ZXJpYS5sYXRlbmN5V2VpZ2h0ID0gdmFsdWUgLyAxMDA7XG4gICAgICAgICAgdGhpcy5ub3JtYWxpemVTZWxlY3Rpb25Dcml0ZXJpYSgpO1xuICAgICAgICAgIHRoaXMub25Db25maWd1cmF0aW9uQ2hhbmdlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBzbGlkZXIuc2V0RHluYW1pY1Rvb2x0aXAoKTtcbiAgICAgIH0pO1xuICAgIFxuICAgIC8vIFJlbGlhYmlsaXR5IHdlaWdodFxuICAgIG5ldyBTZXR0aW5nKGNyaXRlcmlhQ29udGFpbmVyKVxuICAgICAgLnNldE5hbWUoJ1JlbGlhYmlsaXR5IFByaW9yaXR5JylcbiAgICAgIC5zZXREZXNjKCdIb3cgbXVjaCB0byBwcmlvcml0aXplIHJlbGlhYmlsaXR5ICgwLTEwMCUpJylcbiAgICAgIC5hZGRTbGlkZXIoc2xpZGVyID0+IHtcbiAgICAgICAgc2xpZGVyLnNldExpbWl0cygwLCAxMDAsIDUpO1xuICAgICAgICBzbGlkZXIuc2V0VmFsdWUoY3JpdGVyaWEucmVsaWFiaWxpdHlXZWlnaHQgKiAxMDApO1xuICAgICAgICBzbGlkZXIub25DaGFuZ2UodmFsdWUgPT4ge1xuICAgICAgICAgIGNyaXRlcmlhLnJlbGlhYmlsaXR5V2VpZ2h0ID0gdmFsdWUgLyAxMDA7XG4gICAgICAgICAgdGhpcy5ub3JtYWxpemVTZWxlY3Rpb25Dcml0ZXJpYSgpO1xuICAgICAgICAgIHRoaXMub25Db25maWd1cmF0aW9uQ2hhbmdlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBzbGlkZXIuc2V0RHluYW1pY1Rvb2x0aXAoKTtcbiAgICAgIH0pO1xuICAgIFxuICAgIC8vIENhcGFiaWxpdHkgd2VpZ2h0XG4gICAgbmV3IFNldHRpbmcoY3JpdGVyaWFDb250YWluZXIpXG4gICAgICAuc2V0TmFtZSgnRmVhdHVyZSBQcmlvcml0eScpXG4gICAgICAuc2V0RGVzYygnSG93IG11Y2ggdG8gcHJpb3JpdGl6ZSBhZHZhbmNlZCBmZWF0dXJlcyAoMC0xMDAlKScpXG4gICAgICAuYWRkU2xpZGVyKHNsaWRlciA9PiB7XG4gICAgICAgIHNsaWRlci5zZXRMaW1pdHMoMCwgMTAwLCA1KTtcbiAgICAgICAgc2xpZGVyLnNldFZhbHVlKGNyaXRlcmlhLmNhcGFiaWxpdHlXZWlnaHQgKiAxMDApO1xuICAgICAgICBzbGlkZXIub25DaGFuZ2UodmFsdWUgPT4ge1xuICAgICAgICAgIGNyaXRlcmlhLmNhcGFiaWxpdHlXZWlnaHQgPSB2YWx1ZSAvIDEwMDtcbiAgICAgICAgICB0aGlzLm5vcm1hbGl6ZVNlbGVjdGlvbkNyaXRlcmlhKCk7XG4gICAgICAgICAgdGhpcy5vbkNvbmZpZ3VyYXRpb25DaGFuZ2UoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNsaWRlci5zZXREeW5hbWljVG9vbHRpcCgpO1xuICAgICAgfSk7XG4gICAgXG4gICAgLy8gQ29zdCB3ZWlnaHRcbiAgICBuZXcgU2V0dGluZyhjcml0ZXJpYUNvbnRhaW5lcilcbiAgICAgIC5zZXROYW1lKCdFZmZpY2llbmN5IFByaW9yaXR5JylcbiAgICAgIC5zZXREZXNjKCdIb3cgbXVjaCB0byBwcmlvcml0aXplIHJlc291cmNlIGVmZmljaWVuY3kgKDAtMTAwJSknKVxuICAgICAgLmFkZFNsaWRlcihzbGlkZXIgPT4ge1xuICAgICAgICBzbGlkZXIuc2V0TGltaXRzKDAsIDEwMCwgNSk7XG4gICAgICAgIHNsaWRlci5zZXRWYWx1ZShjcml0ZXJpYS5jb3N0V2VpZ2h0ICogMTAwKTtcbiAgICAgICAgc2xpZGVyLm9uQ2hhbmdlKHZhbHVlID0+IHtcbiAgICAgICAgICBjcml0ZXJpYS5jb3N0V2VpZ2h0ID0gdmFsdWUgLyAxMDA7XG4gICAgICAgICAgdGhpcy5ub3JtYWxpemVTZWxlY3Rpb25Dcml0ZXJpYSgpO1xuICAgICAgICAgIHRoaXMub25Db25maWd1cmF0aW9uQ2hhbmdlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBzbGlkZXIuc2V0RHluYW1pY1Rvb2x0aXAoKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVUaW1lb3V0Q29uZmlnKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcbiAgICBpZiAoIXRoaXMuY29uZmlnLnNob3dFeHBlcnRPcHRpb25zKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgdGltZW91dENvbnRhaW5lciA9IGNvbnRhaW5lci5jcmVhdGVEaXYoJ3RpbWVvdXQtY29uZmlnLWNvbnRhaW5lciBleHBlcnQtb3B0aW9uJyk7XG4gICAgdGltZW91dENvbnRhaW5lci5jcmVhdGVFbCgnaDUnLCB7IHRleHQ6ICdUaW1lb3V0IENvbmZpZ3VyYXRpb24nIH0pO1xuICAgIFxuICAgIGNvbnN0IHRpbWVvdXRzID0gdGhpcy5jdXJyZW50Q29uZmlndXJhdGlvbi50cmFuc3BvcnQudGltZW91dHM7XG4gICAgXG4gICAgbmV3IFNldHRpbmcodGltZW91dENvbnRhaW5lcilcbiAgICAgIC5zZXROYW1lKCdDb25uZWN0aW9uIFRpbWVvdXQnKVxuICAgICAgLnNldERlc2MoJ01heGltdW0gdGltZSB0byB3YWl0IGZvciBpbml0aWFsIGNvbm5lY3Rpb24gKG1zKScpXG4gICAgICAuYWRkVGV4dCh0ZXh0ID0+IHtcbiAgICAgICAgdGV4dC5zZXRWYWx1ZSh0aW1lb3V0cy5jb25uZWN0aW9uLnRvU3RyaW5nKCkpO1xuICAgICAgICB0ZXh0Lm9uQ2hhbmdlKHZhbHVlID0+IHtcbiAgICAgICAgICBjb25zdCBwYXJzZWQgPSBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgICAgICAgIGlmICghaXNOYU4ocGFyc2VkKSAmJiBwYXJzZWQgPiAwKSB7XG4gICAgICAgICAgICB0aW1lb3V0cy5jb25uZWN0aW9uID0gcGFyc2VkO1xuICAgICAgICAgICAgdGhpcy5vbkNvbmZpZ3VyYXRpb25DaGFuZ2UoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgXG4gICAgbmV3IFNldHRpbmcodGltZW91dENvbnRhaW5lcilcbiAgICAgIC5zZXROYW1lKCdSZXF1ZXN0IFRpbWVvdXQnKVxuICAgICAgLnNldERlc2MoJ01heGltdW0gdGltZSB0byB3YWl0IGZvciByZXF1ZXN0IGNvbXBsZXRpb24gKG1zKScpXG4gICAgICAuYWRkVGV4dCh0ZXh0ID0+IHtcbiAgICAgICAgdGV4dC5zZXRWYWx1ZSh0aW1lb3V0cy5yZXF1ZXN0LnRvU3RyaW5nKCkpO1xuICAgICAgICB0ZXh0Lm9uQ2hhbmdlKHZhbHVlID0+IHtcbiAgICAgICAgICBjb25zdCBwYXJzZWQgPSBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgICAgICAgIGlmICghaXNOYU4ocGFyc2VkKSAmJiBwYXJzZWQgPiAwKSB7XG4gICAgICAgICAgICB0aW1lb3V0cy5yZXF1ZXN0ID0gcGFyc2VkO1xuICAgICAgICAgICAgdGhpcy5vbkNvbmZpZ3VyYXRpb25DaGFuZ2UoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZVJldHJ5UG9saWN5Q29uZmlnKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcbiAgICBpZiAoIXRoaXMuY29uZmlnLnNob3dFeHBlcnRPcHRpb25zKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgcmV0cnlDb250YWluZXIgPSBjb250YWluZXIuY3JlYXRlRGl2KCdyZXRyeS1wb2xpY3ktY29udGFpbmVyIGV4cGVydC1vcHRpb24nKTtcbiAgICByZXRyeUNvbnRhaW5lci5jcmVhdGVFbCgnaDUnLCB7IHRleHQ6ICdSZXRyeSBQb2xpY3knIH0pO1xuICAgIFxuICAgIGNvbnN0IHJldHJ5ID0gdGhpcy5jdXJyZW50Q29uZmlndXJhdGlvbi50cmFuc3BvcnQucmV0cnlQb2xpY3k7XG4gICAgXG4gICAgbmV3IFNldHRpbmcocmV0cnlDb250YWluZXIpXG4gICAgICAuc2V0TmFtZSgnTWF4IFJldHJ5IEF0dGVtcHRzJylcbiAgICAgIC5zZXREZXNjKCdNYXhpbXVtIG51bWJlciBvZiByZXRyeSBhdHRlbXB0cyBmb3IgZmFpbGVkIHJlcXVlc3RzJylcbiAgICAgIC5hZGRTbGlkZXIoc2xpZGVyID0+IHtcbiAgICAgICAgc2xpZGVyLnNldExpbWl0cygwLCAxMCwgMSk7XG4gICAgICAgIHNsaWRlci5zZXRWYWx1ZShyZXRyeS5tYXhBdHRlbXB0cyk7XG4gICAgICAgIHNsaWRlci5vbkNoYW5nZSh2YWx1ZSA9PiB7XG4gICAgICAgICAgcmV0cnkubWF4QXR0ZW1wdHMgPSB2YWx1ZTtcbiAgICAgICAgICB0aGlzLm9uQ29uZmlndXJhdGlvbkNoYW5nZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2xpZGVyLnNldER5bmFtaWNUb29sdGlwKCk7XG4gICAgICB9KTtcbiAgICBcbiAgICBuZXcgU2V0dGluZyhyZXRyeUNvbnRhaW5lcilcbiAgICAgIC5zZXROYW1lKCdCYWNrb2ZmIE11bHRpcGxpZXInKVxuICAgICAgLnNldERlc2MoJ0V4cG9uZW50aWFsIGJhY2tvZmYgbXVsdGlwbGllciBmb3IgcmV0cnkgZGVsYXlzJylcbiAgICAgIC5hZGRTbGlkZXIoc2xpZGVyID0+IHtcbiAgICAgICAgc2xpZGVyLnNldExpbWl0cygxLCA1LCAwLjEpO1xuICAgICAgICBzbGlkZXIuc2V0VmFsdWUocmV0cnkuYmFja29mZk11bHRpcGxpZXIpO1xuICAgICAgICBzbGlkZXIub25DaGFuZ2UodmFsdWUgPT4ge1xuICAgICAgICAgIHJldHJ5LmJhY2tvZmZNdWx0aXBsaWVyID0gdmFsdWU7XG4gICAgICAgICAgdGhpcy5vbkNvbmZpZ3VyYXRpb25DaGFuZ2UoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNsaWRlci5zZXREeW5hbWljVG9vbHRpcCgpO1xuICAgICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZVBlcmZvcm1hbmNlU2V0dGluZ3MoKSB7XG4gICAgY29uc3Qgc2VjdGlvbiA9IHRoaXMuY29uZmlndXJhdGlvbkNvbnRhaW5lci5jcmVhdGVEaXYoJ2NvbmZpZy1zZWN0aW9uIHBlcmZvcm1hbmNlLXNlY3Rpb24nKTtcbiAgICBzZWN0aW9uLmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogJ+KaoSBQZXJmb3JtYW5jZSBDb25maWd1cmF0aW9uJyB9KTtcbiAgICBcbiAgICBjb25zdCBzZXR0aW5nc0NvbnRhaW5lciA9IHNlY3Rpb24uY3JlYXRlRGl2KCdzZXR0aW5ncy1jb250YWluZXInKTtcbiAgICBcbiAgICAvLyBQZXJmb3JtYW5jZSBtb2RlXG4gICAgbmV3IFNldHRpbmcoc2V0dGluZ3NDb250YWluZXIpXG4gICAgICAuc2V0TmFtZSgnUGVyZm9ybWFuY2UgTW9kZScpXG4gICAgICAuc2V0RGVzYygnQmFsYW5jZSBiZXR3ZWVuIHNwZWVkLCByZWxpYWJpbGl0eSwgYW5kIHJlc291cmNlIHVzYWdlJylcbiAgICAgIC5hZGREcm9wZG93bihkcm9wZG93biA9PiB7XG4gICAgICAgIGRyb3Bkb3duLmFkZE9wdGlvbigncGVyZm9ybWFuY2UnLCAnUGVyZm9ybWFuY2UgKFByaW9yaXRpemUgU3BlZWQpJyk7XG4gICAgICAgIGRyb3Bkb3duLmFkZE9wdGlvbignYmFsYW5jZWQnLCAnQmFsYW5jZWQgKFJlY29tbWVuZGVkKScpO1xuICAgICAgICBkcm9wZG93bi5hZGRPcHRpb24oJ3JlbGlhYmlsaXR5JywgJ1JlbGlhYmlsaXR5IChQcmlvcml0aXplIFN0YWJpbGl0eSknKTtcbiAgICAgICAgZHJvcGRvd24uc2V0VmFsdWUodGhpcy5jdXJyZW50Q29uZmlndXJhdGlvbi5wZXJmb3JtYW5jZS5tb2RlKTtcbiAgICAgICAgZHJvcGRvd24ub25DaGFuZ2UodmFsdWUgPT4ge1xuICAgICAgICAgIHRoaXMuY3VycmVudENvbmZpZ3VyYXRpb24ucGVyZm9ybWFuY2UubW9kZSA9IHZhbHVlIGFzIGFueTtcbiAgICAgICAgICB0aGlzLmFwcGx5UGVyZm9ybWFuY2VNb2RlUHJlc2V0KHZhbHVlIGFzIGFueSk7XG4gICAgICAgICAgdGhpcy5vbkNvbmZpZ3VyYXRpb25DaGFuZ2UoKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICBcbiAgICAvLyBDb25uZWN0aW9uIHBvb2xpbmdcbiAgICBuZXcgU2V0dGluZyhzZXR0aW5nc0NvbnRhaW5lcilcbiAgICAgIC5zZXROYW1lKCdDb25uZWN0aW9uIFBvb2xpbmcnKVxuICAgICAgLnNldERlc2MoJ1JldXNlIGNvbm5lY3Rpb25zIHRvIGltcHJvdmUgcGVyZm9ybWFuY2UnKVxuICAgICAgLmFkZFRvZ2dsZSh0b2dnbGUgPT4ge1xuICAgICAgICB0b2dnbGUuc2V0VmFsdWUodGhpcy5jdXJyZW50Q29uZmlndXJhdGlvbi5wZXJmb3JtYW5jZS5lbmFibGVDb25uZWN0aW9uUG9vbGluZyk7XG4gICAgICAgIHRvZ2dsZS5vbkNoYW5nZSh2YWx1ZSA9PiB7XG4gICAgICAgICAgdGhpcy5jdXJyZW50Q29uZmlndXJhdGlvbi5wZXJmb3JtYW5jZS5lbmFibGVDb25uZWN0aW9uUG9vbGluZyA9IHZhbHVlO1xuICAgICAgICAgIHRoaXMub25Db25maWd1cmF0aW9uQ2hhbmdlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgXG4gICAgLy8gQ29tcHJlc3Npb25cbiAgICBuZXcgU2V0dGluZyhzZXR0aW5nc0NvbnRhaW5lcilcbiAgICAgIC5zZXROYW1lKCdDb21wcmVzc2lvbicpXG4gICAgICAuc2V0RGVzYygnRW5hYmxlIGRhdGEgY29tcHJlc3Npb24gdG8gcmVkdWNlIGJhbmR3aWR0aCB1c2FnZScpXG4gICAgICAuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB7XG4gICAgICAgIHRvZ2dsZS5zZXRWYWx1ZSh0aGlzLmN1cnJlbnRDb25maWd1cmF0aW9uLnBlcmZvcm1hbmNlLmVuYWJsZUNvbXByZXNzaW9uKTtcbiAgICAgICAgdG9nZ2xlLm9uQ2hhbmdlKHZhbHVlID0+IHtcbiAgICAgICAgICB0aGlzLmN1cnJlbnRDb25maWd1cmF0aW9uLnBlcmZvcm1hbmNlLmVuYWJsZUNvbXByZXNzaW9uID0gdmFsdWU7XG4gICAgICAgICAgdGhpcy5vbkNvbmZpZ3VyYXRpb25DaGFuZ2UoKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICBcbiAgICAvLyBDYWNoaW5nXG4gICAgbmV3IFNldHRpbmcoc2V0dGluZ3NDb250YWluZXIpXG4gICAgICAuc2V0TmFtZSgnUmVzcG9uc2UgQ2FjaGluZycpXG4gICAgICAuc2V0RGVzYygnQ2FjaGUgcmVzcG9uc2VzIHRvIGltcHJvdmUgcGVyZm9ybWFuY2UnKVxuICAgICAgLmFkZFRvZ2dsZSh0b2dnbGUgPT4ge1xuICAgICAgICB0b2dnbGUuc2V0VmFsdWUodGhpcy5jdXJyZW50Q29uZmlndXJhdGlvbi5wZXJmb3JtYW5jZS5lbmFibGVDYWNoaW5nKTtcbiAgICAgICAgdG9nZ2xlLm9uQ2hhbmdlKHZhbHVlID0+IHtcbiAgICAgICAgICB0aGlzLmN1cnJlbnRDb25maWd1cmF0aW9uLnBlcmZvcm1hbmNlLmVuYWJsZUNhY2hpbmcgPSB2YWx1ZTtcbiAgICAgICAgICB0aGlzLm9uQ29uZmlndXJhdGlvbkNoYW5nZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIFxuICAgIGlmICh0aGlzLmNvbmZpZy5zaG93RXhwZXJ0T3B0aW9ucykge1xuICAgICAgLy8gTWF4IGNvbmN1cnJlbnQgcmVxdWVzdHNcbiAgICAgIG5ldyBTZXR0aW5nKHNldHRpbmdzQ29udGFpbmVyKVxuICAgICAgICAuc2V0TmFtZSgnTWF4IENvbmN1cnJlbnQgUmVxdWVzdHMnKVxuICAgICAgICAuc2V0RGVzYygnTWF4aW11bSBudW1iZXIgb2Ygc2ltdWx0YW5lb3VzIHJlcXVlc3RzJylcbiAgICAgICAgLnNldENsYXNzKCdleHBlcnQtb3B0aW9uJylcbiAgICAgICAgLmFkZFNsaWRlcihzbGlkZXIgPT4ge1xuICAgICAgICAgIHNsaWRlci5zZXRMaW1pdHMoMSwgMjAsIDEpO1xuICAgICAgICAgIHNsaWRlci5zZXRWYWx1ZSh0aGlzLmN1cnJlbnRDb25maWd1cmF0aW9uLnBlcmZvcm1hbmNlLm1heENvbmN1cnJlbnRSZXF1ZXN0cyk7XG4gICAgICAgICAgc2xpZGVyLm9uQ2hhbmdlKHZhbHVlID0+IHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudENvbmZpZ3VyYXRpb24ucGVyZm9ybWFuY2UubWF4Q29uY3VycmVudFJlcXVlc3RzID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLm9uQ29uZmlndXJhdGlvbkNoYW5nZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNsaWRlci5zZXREeW5hbWljVG9vbHRpcCgpO1xuICAgICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gQ2FjaGUgc2l6ZVxuICAgICAgbmV3IFNldHRpbmcoc2V0dGluZ3NDb250YWluZXIpXG4gICAgICAgIC5zZXROYW1lKCdDYWNoZSBTaXplIChNQiknKVxuICAgICAgICAuc2V0RGVzYygnTWF4aW11bSBjYWNoZSBzaXplIGluIG1lZ2FieXRlcycpXG4gICAgICAgIC5zZXRDbGFzcygnZXhwZXJ0LW9wdGlvbicpXG4gICAgICAgIC5hZGRTbGlkZXIoc2xpZGVyID0+IHtcbiAgICAgICAgICBzbGlkZXIuc2V0TGltaXRzKDEsIDEwMCwgNSk7XG4gICAgICAgICAgc2xpZGVyLnNldFZhbHVlKHRoaXMuY3VycmVudENvbmZpZ3VyYXRpb24ucGVyZm9ybWFuY2UuY2FjaGVTaXplKTtcbiAgICAgICAgICBzbGlkZXIub25DaGFuZ2UodmFsdWUgPT4ge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50Q29uZmlndXJhdGlvbi5wZXJmb3JtYW5jZS5jYWNoZVNpemUgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMub25Db25maWd1cmF0aW9uQ2hhbmdlKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2xpZGVyLnNldER5bmFtaWNUb29sdGlwKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlTW9uaXRvcmluZ1NldHRpbmdzKCkge1xuICAgIGNvbnN0IHNlY3Rpb24gPSB0aGlzLmNvbmZpZ3VyYXRpb25Db250YWluZXIuY3JlYXRlRGl2KCdjb25maWctc2VjdGlvbiBtb25pdG9yaW5nLXNlY3Rpb24nKTtcbiAgICBzZWN0aW9uLmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogJ/Cfk4ogTW9uaXRvcmluZyBDb25maWd1cmF0aW9uJyB9KTtcbiAgICBcbiAgICBjb25zdCBzZXR0aW5nc0NvbnRhaW5lciA9IHNlY3Rpb24uY3JlYXRlRGl2KCdzZXR0aW5ncy1jb250YWluZXInKTtcbiAgICBcbiAgICAvLyBIZWFsdGggY2hlY2tzXG4gICAgbmV3IFNldHRpbmcoc2V0dGluZ3NDb250YWluZXIpXG4gICAgICAuc2V0TmFtZSgnSGVhbHRoIENoZWNrcycpXG4gICAgICAuc2V0RGVzYygnTW9uaXRvciB0cmFuc3BvcnQgaGVhbHRoIGF1dG9tYXRpY2FsbHknKVxuICAgICAgLmFkZFRvZ2dsZSh0b2dnbGUgPT4ge1xuICAgICAgICB0b2dnbGUuc2V0VmFsdWUodGhpcy5jdXJyZW50Q29uZmlndXJhdGlvbi5tb25pdG9yaW5nLmVuYWJsZUhlYWx0aENoZWNrcyk7XG4gICAgICAgIHRvZ2dsZS5vbkNoYW5nZSh2YWx1ZSA9PiB7XG4gICAgICAgICAgdGhpcy5jdXJyZW50Q29uZmlndXJhdGlvbi5tb25pdG9yaW5nLmVuYWJsZUhlYWx0aENoZWNrcyA9IHZhbHVlO1xuICAgICAgICAgIHRoaXMub25Db25maWd1cmF0aW9uQ2hhbmdlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgXG4gICAgLy8gTWV0cmljcyBjb2xsZWN0aW9uXG4gICAgbmV3IFNldHRpbmcoc2V0dGluZ3NDb250YWluZXIpXG4gICAgICAuc2V0TmFtZSgnUGVyZm9ybWFuY2UgTWV0cmljcycpXG4gICAgICAuc2V0RGVzYygnQ29sbGVjdCBkZXRhaWxlZCBwZXJmb3JtYW5jZSBtZXRyaWNzJylcbiAgICAgIC5hZGRUb2dnbGUodG9nZ2xlID0+IHtcbiAgICAgICAgdG9nZ2xlLnNldFZhbHVlKHRoaXMuY3VycmVudENvbmZpZ3VyYXRpb24ubW9uaXRvcmluZy5lbmFibGVNZXRyaWNzKTtcbiAgICAgICAgdG9nZ2xlLm9uQ2hhbmdlKHZhbHVlID0+IHtcbiAgICAgICAgICB0aGlzLmN1cnJlbnRDb25maWd1cmF0aW9uLm1vbml0b3JpbmcuZW5hYmxlTWV0cmljcyA9IHZhbHVlO1xuICAgICAgICAgIHRoaXMub25Db25maWd1cmF0aW9uQ2hhbmdlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgXG4gICAgLy8gUHJlZGljdGl2ZSBhbGVydHNcbiAgICBuZXcgU2V0dGluZyhzZXR0aW5nc0NvbnRhaW5lcilcbiAgICAgIC5zZXROYW1lKCdQcmVkaWN0aXZlIEFsZXJ0cycpXG4gICAgICAuc2V0RGVzYygnR2V0IGVhcmx5IHdhcm5pbmdzIGFib3V0IHBvdGVudGlhbCBpc3N1ZXMnKVxuICAgICAgLmFkZFRvZ2dsZSh0b2dnbGUgPT4ge1xuICAgICAgICB0b2dnbGUuc2V0VmFsdWUodGhpcy5jdXJyZW50Q29uZmlndXJhdGlvbi5tb25pdG9yaW5nLmVuYWJsZVByZWRpY3RpdmVBbGVydHMpO1xuICAgICAgICB0b2dnbGUub25DaGFuZ2UodmFsdWUgPT4ge1xuICAgICAgICAgIHRoaXMuY3VycmVudENvbmZpZ3VyYXRpb24ubW9uaXRvcmluZy5lbmFibGVQcmVkaWN0aXZlQWxlcnRzID0gdmFsdWU7XG4gICAgICAgICAgdGhpcy5vbkNvbmZpZ3VyYXRpb25DaGFuZ2UoKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlVUlTZXR0aW5ncygpIHtcbiAgICBjb25zdCBzZWN0aW9uID0gdGhpcy5jb25maWd1cmF0aW9uQ29udGFpbmVyLmNyZWF0ZURpdignY29uZmlnLXNlY3Rpb24gdWktc2VjdGlvbicpO1xuICAgIHNlY3Rpb24uY3JlYXRlRWwoJ2g0JywgeyB0ZXh0OiAn8J+OqCBVc2VyIEludGVyZmFjZScgfSk7XG4gICAgXG4gICAgY29uc3Qgc2V0dGluZ3NDb250YWluZXIgPSBzZWN0aW9uLmNyZWF0ZURpdignc2V0dGluZ3MtY29udGFpbmVyJyk7XG4gICAgXG4gICAgLy8gVGhlbWVcbiAgICBuZXcgU2V0dGluZyhzZXR0aW5nc0NvbnRhaW5lcilcbiAgICAgIC5zZXROYW1lKCdUaGVtZScpXG4gICAgICAuc2V0RGVzYygnQ2hvb3NlIHRoZSBpbnRlcmZhY2UgdGhlbWUnKVxuICAgICAgLmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IHtcbiAgICAgICAgZHJvcGRvd24uYWRkT3B0aW9uKCdhdXRvJywgJ0F1dG8gKEZvbGxvdyBPYnNpZGlhbiknKTtcbiAgICAgICAgZHJvcGRvd24uYWRkT3B0aW9uKCdsaWdodCcsICdMaWdodCcpO1xuICAgICAgICBkcm9wZG93bi5hZGRPcHRpb24oJ2RhcmsnLCAnRGFyaycpO1xuICAgICAgICBkcm9wZG93bi5zZXRWYWx1ZSh0aGlzLmN1cnJlbnRDb25maWd1cmF0aW9uLnVpLnRoZW1lKTtcbiAgICAgICAgZHJvcGRvd24ub25DaGFuZ2UodmFsdWUgPT4ge1xuICAgICAgICAgIHRoaXMuY3VycmVudENvbmZpZ3VyYXRpb24udWkudGhlbWUgPSB2YWx1ZSBhcyBhbnk7XG4gICAgICAgICAgdGhpcy5vbkNvbmZpZ3VyYXRpb25DaGFuZ2UoKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICBcbiAgICAvLyBBbmltYXRpb25zXG4gICAgbmV3IFNldHRpbmcoc2V0dGluZ3NDb250YWluZXIpXG4gICAgICAuc2V0TmFtZSgnQW5pbWF0aW9ucycpXG4gICAgICAuc2V0RGVzYygnRW5hYmxlIFVJIGFuaW1hdGlvbnMgYW5kIHRyYW5zaXRpb25zJylcbiAgICAgIC5hZGRUb2dnbGUodG9nZ2xlID0+IHtcbiAgICAgICAgdG9nZ2xlLnNldFZhbHVlKHRoaXMuY3VycmVudENvbmZpZ3VyYXRpb24udWkuZW5hYmxlQW5pbWF0aW9ucyk7XG4gICAgICAgIHRvZ2dsZS5vbkNoYW5nZSh2YWx1ZSA9PiB7XG4gICAgICAgICAgdGhpcy5jdXJyZW50Q29uZmlndXJhdGlvbi51aS5lbmFibGVBbmltYXRpb25zID0gdmFsdWU7XG4gICAgICAgICAgdGhpcy5vbkNvbmZpZ3VyYXRpb25DaGFuZ2UoKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICBcbiAgICAvLyBBZHZhbmNlZCBtZXRyaWNzXG4gICAgbmV3IFNldHRpbmcoc2V0dGluZ3NDb250YWluZXIpXG4gICAgICAuc2V0TmFtZSgnQWR2YW5jZWQgTWV0cmljcycpXG4gICAgICAuc2V0RGVzYygnU2hvdyBkZXRhaWxlZCBtZXRyaWNzIGluIGRhc2hib2FyZCcpXG4gICAgICAuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB7XG4gICAgICAgIHRvZ2dsZS5zZXRWYWx1ZSh0aGlzLmN1cnJlbnRDb25maWd1cmF0aW9uLnVpLnNob3dBZHZhbmNlZE1ldHJpY3MpO1xuICAgICAgICB0b2dnbGUub25DaGFuZ2UodmFsdWUgPT4ge1xuICAgICAgICAgIHRoaXMuY3VycmVudENvbmZpZ3VyYXRpb24udWkuc2hvd0FkdmFuY2VkTWV0cmljcyA9IHZhbHVlO1xuICAgICAgICAgIHRoaXMub25Db25maWd1cmF0aW9uQ2hhbmdlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgXG4gICAgLy8gRGFzaGJvYXJkIHJlZnJlc2ggcmF0ZVxuICAgIG5ldyBTZXR0aW5nKHNldHRpbmdzQ29udGFpbmVyKVxuICAgICAgLnNldE5hbWUoJ0Rhc2hib2FyZCBSZWZyZXNoIFJhdGUnKVxuICAgICAgLnNldERlc2MoJ0hvdyBvZnRlbiB0byB1cGRhdGUgdGhlIGRhc2hib2FyZCAoc2Vjb25kcyknKVxuICAgICAgLmFkZFNsaWRlcihzbGlkZXIgPT4ge1xuICAgICAgICBzbGlkZXIuc2V0TGltaXRzKDEsIDYwLCAxKTtcbiAgICAgICAgc2xpZGVyLnNldFZhbHVlKHRoaXMuY3VycmVudENvbmZpZ3VyYXRpb24udWkuZGFzaGJvYXJkUmVmcmVzaFJhdGUpO1xuICAgICAgICBzbGlkZXIub25DaGFuZ2UodmFsdWUgPT4ge1xuICAgICAgICAgIHRoaXMuY3VycmVudENvbmZpZ3VyYXRpb24udWkuZGFzaGJvYXJkUmVmcmVzaFJhdGUgPSB2YWx1ZTtcbiAgICAgICAgICB0aGlzLm9uQ29uZmlndXJhdGlvbkNoYW5nZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2xpZGVyLnNldER5bmFtaWNUb29sdGlwKCk7XG4gICAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlUHJpdmFjeVNldHRpbmdzKCkge1xuICAgIGNvbnN0IHNlY3Rpb24gPSB0aGlzLmNvbmZpZ3VyYXRpb25Db250YWluZXIuY3JlYXRlRGl2KCdjb25maWctc2VjdGlvbiBwcml2YWN5LXNlY3Rpb24nKTtcbiAgICBzZWN0aW9uLmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogJ/CflJIgUHJpdmFjeSAmIERhdGEnIH0pO1xuICAgIFxuICAgIGNvbnN0IHNldHRpbmdzQ29udGFpbmVyID0gc2VjdGlvbi5jcmVhdGVEaXYoJ3NldHRpbmdzLWNvbnRhaW5lcicpO1xuICAgIFxuICAgIC8vIEFuYWx5dGljc1xuICAgIG5ldyBTZXR0aW5nKHNldHRpbmdzQ29udGFpbmVyKVxuICAgICAgLnNldE5hbWUoJ1VzYWdlIEFuYWx5dGljcycpXG4gICAgICAuc2V0RGVzYygnSGVscCBpbXByb3ZlIFZhdWx0UGlsb3QgYnkgc2hhcmluZyBhbm9ueW1vdXMgdXNhZ2UgZGF0YScpXG4gICAgICAuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB7XG4gICAgICAgIHRvZ2dsZS5zZXRWYWx1ZSh0aGlzLmN1cnJlbnRDb25maWd1cmF0aW9uLnByaXZhY3kuZW5hYmxlQW5hbHl0aWNzKTtcbiAgICAgICAgdG9nZ2xlLm9uQ2hhbmdlKHZhbHVlID0+IHtcbiAgICAgICAgICB0aGlzLmN1cnJlbnRDb25maWd1cmF0aW9uLnByaXZhY3kuZW5hYmxlQW5hbHl0aWNzID0gdmFsdWU7XG4gICAgICAgICAgdGhpcy5vbkNvbmZpZ3VyYXRpb25DaGFuZ2UoKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICBcbiAgICAvLyBEYXRhIHJldGVudGlvblxuICAgIG5ldyBTZXR0aW5nKHNldHRpbmdzQ29udGFpbmVyKVxuICAgICAgLnNldE5hbWUoJ0RhdGEgUmV0ZW50aW9uJylcbiAgICAgIC5zZXREZXNjKCdIb3cgbG9uZyB0byBrZWVwIHBlcmZvcm1hbmNlIGFuZCB1c2FnZSBkYXRhIChkYXlzKScpXG4gICAgICAuYWRkU2xpZGVyKHNsaWRlciA9PiB7XG4gICAgICAgIHNsaWRlci5zZXRMaW1pdHMoMSwgOTAsIDEpO1xuICAgICAgICBzbGlkZXIuc2V0VmFsdWUodGhpcy5jdXJyZW50Q29uZmlndXJhdGlvbi5wcml2YWN5LmRhdGFSZXRlbnRpb25EYXlzKTtcbiAgICAgICAgc2xpZGVyLm9uQ2hhbmdlKHZhbHVlID0+IHtcbiAgICAgICAgICB0aGlzLmN1cnJlbnRDb25maWd1cmF0aW9uLnByaXZhY3kuZGF0YVJldGVudGlvbkRheXMgPSB2YWx1ZTtcbiAgICAgICAgICB0aGlzLm9uQ29uZmlndXJhdGlvbkNoYW5nZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2xpZGVyLnNldER5bmFtaWNUb29sdGlwKCk7XG4gICAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlUHJldmlld1NlY3Rpb24oKSB7XG4gICAgY29uc3Qgc2VjdGlvbiA9IHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRGl2KCdwcmV2aWV3LXNlY3Rpb24nKTtcbiAgICBzZWN0aW9uLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ0NvbmZpZ3VyYXRpb24gUHJldmlldycgfSk7XG4gICAgXG4gICAgdGhpcy5wcmV2aWV3Q29udGFpbmVyID0gc2VjdGlvbi5jcmVhdGVEaXYoJ3ByZXZpZXctY29udGFpbmVyJyk7XG4gICAgdGhpcy51cGRhdGVQcmV2aWV3KCk7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZUFjdGlvbkJ1dHRvbnMoKSB7XG4gICAgY29uc3QgYWN0aW9ucyA9IHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRGl2KCdzZXR0aW5ncy1hY3Rpb25zJyk7XG4gICAgXG4gICAgY29uc3Qgc2F2ZUJ0biA9IGFjdGlvbnMuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ1NhdmUgQ29uZmlndXJhdGlvbicsIGNsczogJ21vZC1jdGEnIH0pO1xuICAgIHNhdmVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLnNhdmVDb25maWd1cmF0aW9uKCkpO1xuICAgIFxuICAgIGNvbnN0IHJlc2V0QnRuID0gYWN0aW9ucy5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnUmVzZXQgdG8gRGVmYXVsdHMnLCBjbHM6ICdtb2Qtd2FybmluZycgfSk7XG4gICAgcmVzZXRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLnJlc2V0VG9EZWZhdWx0cygpKTtcbiAgICBcbiAgICBjb25zdCB0ZXN0QnRuID0gYWN0aW9ucy5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnVGVzdCBDb25maWd1cmF0aW9uJywgY2xzOiAnbW9kLW11dGVkJyB9KTtcbiAgICB0ZXN0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy50ZXN0Q29uZmlndXJhdGlvbigpKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyU2V0dGluZ3MoKSB7XG4gICAgLy8gVHJpZ2dlciBpbml0aWFsIHJlbmRlcmluZyBhbmQgdmFsaWRhdGlvblxuICAgIHRoaXMub25Db25maWd1cmF0aW9uQ2hhbmdlKCk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGxvYWRDdXJyZW50Q29uZmlndXJhdGlvbigpIHtcbiAgICB0cnkge1xuICAgICAgLy8gTG9hZCBjb25maWd1cmF0aW9uIGZyb20gcGx1Z2luIHNldHRpbmdzXG4gICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MuYWR2YW5jZWRDb25maWd1cmF0aW9uKSB7XG4gICAgICAgIHRoaXMuY3VycmVudENvbmZpZ3VyYXRpb24gPSB7IC4uLnRoaXMucGx1Z2luLnNldHRpbmdzLmFkdmFuY2VkQ29uZmlndXJhdGlvbiB9O1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gbG9hZCBjdXJyZW50IGNvbmZpZ3VyYXRpb246JywgZXJyb3IpO1xuICAgICAgbmV3IE5vdGljZSgnRmFpbGVkIHRvIGxvYWQgY29uZmlndXJhdGlvbiwgdXNpbmcgZGVmYXVsdHMnKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdldERlZmF1bHRDb25maWd1cmF0aW9uKCk6IFZhdWx0UGlsb3RDb25maWd1cmF0aW9uIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHJhbnNwb3J0OiB7XG4gICAgICAgIHByaW1hcnlUcmFuc3BvcnQ6IFRyYW5zcG9ydFR5cGUuSFRUUCxcbiAgICAgICAgZmFsbGJhY2tDaGFpbjogW1RyYW5zcG9ydFR5cGUuSFRUUCwgVHJhbnNwb3J0VHlwZS5XRUJTT0NLRVRdLFxuICAgICAgICBzZWxlY3Rpb25Dcml0ZXJpYToge1xuICAgICAgICAgIGxhdGVuY3lXZWlnaHQ6IDAuMyxcbiAgICAgICAgICByZWxpYWJpbGl0eVdlaWdodDogMC4zLFxuICAgICAgICAgIGNhcGFiaWxpdHlXZWlnaHQ6IDAuMixcbiAgICAgICAgICBjb3N0V2VpZ2h0OiAwLjJcbiAgICAgICAgfSxcbiAgICAgICAgdGltZW91dHM6IHtcbiAgICAgICAgICBjb25uZWN0aW9uOiA1MDAwLFxuICAgICAgICAgIHJlcXVlc3Q6IDMwMDAwLFxuICAgICAgICAgIHJldHJ5OiAxMDAwXG4gICAgICAgIH0sXG4gICAgICAgIHJldHJ5UG9saWN5OiB7XG4gICAgICAgICAgbWF4QXR0ZW1wdHM6IDMsXG4gICAgICAgICAgYmFja29mZk11bHRpcGxpZXI6IDIsXG4gICAgICAgICAgbWF4QmFja29mZlRpbWU6IDEwMDAwXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBwZXJmb3JtYW5jZToge1xuICAgICAgICBtb2RlOiAnYmFsYW5jZWQnLFxuICAgICAgICBlbmFibGVDb25uZWN0aW9uUG9vbGluZzogdHJ1ZSxcbiAgICAgICAgbWF4Q29uY3VycmVudFJlcXVlc3RzOiA1LFxuICAgICAgICBlbmFibGVDb21wcmVzc2lvbjogdHJ1ZSxcbiAgICAgICAgZW5hYmxlQ2FjaGluZzogdHJ1ZSxcbiAgICAgICAgY2FjaGVTaXplOiAxMFxuICAgICAgfSxcbiAgICAgIG1vbml0b3Jpbmc6IHtcbiAgICAgICAgZW5hYmxlSGVhbHRoQ2hlY2tzOiB0cnVlLFxuICAgICAgICBoZWFsdGhDaGVja0ludGVydmFsOiAzMDAwMCxcbiAgICAgICAgZW5hYmxlTWV0cmljczogdHJ1ZSxcbiAgICAgICAgbWV0cmljc1JldGVudGlvbjogNyxcbiAgICAgICAgZW5hYmxlUHJlZGljdGl2ZUFsZXJ0czogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHVpOiB7XG4gICAgICAgIHRoZW1lOiAnYXV0bycsXG4gICAgICAgIGVuYWJsZUFuaW1hdGlvbnM6IHRydWUsXG4gICAgICAgIHNob3dBZHZhbmNlZE1ldHJpY3M6IGZhbHNlLFxuICAgICAgICBkYXNoYm9hcmRSZWZyZXNoUmF0ZTogMixcbiAgICAgICAgZW5hYmxlTm90aWZpY2F0aW9uczogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHByaXZhY3k6IHtcbiAgICAgICAgZW5hYmxlQW5hbHl0aWNzOiB0cnVlLFxuICAgICAgICBzaGFyZVVzYWdlRGF0YTogZmFsc2UsXG4gICAgICAgIGRhdGFSZXRlbnRpb25EYXlzOiAzMFxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIG9uQ29uZmlndXJhdGlvbkNoYW5nZSgpIHtcbiAgICB0aGlzLmhhc1Vuc2F2ZWRDaGFuZ2VzID0gdHJ1ZTtcbiAgICBcbiAgICBpZiAodGhpcy5jb25maWcuZW5hYmxlUmVhbFRpbWVWYWxpZGF0aW9uKSB7XG4gICAgICB0aGlzLnNjaGVkdWxlVmFsaWRhdGlvbigpO1xuICAgIH1cbiAgICBcbiAgICB0aGlzLnVwZGF0ZVByZXZpZXcoKTtcbiAgfVxuXG4gIHByaXZhdGUgc2NoZWR1bGVWYWxpZGF0aW9uKCkge1xuICAgIGlmICh0aGlzLnZhbGlkYXRpb25UaW1lb3V0KSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy52YWxpZGF0aW9uVGltZW91dCk7XG4gICAgfVxuICAgIFxuICAgIHRoaXMudmFsaWRhdGlvblRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLnZhbGlkYXRlQ29uZmlndXJhdGlvbigpO1xuICAgIH0sIDUwMCk7IC8vIERlYm91bmNlIHZhbGlkYXRpb25cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgdmFsaWRhdGVDb25maWd1cmF0aW9uKCk6IFByb21pc2U8Q29uZmlndXJhdGlvblZhbGlkYXRpb25SZXN1bHQ+IHtcbiAgICBjb25zdCBlcnJvcnM6IFZhbGlkYXRpb25FcnJvcltdID0gW107XG4gICAgY29uc3Qgd2FybmluZ3M6IFZhbGlkYXRpb25XYXJuaW5nW10gPSBbXTtcbiAgICBcbiAgICAvLyBWYWxpZGF0ZSB0cmFuc3BvcnQgY29uZmlndXJhdGlvblxuICAgIGlmICh0aGlzLmN1cnJlbnRDb25maWd1cmF0aW9uLnRyYW5zcG9ydC5mYWxsYmFja0NoYWluLmxlbmd0aCA9PT0gMCkge1xuICAgICAgZXJyb3JzLnB1c2goe1xuICAgICAgICBmaWVsZDogJ3RyYW5zcG9ydC5mYWxsYmFja0NoYWluJyxcbiAgICAgICAgbWVzc2FnZTogJ0F0IGxlYXN0IG9uZSB0cmFuc3BvcnQgbXVzdCBiZSBjb25maWd1cmVkIGluIHRoZSBmYWxsYmFjayBjaGFpbicsXG4gICAgICAgIHNldmVyaXR5OiAnZXJyb3InLFxuICAgICAgICBzdWdnZXN0aW9uOiAnQWRkIGF0IGxlYXN0IG9uZSB0cmFuc3BvcnQgdG8gdGhlIGZhbGxiYWNrIGNoYWluJ1xuICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIC8vIFZhbGlkYXRlIHNlbGVjdGlvbiBjcml0ZXJpYVxuICAgIGNvbnN0IGNyaXRlcmlhID0gdGhpcy5jdXJyZW50Q29uZmlndXJhdGlvbi50cmFuc3BvcnQuc2VsZWN0aW9uQ3JpdGVyaWE7XG4gICAgY29uc3QgdG90YWxXZWlnaHQgPSBjcml0ZXJpYS5sYXRlbmN5V2VpZ2h0ICsgY3JpdGVyaWEucmVsaWFiaWxpdHlXZWlnaHQgKyBcbiAgICAgICAgICAgICAgICAgICAgICAgY3JpdGVyaWEuY2FwYWJpbGl0eVdlaWdodCArIGNyaXRlcmlhLmNvc3RXZWlnaHQ7XG4gICAgXG4gICAgaWYgKE1hdGguYWJzKHRvdGFsV2VpZ2h0IC0gMSkgPiAwLjAxKSB7XG4gICAgICB3YXJuaW5ncy5wdXNoKHtcbiAgICAgICAgZmllbGQ6ICd0cmFuc3BvcnQuc2VsZWN0aW9uQ3JpdGVyaWEnLFxuICAgICAgICBtZXNzYWdlOiAnU2VsZWN0aW9uIGNyaXRlcmlhIHdlaWdodHMgc2hvdWxkIHN1bSB0byAxMDAlJyxcbiAgICAgICAgaW1wYWN0OiAnbWVkaXVtJyxcbiAgICAgICAgcmVjb21tZW5kYXRpb246ICdBZGp1c3QgdGhlIHdlaWdodHMgc28gdGhleSB0b3RhbCAxMDAlJ1xuICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIC8vIFZhbGlkYXRlIHRpbWVvdXRzXG4gICAgY29uc3QgdGltZW91dHMgPSB0aGlzLmN1cnJlbnRDb25maWd1cmF0aW9uLnRyYW5zcG9ydC50aW1lb3V0cztcbiAgICBpZiAodGltZW91dHMuY29ubmVjdGlvbiA+PSB0aW1lb3V0cy5yZXF1ZXN0KSB7XG4gICAgICB3YXJuaW5ncy5wdXNoKHtcbiAgICAgICAgZmllbGQ6ICd0cmFuc3BvcnQudGltZW91dHMnLFxuICAgICAgICBtZXNzYWdlOiAnQ29ubmVjdGlvbiB0aW1lb3V0IHNob3VsZCBiZSBsZXNzIHRoYW4gcmVxdWVzdCB0aW1lb3V0JyxcbiAgICAgICAgaW1wYWN0OiAnbG93JyxcbiAgICAgICAgcmVjb21tZW5kYXRpb246ICdTZXQgY29ubmVjdGlvbiB0aW1lb3V0IHRvIGJlIGxlc3MgdGhhbiByZXF1ZXN0IHRpbWVvdXQnXG4gICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgLy8gVmFsaWRhdGUgcGVyZm9ybWFuY2Ugc2V0dGluZ3NcbiAgICBpZiAodGhpcy5jdXJyZW50Q29uZmlndXJhdGlvbi5wZXJmb3JtYW5jZS5tYXhDb25jdXJyZW50UmVxdWVzdHMgPiAxMCkge1xuICAgICAgd2FybmluZ3MucHVzaCh7XG4gICAgICAgIGZpZWxkOiAncGVyZm9ybWFuY2UubWF4Q29uY3VycmVudFJlcXVlc3RzJyxcbiAgICAgICAgbWVzc2FnZTogJ0hpZ2ggY29uY3VycmVudCByZXF1ZXN0IGxpbWl0IG1heSBpbXBhY3QgcGVyZm9ybWFuY2UnLFxuICAgICAgICBpbXBhY3Q6ICdtZWRpdW0nLFxuICAgICAgICByZWNvbW1lbmRhdGlvbjogJ0NvbnNpZGVyIHJlZHVjaW5nIHRvIDUtMTAgZm9yIG9wdGltYWwgcGVyZm9ybWFuY2UnXG4gICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgLy8gRXN0aW1hdGUgaW1wYWN0XG4gICAgY29uc3QgZXN0aW1hdGVkSW1wYWN0ID0gdGhpcy5lc3RpbWF0ZUNvbmZpZ3VyYXRpb25JbXBhY3QoKTtcbiAgICBcbiAgICBjb25zdCByZXN1bHQ6IENvbmZpZ3VyYXRpb25WYWxpZGF0aW9uUmVzdWx0ID0ge1xuICAgICAgaXNWYWxpZDogZXJyb3JzLmxlbmd0aCA9PT0gMCxcbiAgICAgIGVycm9ycyxcbiAgICAgIHdhcm5pbmdzLFxuICAgICAgZXN0aW1hdGVkSW1wYWN0XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLnZhbGlkYXRpb25SZXN1bHQgPSByZXN1bHQ7XG4gICAgdGhpcy5yZW5kZXJWYWxpZGF0aW9uUmVzdWx0KHJlc3VsdCk7XG4gICAgXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHByaXZhdGUgZXN0aW1hdGVDb25maWd1cmF0aW9uSW1wYWN0KCkge1xuICAgIC8vIFNpbXBsZSBoZXVyaXN0aWMtYmFzZWQgaW1wYWN0IGVzdGltYXRpb25cbiAgICBsZXQgcGVyZm9ybWFuY2VDaGFuZ2UgPSAwO1xuICAgIGxldCByZWxpYWJpbGl0eUNoYW5nZSA9IDA7XG4gICAgbGV0IHJlc291cmNlVXNhZ2UgPSAwO1xuICAgIFxuICAgIGNvbnN0IGNvbmZpZyA9IHRoaXMuY3VycmVudENvbmZpZ3VyYXRpb247XG4gICAgXG4gICAgLy8gUGVyZm9ybWFuY2UgbW9kZSBpbXBhY3RcbiAgICBzd2l0Y2ggKGNvbmZpZy5wZXJmb3JtYW5jZS5tb2RlKSB7XG4gICAgICBjYXNlICdwZXJmb3JtYW5jZSc6XG4gICAgICAgIHBlcmZvcm1hbmNlQ2hhbmdlICs9IDIwO1xuICAgICAgICByZWxpYWJpbGl0eUNoYW5nZSAtPSA1O1xuICAgICAgICByZXNvdXJjZVVzYWdlICs9IDE1O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JlbGlhYmlsaXR5JzpcbiAgICAgICAgcGVyZm9ybWFuY2VDaGFuZ2UgLT0gNTtcbiAgICAgICAgcmVsaWFiaWxpdHlDaGFuZ2UgKz0gMjA7XG4gICAgICAgIHJlc291cmNlVXNhZ2UgKz0gNTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OiAvLyBiYWxhbmNlZFxuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgXG4gICAgLy8gQ29ubmVjdGlvbiBwb29saW5nIGltcGFjdFxuICAgIGlmIChjb25maWcucGVyZm9ybWFuY2UuZW5hYmxlQ29ubmVjdGlvblBvb2xpbmcpIHtcbiAgICAgIHBlcmZvcm1hbmNlQ2hhbmdlICs9IDE1O1xuICAgICAgcmVzb3VyY2VVc2FnZSArPSAxMDtcbiAgICB9XG4gICAgXG4gICAgLy8gQ29tcHJlc3Npb24gaW1wYWN0XG4gICAgaWYgKGNvbmZpZy5wZXJmb3JtYW5jZS5lbmFibGVDb21wcmVzc2lvbikge1xuICAgICAgcGVyZm9ybWFuY2VDaGFuZ2UgKz0gNTtcbiAgICAgIHJlc291cmNlVXNhZ2UgKz0gNTtcbiAgICB9XG4gICAgXG4gICAgLy8gQ2FjaGluZyBpbXBhY3RcbiAgICBpZiAoY29uZmlnLnBlcmZvcm1hbmNlLmVuYWJsZUNhY2hpbmcpIHtcbiAgICAgIHBlcmZvcm1hbmNlQ2hhbmdlICs9IDEwO1xuICAgICAgcmVzb3VyY2VVc2FnZSArPSBjb25maWcucGVyZm9ybWFuY2UuY2FjaGVTaXplO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgcGVyZm9ybWFuY2VDaGFuZ2U6IE1hdGgubWF4KC01MCwgTWF0aC5taW4oNTAsIHBlcmZvcm1hbmNlQ2hhbmdlKSksXG4gICAgICByZWxpYWJpbGl0eUNoYW5nZTogTWF0aC5tYXgoLTUwLCBNYXRoLm1pbig1MCwgcmVsaWFiaWxpdHlDaGFuZ2UpKSxcbiAgICAgIHJlc291cmNlVXNhZ2U6IE1hdGgubWF4KDAsIE1hdGgubWluKDEwMCwgcmVzb3VyY2VVc2FnZSkpXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyVmFsaWRhdGlvblJlc3VsdChyZXN1bHQ6IENvbmZpZ3VyYXRpb25WYWxpZGF0aW9uUmVzdWx0KSB7XG4gICAgdGhpcy52YWxpZGF0aW9uQ29udGFpbmVyLmVtcHR5KCk7XG4gICAgXG4gICAgaWYgKHJlc3VsdC5pc1ZhbGlkICYmIHJlc3VsdC53YXJuaW5ncy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnN0IHN1Y2Nlc3MgPSB0aGlzLnZhbGlkYXRpb25Db250YWluZXIuY3JlYXRlRGl2KCd2YWxpZGF0aW9uLXN1Y2Nlc3MnKTtcbiAgICAgIHN1Y2Nlc3MuY3JlYXRlU3Bhbih7IHRleHQ6ICfinIUgQ29uZmlndXJhdGlvbiBpcyB2YWxpZCcsIGNsczogJ3ZhbGlkYXRpb24tbWVzc2FnZScgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFNob3cgZXJyb3JzXG4gICAgICByZXN1bHQuZXJyb3JzLmZvckVhY2goZXJyb3IgPT4ge1xuICAgICAgICBjb25zdCBlcnJvckVsID0gdGhpcy52YWxpZGF0aW9uQ29udGFpbmVyLmNyZWF0ZURpdigndmFsaWRhdGlvbi1lcnJvcicpO1xuICAgICAgICBlcnJvckVsLmNyZWF0ZVNwYW4oeyB0ZXh0OiAn4p2MJywgY2xzOiAndmFsaWRhdGlvbi1pY29uJyB9KTtcbiAgICAgICAgZXJyb3JFbC5jcmVhdGVTcGFuKHsgdGV4dDogZXJyb3IubWVzc2FnZSwgY2xzOiAndmFsaWRhdGlvbi1tZXNzYWdlJyB9KTtcbiAgICAgICAgaWYgKGVycm9yLnN1Z2dlc3Rpb24pIHtcbiAgICAgICAgICBlcnJvckVsLmNyZWF0ZVNwYW4oeyB0ZXh0OiBlcnJvci5zdWdnZXN0aW9uLCBjbHM6ICd2YWxpZGF0aW9uLXN1Z2dlc3Rpb24nIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gU2hvdyB3YXJuaW5nc1xuICAgICAgcmVzdWx0Lndhcm5pbmdzLmZvckVhY2god2FybmluZyA9PiB7XG4gICAgICAgIGNvbnN0IHdhcm5pbmdFbCA9IHRoaXMudmFsaWRhdGlvbkNvbnRhaW5lci5jcmVhdGVEaXYoJ3ZhbGlkYXRpb24td2FybmluZycpO1xuICAgICAgICB3YXJuaW5nRWwuY3JlYXRlU3Bhbih7IHRleHQ6ICfimqDvuI8nLCBjbHM6ICd2YWxpZGF0aW9uLWljb24nIH0pO1xuICAgICAgICB3YXJuaW5nRWwuY3JlYXRlU3Bhbih7IHRleHQ6IHdhcm5pbmcubWVzc2FnZSwgY2xzOiAndmFsaWRhdGlvbi1tZXNzYWdlJyB9KTtcbiAgICAgICAgaWYgKHdhcm5pbmcucmVjb21tZW5kYXRpb24pIHtcbiAgICAgICAgICB3YXJuaW5nRWwuY3JlYXRlU3Bhbih7IHRleHQ6IHdhcm5pbmcucmVjb21tZW5kYXRpb24sIGNsczogJ3ZhbGlkYXRpb24tc3VnZ2VzdGlvbicgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBcbiAgICAvLyBTaG93IGVzdGltYXRlZCBpbXBhY3RcbiAgICBjb25zdCBpbXBhY3QgPSByZXN1bHQuZXN0aW1hdGVkSW1wYWN0O1xuICAgIGNvbnN0IGltcGFjdEVsID0gdGhpcy52YWxpZGF0aW9uQ29udGFpbmVyLmNyZWF0ZURpdigndmFsaWRhdGlvbi1pbXBhY3QnKTtcbiAgICBpbXBhY3RFbC5jcmVhdGVFbCgnaDUnLCB7IHRleHQ6ICdFc3RpbWF0ZWQgSW1wYWN0OicgfSk7XG4gICAgXG4gICAgY29uc3QgaW1wYWN0R3JpZCA9IGltcGFjdEVsLmNyZWF0ZURpdignaW1wYWN0LWdyaWQnKTtcbiAgICBcbiAgICBjb25zdCBwZXJmSW1wYWN0ID0gaW1wYWN0R3JpZC5jcmVhdGVEaXYoJ2ltcGFjdC1pdGVtJyk7XG4gICAgcGVyZkltcGFjdC5jcmVhdGVTcGFuKHsgdGV4dDogJ1BlcmZvcm1hbmNlOicsIGNsczogJ2ltcGFjdC1sYWJlbCcgfSk7XG4gICAgcGVyZkltcGFjdC5jcmVhdGVTcGFuKHsgXG4gICAgICB0ZXh0OiBgJHtpbXBhY3QucGVyZm9ybWFuY2VDaGFuZ2UgPiAwID8gJysnIDogJyd9JHtpbXBhY3QucGVyZm9ybWFuY2VDaGFuZ2V9JWAsXG4gICAgICBjbHM6IGBpbXBhY3QtdmFsdWUgJHtpbXBhY3QucGVyZm9ybWFuY2VDaGFuZ2UgPiAwID8gJ3Bvc2l0aXZlJyA6IGltcGFjdC5wZXJmb3JtYW5jZUNoYW5nZSA8IDAgPyAnbmVnYXRpdmUnIDogJ25ldXRyYWwnfWBcbiAgICB9KTtcbiAgICBcbiAgICBjb25zdCByZWxpYWJpbGl0eUltcGFjdCA9IGltcGFjdEdyaWQuY3JlYXRlRGl2KCdpbXBhY3QtaXRlbScpO1xuICAgIHJlbGlhYmlsaXR5SW1wYWN0LmNyZWF0ZVNwYW4oeyB0ZXh0OiAnUmVsaWFiaWxpdHk6JywgY2xzOiAnaW1wYWN0LWxhYmVsJyB9KTtcbiAgICByZWxpYWJpbGl0eUltcGFjdC5jcmVhdGVTcGFuKHsgXG4gICAgICB0ZXh0OiBgJHtpbXBhY3QucmVsaWFiaWxpdHlDaGFuZ2UgPiAwID8gJysnIDogJyd9JHtpbXBhY3QucmVsaWFiaWxpdHlDaGFuZ2V9JWAsXG4gICAgICBjbHM6IGBpbXBhY3QtdmFsdWUgJHtpbXBhY3QucmVsaWFiaWxpdHlDaGFuZ2UgPiAwID8gJ3Bvc2l0aXZlJyA6IGltcGFjdC5yZWxpYWJpbGl0eUNoYW5nZSA8IDAgPyAnbmVnYXRpdmUnIDogJ25ldXRyYWwnfWBcbiAgICB9KTtcbiAgICBcbiAgICBjb25zdCByZXNvdXJjZUltcGFjdCA9IGltcGFjdEdyaWQuY3JlYXRlRGl2KCdpbXBhY3QtaXRlbScpO1xuICAgIHJlc291cmNlSW1wYWN0LmNyZWF0ZVNwYW4oeyB0ZXh0OiAnUmVzb3VyY2UgVXNhZ2U6JywgY2xzOiAnaW1wYWN0LWxhYmVsJyB9KTtcbiAgICByZXNvdXJjZUltcGFjdC5jcmVhdGVTcGFuKHsgXG4gICAgICB0ZXh0OiBgJHtpbXBhY3QucmVzb3VyY2VVc2FnZX0lYCxcbiAgICAgIGNsczogYGltcGFjdC12YWx1ZSAke2ltcGFjdC5yZXNvdXJjZVVzYWdlID4gNzAgPyAnaGlnaCcgOiBpbXBhY3QucmVzb3VyY2VVc2FnZSA+IDMwID8gJ21lZGl1bScgOiAnbG93J31gXG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlclZhbGlkYXRpb25QbGFjZWhvbGRlcigpIHtcbiAgICB0aGlzLnZhbGlkYXRpb25Db250YWluZXIuY3JlYXRlRWwoJ3AnLCB7IFxuICAgICAgdGV4dDogJ0NvbmZpZ3VyYXRpb24gdmFsaWRhdGlvbiB3aWxsIGFwcGVhciBoZXJlLi4uJyxcbiAgICAgIGNsczogJ3ZhbGlkYXRpb24tcGxhY2Vob2xkZXInXG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZVByZXZpZXcoKSB7XG4gICAgdGhpcy5wcmV2aWV3Q29udGFpbmVyLmVtcHR5KCk7XG4gICAgXG4gICAgY29uc3QgcHJldmlldyA9IHRoaXMucHJldmlld0NvbnRhaW5lci5jcmVhdGVFbCgncHJlJywgeyBjbHM6ICdjb25maWctcHJldmlldycgfSk7XG4gICAgcHJldmlldy50ZXh0Q29udGVudCA9IEpTT04uc3RyaW5naWZ5KHRoaXMuY3VycmVudENvbmZpZ3VyYXRpb24sIG51bGwsIDIpO1xuICB9XG5cbiAgcHJpdmF0ZSBub3JtYWxpemVTZWxlY3Rpb25Dcml0ZXJpYSgpIHtcbiAgICBjb25zdCBjcml0ZXJpYSA9IHRoaXMuY3VycmVudENvbmZpZ3VyYXRpb24udHJhbnNwb3J0LnNlbGVjdGlvbkNyaXRlcmlhO1xuICAgIGNvbnN0IHRvdGFsID0gY3JpdGVyaWEubGF0ZW5jeVdlaWdodCArIGNyaXRlcmlhLnJlbGlhYmlsaXR5V2VpZ2h0ICsgXG4gICAgICAgICAgICAgICAgICBjcml0ZXJpYS5jYXBhYmlsaXR5V2VpZ2h0ICsgY3JpdGVyaWEuY29zdFdlaWdodDtcbiAgICBcbiAgICBpZiAodG90YWwgPiAwKSB7XG4gICAgICBjcml0ZXJpYS5sYXRlbmN5V2VpZ2h0IC89IHRvdGFsO1xuICAgICAgY3JpdGVyaWEucmVsaWFiaWxpdHlXZWlnaHQgLz0gdG90YWw7XG4gICAgICBjcml0ZXJpYS5jYXBhYmlsaXR5V2VpZ2h0IC89IHRvdGFsO1xuICAgICAgY3JpdGVyaWEuY29zdFdlaWdodCAvPSB0b3RhbDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFwcGx5UGVyZm9ybWFuY2VNb2RlUHJlc2V0KG1vZGU6ICdwZXJmb3JtYW5jZScgfCAnYmFsYW5jZWQnIHwgJ3JlbGlhYmlsaXR5Jykge1xuICAgIGNvbnN0IHBlcmYgPSB0aGlzLmN1cnJlbnRDb25maWd1cmF0aW9uLnBlcmZvcm1hbmNlO1xuICAgIFxuICAgIHN3aXRjaCAobW9kZSkge1xuICAgICAgY2FzZSAncGVyZm9ybWFuY2UnOlxuICAgICAgICBwZXJmLmVuYWJsZUNvbm5lY3Rpb25Qb29saW5nID0gdHJ1ZTtcbiAgICAgICAgcGVyZi5tYXhDb25jdXJyZW50UmVxdWVzdHMgPSAxMDtcbiAgICAgICAgcGVyZi5lbmFibGVDb21wcmVzc2lvbiA9IGZhbHNlO1xuICAgICAgICBwZXJmLmVuYWJsZUNhY2hpbmcgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JlbGlhYmlsaXR5JzpcbiAgICAgICAgcGVyZi5lbmFibGVDb25uZWN0aW9uUG9vbGluZyA9IHRydWU7XG4gICAgICAgIHBlcmYubWF4Q29uY3VycmVudFJlcXVlc3RzID0gMztcbiAgICAgICAgcGVyZi5lbmFibGVDb21wcmVzc2lvbiA9IHRydWU7XG4gICAgICAgIHBlcmYuZW5hYmxlQ2FjaGluZyA9IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6IC8vIGJhbGFuY2VkXG4gICAgICAgIHBlcmYuZW5hYmxlQ29ubmVjdGlvblBvb2xpbmcgPSB0cnVlO1xuICAgICAgICBwZXJmLm1heENvbmN1cnJlbnRSZXF1ZXN0cyA9IDU7XG4gICAgICAgIHBlcmYuZW5hYmxlQ29tcHJlc3Npb24gPSB0cnVlO1xuICAgICAgICBwZXJmLmVuYWJsZUNhY2hpbmcgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZUV4cGVydE9wdGlvbnNWaXNpYmlsaXR5KCkge1xuICAgIGNvbnN0IGV4cGVydE9wdGlvbnMgPSB0aGlzLmNvbnRhaW5lckVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5leHBlcnQtb3B0aW9uJyk7XG4gICAgZXhwZXJ0T3B0aW9ucy5mb3JFYWNoKGVsID0+IHtcbiAgICAgIGlmICh0aGlzLmNvbmZpZy5zaG93RXhwZXJ0T3B0aW9ucykge1xuICAgICAgICBlbC5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbC5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZVByb2ZpbGVTZWxlY3RvcigpIHtcbiAgICB0aGlzLnByb2ZpbGVTZWxlY3Rvci5lbXB0eSgpO1xuICAgIFxuICAgIC8vIEFkZCBkZWZhdWx0IHByb2ZpbGVcbiAgICBjb25zdCBkZWZhdWx0T3B0aW9uID0gdGhpcy5wcm9maWxlU2VsZWN0b3IuY3JlYXRlRWwoJ29wdGlvbicsIHsgdmFsdWU6ICdkZWZhdWx0JyB9KTtcbiAgICBkZWZhdWx0T3B0aW9uLnRleHRDb250ZW50ID0gJ0RlZmF1bHQgQ29uZmlndXJhdGlvbic7XG4gICAgXG4gICAgLy8gQWRkIGN1c3RvbSBwcm9maWxlc1xuICAgIHRoaXMucHJvZmlsZXMuZm9yRWFjaChwcm9maWxlID0+IHtcbiAgICAgIGNvbnN0IG9wdGlvbiA9IHRoaXMucHJvZmlsZVNlbGVjdG9yLmNyZWF0ZUVsKCdvcHRpb24nLCB7IHZhbHVlOiBwcm9maWxlLmlkIH0pO1xuICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gcHJvZmlsZS5uYW1lO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBsb2FkUHJvZmlsZXMoKSB7XG4gICAgLy8gTG9hZCBzYXZlZCBwcm9maWxlcyBmcm9tIHN0b3JhZ2VcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc2F2ZWRQcm9maWxlcyA9IHRoaXMucGx1Z2luLnNldHRpbmdzLmNvbmZpZ3VyYXRpb25Qcm9maWxlcyB8fCBbXTtcbiAgICAgIHRoaXMucHJvZmlsZXMgPSBzYXZlZFByb2ZpbGVzLm1hcCgocDogYW55KSA9PiAoe1xuICAgICAgICAuLi5wLFxuICAgICAgICBjcmVhdGVkOiBuZXcgRGF0ZShwLmNyZWF0ZWQpLFxuICAgICAgICBsYXN0TW9kaWZpZWQ6IG5ldyBEYXRlKHAubGFzdE1vZGlmaWVkKVxuICAgICAgfSkpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gbG9hZCBjb25maWd1cmF0aW9uIHByb2ZpbGVzOicsIGVycm9yKTtcbiAgICAgIHRoaXMucHJvZmlsZXMgPSBbXTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGxvYWRQcm9maWxlKHByb2ZpbGVJZDogc3RyaW5nKSB7XG4gICAgaWYgKHByb2ZpbGVJZCA9PT0gJ2RlZmF1bHQnKSB7XG4gICAgICB0aGlzLmN1cnJlbnRDb25maWd1cmF0aW9uID0gdGhpcy5nZXREZWZhdWx0Q29uZmlndXJhdGlvbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBwcm9maWxlID0gdGhpcy5wcm9maWxlcy5maW5kKHAgPT4gcC5pZCA9PT0gcHJvZmlsZUlkKTtcbiAgICAgIGlmIChwcm9maWxlKSB7XG4gICAgICAgIHRoaXMuY3VycmVudENvbmZpZ3VyYXRpb24gPSB7IC4uLnByb2ZpbGUuY29uZmlnIH07XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHRoaXMucmVuZGVyU2V0dGluZ3MoKTtcbiAgICB0aGlzLm9uQ29uZmlndXJhdGlvbkNoYW5nZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBzaG93U2F2ZVByb2ZpbGVNb2RhbCgpIHtcbiAgICBjb25zdCBuYW1lID0gcHJvbXB0KCdFbnRlciBwcm9maWxlIG5hbWU6Jyk7XG4gICAgaWYgKCFuYW1lKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgZGVzY3JpcHRpb24gPSBwcm9tcHQoJ0VudGVyIHByb2ZpbGUgZGVzY3JpcHRpb24gKG9wdGlvbmFsKTonKSB8fCAnJztcbiAgICB0aGlzLnNhdmVBc1Byb2ZpbGUobmFtZSwgZGVzY3JpcHRpb24pO1xuICB9XG5cbiAgcHJpdmF0ZSBzYXZlQXNQcm9maWxlKG5hbWU6IHN0cmluZywgZGVzY3JpcHRpb246IHN0cmluZykge1xuICAgIGNvbnN0IHByb2ZpbGU6IENvbmZpZ3VyYXRpb25Qcm9maWxlID0ge1xuICAgICAgaWQ6IGBwcm9maWxlLSR7RGF0ZS5ub3coKX1gLFxuICAgICAgbmFtZSxcbiAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgY29uZmlnOiB7IC4uLnRoaXMuY3VycmVudENvbmZpZ3VyYXRpb24gfSxcbiAgICAgIGNyZWF0ZWQ6IG5ldyBEYXRlKCksXG4gICAgICBsYXN0TW9kaWZpZWQ6IG5ldyBEYXRlKCksXG4gICAgICBpc0RlZmF1bHQ6IGZhbHNlXG4gICAgfTtcbiAgICBcbiAgICB0aGlzLnByb2ZpbGVzLnB1c2gocHJvZmlsZSk7XG4gICAgdGhpcy51cGRhdGVQcm9maWxlU2VsZWN0b3IoKTtcbiAgICB0aGlzLnNhdmVQcm9maWxlcygpO1xuICAgIFxuICAgIG5ldyBOb3RpY2UoYFByb2ZpbGUgXCIke25hbWV9XCIgc2F2ZWQgc3VjY2Vzc2Z1bGx5YCk7XG4gIH1cblxuICBwcml2YXRlIGRlbGV0ZUN1cnJlbnRQcm9maWxlKCkge1xuICAgIGNvbnN0IGN1cnJlbnRQcm9maWxlSWQgPSB0aGlzLnByb2ZpbGVTZWxlY3Rvci52YWx1ZTtcbiAgICBpZiAoY3VycmVudFByb2ZpbGVJZCA9PT0gJ2RlZmF1bHQnKSB7XG4gICAgICBuZXcgTm90aWNlKCdDYW5ub3QgZGVsZXRlIHRoZSBkZWZhdWx0IHByb2ZpbGUnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgcHJvZmlsZSA9IHRoaXMucHJvZmlsZXMuZmluZChwID0+IHAuaWQgPT09IGN1cnJlbnRQcm9maWxlSWQpO1xuICAgIGlmICghcHJvZmlsZSkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IGNvbmZpcm1lZCA9IGNvbmZpcm0oYERlbGV0ZSBwcm9maWxlIFwiJHtwcm9maWxlLm5hbWV9XCI/YCk7XG4gICAgaWYgKGNvbmZpcm1lZCkge1xuICAgICAgdGhpcy5wcm9maWxlcyA9IHRoaXMucHJvZmlsZXMuZmlsdGVyKHAgPT4gcC5pZCAhPT0gY3VycmVudFByb2ZpbGVJZCk7XG4gICAgICB0aGlzLnVwZGF0ZVByb2ZpbGVTZWxlY3RvcigpO1xuICAgICAgdGhpcy5zYXZlUHJvZmlsZXMoKTtcbiAgICAgIHRoaXMubG9hZFByb2ZpbGUoJ2RlZmF1bHQnKTtcbiAgICAgIFxuICAgICAgbmV3IE5vdGljZShgUHJvZmlsZSBcIiR7cHJvZmlsZS5uYW1lfVwiIGRlbGV0ZWRgKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHNhdmVDb25maWd1cmF0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB2YWxpZGF0aW9uID0gYXdhaXQgdGhpcy52YWxpZGF0ZUNvbmZpZ3VyYXRpb24oKTtcbiAgICAgIFxuICAgICAgaWYgKCF2YWxpZGF0aW9uLmlzVmFsaWQpIHtcbiAgICAgICAgY29uc3QgcHJvY2VlZCA9IGNvbmZpcm0oJ0NvbmZpZ3VyYXRpb24gaGFzIGVycm9ycy4gU2F2ZSBhbnl3YXk/Jyk7XG4gICAgICAgIGlmICghcHJvY2VlZCkgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBTYXZlIHRvIHBsdWdpbiBzZXR0aW5nc1xuICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuYWR2YW5jZWRDb25maWd1cmF0aW9uID0geyAuLi50aGlzLmN1cnJlbnRDb25maWd1cmF0aW9uIH07XG4gICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgIFxuICAgICAgdGhpcy5oYXNVbnNhdmVkQ2hhbmdlcyA9IGZhbHNlO1xuICAgICAgbmV3IE5vdGljZSgn4pyFIENvbmZpZ3VyYXRpb24gc2F2ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHNhdmUgY29uZmlndXJhdGlvbjonLCBlcnJvcik7XG4gICAgICBuZXcgTm90aWNlKCfinYwgRmFpbGVkIHRvIHNhdmUgY29uZmlndXJhdGlvbicpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcmVzZXRUb0RlZmF1bHRzKCkge1xuICAgIGNvbnN0IGNvbmZpcm1lZCA9IGNvbmZpcm0oJ1Jlc2V0IGFsbCBzZXR0aW5ncyB0byBkZWZhdWx0IHZhbHVlcz8gVGhpcyBjYW5ub3QgYmUgdW5kb25lLicpO1xuICAgIGlmIChjb25maXJtZWQpIHtcbiAgICAgIHRoaXMuY3VycmVudENvbmZpZ3VyYXRpb24gPSB0aGlzLmdldERlZmF1bHRDb25maWd1cmF0aW9uKCk7XG4gICAgICB0aGlzLnJlbmRlclNldHRpbmdzKCk7XG4gICAgICB0aGlzLm9uQ29uZmlndXJhdGlvbkNoYW5nZSgpO1xuICAgICAgbmV3IE5vdGljZSgnQ29uZmlndXJhdGlvbiByZXNldCB0byBkZWZhdWx0cycpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgdGVzdENvbmZpZ3VyYXRpb24oKSB7XG4gICAgbmV3IE5vdGljZSgnVGVzdGluZyBjb25maWd1cmF0aW9uLi4uJyk7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIFNpbXVsYXRlIGNvbmZpZ3VyYXRpb24gdGVzdFxuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDIwMDApKTtcbiAgICAgIFxuICAgICAgY29uc3QgdGVzdFJlc3VsdCA9IHtcbiAgICAgICAgc3VjY2VzczogTWF0aC5yYW5kb20oKSA+IDAuMiwgLy8gODAlIHN1Y2Nlc3MgcmF0ZSBmb3IgZGVtb1xuICAgICAgICBsYXRlbmN5OiBNYXRoLnJhbmRvbSgpICogMjAwICsgNTAsXG4gICAgICAgIGVycm9yczogTWF0aC5yYW5kb20oKSA+IDAuOCA/IFsnQ29ubmVjdGlvbiB0aW1lb3V0J10gOiBbXVxuICAgICAgfTtcbiAgICAgIFxuICAgICAgaWYgKHRlc3RSZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBuZXcgTm90aWNlKGDinIUgQ29uZmlndXJhdGlvbiB0ZXN0IHBhc3NlZCAoJHt0ZXN0UmVzdWx0LmxhdGVuY3kudG9GaXhlZCgwKX1tcyBhdmVyYWdlKWApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3IE5vdGljZShg4p2MIENvbmZpZ3VyYXRpb24gdGVzdCBmYWlsZWQ6ICR7dGVzdFJlc3VsdC5lcnJvcnMuam9pbignLCAnKX1gKTtcbiAgICAgIH1cbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdDb25maWd1cmF0aW9uIHRlc3QgZmFpbGVkOicsIGVycm9yKTtcbiAgICAgIG5ldyBOb3RpY2UoJ+KdjCBDb25maWd1cmF0aW9uIHRlc3QgZmFpbGVkJyk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBleHBvcnRDb25maWd1cmF0aW9uKCkge1xuICAgIGNvbnN0IGV4cG9ydERhdGEgPSB7XG4gICAgICB2ZXJzaW9uOiAnMS4wJyxcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgY29uZmlndXJhdGlvbjogdGhpcy5jdXJyZW50Q29uZmlndXJhdGlvbixcbiAgICAgIHByb2ZpbGVzOiB0aGlzLnByb2ZpbGVzXG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW0pTT04uc3RyaW5naWZ5KGV4cG9ydERhdGEsIG51bGwsIDIpXSwgeyB0eXBlOiAnYXBwbGljYXRpb24vanNvbicgfSk7XG4gICAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICBcbiAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIGEuaHJlZiA9IHVybDtcbiAgICBhLmRvd25sb2FkID0gYHZhdWx0cGlsb3QtY29uZmlnLSR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF19Lmpzb25gO1xuICAgIGEuY2xpY2soKTtcbiAgICBcbiAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XG4gICAgbmV3IE5vdGljZSgnQ29uZmlndXJhdGlvbiBleHBvcnRlZCBzdWNjZXNzZnVsbHknKTtcbiAgfVxuXG4gIHByaXZhdGUgaW1wb3J0Q29uZmlndXJhdGlvbigpIHtcbiAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgaW5wdXQudHlwZSA9ICdmaWxlJztcbiAgICBpbnB1dC5hY2NlcHQgPSAnLmpzb24nO1xuICAgIFxuICAgIGlucHV0Lm9uY2hhbmdlID0gKGUpID0+IHtcbiAgICAgIGNvbnN0IGZpbGUgPSAoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkuZmlsZXM/LlswXTtcbiAgICAgIGlmICghZmlsZSkgcmV0dXJuO1xuICAgICAgXG4gICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgcmVhZGVyLm9ubG9hZCA9IChlKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZS50YXJnZXQ/LnJlc3VsdCBhcyBzdHJpbmcpO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChkYXRhLmNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudENvbmZpZ3VyYXRpb24gPSBkYXRhLmNvbmZpZ3VyYXRpb247XG4gICAgICAgICAgICB0aGlzLnJlbmRlclNldHRpbmdzKCk7XG4gICAgICAgICAgICB0aGlzLm9uQ29uZmlndXJhdGlvbkNoYW5nZSgpO1xuICAgICAgICAgICAgbmV3IE5vdGljZSgnQ29uZmlndXJhdGlvbiBpbXBvcnRlZCBzdWNjZXNzZnVsbHknKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGRhdGEucHJvZmlsZXMpIHtcbiAgICAgICAgICAgIHRoaXMucHJvZmlsZXMgPSBkYXRhLnByb2ZpbGVzLm1hcCgocDogYW55KSA9PiAoe1xuICAgICAgICAgICAgICAuLi5wLFxuICAgICAgICAgICAgICBjcmVhdGVkOiBuZXcgRGF0ZShwLmNyZWF0ZWQpLFxuICAgICAgICAgICAgICBsYXN0TW9kaWZpZWQ6IG5ldyBEYXRlKHAubGFzdE1vZGlmaWVkKVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVQcm9maWxlU2VsZWN0b3IoKTtcbiAgICAgICAgICAgIHRoaXMuc2F2ZVByb2ZpbGVzKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBpbXBvcnQgY29uZmlndXJhdGlvbjonLCBlcnJvcik7XG4gICAgICAgICAgbmV3IE5vdGljZSgn4p2MIEZhaWxlZCB0byBpbXBvcnQgY29uZmlndXJhdGlvbjogSW52YWxpZCBmaWxlIGZvcm1hdCcpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgXG4gICAgICByZWFkZXIucmVhZEFzVGV4dChmaWxlKTtcbiAgICB9O1xuICAgIFxuICAgIGlucHV0LmNsaWNrKCk7XG4gIH1cblxuICBwcml2YXRlIHNhdmVQcm9maWxlcygpIHtcbiAgICB0cnkge1xuICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuY29uZmlndXJhdGlvblByb2ZpbGVzID0gdGhpcy5wcm9maWxlcztcbiAgICAgIHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc2F2ZSBwcm9maWxlczonLCBlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzdGFydFJlYWxUaW1lVmFsaWRhdGlvbigpIHtcbiAgICAvLyBSZWFsLXRpbWUgdmFsaWRhdGlvbiBpcyBoYW5kbGVkIGJ5IG9uQ29uZmlndXJhdGlvbkNoYW5nZVxuICAgIC8vIFRoaXMgY291bGQgYmUgZXh0ZW5kZWQgd2l0aCBtb3JlIHNvcGhpc3RpY2F0ZWQgdmFsaWRhdGlvblxuICAgIGNvbnNvbGUubG9nKCdSZWFsLXRpbWUgdmFsaWRhdGlvbiBlbmFibGVkJyk7XG4gIH1cbn1cbiIsIi8qKlxuICogUGhhc2UzSW50ZWdyYXRpb24gLSBNYWluIGludGVncmF0aW9uIGNvbXBvbmVudCBmb3IgVmF1bHRQaWxvdCBQaGFzZSAzIGZlYXR1cmVzXG4gKi9cblxuaW1wb3J0IHsgQ29tcG9uZW50LCBTZXR0aW5nLCBOb3RpY2UsIFdvcmtzcGFjZUxlYWYsIE1vZGFsIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IFZhdWx0UGlsb3RQbHVnaW4gZnJvbSAnLi4vbWFpbic7XG5pbXBvcnQgeyBPbmJvYXJkaW5nV2l6YXJkIH0gZnJvbSAnLi9PbmJvYXJkaW5nV2l6YXJkJztcbmltcG9ydCB7IFRyYW5zcG9ydERhc2hib2FyZCB9IGZyb20gJy4vVHJhbnNwb3J0RGFzaGJvYXJkJztcbmltcG9ydCB7IEFkdmFuY2VkU2V0dGluZ3MgfSBmcm9tICcuL0FkdmFuY2VkU2V0dGluZ3MnO1xuaW1wb3J0IHsgUmVjb21tZW5kYXRpb25FbmdpbmUsIFJlY29tbWVuZGF0aW9uQ29udGV4dCwgUmVjb21tZW5kYXRpb24gfSBmcm9tICcuLi9zZXJ2aWNlcy9SZWNvbW1lbmRhdGlvbkVuZ2luZSc7XG5pbXBvcnQgeyBUcmFuc3BvcnRUeXBlIH0gZnJvbSAnLi4vZGV2cGlwZS90cmFuc3BvcnRzL0RldlBpcGVUcmFuc3BvcnQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFBoYXNlM0NvbmZpZyB7XG4gIGVuYWJsZU9uYm9hcmRpbmc6IGJvb2xlYW47XG4gIGVuYWJsZURhc2hib2FyZDogYm9vbGVhbjtcbiAgZW5hYmxlUmVjb21tZW5kYXRpb25zOiBib29sZWFuO1xuICBlbmFibGVBZHZhbmNlZFNldHRpbmdzOiBib29sZWFuO1xuICBhdXRvU2hvd09uYm9hcmRpbmc6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjbGFzcyBQaGFzZTNJbnRlZ3JhdGlvbiBleHRlbmRzIENvbXBvbmVudCB7XG4gIHByaXZhdGUgcGx1Z2luOiBWYXVsdFBpbG90UGx1Z2luO1xuICBwcml2YXRlIGNvbmZpZzogUGhhc2UzQ29uZmlnO1xuICBwcml2YXRlIHJlY29tbWVuZGF0aW9uRW5naW5lOiBSZWNvbW1lbmRhdGlvbkVuZ2luZTtcbiAgXG4gIC8vIENvbXBvbmVudCBpbnN0YW5jZXNcbiAgcHJpdmF0ZSBvbmJvYXJkaW5nV2l6YXJkPzogT25ib2FyZGluZ1dpemFyZDtcbiAgcHJpdmF0ZSB0cmFuc3BvcnREYXNoYm9hcmQ/OiBUcmFuc3BvcnREYXNoYm9hcmQ7XG4gIHByaXZhdGUgYWR2YW5jZWRTZXR0aW5ncz86IEFkdmFuY2VkU2V0dGluZ3M7XG4gIFxuICAvLyBVSSBjb250YWluZXJzXG4gIHByaXZhdGUgZGFzaGJvYXJkQ29udGFpbmVyPzogSFRNTEVsZW1lbnQ7XG4gIHByaXZhdGUgc2V0dGluZ3NDb250YWluZXI/OiBIVE1MRWxlbWVudDtcbiAgXG4gIGNvbnN0cnVjdG9yKHBsdWdpbjogVmF1bHRQaWxvdFBsdWdpbiwgY29uZmlnOiBQYXJ0aWFsPFBoYXNlM0NvbmZpZz4gPSB7fSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gICAgdGhpcy5jb25maWcgPSB7XG4gICAgICBlbmFibGVPbmJvYXJkaW5nOiB0cnVlLFxuICAgICAgZW5hYmxlRGFzaGJvYXJkOiB0cnVlLFxuICAgICAgZW5hYmxlUmVjb21tZW5kYXRpb25zOiB0cnVlLFxuICAgICAgZW5hYmxlQWR2YW5jZWRTZXR0aW5nczogdHJ1ZSxcbiAgICAgIGF1dG9TaG93T25ib2FyZGluZzogIXBsdWdpbi5zZXR0aW5ncy5vbmJvYXJkaW5nQ29tcGxldGUsXG4gICAgICAuLi5jb25maWdcbiAgICB9O1xuICAgIFxuICAgIHRoaXMucmVjb21tZW5kYXRpb25FbmdpbmUgPSBuZXcgUmVjb21tZW5kYXRpb25FbmdpbmUoKTtcbiAgfVxuXG4gIGFzeW5jIG9ubG9hZCgpIHtcbiAgICBjb25zb2xlLmxvZygnUGhhc2UgMyBJbnRlZ3JhdGlvbiBsb2FkaW5nLi4uJyk7XG4gICAgXG4gICAgLy8gUmVnaXN0ZXIgY29tbWFuZHNcbiAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZHMoKTtcbiAgICBcbiAgICAvLyBTZXR1cCBVSSBjb21wb25lbnRzXG4gICAgYXdhaXQgdGhpcy5zZXR1cENvbXBvbmVudHMoKTtcbiAgICBcbiAgICAvLyBTaG93IG9uYm9hcmRpbmcgaWYgbmVlZGVkXG4gICAgaWYgKHRoaXMuY29uZmlnLmF1dG9TaG93T25ib2FyZGluZykge1xuICAgICAgdGhpcy5zaG93T25ib2FyZGluZygpO1xuICAgIH1cbiAgICBcbiAgICAvLyBTdGFydCByZWNvbW1lbmRhdGlvbiBlbmdpbmVcbiAgICBpZiAodGhpcy5jb25maWcuZW5hYmxlUmVjb21tZW5kYXRpb25zKSB7XG4gICAgICB0aGlzLnN0YXJ0UmVjb21tZW5kYXRpb25FbmdpbmUoKTtcbiAgICB9XG4gICAgXG4gICAgY29uc29sZS5sb2coJ1BoYXNlIDMgSW50ZWdyYXRpb24gbG9hZGVkIHN1Y2Nlc3NmdWxseScpO1xuICB9XG5cbiAgb251bmxvYWQoKSB7XG4gICAgY29uc29sZS5sb2coJ1BoYXNlIDMgSW50ZWdyYXRpb24gdW5sb2FkaW5nLi4uJyk7XG4gICAgXG4gICAgLy8gQ2xlYW51cCBjb21wb25lbnRzXG4gICAgdGhpcy5jbGVhbnVwKCk7XG4gIH1cblxuICBwcml2YXRlIHJlZ2lzdGVyQ29tbWFuZHMoKSB7XG4gICAgLy8gT25ib2FyZGluZyBjb21tYW5kXG4gICAgaWYgKHRoaXMuY29uZmlnLmVuYWJsZU9uYm9hcmRpbmcpIHtcbiAgICAgIHRoaXMucGx1Z2luLmFkZENvbW1hbmQoe1xuICAgICAgICBpZDogJ3Nob3ctb25ib2FyZGluZycsXG4gICAgICAgIG5hbWU6ICdTaG93IFNldHVwIFdpemFyZCcsXG4gICAgICAgIGNhbGxiYWNrOiAoKSA9PiB0aGlzLnNob3dPbmJvYXJkaW5nKClcbiAgICAgIH0pO1xuICAgIH1cbiAgICBcbiAgICAvLyBEYXNoYm9hcmQgY29tbWFuZFxuICAgIGlmICh0aGlzLmNvbmZpZy5lbmFibGVEYXNoYm9hcmQpIHtcbiAgICAgIHRoaXMucGx1Z2luLmFkZENvbW1hbmQoe1xuICAgICAgICBpZDogJ3Nob3ctZGFzaGJvYXJkJyxcbiAgICAgICAgbmFtZTogJ1Nob3cgVHJhbnNwb3J0IERhc2hib2FyZCcsXG4gICAgICAgIGNhbGxiYWNrOiAoKSA9PiB0aGlzLnNob3dEYXNoYm9hcmQoKVxuICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIC8vIEFkdmFuY2VkIHNldHRpbmdzIGNvbW1hbmRcbiAgICBpZiAodGhpcy5jb25maWcuZW5hYmxlQWR2YW5jZWRTZXR0aW5ncykge1xuICAgICAgdGhpcy5wbHVnaW4uYWRkQ29tbWFuZCh7XG4gICAgICAgIGlkOiAnc2hvdy1hZHZhbmNlZC1zZXR0aW5ncycsXG4gICAgICAgIG5hbWU6ICdTaG93IEFkdmFuY2VkIFNldHRpbmdzJyxcbiAgICAgICAgY2FsbGJhY2s6ICgpID0+IHRoaXMuc2hvd0FkdmFuY2VkU2V0dGluZ3MoKVxuICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIC8vIFJlY29tbWVuZGF0aW9ucyBjb21tYW5kXG4gICAgaWYgKHRoaXMuY29uZmlnLmVuYWJsZVJlY29tbWVuZGF0aW9ucykge1xuICAgICAgdGhpcy5wbHVnaW4uYWRkQ29tbWFuZCh7XG4gICAgICAgIGlkOiAnc2hvdy1yZWNvbW1lbmRhdGlvbnMnLFxuICAgICAgICBuYW1lOiAnU2hvdyBBSSBSZWNvbW1lbmRhdGlvbnMnLFxuICAgICAgICBjYWxsYmFjazogKCkgPT4gdGhpcy5zaG93UmVjb21tZW5kYXRpb25zKClcbiAgICAgIH0pO1xuICAgIH1cbiAgICBcbiAgICAvLyBRdWljayBvcHRpbWl6YXRpb24gY29tbWFuZFxuICAgIHRoaXMucGx1Z2luLmFkZENvbW1hbmQoe1xuICAgICAgaWQ6ICdxdWljay1vcHRpbWl6ZScsXG4gICAgICBuYW1lOiAnUXVpY2sgUGVyZm9ybWFuY2UgT3B0aW1pemF0aW9uJyxcbiAgICAgIGNhbGxiYWNrOiAoKSA9PiB0aGlzLnF1aWNrT3B0aW1pemUoKVxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBzZXR1cENvbXBvbmVudHMoKSB7XG4gICAgLy8gTG9hZCB0aGUgUGhhc2UgMyBDU1NcbiAgICB0aGlzLmxvYWRQaGFzZTNTdHlsZXMoKTtcbiAgICBcbiAgICAvLyBJbml0aWFsaXplIGRhc2hib2FyZCBpZiBlbmFibGVkXG4gICAgaWYgKHRoaXMuY29uZmlnLmVuYWJsZURhc2hib2FyZCkge1xuICAgICAgdGhpcy5zZXR1cERhc2hib2FyZCgpO1xuICAgIH1cbiAgICBcbiAgICAvLyBJbml0aWFsaXplIGFkdmFuY2VkIHNldHRpbmdzIGlmIGVuYWJsZWRcbiAgICBpZiAodGhpcy5jb25maWcuZW5hYmxlQWR2YW5jZWRTZXR0aW5ncykge1xuICAgICAgdGhpcy5zZXR1cEFkdmFuY2VkU2V0dGluZ3MoKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGxvYWRQaGFzZTNTdHlsZXMoKSB7XG4gICAgLy8gQWRkIHRoZSBQaGFzZSAzIHN0eWxlcyBkaXJlY3RseSBhcyBpbmxpbmUgc3R5bGVzXG4gICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2YXVsdHBpbG90LXBoYXNlMy1zdHlsZXMnKSkge1xuICAgICAgcmV0dXJuOyAvLyBBbHJlYWR5IGxvYWRlZFxuICAgIH1cbiAgICBcbiAgICBjb25zdCBzdHlsZUVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICBzdHlsZUVsLmlkID0gJ3ZhdWx0cGlsb3QtcGhhc2UzLXN0eWxlcyc7XG4gICAgc3R5bGVFbC50ZXh0Q29udGVudCA9IGBcbi8qIFZhdWx0UGlsb3QgUGhhc2UgMyBDb21wb25lbnQgU3R5bGVzICovXG5cbi8qIE9uYm9hcmRpbmcgV2l6YXJkIFN0eWxlcyAqL1xuLnZhdWx0cGlsb3Qtb25ib2FyZGluZy1tb2RhbCB7XG4gIHdpZHRoOiA2MDBweDtcbiAgbWF4LXdpZHRoOiA5MHZ3O1xufVxuXG4udmF1bHRwaWxvdC1vbmJvYXJkaW5nIHtcbiAgbWF4LWhlaWdodDogODB2aDtcbiAgb3ZlcmZsb3cteTogYXV0bztcbn1cblxuLm9uYm9hcmRpbmctaGVhZGVyIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICBwYWRkaW5nLWJvdHRvbTogMTVweDtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbn1cblxuLm9uYm9hcmRpbmctc3VidGl0bGUge1xuICBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7XG4gIG1hcmdpbi10b3A6IDVweDtcbn1cblxuLm9uYm9hcmRpbmctcHJvZ3Jlc3Mge1xuICBtYXJnaW4tYm90dG9tOiAyNXB4O1xufVxuXG4ucHJvZ3Jlc3Mtc3RlcHMge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgZ2FwOiAxNXB4O1xuICBtYXJnaW4tYm90dG9tOiAxNXB4O1xufVxuXG4ucHJvZ3Jlc3Mtc3RlcCB7XG4gIHdpZHRoOiAzMnB4O1xuICBoZWlnaHQ6IDMycHg7XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBmb250LXNpemU6IDE0cHg7XG4gIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7XG59XG5cbi5wcm9ncmVzcy1zdGVwLmFjdGl2ZSB7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG4gIGNvbG9yOiB2YXIoLS10ZXh0LW9uLWFjY2VudCk7XG59XG5cbi5wcm9ncmVzcy1zdGVwLmNvbXBsZXRlZCB7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNvbG9yLWdyZWVuKTtcbiAgY29sb3I6IHdoaXRlO1xufVxuXG4ucHJvZ3Jlc3Mtc3RlcC5pbmFjdGl2ZSB7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xufVxuXG4ucHJvZ3Jlc3MtYmFyIHtcbiAgaGVpZ2h0OiA0cHg7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgYm9yZGVyLXJhZGl1czogMnB4O1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuXG4ucHJvZ3Jlc3MtZmlsbCB7XG4gIGhlaWdodDogMTAwJTtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0taW50ZXJhY3RpdmUtYWNjZW50KTtcbiAgdHJhbnNpdGlvbjogd2lkdGggMC4zcyBlYXNlO1xufVxuXG4ub25ib2FyZGluZy1zdGVwLWNvbnRhaW5lciB7XG4gIG1pbi1oZWlnaHQ6IDMwMHB4O1xuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xufVxuXG4ub25ib2FyZGluZy1zdGVwIHtcbiAgcGFkZGluZzogMjBweCAwO1xufVxuXG4ub25ib2FyZGluZy1uYXZpZ2F0aW9uIHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBnYXA6IDEwcHg7XG4gIHBhZGRpbmctdG9wOiAyMHB4O1xuICBib3JkZXItdG9wOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xufVxuXG4vKiBUcmFuc3BvcnQgRGFzaGJvYXJkIFN0eWxlcyAqL1xuLnRyYW5zcG9ydC1kYXNoYm9hcmQge1xuICBwYWRkaW5nOiAyMHB4O1xuICBtYXgtd2lkdGg6IDEwMCU7XG4gIG92ZXJmbG93LXg6IGF1dG87XG59XG5cbi5kYXNoYm9hcmQtaGVhZGVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBtYXJnaW4tYm90dG9tOiAyNXB4O1xuICBwYWRkaW5nLWJvdHRvbTogMTVweDtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbn1cblxuLnN0YXR1cy1jYXJkIHtcbiAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgcGFkZGluZzogMTZweDtcbiAgbWFyZ2luOiA4cHggMDtcbn1cblxuLnN0YXR1cy1jYXJkLmhlYWx0aHkge1xuICBib3JkZXItbGVmdDogNHB4IHNvbGlkIHZhcigtLWNvbG9yLWdyZWVuKTtcbn1cblxuLnN0YXR1cy1jYXJkLndhcm5pbmcge1xuICBib3JkZXItbGVmdDogNHB4IHNvbGlkIHZhcigtLWNvbG9yLW9yYW5nZSk7XG59XG5cbi5zdGF0dXMtY2FyZC5lcnJvciB7XG4gIGJvcmRlci1sZWZ0OiA0cHggc29saWQgdmFyKC0tY29sb3ItcmVkKTtcbn1cblxuLm1ldHJpY3MtZ3JpZCB7XG4gIGRpc3BsYXk6IGdyaWQ7XG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoMjAwcHgsIDFmcikpO1xuICBnYXA6IDE1cHg7XG4gIG1hcmdpbjogMjBweCAwO1xufVxuXG4ubWV0cmljLWNhcmQge1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpO1xuICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgcGFkZGluZzogMTVweDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG4ubWV0cmljLXZhbHVlIHtcbiAgZm9udC1zaXplOiAyNHB4O1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgY29sb3I6IHZhcigtLWludGVyYWN0aXZlLWFjY2VudCk7XG59XG5cbi5tZXRyaWMtbGFiZWwge1xuICBmb250LXNpemU6IDEycHg7XG4gIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTtcbiAgbWFyZ2luLXRvcDogNXB4O1xufVxuXG4vKiBBZHZhbmNlZCBTZXR0aW5ncyBTdHlsZXMgKi9cbi5hZHZhbmNlZC1zZXR0aW5ncyB7XG4gIHBhZGRpbmc6IDIwcHg7XG59XG5cbi5zZXR0aW5ncy1zZWN0aW9uIHtcbiAgbWFyZ2luLWJvdHRvbTogMzBweDtcbiAgcGFkZGluZy1ib3R0b206IDIwcHg7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG59XG5cbi5zZXR0aW5ncy1zZWN0aW9uOmxhc3QtY2hpbGQge1xuICBib3JkZXItYm90dG9tOiBub25lO1xufVxuXG4uc2VjdGlvbi1oZWFkZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIG1hcmdpbi1ib3R0b206IDE1cHg7XG59XG5cbi5zZWN0aW9uLXRpdGxlIHtcbiAgZm9udC1zaXplOiAxNnB4O1xuICBmb250LXdlaWdodDogNjAwO1xuICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xufVxuXG4ucHJvZmlsZS1tYW5hZ2VyIHtcbiAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpO1xuICBib3JkZXItcmFkaXVzOiA4cHg7XG4gIHBhZGRpbmc6IDE1cHg7XG4gIG1hcmdpbjogMTVweCAwO1xufVxuXG4ucHJvZmlsZXMtbGlzdCB7XG4gIG1hcmdpbjogMTVweCAwO1xufVxuXG4ucHJvZmlsZS1pdGVtIHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBwYWRkaW5nOiA4cHggMTJweDtcbiAgbWFyZ2luOiA1cHggMDtcbiAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcbiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICBib3JkZXItcmFkaXVzOiA0cHg7XG59XG5cbi5wcm9maWxlLWl0ZW0uYWN0aXZlIHtcbiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWhvdmVyKTtcbn1cblxuLmNvbmZpZy1ncm91cCB7XG4gIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgYm9yZGVyLXJhZGl1czogNnB4O1xuICBwYWRkaW5nOiAxNXB4O1xuICBtYXJnaW46IDEwcHggMDtcbn1cblxuLmNvbmZpZy1yb3cge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIG1hcmdpbjogMTBweCAwO1xufVxuXG4udmFsaWRhdGlvbi1zdGF0dXMge1xuICBmb250LXNpemU6IDEycHg7XG4gIHBhZGRpbmc6IDRweCA4cHg7XG4gIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgbWFyZ2luLWxlZnQ6IDEwcHg7XG59XG5cbi52YWxpZGF0aW9uLXN0YXR1cy52YWxpZCB7XG4gIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItc3VjY2Vzcyk7XG4gIGNvbG9yOiB2YXIoLS1jb2xvci1ncmVlbik7XG59XG5cbi52YWxpZGF0aW9uLXN0YXR1cy5pbnZhbGlkIHtcbiAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1lcnJvcik7XG4gIGNvbG9yOiB2YXIoLS1jb2xvci1yZWQpO1xufVxuXG4vKiBNb2RhbCBTdHlsZXMgKi9cbi52YXVsdHBpbG90LXBoYXNlMy1tb2RhbCB7XG4gIHdpZHRoOiA3MDBweDtcbiAgbWF4LXdpZHRoOiA5NXZ3O1xufVxuXG4ubW9kYWwtaGVhZGVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICBwYWRkaW5nLWJvdHRvbTogMTVweDtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbn1cblxuLm1vZGFsLWFjdGlvbnMge1xuICBkaXNwbGF5OiBmbGV4O1xuICBnYXA6IDEwcHg7XG4gIG1hcmdpbi10b3A6IDIwcHg7XG4gIHBhZGRpbmctdG9wOiAxNXB4O1xuICBib3JkZXItdG9wOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xufVxuXG4vKiBSZWNvbW1lbmRhdGlvbiBFbmdpbmUgU3R5bGVzICovXG4ucmVjb21tZW5kYXRpb25zLWNvbnRhaW5lciB7XG4gIG1hcmdpbjogMjBweCAwO1xufVxuXG4ucmVjb21tZW5kYXRpb24tY2FyZCB7XG4gIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5KTtcbiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpO1xuICBib3JkZXItcmFkaXVzOiA4cHg7XG4gIHBhZGRpbmc6IDE2cHg7XG4gIG1hcmdpbjogMTJweCAwO1xufVxuXG4ucmVjb21tZW5kYXRpb24tY2FyZC5oaWdoLXByaW9yaXR5IHtcbiAgYm9yZGVyLWxlZnQ6IDRweCBzb2xpZCB2YXIoLS1jb2xvci1yZWQpO1xufVxuXG4ucmVjb21tZW5kYXRpb24tY2FyZC5tZWRpdW0tcHJpb3JpdHkge1xuICBib3JkZXItbGVmdDogNHB4IHNvbGlkIHZhcigtLWNvbG9yLW9yYW5nZSk7XG59XG5cbi5yZWNvbW1lbmRhdGlvbi1jYXJkLmxvdy1wcmlvcml0eSB7XG4gIGJvcmRlci1sZWZ0OiA0cHggc29saWQgdmFyKC0tY29sb3ItZ3JlZW4pO1xufVxuXG4ucmVjb21tZW5kYXRpb24taGVhZGVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xufVxuXG4ucmVjb21tZW5kYXRpb24tdGl0bGUge1xuICBmb250LXdlaWdodDogNjAwO1xuICBjb2xvcjogdmFyKC0tdGV4dC1ub3JtYWwpO1xufVxuXG4ucmVjb21tZW5kYXRpb24tYWN0aW9ucyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGdhcDogOHB4O1xuICBtYXJnaW4tdG9wOiAxNXB4O1xufVxuXG4vKiBSZXNwb25zaXZlIERlc2lnbiAqL1xuQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7XG4gIC52YXVsdHBpbG90LW9uYm9hcmRpbmctbW9kYWwsXG4gIC52YXVsdHBpbG90LXBoYXNlMy1tb2RhbCB7XG4gICAgd2lkdGg6IDk1dnc7XG4gIH1cbiAgXG4gIC5tZXRyaWNzLWdyaWQge1xuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyO1xuICB9XG4gIFxuICAuZGFzaGJvYXJkLWhlYWRlcixcbiAgLm1vZGFsLWhlYWRlciB7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBnYXA6IDEwcHg7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICB9XG4gIFxuICAuY29uZmlnLXJvdyB7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcbiAgICBnYXA6IDEwcHg7XG4gIH1cbn1cbmA7XG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsKTtcbiAgfVxuXG4gIHByaXZhdGUgc2V0dXBEYXNoYm9hcmQoKSB7XG4gICAgLy8gRGFzaGJvYXJkIHdpbGwgYmUgY3JlYXRlZCB3aGVuIG5lZWRlZFxuICAgIGNvbnNvbGUubG9nKCdEYXNoYm9hcmQgc2V0dXAgcmVhZHknKTtcbiAgfVxuXG4gIHByaXZhdGUgc2V0dXBBZHZhbmNlZFNldHRpbmdzKCkge1xuICAgIC8vIEFkdmFuY2VkIHNldHRpbmdzIHdpbGwgYmUgY3JlYXRlZCB3aGVuIG5lZWRlZFxuICAgIGNvbnNvbGUubG9nKCdBZHZhbmNlZCBzZXR0aW5ncyBzZXR1cCByZWFkeScpO1xuICB9XG5cbiAgcHJpdmF0ZSBzaG93T25ib2FyZGluZygpIHtcbiAgICBpZiAoIXRoaXMuY29uZmlnLmVuYWJsZU9uYm9hcmRpbmcpIHtcbiAgICAgIG5ldyBOb3RpY2UoJ09uYm9hcmRpbmcgaXMgZGlzYWJsZWQnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgaWYgKHRoaXMub25ib2FyZGluZ1dpemFyZCkge1xuICAgICAgLy8gQ2xvc2UgZXhpc3Rpbmcgd2l6YXJkXG4gICAgICB0aGlzLm9uYm9hcmRpbmdXaXphcmQuY2xvc2UoKTtcbiAgICB9XG4gICAgXG4gICAgdGhpcy5vbmJvYXJkaW5nV2l6YXJkID0gbmV3IE9uYm9hcmRpbmdXaXphcmQodGhpcy5wbHVnaW4uYXBwLCB0aGlzLnBsdWdpbik7XG4gICAgdGhpcy5vbmJvYXJkaW5nV2l6YXJkLm9wZW4oKTtcbiAgfVxuXG4gIHByaXZhdGUgc2hvd0Rhc2hib2FyZCgpIHtcbiAgICBpZiAoIXRoaXMuY29uZmlnLmVuYWJsZURhc2hib2FyZCkge1xuICAgICAgbmV3IE5vdGljZSgnRGFzaGJvYXJkIGlzIGRpc2FibGVkJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIENyZWF0ZSBvciBzaG93IGRhc2hib2FyZCBtb2RhbFxuICAgIGNvbnN0IG1vZGFsID0gbmV3IERhc2hib2FyZE1vZGFsKHRoaXMucGx1Z2luKTtcbiAgICBtb2RhbC5vcGVuKCk7XG4gIH1cblxuICBwcml2YXRlIHNob3dBZHZhbmNlZFNldHRpbmdzKCkge1xuICAgIGlmICghdGhpcy5jb25maWcuZW5hYmxlQWR2YW5jZWRTZXR0aW5ncykge1xuICAgICAgbmV3IE5vdGljZSgnQWR2YW5jZWQgc2V0dGluZ3MgYXJlIGRpc2FibGVkJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIENyZWF0ZSBvciBzaG93IGFkdmFuY2VkIHNldHRpbmdzIG1vZGFsXG4gICAgY29uc3QgbW9kYWwgPSBuZXcgQWR2YW5jZWRTZXR0aW5nc01vZGFsKHRoaXMucGx1Z2luKTtcbiAgICBtb2RhbC5vcGVuKCk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHNob3dSZWNvbW1lbmRhdGlvbnMoKSB7XG4gICAgaWYgKCF0aGlzLmNvbmZpZy5lbmFibGVSZWNvbW1lbmRhdGlvbnMpIHtcbiAgICAgIG5ldyBOb3RpY2UoJ1JlY29tbWVuZGF0aW9ucyBhcmUgZGlzYWJsZWQnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgbmV3IE5vdGljZSgnR2VuZXJhdGluZyBBSSByZWNvbW1lbmRhdGlvbnMuLi4nKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29udGV4dCA9IGF3YWl0IHRoaXMuYnVpbGRSZWNvbW1lbmRhdGlvbkNvbnRleHQoKTtcbiAgICAgIGNvbnN0IHJlY29tbWVuZGF0aW9ucyA9IGF3YWl0IHRoaXMucmVjb21tZW5kYXRpb25FbmdpbmUuZ2VuZXJhdGVSZWNvbW1lbmRhdGlvbnMoY29udGV4dCk7XG4gICAgICBcbiAgICAgIGlmIChyZWNvbW1lbmRhdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBtb2RhbCA9IG5ldyBSZWNvbW1lbmRhdGlvbnNNb2RhbCh0aGlzLnBsdWdpbiwgcmVjb21tZW5kYXRpb25zLCB0aGlzLnJlY29tbWVuZGF0aW9uRW5naW5lKTtcbiAgICAgICAgbW9kYWwub3BlbigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3IE5vdGljZSgnTm8gcmVjb21tZW5kYXRpb25zIGF2YWlsYWJsZSBhdCB0aGlzIHRpbWUnKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGdlbmVyYXRlIHJlY29tbWVuZGF0aW9uczonLCBlcnJvcik7XG4gICAgICBuZXcgTm90aWNlKCdGYWlsZWQgdG8gZ2VuZXJhdGUgcmVjb21tZW5kYXRpb25zJyk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBxdWlja09wdGltaXplKCkge1xuICAgIG5ldyBOb3RpY2UoJ1J1bm5pbmcgcXVpY2sgb3B0aW1pemF0aW9uLi4uJyk7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbnRleHQgPSBhd2FpdCB0aGlzLmJ1aWxkUmVjb21tZW5kYXRpb25Db250ZXh0KCk7XG4gICAgICBjb25zdCByZWNvbW1lbmRhdGlvbnMgPSBhd2FpdCB0aGlzLnJlY29tbWVuZGF0aW9uRW5naW5lLmdlbmVyYXRlUmVjb21tZW5kYXRpb25zKGNvbnRleHQpO1xuICAgICAgXG4gICAgICAvLyBGaW5kIHF1aWNrLCBhdXRvbWF0aWMgb3B0aW1pemF0aW9uc1xuICAgICAgY29uc3QgcXVpY2tSZWNzID0gcmVjb21tZW5kYXRpb25zLmZpbHRlcihyZWMgPT4gXG4gICAgICAgIHJlYy5pbXBsZW1lbnRhdGlvbi5kaWZmaWN1bHR5ID09PSAnZWFzeScgJiYgXG4gICAgICAgIHJlYy5pbXBsZW1lbnRhdGlvbi5zdGVwcy5zb21lKHN0ZXAgPT4gc3RlcC5hY3Rpb24gPT09ICdhdXRvbWF0aWMnKVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgaWYgKHF1aWNrUmVjcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIEFwcGx5IHRoZSBmaXJzdCBxdWljayByZWNvbW1lbmRhdGlvblxuICAgICAgICBjb25zdCByZWMgPSBxdWlja1JlY3NbMF07XG4gICAgICAgIGF3YWl0IHRoaXMuYXBwbHlSZWNvbW1lbmRhdGlvbihyZWMpO1xuICAgICAgICBuZXcgTm90aWNlKGDinIUgQXBwbGllZDogJHtyZWMudGl0bGV9YCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXcgTm90aWNlKCdObyBxdWljayBvcHRpbWl6YXRpb25zIGF2YWlsYWJsZS4gVXNlIFwiU2hvdyBBSSBSZWNvbW1lbmRhdGlvbnNcIiBmb3IgbWFudWFsIG9wdGltaXphdGlvbnMuJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1F1aWNrIG9wdGltaXphdGlvbiBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgbmV3IE5vdGljZSgnUXVpY2sgb3B0aW1pemF0aW9uIGZhaWxlZCcpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgYnVpbGRSZWNvbW1lbmRhdGlvbkNvbnRleHQoKTogUHJvbWlzZTxSZWNvbW1lbmRhdGlvbkNvbnRleHQ+IHtcbiAgICAvLyBCdWlsZCBjb250ZXh0IGZvciByZWNvbW1lbmRhdGlvbiBlbmdpbmVcbiAgICBjb25zdCBjb250ZXh0OiBSZWNvbW1lbmRhdGlvbkNvbnRleHQgPSB7XG4gICAgICBzZXNzaW9uSWQ6IGBzZXNzaW9uLSR7RGF0ZS5ub3coKX1gLFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgY3VycmVudFRyYW5zcG9ydDogVHJhbnNwb3J0VHlwZS5IVFRQLCAvLyBEZWZhdWx0LCBzaG91bGQgYmUgZHluYW1pY1xuICAgICAgYXZhaWxhYmxlVHJhbnNwb3J0czogW1RyYW5zcG9ydFR5cGUuSFRUUCwgVHJhbnNwb3J0VHlwZS5XRUJTT0NLRVQsIFRyYW5zcG9ydFR5cGUuRklMRVNZU1RFTV0sXG4gICAgICBwZXJmb3JtYW5jZU1ldHJpY3M6IHtcbiAgICAgICAgYXZlcmFnZUxhdGVuY3k6IDE1MCArIE1hdGgucmFuZG9tKCkgKiAxMDAsXG4gICAgICAgIGVycm9yUmF0ZTogTWF0aC5yYW5kb20oKSAqIDAuMDUsXG4gICAgICAgIHRocm91Z2hwdXQ6IDEwMCArIE1hdGgucmFuZG9tKCkgKiA1MCxcbiAgICAgICAgcmVsaWFiaWxpdHk6IDAuOTUgKyBNYXRoLnJhbmRvbSgpICogMC4wNSxcbiAgICAgICAgdHJhbnNwb3J0VXNhZ2U6IHtcbiAgICAgICAgICBbVHJhbnNwb3J0VHlwZS5IVFRQXTogMC43LFxuICAgICAgICAgIFtUcmFuc3BvcnRUeXBlLldFQlNPQ0tFVF06IDAuMjUsXG4gICAgICAgICAgW1RyYW5zcG9ydFR5cGUuRklMRVNZU1RFTV06IDAuMDVcbiAgICAgICAgfSxcbiAgICAgICAgdGltZVdpbmRvdzogJzFoJ1xuICAgICAgfSxcbiAgICAgIHVzZXJCZWhhdmlvcjoge1xuICAgICAgICB1c2FnZUZyZXF1ZW5jeTogJ21lZGl1bScsXG4gICAgICAgIHBlYWtVc2FnZUhvdXJzOiBbOSwgMTAsIDExLCAxNCwgMTUsIDE2XSxcbiAgICAgICAgcHJlZmVycmVkRmVhdHVyZXM6IFsnZGFzaGJvYXJkJywgJ3JlY29tbWVuZGF0aW9ucyddLFxuICAgICAgICBlcnJvclRvbGVyYW5jZTogJ21lZGl1bScsXG4gICAgICAgIHBlcmZvcm1hbmNlU2Vuc2l0aXZpdHk6ICdtZWRpdW0nXG4gICAgICB9LFxuICAgICAgZW52aXJvbm1lbnRDb250ZXh0OiB7XG4gICAgICAgIHBsYXRmb3JtOiAnb2JzaWRpYW4nLFxuICAgICAgICBjb25uZWN0aXZpdHk6ICdnb29kJyxcbiAgICAgICAgYmFuZHdpZHRoOiA1MCxcbiAgICAgICAgbGF0ZW5jeTogMzAsXG4gICAgICAgIHN0YWJpbGl0eTogMC45NVxuICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgcmV0dXJuIGNvbnRleHQ7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGFwcGx5UmVjb21tZW5kYXRpb24ocmVjb21tZW5kYXRpb246IFJlY29tbWVuZGF0aW9uKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKGBBcHBseWluZyByZWNvbW1lbmRhdGlvbjogJHtyZWNvbW1lbmRhdGlvbi50aXRsZX1gKTtcbiAgICAgIFxuICAgICAgLy8gRmluZCBhdXRvbWF0aWMgc3RlcHNcbiAgICAgIGNvbnN0IGF1dG9TdGVwcyA9IHJlY29tbWVuZGF0aW9uLmltcGxlbWVudGF0aW9uLnN0ZXBzLmZpbHRlcihzdGVwID0+IHN0ZXAuYWN0aW9uID09PSAnYXV0b21hdGljJyk7XG4gICAgICBcbiAgICAgIGZvciAoY29uc3Qgc3RlcCBvZiBhdXRvU3RlcHMpIHtcbiAgICAgICAgc3dpdGNoIChzdGVwLmlkKSB7XG4gICAgICAgICAgY2FzZSAnc3dpdGNoLXRyYW5zcG9ydCc6XG4gICAgICAgICAgICAvLyBTaW11bGF0ZSB0cmFuc3BvcnQgc3dpdGNoXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnU3dpdGNoaW5nIHRyYW5zcG9ydCBhcyByZWNvbW1lbmRlZCcpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnZW5hYmxlLXBvb2xpbmcnOlxuICAgICAgICAgICAgLy8gU2ltdWxhdGUgZW5hYmxpbmcgY29ubmVjdGlvbiBwb29saW5nXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRW5hYmxpbmcgY29ubmVjdGlvbiBwb29saW5nJyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdlbmFibGUtbW9uaXRvcmluZyc6XG4gICAgICAgICAgICAvLyBTaW11bGF0ZSBlbmFibGluZyBlbmhhbmNlZCBtb25pdG9yaW5nXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRW5hYmxpbmcgZW5oYW5jZWQgbW9uaXRvcmluZycpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBVbmtub3duIGF1dG9tYXRpYyBzdGVwOiAke3N0ZXAuaWR9YCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gVHJhY2sgZWZmZWN0aXZlbmVzc1xuICAgICAgdGhpcy5yZWNvbW1lbmRhdGlvbkVuZ2luZS50cmFja1JlY29tbWVuZGF0aW9uRWZmZWN0aXZlbmVzcyhyZWNvbW1lbmRhdGlvbi5pZCwgMC44KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBhcHBseSByZWNvbW1lbmRhdGlvbjonLCBlcnJvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzdGFydFJlY29tbWVuZGF0aW9uRW5naW5lKCkge1xuICAgIC8vIFN0YXJ0IGJhY2tncm91bmQgcmVjb21tZW5kYXRpb24gYW5hbHlzaXNcbiAgICBjb25zb2xlLmxvZygnU3RhcnRpbmcgcmVjb21tZW5kYXRpb24gZW5naW5lLi4uJyk7XG4gICAgXG4gICAgLy8gR2VuZXJhdGUgaW5pdGlhbCByZWNvbW1lbmRhdGlvbnNcbiAgICB0aGlzLmdlbmVyYXRlQmFja2dyb3VuZFJlY29tbWVuZGF0aW9ucygpO1xuICAgIFxuICAgIC8vIFNldCB1cCBwZXJpb2RpYyByZWNvbW1lbmRhdGlvbiB1cGRhdGVzXG4gICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgdGhpcy5nZW5lcmF0ZUJhY2tncm91bmRSZWNvbW1lbmRhdGlvbnMoKTtcbiAgICB9LCAzMCAqIDYwICogMTAwMCk7IC8vIEV2ZXJ5IDMwIG1pbnV0ZXNcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgZ2VuZXJhdGVCYWNrZ3JvdW5kUmVjb21tZW5kYXRpb25zKCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb250ZXh0ID0gYXdhaXQgdGhpcy5idWlsZFJlY29tbWVuZGF0aW9uQ29udGV4dCgpO1xuICAgICAgY29uc3QgcmVjb21tZW5kYXRpb25zID0gYXdhaXQgdGhpcy5yZWNvbW1lbmRhdGlvbkVuZ2luZS5nZW5lcmF0ZVJlY29tbWVuZGF0aW9ucyhjb250ZXh0KTtcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgZm9yIGNyaXRpY2FsIHJlY29tbWVuZGF0aW9uc1xuICAgICAgY29uc3QgY3JpdGljYWxSZWNzID0gcmVjb21tZW5kYXRpb25zLmZpbHRlcihyZWMgPT4gcmVjLnByaW9yaXR5ID09PSAnY3JpdGljYWwnKTtcbiAgICAgIGlmIChjcml0aWNhbFJlY3MubGVuZ3RoID4gMCkge1xuICAgICAgICBuZXcgTm90aWNlKGDimqDvuI8gJHtjcml0aWNhbFJlY3MubGVuZ3RofSBjcml0aWNhbCBvcHRpbWl6YXRpb24ocykgYXZhaWxhYmxlLiBVc2UgQ29tbWFuZCBQYWxldHRlID4gXCJTaG93IEFJIFJlY29tbWVuZGF0aW9uc1wiYCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKGBHZW5lcmF0ZWQgJHtyZWNvbW1lbmRhdGlvbnMubGVuZ3RofSByZWNvbW1lbmRhdGlvbnMgKCR7Y3JpdGljYWxSZWNzLmxlbmd0aH0gY3JpdGljYWwpYCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0JhY2tncm91bmQgcmVjb21tZW5kYXRpb24gZ2VuZXJhdGlvbiBmYWlsZWQ6JywgZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY2xlYW51cCgpIHtcbiAgICAvLyBDbGVhbnVwIGNvbXBvbmVudCBpbnN0YW5jZXNcbiAgICBpZiAodGhpcy5vbmJvYXJkaW5nV2l6YXJkKSB7XG4gICAgICB0aGlzLm9uYm9hcmRpbmdXaXphcmQuY2xvc2UoKTtcbiAgICB9XG4gICAgXG4gICAgaWYgKHRoaXMudHJhbnNwb3J0RGFzaGJvYXJkKSB7XG4gICAgICB0aGlzLnRyYW5zcG9ydERhc2hib2FyZC51bmxvYWQoKTtcbiAgICB9XG4gICAgXG4gICAgaWYgKHRoaXMuYWR2YW5jZWRTZXR0aW5ncykge1xuICAgICAgdGhpcy5hZHZhbmNlZFNldHRpbmdzLnVubG9hZCgpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFB1YmxpYyBBUEkgbWV0aG9kcyBmb3Igb3RoZXIgY29tcG9uZW50c1xuICBwdWJsaWMgYXN5bmMgc2hvd09uYm9hcmRpbmdJZk5lZWRlZCgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICBpZiAoIXRoaXMucGx1Z2luLnNldHRpbmdzLm9uYm9hcmRpbmdDb21wbGV0ZSAmJiB0aGlzLmNvbmZpZy5lbmFibGVPbmJvYXJkaW5nKSB7XG4gICAgICB0aGlzLnNob3dPbmJvYXJkaW5nKCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcHVibGljIGdldFJlY29tbWVuZGF0aW9uRW5naW5lKCk6IFJlY29tbWVuZGF0aW9uRW5naW5lIHtcbiAgICByZXR1cm4gdGhpcy5yZWNvbW1lbmRhdGlvbkVuZ2luZTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyByZWZyZXNoRGFzaGJvYXJkKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICh0aGlzLnRyYW5zcG9ydERhc2hib2FyZCkge1xuICAgICAgLy8gUmVmcmVzaCBkYXNoYm9hcmQgZGF0YVxuICAgICAgY29uc29sZS5sb2coJ1JlZnJlc2hpbmcgZGFzaGJvYXJkLi4uJyk7XG4gICAgfVxuICB9XG59XG5cbi8vIE1vZGFsIGZvciBkaXNwbGF5aW5nIHRoZSB0cmFuc3BvcnQgZGFzaGJvYXJkXG5jbGFzcyBEYXNoYm9hcmRNb2RhbCBleHRlbmRzIE1vZGFsIHtcbiAgcHJpdmF0ZSBwbHVnaW46IFZhdWx0UGlsb3RQbHVnaW47XG4gIHByaXZhdGUgZGFzaGJvYXJkPzogVHJhbnNwb3J0RGFzaGJvYXJkO1xuXG4gIGNvbnN0cnVjdG9yKHBsdWdpbjogVmF1bHRQaWxvdFBsdWdpbikge1xuICAgIHN1cGVyKHBsdWdpbi5hcHApO1xuICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICAgIHRoaXMubW9kYWxFbC5hZGRDbGFzcygnZGFzaGJvYXJkLW1vZGFsJyk7XG4gIH1cblxuICBvbk9wZW4oKSB7XG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgY29udGVudEVsLmVtcHR5KCk7XG4gICAgXG4gICAgLy8gQ3JlYXRlIGRhc2hib2FyZFxuICAgIHRoaXMuZGFzaGJvYXJkID0gbmV3IFRyYW5zcG9ydERhc2hib2FyZChjb250ZW50RWwsIHRoaXMucGx1Z2luKTtcbiAgICB0aGlzLmRhc2hib2FyZC5sb2FkKCk7XG4gIH1cblxuICBvbkNsb3NlKCkge1xuICAgIGlmICh0aGlzLmRhc2hib2FyZCkge1xuICAgICAgdGhpcy5kYXNoYm9hcmQudW5sb2FkKCk7XG4gICAgfVxuICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuICB9XG59XG5cbi8vIE1vZGFsIGZvciBkaXNwbGF5aW5nIGFkdmFuY2VkIHNldHRpbmdzXG5jbGFzcyBBZHZhbmNlZFNldHRpbmdzTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XG4gIHByaXZhdGUgcGx1Z2luOiBWYXVsdFBpbG90UGx1Z2luO1xuICBwcml2YXRlIHNldHRpbmdzPzogQWR2YW5jZWRTZXR0aW5ncztcblxuICBjb25zdHJ1Y3RvcihwbHVnaW46IFZhdWx0UGlsb3RQbHVnaW4pIHtcbiAgICBzdXBlcihwbHVnaW4uYXBwKTtcbiAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICB0aGlzLm1vZGFsRWwuYWRkQ2xhc3MoJ2FkdmFuY2VkLXNldHRpbmdzLW1vZGFsJyk7XG4gIH1cblxuICBvbk9wZW4oKSB7XG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgY29udGVudEVsLmVtcHR5KCk7XG4gICAgXG4gICAgLy8gQ3JlYXRlIGFkdmFuY2VkIHNldHRpbmdzXG4gICAgdGhpcy5zZXR0aW5ncyA9IG5ldyBBZHZhbmNlZFNldHRpbmdzKGNvbnRlbnRFbCwgdGhpcy5wbHVnaW4pO1xuICAgIHRoaXMuc2V0dGluZ3MubG9hZCgpO1xuICB9XG5cbiAgb25DbG9zZSgpIHtcbiAgICBpZiAodGhpcy5zZXR0aW5ncykge1xuICAgICAgdGhpcy5zZXR0aW5ncy51bmxvYWQoKTtcbiAgICB9XG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgY29udGVudEVsLmVtcHR5KCk7XG4gIH1cbn1cblxuLy8gTW9kYWwgZm9yIGRpc3BsYXlpbmcgQUkgcmVjb21tZW5kYXRpb25zXG5jbGFzcyBSZWNvbW1lbmRhdGlvbnNNb2RhbCBleHRlbmRzIE1vZGFsIHtcbiAgcHJpdmF0ZSBwbHVnaW46IFZhdWx0UGlsb3RQbHVnaW47XG4gIHByaXZhdGUgcmVjb21tZW5kYXRpb25zOiBSZWNvbW1lbmRhdGlvbltdO1xuICBwcml2YXRlIGVuZ2luZTogUmVjb21tZW5kYXRpb25FbmdpbmU7XG5cbiAgY29uc3RydWN0b3IocGx1Z2luOiBWYXVsdFBpbG90UGx1Z2luLCByZWNvbW1lbmRhdGlvbnM6IFJlY29tbWVuZGF0aW9uW10sIGVuZ2luZTogUmVjb21tZW5kYXRpb25FbmdpbmUpIHtcbiAgICBzdXBlcihwbHVnaW4uYXBwKTtcbiAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICB0aGlzLnJlY29tbWVuZGF0aW9ucyA9IHJlY29tbWVuZGF0aW9ucztcbiAgICB0aGlzLmVuZ2luZSA9IGVuZ2luZTtcbiAgICB0aGlzLm1vZGFsRWwuYWRkQ2xhc3MoJ3JlY29tbWVuZGF0aW9ucy1tb2RhbCcpO1xuICB9XG5cbiAgb25PcGVuKCkge1xuICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuICAgIFxuICAgIC8vIEhlYWRlclxuICAgIGNvbnRlbnRFbC5jcmVhdGVFbCgnaDInLCB7IHRleHQ6ICfwn6SWIEFJLVBvd2VyZWQgUmVjb21tZW5kYXRpb25zJyB9KTtcbiAgICBjb250ZW50RWwuY3JlYXRlRWwoJ3AnLCB7IFxuICAgICAgdGV4dDogJ0hlcmUgYXJlIHBlcnNvbmFsaXplZCByZWNvbW1lbmRhdGlvbnMgdG8gb3B0aW1pemUgeW91ciBWYXVsdFBpbG90IGV4cGVyaWVuY2U6JyxcbiAgICAgIGNsczogJ3JlY29tbWVuZGF0aW9ucy1zdWJ0aXRsZSdcbiAgICB9KTtcbiAgICBcbiAgICAvLyBSZWNvbW1lbmRhdGlvbnMgbGlzdFxuICAgIGNvbnN0IHJlY3NMaXN0ID0gY29udGVudEVsLmNyZWF0ZURpdigncmVjb21tZW5kYXRpb25zLWxpc3QnKTtcbiAgICBcbiAgICB0aGlzLnJlY29tbWVuZGF0aW9ucy5mb3JFYWNoKChyZWMsIGluZGV4KSA9PiB7XG4gICAgICB0aGlzLnJlbmRlclJlY29tbWVuZGF0aW9uKHJlY3NMaXN0LCByZWMsIGluZGV4KTtcbiAgICB9KTtcbiAgICBcbiAgICAvLyBGb290ZXJcbiAgICBjb25zdCBmb290ZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KCdyZWNvbW1lbmRhdGlvbnMtZm9vdGVyJyk7XG4gICAgZm9vdGVyLmNyZWF0ZUVsKCdwJywgeyBcbiAgICAgIHRleHQ6IGBHZW5lcmF0ZWQgJHt0aGlzLnJlY29tbWVuZGF0aW9ucy5sZW5ndGh9IHJlY29tbWVuZGF0aW9ucyBiYXNlZCBvbiB5b3VyIHVzYWdlIHBhdHRlcm5zYCxcbiAgICAgIGNsczogJ3JlY29tbWVuZGF0aW9ucy1zdGF0cydcbiAgICB9KTtcbiAgICBcbiAgICAvLyBDbG9zZSBidXR0b25cbiAgICBjb25zdCBjbG9zZUJ0biA9IGZvb3Rlci5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnQ2xvc2UnLCBjbHM6ICdtb2QtY3RhJyB9KTtcbiAgICBjbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuY2xvc2UoKSk7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlclJlY29tbWVuZGF0aW9uKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIHJlYzogUmVjb21tZW5kYXRpb24sIGluZGV4OiBudW1iZXIpIHtcbiAgICBjb25zdCByZWNFbCA9IGNvbnRhaW5lci5jcmVhdGVEaXYoJ3JlY29tbWVuZGF0aW9uLWl0ZW0nKTtcbiAgICByZWNFbC5hZGRDbGFzcyhgcHJpb3JpdHktJHtyZWMucHJpb3JpdHl9YCk7XG4gICAgXG4gICAgLy8gSGVhZGVyXG4gICAgY29uc3QgaGVhZGVyID0gcmVjRWwuY3JlYXRlRGl2KCdyZWMtaGVhZGVyJyk7XG4gICAgY29uc3QgdGl0bGUgPSBoZWFkZXIuY3JlYXRlRWwoJ2gzJywgeyB0ZXh0OiByZWMudGl0bGUgfSk7XG4gICAgdGl0bGUuY3JlYXRlRWwoJ3NwYW4nLCB7IHRleHQ6IHJlYy5wcmlvcml0eS50b1VwcGVyQ2FzZSgpLCBjbHM6IGBwcmlvcml0eS1iYWRnZSAke3JlYy5wcmlvcml0eX1gIH0pO1xuICAgIFxuICAgIC8vIERlc2NyaXB0aW9uXG4gICAgcmVjRWwuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6IHJlYy5kZXNjcmlwdGlvbiwgY2xzOiAncmVjLWRlc2NyaXB0aW9uJyB9KTtcbiAgICBcbiAgICAvLyBFeHBlY3RlZCBpbXBhY3RcbiAgICBjb25zdCBpbXBhY3QgPSByZWNFbC5jcmVhdGVEaXYoJ3JlYy1pbXBhY3QnKTtcbiAgICBpbXBhY3QuY3JlYXRlRWwoJ2g0JywgeyB0ZXh0OiAnRXhwZWN0ZWQgSW1wYWN0OicgfSk7XG4gICAgY29uc3QgaW1wYWN0TGlzdCA9IGltcGFjdC5jcmVhdGVFbCgndWwnKTtcbiAgICBpbXBhY3RMaXN0LmNyZWF0ZUVsKCdsaScsIHsgdGV4dDogYFBlcmZvcm1hbmNlOiArJHtyZWMuZXhwZWN0ZWRJbXBhY3QucGVyZm9ybWFuY2VJbXByb3ZlbWVudH0lYCB9KTtcbiAgICBpbXBhY3RMaXN0LmNyZWF0ZUVsKCdsaScsIHsgdGV4dDogYEVycm9yIFJlZHVjdGlvbjogJHtyZWMuZXhwZWN0ZWRJbXBhY3QuZXJyb3JSZWR1Y3Rpb259JWAgfSk7XG4gICAgaW1wYWN0TGlzdC5jcmVhdGVFbCgnbGknLCB7IHRleHQ6IGBSZWxpYWJpbGl0eTogKyR7cmVjLmV4cGVjdGVkSW1wYWN0LnJlbGlhYmlsaXR5SW1wcm92ZW1lbnR9JWAgfSk7XG4gICAgaW1wYWN0TGlzdC5jcmVhdGVFbCgnbGknLCB7IHRleHQ6IGBDb25maWRlbmNlOiAkeyhyZWMuZXhwZWN0ZWRJbXBhY3QuY29uZmlkZW5jZVNjb3JlICogMTAwKS50b0ZpeGVkKDApfSVgIH0pO1xuICAgIFxuICAgIC8vIEltcGxlbWVudGF0aW9uIGRldGFpbHNcbiAgICBjb25zdCBpbXBsID0gcmVjRWwuY3JlYXRlRGl2KCdyZWMtaW1wbGVtZW50YXRpb24nKTtcbiAgICBpbXBsLmNyZWF0ZUVsKCdoNCcsIHsgdGV4dDogJ0ltcGxlbWVudGF0aW9uOicgfSk7XG4gICAgaW1wbC5jcmVhdGVFbCgncCcsIHsgdGV4dDogYERpZmZpY3VsdHk6ICR7cmVjLmltcGxlbWVudGF0aW9uLmRpZmZpY3VsdHl9IHwgVGltZTogJHtyZWMuaW1wbGVtZW50YXRpb24uZXN0aW1hdGVkVGltZX1gIH0pO1xuICAgIFxuICAgIC8vIFN0ZXBzXG4gICAgaWYgKHJlYy5pbXBsZW1lbnRhdGlvbi5zdGVwcy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBzdGVwc0xpc3QgPSBpbXBsLmNyZWF0ZUVsKCdvbCcpO1xuICAgICAgcmVjLmltcGxlbWVudGF0aW9uLnN0ZXBzLmZvckVhY2goc3RlcCA9PiB7XG4gICAgICAgIGNvbnN0IHN0ZXBFbCA9IHN0ZXBzTGlzdC5jcmVhdGVFbCgnbGknKTtcbiAgICAgICAgc3RlcEVsLmNyZWF0ZUVsKCdzdHJvbmcnLCB7IHRleHQ6IHN0ZXAudGl0bGUgfSk7XG4gICAgICAgIHN0ZXBFbC5jcmVhdGVTcGFuKHsgdGV4dDogYCAtICR7c3RlcC5kZXNjcmlwdGlvbn1gIH0pO1xuICAgICAgICBpZiAoc3RlcC5hY3Rpb24gPT09ICdhdXRvbWF0aWMnKSB7XG4gICAgICAgICAgc3RlcEVsLmNyZWF0ZVNwYW4oeyB0ZXh0OiAnIChBdXRvbWF0aWMpJywgY2xzOiAnc3RlcC1hdXRvbWF0aWMnIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgLy8gQWN0aW9uc1xuICAgIGNvbnN0IGFjdGlvbnMgPSByZWNFbC5jcmVhdGVEaXYoJ3JlYy1hY3Rpb25zJyk7XG4gICAgXG4gICAgaWYgKHJlYy5pbXBsZW1lbnRhdGlvbi5zdGVwcy5zb21lKHN0ZXAgPT4gc3RlcC5hY3Rpb24gPT09ICdhdXRvbWF0aWMnKSkge1xuICAgICAgY29uc3QgYXBwbHlCdG4gPSBhY3Rpb25zLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdBcHBseSBBdXRvbWF0aWNhbGx5JywgY2xzOiAnbW9kLWN0YScgfSk7XG4gICAgICBhcHBseUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgYXBwbHlCdG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBhcHBseUJ0bi50ZXh0Q29udGVudCA9ICdBcHBseWluZy4uLic7XG4gICAgICAgIFxuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHN1Y2Nlc3MgPSBhd2FpdCB0aGlzLmFwcGx5UmVjb21tZW5kYXRpb24ocmVjKTtcbiAgICAgICAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgICAgICAgYXBwbHlCdG4udGV4dENvbnRlbnQgPSAn4pyFIEFwcGxpZWQnO1xuICAgICAgICAgICAgYXBwbHlCdG4ucmVtb3ZlQ2xhc3MoJ21vZC1jdGEnKTtcbiAgICAgICAgICAgIGFwcGx5QnRuLmFkZENsYXNzKCdtb2Qtc3VjY2VzcycpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhcHBseUJ0bi50ZXh0Q29udGVudCA9ICfinYwgRmFpbGVkJztcbiAgICAgICAgICAgIGFwcGx5QnRuLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGFwcGx5QnRuLnRleHRDb250ZW50ID0gJ+KdjCBFcnJvcic7XG4gICAgICAgICAgYXBwbHlCdG4uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGRpc21pc3NCdG4gPSBhY3Rpb25zLmNyZWF0ZUVsKCdidXR0b24nLCB7IHRleHQ6ICdEaXNtaXNzJywgY2xzOiAnbW9kLW11dGVkJyB9KTtcbiAgICBkaXNtaXNzQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgcmVjRWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9KTtcbiAgICBcbiAgICAvLyBSYXRpb25hbGUgKGNvbGxhcHNpYmxlKVxuICAgIGNvbnN0IHJhdGlvbmFsZSA9IHJlY0VsLmNyZWF0ZURpdigncmVjLXJhdGlvbmFsZScpO1xuICAgIGNvbnN0IHJhdGlvbmFsZVRvZ2dsZSA9IHJhdGlvbmFsZS5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnU2hvdyBSYXRpb25hbGUnLCBjbHM6ICdyYXRpb25hbGUtdG9nZ2xlJyB9KTtcbiAgICBjb25zdCByYXRpb25hbGVDb250ZW50ID0gcmF0aW9uYWxlLmNyZWF0ZURpdigncmF0aW9uYWxlLWNvbnRlbnQnKTtcbiAgICByYXRpb25hbGVDb250ZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgcmF0aW9uYWxlQ29udGVudC5jcmVhdGVFbCgncCcsIHsgdGV4dDogcmVjLnJhdGlvbmFsZSB9KTtcbiAgICBcbiAgICByYXRpb25hbGVUb2dnbGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpZiAocmF0aW9uYWxlQ29udGVudC5zdHlsZS5kaXNwbGF5ID09PSAnbm9uZScpIHtcbiAgICAgICAgcmF0aW9uYWxlQ29udGVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgcmF0aW9uYWxlVG9nZ2xlLnRleHRDb250ZW50ID0gJ0hpZGUgUmF0aW9uYWxlJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJhdGlvbmFsZUNvbnRlbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgcmF0aW9uYWxlVG9nZ2xlLnRleHRDb250ZW50ID0gJ1Nob3cgUmF0aW9uYWxlJztcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgYXBwbHlSZWNvbW1lbmRhdGlvbihyZWM6IFJlY29tbWVuZGF0aW9uKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFNpbXVsYXRlIGFwcGx5aW5nIHRoZSByZWNvbW1lbmRhdGlvblxuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwMDApKTtcbiAgICAgIFxuICAgICAgLy8gVHJhY2sgZWZmZWN0aXZlbmVzc1xuICAgICAgdGhpcy5lbmdpbmUudHJhY2tSZWNvbW1lbmRhdGlvbkVmZmVjdGl2ZW5lc3MocmVjLmlkLCAwLjgpO1xuICAgICAgXG4gICAgICBuZXcgTm90aWNlKGDinIUgQXBwbGllZCByZWNvbW1lbmRhdGlvbjogJHtyZWMudGl0bGV9YCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGFwcGx5IHJlY29tbWVuZGF0aW9uOicsIGVycm9yKTtcbiAgICAgIG5ldyBOb3RpY2UoYOKdjCBGYWlsZWQgdG8gYXBwbHkgcmVjb21tZW5kYXRpb246ICR7cmVjLnRpdGxlfWApO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIG9uQ2xvc2UoKSB7XG4gICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgY29udGVudEVsLmVtcHR5KCk7XG4gIH1cbn1cbiIsIi8qKlxuICogRW5oYW5jZWQgVUkgQ29tcG9uZW50cyBmb3IgVmF1bHRQaWxvdFxuICogUHJvdmlkZXMgcHJvZ3Jlc3MgaW5kaWNhdG9ycyBhbmQgcmVzcG9uc2Ugb3B0aW1pemF0aW9uXG4gKi9cblxuaW1wb3J0IHsgQXBwLCBOb3RpY2UsIENvbXBvbmVudCB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCBWYXVsdFBpbG90UGx1Z2luIGZyb20gJy4uL21haW4nO1xuXG5leHBvcnQgaW50ZXJmYWNlIFByb2dyZXNzQ29uZmlnIHtcbiAgICBpZDogc3RyaW5nO1xuICAgIHRpdGxlOiBzdHJpbmc7XG4gICAgbWVzc2FnZT86IHN0cmluZztcbiAgICBwZXJjZW50YWdlPzogbnVtYmVyO1xuICAgIGV0YT86IG51bWJlcjtcbiAgICBjYW5jZWxhYmxlPzogYm9vbGVhbjtcbiAgICBwb3NpdGlvbj86ICd0b3AtcmlnaHQnIHwgJ2JvdHRvbS1yaWdodCcgfCAnY2VudGVyJztcbiAgICB0aW1lb3V0PzogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENhY2hlRW50cnk8VCA9IGFueT4ge1xuICAgIGRhdGE6IFQ7XG4gICAgdGltZXN0YW1wOiBudW1iZXI7XG4gICAgdHRsOiBudW1iZXI7XG4gICAgaGl0Q291bnQ6IG51bWJlcjtcbiAgICBzaXplOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGVyZm9ybWFuY2VNZXRyaWNzIHtcbiAgICB0b3RhbFJlcXVlc3RzOiBudW1iZXI7XG4gICAgY2FjaGVIaXRzOiBudW1iZXI7XG4gICAgY2FjaGVNaXNzZXM6IG51bWJlcjtcbiAgICBhdmVyYWdlUmVzcG9uc2VUaW1lOiBudW1iZXI7XG4gICAgc2xvd2VzdFJlc3BvbnNlOiBudW1iZXI7XG4gICAgZmFzdGVzdFJlc3BvbnNlOiBudW1iZXI7XG4gICAgY3VycmVudENhY2hlU2l6ZTogbnVtYmVyO1xuICAgIG1lbW9yeVVzYWdlOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgV2ViU29ja2V0TWVzc2FnZSB7XG4gICAgdHlwZTogJ3Byb2dyZXNzX3VwZGF0ZScgfCAncGVyZm9ybWFuY2Vfc3RhdHMnIHwgJ3Nob3J0Y3V0cycgfCAncGluZycgfCAncG9uZycgfCAnZXJyb3InO1xuICAgIGRhdGE6IGFueTtcbiAgICB0aW1lc3RhbXA6IG51bWJlcjtcbiAgICBpZD86IHN0cmluZztcbn1cblxuLyoqXG4gKiBQcm9ncmVzcyBJbmRpY2F0b3IgVUkgQ2xhc3NcbiAqIEhhbmRsZXMgcmVhbC10aW1lIHByb2dyZXNzIGJhcnMgd2l0aCBhbmltYXRpb25zIGFuZCBFVEEgY2FsY3VsYXRpb25cbiAqL1xuZXhwb3J0IGNsYXNzIFByb2dyZXNzSW5kaWNhdG9yVUkgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHByaXZhdGUgcGx1Z2luOiBWYXVsdFBpbG90UGx1Z2luO1xuICAgIHByaXZhdGUgYXBwOiBBcHA7XG4gICAgcHJpdmF0ZSBhY3RpdmVQcm9ncmVzczogTWFwPHN0cmluZywgUHJvZ3Jlc3NDb25maWc+ID0gbmV3IE1hcCgpO1xuICAgIHByaXZhdGUgcHJvZ3Jlc3NDb250YWluZXI6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gICAgcHJpdmF0ZSB1cGRhdGVJbnRlcnZhbDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gICAgXG4gICAgY29uc3RydWN0b3IocGx1Z2luOiBWYXVsdFBpbG90UGx1Z2luKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICAgICAgICB0aGlzLmFwcCA9IHBsdWdpbi5hcHA7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZUNvbnRhaW5lcigpO1xuICAgIH1cblxuICAgIHByaXZhdGUgaW5pdGlhbGl6ZUNvbnRhaW5lcigpIHtcbiAgICAgICAgdGhpcy5wcm9ncmVzc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLnByb2dyZXNzQ29udGFpbmVyLmNsYXNzTmFtZSA9ICd2YXVsdHBpbG90LXByb2dyZXNzLWNvbnRhaW5lcic7XG4gICAgICAgIHRoaXMucHJvZ3Jlc3NDb250YWluZXIuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgICAgICAgIHRvcDogMjBweDtcbiAgICAgICAgICAgIHJpZ2h0OiAyMHB4O1xuICAgICAgICAgICAgei1pbmRleDogMTAwMDA7XG4gICAgICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgICAgICAgICAgIG1heC13aWR0aDogNDAwcHg7XG4gICAgICAgIGA7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5wcm9ncmVzc0NvbnRhaW5lcik7XG4gICAgfVxuXG4gICAgc2hvd1Byb2dyZXNzKGNvbmZpZzogUHJvZ3Jlc3NDb25maWcpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5hY3RpdmVQcm9ncmVzcy5zZXQoY29uZmlnLmlkLCBjb25maWcpO1xuICAgICAgICB0aGlzLnJlbmRlclByb2dyZXNzKGNvbmZpZyk7XG4gICAgICAgIFxuICAgICAgICBpZiAoY29uZmlnLnRpbWVvdXQpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuaGlkZVByb2dyZXNzKGNvbmZpZy5pZCk7XG4gICAgICAgICAgICB9LCBjb25maWcudGltZW91dCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVQcm9ncmVzcyhpZDogc3RyaW5nLCB1cGRhdGVzOiBQYXJ0aWFsPFByb2dyZXNzQ29uZmlnPik6IHZvaWQge1xuICAgICAgICBjb25zdCBleGlzdGluZyA9IHRoaXMuYWN0aXZlUHJvZ3Jlc3MuZ2V0KGlkKTtcbiAgICAgICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICAgICAgICBjb25zdCB1cGRhdGVkID0geyAuLi5leGlzdGluZywgLi4udXBkYXRlcyB9O1xuICAgICAgICAgICAgdGhpcy5hY3RpdmVQcm9ncmVzcy5zZXQoaWQsIHVwZGF0ZWQpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJQcm9ncmVzcyh1cGRhdGVkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhpZGVQcm9ncmVzcyhpZDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHRoaXMuYWN0aXZlUHJvZ3Jlc3MuZGVsZXRlKGlkKTtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBwcm9ncmVzcy0ke2lkfWApO1xuICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5hbmltYXRpb24gPSAnc2xpZGVPdXRSaWdodCAwLjNzIGVhc2UtaW4nO1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgICAgIH0sIDMwMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlclByb2dyZXNzKGNvbmZpZzogUHJvZ3Jlc3NDb25maWcpOiB2b2lkIHtcbiAgICAgICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgcHJvZ3Jlc3MtJHtjb25maWcuaWR9YCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgICAgIGVsZW1lbnQgPSB0aGlzLmNyZWF0ZVByb2dyZXNzRWxlbWVudChjb25maWcpO1xuICAgICAgICAgICAgdGhpcy5wcm9ncmVzc0NvbnRhaW5lcj8uYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVByb2dyZXNzRWxlbWVudChlbGVtZW50LCBjb25maWcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVQcm9ncmVzc0VsZW1lbnQoY29uZmlnOiBQcm9ncmVzc0NvbmZpZyk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBlbGVtZW50LmlkID0gYHByb2dyZXNzLSR7Y29uZmlnLmlkfWA7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gJ3ZhdWx0cGlsb3QtcHJvZ3Jlc3MtaXRlbSc7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlcik7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICAgICAgICBwYWRkaW5nOiAxMnB4IDE2cHg7XG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiA4cHg7XG4gICAgICAgICAgICBib3gtc2hhZG93OiAwIDRweCAxMnB4IHJnYmEoMCwgMCwgMCwgMC4xNSk7XG4gICAgICAgICAgICBhbmltYXRpb246IHNsaWRlSW5SaWdodCAwLjNzIGVhc2Utb3V0O1xuICAgICAgICAgICAgcG9pbnRlci1ldmVudHM6IGF1dG87XG4gICAgICAgICAgICBtaW4td2lkdGg6IDMwMHB4O1xuICAgICAgICBgO1xuICAgICAgICBcbiAgICAgICAgdGhpcy51cGRhdGVQcm9ncmVzc0VsZW1lbnQoZWxlbWVudCwgY29uZmlnKTtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVQcm9ncmVzc0VsZW1lbnQoZWxlbWVudDogSFRNTEVsZW1lbnQsIGNvbmZpZzogUHJvZ3Jlc3NDb25maWcpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgcGVyY2VudGFnZSA9IGNvbmZpZy5wZXJjZW50YWdlIHx8IDA7XG4gICAgICAgIGNvbnN0IGV0YSA9IGNvbmZpZy5ldGEgPyB0aGlzLmZvcm1hdEVUQShjb25maWcuZXRhKSA6ICcnO1xuICAgICAgICBcbiAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZ3Jlc3MtaGVhZGVyXCIgc3R5bGU9XCJkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IGFsaWduLWl0ZW1zOiBjZW50ZXI7IG1hcmdpbi1ib3R0b206IDhweDtcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZ3Jlc3MtdGl0bGVcIiBzdHlsZT1cImZvbnQtd2VpZ2h0OiA2MDA7IGNvbG9yOiB2YXIoLS10ZXh0LW5vcm1hbCk7XCI+XG4gICAgICAgICAgICAgICAgICAgICR7Y29uZmlnLnRpdGxlfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICR7Y29uZmlnLmNhbmNlbGFibGUgPyAnPGJ1dHRvbiBjbGFzcz1cInByb2dyZXNzLWNhbmNlbFwiIHN0eWxlPVwiYmFja2dyb3VuZDogbm9uZTsgYm9yZGVyOiBub25lOyBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7IGN1cnNvcjogcG9pbnRlcjtcIj7DlzwvYnV0dG9uPicgOiAnJ31cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgJHtjb25maWcubWVzc2FnZSA/IGA8ZGl2IGNsYXNzPVwicHJvZ3Jlc3MtbWVzc2FnZVwiIHN0eWxlPVwiY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpOyBmb250LXNpemU6IDAuOWVtOyBtYXJnaW4tYm90dG9tOiA4cHg7XCI+JHtjb25maWcubWVzc2FnZX08L2Rpdj5gIDogJyd9XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZ3Jlc3MtYmFyLWNvbnRhaW5lclwiIHN0eWxlPVwiYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpOyBib3JkZXItcmFkaXVzOiA0cHg7IGhlaWdodDogNnB4OyBvdmVyZmxvdzogaGlkZGVuO1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9ncmVzcy1iYXJcIiBzdHlsZT1cIlxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pbnRlcmFjdGl2ZS1hY2NlbnQpO1xuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAke3BlcmNlbnRhZ2V9JTtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogd2lkdGggMC4zcyBlYXNlO1xuICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgICAgICAgICAgXCI+PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9ncmVzcy1pbmZvXCIgc3R5bGU9XCJkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IG1hcmdpbi10b3A6IDhweDsgZm9udC1zaXplOiAwLjhlbTsgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1wiPlxuICAgICAgICAgICAgICAgIDxzcGFuPiR7TWF0aC5yb3VuZChwZXJjZW50YWdlKX0lPC9zcGFuPlxuICAgICAgICAgICAgICAgICR7ZXRhID8gYDxzcGFuPkVUQTogJHtldGF9PC9zcGFuPmAgOiAnJ31cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuXG4gICAgICAgIC8vIEFkZCBjYW5jZWwgaGFuZGxlciBpZiBjYW5jZWxhYmxlXG4gICAgICAgIGlmIChjb25maWcuY2FuY2VsYWJsZSkge1xuICAgICAgICAgICAgY29uc3QgY2FuY2VsQnRuID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZ3Jlc3MtY2FuY2VsJyk7XG4gICAgICAgICAgICBjYW5jZWxCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuaGlkZVByb2dyZXNzKGNvbmZpZy5pZCk7XG4gICAgICAgICAgICAgICAgLy8gRW1pdCBjYW5jZWwgZXZlbnRcbiAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLnRyaWdnZXIoJ3ZhdWx0cGlsb3Q6cHJvZ3Jlc3MtY2FuY2VsbGVkJywgY29uZmlnLmlkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmb3JtYXRFVEEoc2Vjb25kczogbnVtYmVyKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKHNlY29uZHMgPCA2MCkge1xuICAgICAgICAgICAgcmV0dXJuIGAke01hdGgucm91bmQoc2Vjb25kcyl9c2A7XG4gICAgICAgIH0gZWxzZSBpZiAoc2Vjb25kcyA8IDM2MDApIHtcbiAgICAgICAgICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKHNlY29uZHMgLyA2MCk7XG4gICAgICAgICAgICBjb25zdCBzZWNzID0gTWF0aC5yb3VuZChzZWNvbmRzICUgNjApO1xuICAgICAgICAgICAgcmV0dXJuIGAke21pbnV0ZXN9bSAke3NlY3N9c2A7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBob3VycyA9IE1hdGguZmxvb3Ioc2Vjb25kcyAvIDM2MDApO1xuICAgICAgICAgICAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3IoKHNlY29uZHMgJSAzNjAwKSAvIDYwKTtcbiAgICAgICAgICAgIHJldHVybiBgJHtob3Vyc31oICR7bWludXRlc31tYDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldEFjdGl2ZVByb2dyZXNzKCk6IFByb2dyZXNzQ29uZmlnW10ge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmFjdGl2ZVByb2dyZXNzLnZhbHVlcygpKTtcbiAgICB9XG5cbiAgICBjbGVhckFsbFByb2dyZXNzKCk6IHZvaWQge1xuICAgICAgICBmb3IgKGNvbnN0IGlkIG9mIHRoaXMuYWN0aXZlUHJvZ3Jlc3Mua2V5cygpKSB7XG4gICAgICAgICAgICB0aGlzLmhpZGVQcm9ncmVzcyhpZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbnVubG9hZCgpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMucHJvZ3Jlc3NDb250YWluZXIpIHtcbiAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3NDb250YWluZXIucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudXBkYXRlSW50ZXJ2YWwpIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy51cGRhdGVJbnRlcnZhbCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogUmVzcG9uc2UgVGltZSBPcHRpbWl6ZXIgQ2xhc3NcbiAqIEhhbmRsZXMgY2xpZW50LXNpZGUgY2FjaGluZywgcmVxdWVzdCBkZWR1cGxpY2F0aW9uLCBhbmQgcGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uXG4gKi9cbmV4cG9ydCBjbGFzcyBSZXNwb25zZVRpbWVPcHRpbWl6ZXIgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHByaXZhdGUgcGx1Z2luOiBWYXVsdFBpbG90UGx1Z2luO1xuICAgIHByaXZhdGUgY2FjaGU6IE1hcDxzdHJpbmcsIENhY2hlRW50cnk+ID0gbmV3IE1hcCgpO1xuICAgIHByaXZhdGUgcmVxdWVzdFF1ZXVlOiBNYXA8c3RyaW5nLCBQcm9taXNlPGFueT4+ID0gbmV3IE1hcCgpO1xuICAgIHByaXZhdGUgbWV0cmljcyE6IFBlcmZvcm1hbmNlTWV0cmljcztcbiAgICBwcml2YXRlIG1heENhY2hlU2l6ZSA9IDEwMDsgLy8gTWF4aW11bSBudW1iZXIgb2YgY2FjaGVkIGVudHJpZXNcbiAgICBwcml2YXRlIGRlZmF1bHRUVEwgPSAzMDAwMDA7IC8vIDUgbWludXRlcyBkZWZhdWx0IFRUTFxuXG4gICAgY29uc3RydWN0b3IocGx1Z2luOiBWYXVsdFBpbG90UGx1Z2luKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVNZXRyaWNzKCk7XG4gICAgICAgIHRoaXMuc3RhcnRDbGVhbnVwSW50ZXJ2YWwoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGluaXRpYWxpemVNZXRyaWNzKCk6IHZvaWQge1xuICAgICAgICB0aGlzLm1ldHJpY3MgPSB7XG4gICAgICAgICAgICB0b3RhbFJlcXVlc3RzOiAwLFxuICAgICAgICAgICAgY2FjaGVIaXRzOiAwLFxuICAgICAgICAgICAgY2FjaGVNaXNzZXM6IDAsXG4gICAgICAgICAgICBhdmVyYWdlUmVzcG9uc2VUaW1lOiAwLFxuICAgICAgICAgICAgc2xvd2VzdFJlc3BvbnNlOiAwLFxuICAgICAgICAgICAgZmFzdGVzdFJlc3BvbnNlOiBJbmZpbml0eSxcbiAgICAgICAgICAgIGN1cnJlbnRDYWNoZVNpemU6IDAsXG4gICAgICAgICAgICBtZW1vcnlVc2FnZTogMFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGFzeW5jIG9wdGltaXplZFJlcXVlc3Q8VD4oXG4gICAgICAgIGtleTogc3RyaW5nLFxuICAgICAgICByZXF1ZXN0Rm46ICgpID0+IFByb21pc2U8VD4sXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIHR0bD86IG51bWJlcjtcbiAgICAgICAgICAgIHNraXBDYWNoZT86IGJvb2xlYW47XG4gICAgICAgICAgICBwcmlvcml0eT86ICdoaWdoJyB8ICdub3JtYWwnIHwgJ2xvdyc7XG4gICAgICAgIH0gPSB7fVxuICAgICk6IFByb21pc2U8VD4ge1xuICAgICAgICBjb25zdCBzdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgdGhpcy5tZXRyaWNzLnRvdGFsUmVxdWVzdHMrKztcblxuICAgICAgICAvLyBDaGVjayBjYWNoZSBmaXJzdCAodW5sZXNzIHNraXBwZWQpXG4gICAgICAgIGlmICghb3B0aW9ucy5za2lwQ2FjaGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlZCA9IHRoaXMuZ2V0RnJvbUNhY2hlPFQ+KGtleSk7XG4gICAgICAgICAgICBpZiAoY2FjaGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXRyaWNzLmNhY2hlSGl0cysrO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUmVzcG9uc2VUaW1lTWV0cmljcyhwZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0VGltZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubWV0cmljcy5jYWNoZU1pc3NlcysrO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIHJlcXVlc3QgaXMgYWxyZWFkeSBpbiBwcm9ncmVzcyAoZGVkdXBsaWNhdGlvbilcbiAgICAgICAgY29uc3QgZXhpc3RpbmdSZXF1ZXN0ID0gdGhpcy5yZXF1ZXN0UXVldWUuZ2V0KGtleSk7XG4gICAgICAgIGlmIChleGlzdGluZ1JlcXVlc3QpIHtcbiAgICAgICAgICAgIHJldHVybiBleGlzdGluZ1JlcXVlc3QgYXMgUHJvbWlzZTxUPjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1ha2UgdGhlIHJlcXVlc3RcbiAgICAgICAgY29uc3QgcmVxdWVzdFByb21pc2UgPSB0aGlzLmV4ZWN1dGVSZXF1ZXN0KHJlcXVlc3RGbiwga2V5LCBvcHRpb25zLnR0bCB8fCB0aGlzLmRlZmF1bHRUVEwpO1xuICAgICAgICB0aGlzLnJlcXVlc3RRdWV1ZS5zZXQoa2V5LCByZXF1ZXN0UHJvbWlzZSk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlcXVlc3RQcm9taXNlO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVSZXNwb25zZVRpbWVNZXRyaWNzKHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhcnRUaW1lKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RRdWV1ZS5kZWxldGUoa2V5KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgZXhlY3V0ZVJlcXVlc3Q8VD4oXG4gICAgICAgIHJlcXVlc3RGbjogKCkgPT4gUHJvbWlzZTxUPixcbiAgICAgICAga2V5OiBzdHJpbmcsXG4gICAgICAgIHR0bDogbnVtYmVyXG4gICAgKTogUHJvbWlzZTxUPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXF1ZXN0Rm4oKTtcbiAgICAgICAgICAgIHRoaXMuc2V0Q2FjaGUoa2V5LCByZXN1bHQsIHR0bCk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgLy8gRG9uJ3QgY2FjaGUgZXJyb3JzLCBidXQgc3RpbGwgcmVtb3ZlIGZyb20gcXVldWVcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRGcm9tQ2FjaGU8VD4oa2V5OiBzdHJpbmcpOiBUIHwgbnVsbCB7XG4gICAgICAgIGNvbnN0IGVudHJ5ID0gdGhpcy5jYWNoZS5nZXQoa2V5KTtcbiAgICAgICAgaWYgKCFlbnRyeSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBpZiBleHBpcmVkXG4gICAgICAgIGlmIChEYXRlLm5vdygpIC0gZW50cnkudGltZXN0YW1wID4gZW50cnkudHRsKSB7XG4gICAgICAgICAgICB0aGlzLmNhY2hlLmRlbGV0ZShrZXkpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVcGRhdGUgaGl0IGNvdW50XG4gICAgICAgIGVudHJ5LmhpdENvdW50Kys7XG4gICAgICAgIHJldHVybiBlbnRyeS5kYXRhIGFzIFQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXRDYWNoZTxUPihrZXk6IHN0cmluZywgZGF0YTogVCwgdHRsOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgLy8gRW5mb3JjZSBjYWNoZSBzaXplIGxpbWl0XG4gICAgICAgIGlmICh0aGlzLmNhY2hlLnNpemUgPj0gdGhpcy5tYXhDYWNoZVNpemUpIHtcbiAgICAgICAgICAgIHRoaXMuZXZpY3RMZWFzdFVzZWQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGVudHJ5OiBDYWNoZUVudHJ5PFQ+ID0ge1xuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgIHR0bCxcbiAgICAgICAgICAgIGhpdENvdW50OiAwLFxuICAgICAgICAgICAgc2l6ZTogdGhpcy5lc3RpbWF0ZVNpemUoZGF0YSlcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmNhY2hlLnNldChrZXksIGVudHJ5KTtcbiAgICAgICAgdGhpcy51cGRhdGVDYWNoZU1ldHJpY3MoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGV2aWN0TGVhc3RVc2VkKCk6IHZvaWQge1xuICAgICAgICBsZXQgbGVhc3RVc2VkS2V5ID0gJyc7XG4gICAgICAgIGxldCBsZWFzdFVzZWRDb3VudCA9IEluZmluaXR5O1xuXG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgZW50cnldIG9mIHRoaXMuY2FjaGUuZW50cmllcygpKSB7XG4gICAgICAgICAgICBpZiAoZW50cnkuaGl0Q291bnQgPCBsZWFzdFVzZWRDb3VudCkge1xuICAgICAgICAgICAgICAgIGxlYXN0VXNlZENvdW50ID0gZW50cnkuaGl0Q291bnQ7XG4gICAgICAgICAgICAgICAgbGVhc3RVc2VkS2V5ID0ga2V5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxlYXN0VXNlZEtleSkge1xuICAgICAgICAgICAgdGhpcy5jYWNoZS5kZWxldGUobGVhc3RVc2VkS2V5KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZXN0aW1hdGVTaXplKGRhdGE6IGFueSk6IG51bWJlciB7XG4gICAgICAgIC8vIFJvdWdoIGVzdGltYXRpb24gb2Ygb2JqZWN0IHNpemUgaW4gYnl0ZXNcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGRhdGEpLmxlbmd0aCAqIDI7IC8vIEFwcHJveGltYXRlIFVURi0xNiBlbmNvZGluZ1xuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlUmVzcG9uc2VUaW1lTWV0cmljcyhyZXNwb25zZVRpbWU6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBjb25zdCBjdXJyZW50QXZnID0gdGhpcy5tZXRyaWNzLmF2ZXJhZ2VSZXNwb25zZVRpbWU7XG4gICAgICAgIGNvbnN0IHRvdGFsUmVxdWVzdHMgPSB0aGlzLm1ldHJpY3MudG90YWxSZXF1ZXN0cztcbiAgICAgICAgXG4gICAgICAgIHRoaXMubWV0cmljcy5hdmVyYWdlUmVzcG9uc2VUaW1lID0gXG4gICAgICAgICAgICAoY3VycmVudEF2ZyAqICh0b3RhbFJlcXVlc3RzIC0gMSkgKyByZXNwb25zZVRpbWUpIC8gdG90YWxSZXF1ZXN0cztcbiAgICAgICAgXG4gICAgICAgIGlmIChyZXNwb25zZVRpbWUgPiB0aGlzLm1ldHJpY3Muc2xvd2VzdFJlc3BvbnNlKSB7XG4gICAgICAgICAgICB0aGlzLm1ldHJpY3Muc2xvd2VzdFJlc3BvbnNlID0gcmVzcG9uc2VUaW1lO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAocmVzcG9uc2VUaW1lIDwgdGhpcy5tZXRyaWNzLmZhc3Rlc3RSZXNwb25zZSkge1xuICAgICAgICAgICAgdGhpcy5tZXRyaWNzLmZhc3Rlc3RSZXNwb25zZSA9IHJlc3BvbnNlVGltZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlQ2FjaGVNZXRyaWNzKCk6IHZvaWQge1xuICAgICAgICB0aGlzLm1ldHJpY3MuY3VycmVudENhY2hlU2l6ZSA9IHRoaXMuY2FjaGUuc2l6ZTtcbiAgICAgICAgdGhpcy5tZXRyaWNzLm1lbW9yeVVzYWdlID0gQXJyYXkuZnJvbSh0aGlzLmNhY2hlLnZhbHVlcygpKVxuICAgICAgICAgICAgLnJlZHVjZSgodG90YWwsIGVudHJ5KSA9PiB0b3RhbCArIGVudHJ5LnNpemUsIDApO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3RhcnRDbGVhbnVwSW50ZXJ2YWwoKTogdm9pZCB7XG4gICAgICAgIC8vIENsZWFuIHVwIGV4cGlyZWQgZW50cmllcyBldmVyeSBtaW51dGVcbiAgICAgICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jbGVhbnVwRXhwaXJlZEVudHJpZXMoKTtcbiAgICAgICAgfSwgNjAwMDApO1xuICAgIH1cblxuICAgIHByaXZhdGUgY2xlYW51cEV4cGlyZWRFbnRyaWVzKCk6IHZvaWQge1xuICAgICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIGVudHJ5XSBvZiB0aGlzLmNhY2hlLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgaWYgKG5vdyAtIGVudHJ5LnRpbWVzdGFtcCA+IGVudHJ5LnR0bCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FjaGUuZGVsZXRlKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVDYWNoZU1ldHJpY3MoKTtcbiAgICB9XG5cbiAgICBnZXRNZXRyaWNzKCk6IFBlcmZvcm1hbmNlTWV0cmljcyB7XG4gICAgICAgIHJldHVybiB7IC4uLnRoaXMubWV0cmljcyB9O1xuICAgIH1cblxuICAgIGdldENhY2hlSGl0UmF0ZSgpOiBudW1iZXIge1xuICAgICAgICBjb25zdCB0b3RhbCA9IHRoaXMubWV0cmljcy5jYWNoZUhpdHMgKyB0aGlzLm1ldHJpY3MuY2FjaGVNaXNzZXM7XG4gICAgICAgIHJldHVybiB0b3RhbCA+IDAgPyAodGhpcy5tZXRyaWNzLmNhY2hlSGl0cyAvIHRvdGFsKSAqIDEwMCA6IDA7XG4gICAgfVxuXG4gICAgY2xlYXJDYWNoZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jYWNoZS5jbGVhcigpO1xuICAgICAgICB0aGlzLnVwZGF0ZUNhY2hlTWV0cmljcygpO1xuICAgIH1cblxuICAgIHNldENhY2hlQ29uZmlnKG1heFNpemU6IG51bWJlciwgZGVmYXVsdFRUTDogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIHRoaXMubWF4Q2FjaGVTaXplID0gbWF4U2l6ZTtcbiAgICAgICAgdGhpcy5kZWZhdWx0VFRMID0gZGVmYXVsdFRUTDtcbiAgICB9XG5cbiAgICBvbnVubG9hZCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jbGVhckNhY2hlKCk7XG4gICAgfVxufVxuXG4vKipcbiAqIFdlYlNvY2tldCBIYW5kbGVyIGZvciBSZWFsLXRpbWUgVXBkYXRlc1xuICovXG5leHBvcnQgY2xhc3MgV2ViU29ja2V0SGFuZGxlciBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgcHJpdmF0ZSBwbHVnaW46IFZhdWx0UGlsb3RQbHVnaW47XG4gICAgcHJpdmF0ZSB3czogV2ViU29ja2V0IHwgbnVsbCA9IG51bGw7XG4gICAgcHJpdmF0ZSByZWNvbm5lY3RJbnRlcnZhbDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gICAgcHJpdmF0ZSBpc0Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgIHByaXZhdGUgbWVzc2FnZUhhbmRsZXJzID0gbmV3IE1hcDxzdHJpbmcsIChkYXRhOiBhbnkpID0+IHZvaWQ+KCk7XG5cbiAgICBjb25zdHJ1Y3RvcihwbHVnaW46IFZhdWx0UGlsb3RQbHVnaW4pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gICAgICAgIHRoaXMuc2V0dXBNZXNzYWdlSGFuZGxlcnMoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNldHVwTWVzc2FnZUhhbmRsZXJzKCk6IHZvaWQge1xuICAgICAgICB0aGlzLm1lc3NhZ2VIYW5kbGVycy5zZXQoJ3Byb2dyZXNzX3VwZGF0ZScsIChkYXRhKSA9PiB7XG4gICAgICAgICAgICAvLyBGaW5kIHRoZSBlbmhhbmNlbWVudCBtYW5hZ2VyIGluc3RhbmNlXG4gICAgICAgICAgICBjb25zdCBlbmhhbmNlbWVudE1hbmFnZXIgPSAodGhpcy5wbHVnaW4gYXMgYW55KS5lbmhhbmNlbWVudE1hbmFnZXI7XG4gICAgICAgICAgICBpZiAoZW5oYW5jZW1lbnRNYW5hZ2VyPy5wcm9ncmVzc0luZGljYXRvcikge1xuICAgICAgICAgICAgICAgIGVuaGFuY2VtZW50TWFuYWdlci5wcm9ncmVzc0luZGljYXRvci51cGRhdGVQcm9ncmVzcyhcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5pZCxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVyY2VudGFnZTogZGF0YS5wZXJjZW50YWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZGF0YS5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXRhOiBkYXRhLmV0YVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5tZXNzYWdlSGFuZGxlcnMuc2V0KCdwZXJmb3JtYW5jZV9zdGF0cycsIChkYXRhKSA9PiB7XG4gICAgICAgICAgICAvLyBIYW5kbGUgcGVyZm9ybWFuY2Ugc3RhdGlzdGljcyB1cGRhdGVzXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnUGVyZm9ybWFuY2Ugc3RhdHM6JywgZGF0YSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMubWVzc2FnZUhhbmRsZXJzLnNldCgncGluZycsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2VuZCh7IHR5cGU6ICdwb25nJywgZGF0YToge30sIHRpbWVzdGFtcDogRGF0ZS5ub3coKSB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29ubmVjdCh1cmw6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy53cyA9IG5ldyBXZWJTb2NrZXQodXJsKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGhpcy53cy5vbm9wZW4gPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0Nvbm5lY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1ZhdWx0UGlsb3QgV2ViU29ja2V0IGNvbm5lY3RlZCcpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlY29ubmVjdEludGVydmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5yZWNvbm5lY3RJbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVjb25uZWN0SW50ZXJ2YWwgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoaXMud3Mub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZTogV2ViU29ja2V0TWVzc2FnZSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlTWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gcGFyc2UgV2ViU29ja2V0IG1lc3NhZ2U6JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoaXMud3Mub25jbG9zZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzQ29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1ZhdWx0UGlsb3QgV2ViU29ja2V0IGRpc2Nvbm5lY3RlZCcpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRSZWNvbm5lY3QodXJsKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoaXMud3Mub25lcnJvciA9IChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1ZhdWx0UGlsb3QgV2ViU29ja2V0IGVycm9yOicsIGVycm9yKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gY29ubmVjdCBXZWJTb2NrZXQ6JywgZXJyb3IpO1xuICAgICAgICAgICAgdGhpcy5zdGFydFJlY29ubmVjdCh1cmwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVNZXNzYWdlKG1lc3NhZ2U6IFdlYlNvY2tldE1lc3NhZ2UpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgaGFuZGxlciA9IHRoaXMubWVzc2FnZUhhbmRsZXJzLmdldChtZXNzYWdlLnR5cGUpO1xuICAgICAgICBpZiAoaGFuZGxlcikge1xuICAgICAgICAgICAgaGFuZGxlcihtZXNzYWdlLmRhdGEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGFydFJlY29ubmVjdCh1cmw6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5yZWNvbm5lY3RJbnRlcnZhbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZWNvbm5lY3RJbnRlcnZhbCA9IHdpbmRvdy5zZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQXR0ZW1wdGluZyB0byByZWNvbm5lY3QgVmF1bHRQaWxvdCBXZWJTb2NrZXQuLi4nKTtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdCh1cmwpO1xuICAgICAgICB9LCA1MDAwKTtcbiAgICB9XG5cbiAgICBzZW5kKG1lc3NhZ2U6IFdlYlNvY2tldE1lc3NhZ2UpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xuICAgICAgICAgICAgdGhpcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UpKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBkaXNjb25uZWN0KCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5yZWNvbm5lY3RJbnRlcnZhbCkge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnJlY29ubmVjdEludGVydmFsKTtcbiAgICAgICAgICAgIHRoaXMucmVjb25uZWN0SW50ZXJ2YWwgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMud3MpIHtcbiAgICAgICAgICAgIHRoaXMud3MuY2xvc2UoKTtcbiAgICAgICAgICAgIHRoaXMud3MgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNDb25uZWN0ZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpc1NvY2tldENvbm5lY3RlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNDb25uZWN0ZWQ7XG4gICAgfVxuXG4gICAgb251bmxvYWQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZGlzY29ubmVjdCgpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBNYWluIEVuaGFuY2VtZW50IE1hbmFnZXJcbiAqIE9yY2hlc3RyYXRlcyBhbGwgZW5oYW5jZW1lbnQgZmVhdHVyZXNcbiAqL1xuZXhwb3J0IGNsYXNzIFZhdWx0UGlsb3RFbmhhbmNlbWVudE1hbmFnZXIgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHB1YmxpYyBwbHVnaW46IFZhdWx0UGlsb3RQbHVnaW47XG4gICAgcHVibGljIHByb2dyZXNzSW5kaWNhdG9yOiBQcm9ncmVzc0luZGljYXRvclVJO1xuICAgIHB1YmxpYyByZXNwb25zZU9wdGltaXplcjogUmVzcG9uc2VUaW1lT3B0aW1pemVyO1xuICAgIHB1YmxpYyB3ZWJTb2NrZXRIYW5kbGVyOiBXZWJTb2NrZXRIYW5kbGVyO1xuICAgIHByaXZhdGUgaXNJbml0aWFsaXplZCA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3IocGx1Z2luOiBWYXVsdFBpbG90UGx1Z2luKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICAgICAgICB0aGlzLnByb2dyZXNzSW5kaWNhdG9yID0gbmV3IFByb2dyZXNzSW5kaWNhdG9yVUkocGx1Z2luKTtcbiAgICAgICAgdGhpcy5yZXNwb25zZU9wdGltaXplciA9IG5ldyBSZXNwb25zZVRpbWVPcHRpbWl6ZXIocGx1Z2luKTtcbiAgICAgICAgdGhpcy53ZWJTb2NrZXRIYW5kbGVyID0gbmV3IFdlYlNvY2tldEhhbmRsZXIocGx1Z2luKTtcbiAgICB9XG5cbiAgICBhc3luYyBpbml0aWFsaXplKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAodGhpcy5pc0luaXRpYWxpemVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gSW5pdGlhbGl6ZSBwcm9ncmVzcyBpbmRpY2F0b3JcbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5wcm9ncmVzc0luZGljYXRvcik7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEluaXRpYWxpemUgcmVzcG9uc2Ugb3B0aW1pemVyXG4gICAgICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMucmVzcG9uc2VPcHRpbWl6ZXIpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBJbml0aWFsaXplIFdlYlNvY2tldCBjb25uZWN0aW9uXG4gICAgICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMud2ViU29ja2V0SGFuZGxlcik7XG4gICAgICAgICAgICBjb25zdCB3c1VybCA9IHRoaXMucGx1Z2luLnNldHRpbmdzLmJhY2tlbmRVcmwucmVwbGFjZSgvXmh0dHAvLCAnd3MnKSArICcvYXBpL29ic2lkaWFuL3dzL2VuaGFuY2VkJztcbiAgICAgICAgICAgIHRoaXMud2ViU29ja2V0SGFuZGxlci5jb25uZWN0KHdzVXJsKTtcblxuICAgICAgICAgICAgdGhpcy5pc0luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdWYXVsdFBpbG90IEVuaGFuY2VtZW50IE1hbmFnZXIgaW5pdGlhbGl6ZWQnKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBpbml0aWFsaXplIEVuaGFuY2VtZW50IE1hbmFnZXI6JywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2hvd1Byb2dyZXNzKGNvbmZpZzogUHJvZ3Jlc3NDb25maWcpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5wcm9ncmVzc0luZGljYXRvci5zaG93UHJvZ3Jlc3MoY29uZmlnKTtcbiAgICB9XG5cbiAgICBhc3luYyBvcHRpbWl6ZWRBUElDYWxsPFQ+KFxuICAgICAgICBlbmRwb2ludDogc3RyaW5nLFxuICAgICAgICByZXF1ZXN0Rm46ICgpID0+IFByb21pc2U8VD4sXG4gICAgICAgIG9wdGlvbnM/OiB7IHR0bD86IG51bWJlcjsgc2tpcENhY2hlPzogYm9vbGVhbiB9XG4gICAgKTogUHJvbWlzZTxUPiB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc3BvbnNlT3B0aW1pemVyLm9wdGltaXplZFJlcXVlc3QoZW5kcG9pbnQsIHJlcXVlc3RGbiwgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgZ2V0UGVyZm9ybWFuY2VNZXRyaWNzKCk6IFBlcmZvcm1hbmNlTWV0cmljcyB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc3BvbnNlT3B0aW1pemVyLmdldE1ldHJpY3MoKTtcbiAgICB9XG5cbiAgICBnZXRDYWNoZUhpdFJhdGUoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzcG9uc2VPcHRpbWl6ZXIuZ2V0Q2FjaGVIaXRSYXRlKCk7XG4gICAgfVxuXG4gICAgY2xlYXJDYWNoZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5yZXNwb25zZU9wdGltaXplci5jbGVhckNhY2hlKCk7XG4gICAgfVxuXG4gICAgaXNXZWJTb2NrZXRDb25uZWN0ZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLndlYlNvY2tldEhhbmRsZXIuaXNTb2NrZXRDb25uZWN0ZWQoKTtcbiAgICB9XG5cbiAgICBvbnVubG9hZCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5pc0luaXRpYWxpemVkID0gZmFsc2U7XG4gICAgICAgIHN1cGVyLm9udW5sb2FkKCk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgUHJvZ3Jlc3NJbmRpY2F0b3JVSSxcbiAgICBSZXNwb25zZVRpbWVPcHRpbWl6ZXIsXG4gICAgV2ViU29ja2V0SGFuZGxlcixcbiAgICBWYXVsdFBpbG90RW5oYW5jZW1lbnRNYW5hZ2VyXG59O1xuIiwiLyoqXG4gKiBFbmhhbmNlZCBDb21tYW5kcyBTeXN0ZW0gZm9yIFZhdWx0UGlsb3RcbiAqIFByb3ZpZGVzIGtleWJvYXJkIHNob3J0Y3V0cyBhbmQgZW5oYW5jZWQgY29tbWFuZCBkZWZpbml0aW9uc1xuICovXG5cbmltcG9ydCB7IEFwcCwgTm90aWNlLCBFZGl0b3IsIFRGaWxlLCBNb2RhbCwgTWFya2Rvd25WaWV3IH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IFZhdWx0UGlsb3RQbHVnaW4gZnJvbSAnLi4vbWFpbic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgS2V5Ym9hcmRTaG9ydGN1dCB7XG4gICAga2V5OiBzdHJpbmc7XG4gICAgbW9kaWZpZXJzOiBzdHJpbmdbXTtcbiAgICBjb21tYW5kOiBzdHJpbmc7XG4gICAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgICBjb250ZXh0PzogJ2VkaXRvcicgfCAnZ2xvYmFsJyB8ICdtb2RhbCc7XG4gICAgZW5hYmxlZD86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRW5oYW5jZWRDb21tYW5kIHtcbiAgICBpZDogc3RyaW5nO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICAgIGNhbGxiYWNrPzogKCkgPT4gdm9pZDtcbiAgICBlZGl0b3JDYWxsYmFjaz86IChlZGl0b3I6IEVkaXRvciwgdmlldzogYW55KSA9PiB2b2lkO1xuICAgIGNoZWNrQ2FsbGJhY2s/OiAoY2hlY2tpbmc6IGJvb2xlYW4pID0+IGJvb2xlYW4gfCB2b2lkO1xuICAgIGhvdGtleXM/OiBLZXlib2FyZFNob3J0Y3V0W107XG4gICAgY2F0ZWdvcnk/OiBzdHJpbmc7XG4gICAgcHJpb3JpdHk/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBjbGFzcyBLZXlib2FyZFNob3J0Y3V0SGFuZGxlciB7XG4gICAgcHJpdmF0ZSBwbHVnaW46IFZhdWx0UGlsb3RQbHVnaW47XG4gICAgcHJpdmF0ZSBhcHA6IEFwcDtcbiAgICBwcml2YXRlIHNob3J0Y3V0czogTWFwPHN0cmluZywgS2V5Ym9hcmRTaG9ydGN1dD4gPSBuZXcgTWFwKCk7XG4gICAgcHJpdmF0ZSBjb250ZXh0TWVudUVuYWJsZWQgPSB0cnVlO1xuICAgIFxuICAgIGNvbnN0cnVjdG9yKHBsdWdpbjogVmF1bHRQaWxvdFBsdWdpbikge1xuICAgICAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICAgICAgdGhpcy5hcHAgPSBwbHVnaW4uYXBwO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVEZWZhdWx0U2hvcnRjdXRzKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbml0aWFsaXplRGVmYXVsdFNob3J0Y3V0cygpIHtcbiAgICAgICAgY29uc3QgZGVmYXVsdFNob3J0Y3V0czogS2V5Ym9hcmRTaG9ydGN1dFtdID0gW1xuICAgICAgICAgICAgLy8gQ29yZSBWYXVsdFBpbG90IHNob3J0Y3V0c1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGtleTogJ0VudGVyJyxcbiAgICAgICAgICAgICAgICBtb2RpZmllcnM6IFsnQ3RybCcsICdTaGlmdCddLFxuICAgICAgICAgICAgICAgIGNvbW1hbmQ6ICd2YXVsdHBpbG90Om9wZW4tY2hhdCcsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdPcGVuIFZhdWx0UGlsb3QgQ2hhdCcsXG4gICAgICAgICAgICAgICAgY29udGV4dDogJ2dsb2JhbCdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAga2V5OiAnS2V5UycsXG4gICAgICAgICAgICAgICAgbW9kaWZpZXJzOiBbJ0N0cmwnLCAnU2hpZnQnXSxcbiAgICAgICAgICAgICAgICBjb21tYW5kOiAndmF1bHRwaWxvdDpzbWFydC1zZWFyY2gnLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnU21hcnQgU2VhcmNoJyxcbiAgICAgICAgICAgICAgICBjb250ZXh0OiAnZ2xvYmFsJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBrZXk6ICdLZXlDJyxcbiAgICAgICAgICAgICAgICBtb2RpZmllcnM6IFsnQ3RybCcsICdTaGlmdCddLFxuICAgICAgICAgICAgICAgIGNvbW1hbmQ6ICd2YXVsdHBpbG90OnF1aWNrLWNoYXQnLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnUXVpY2sgQ2hhdCB3aXRoIFNlbGVjdGlvbicsXG4gICAgICAgICAgICAgICAgY29udGV4dDogJ2VkaXRvcidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAga2V5OiAnU3BhY2UnLFxuICAgICAgICAgICAgICAgIG1vZGlmaWVyczogWydDdHJsJ10sXG4gICAgICAgICAgICAgICAgY29tbWFuZDogJ3ZhdWx0cGlsb3Q6Y29waWxvdC1jb21wbGV0ZScsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdHZXQgQUkgQ29tcGxldGlvbicsXG4gICAgICAgICAgICAgICAgY29udGV4dDogJ2VkaXRvcidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAga2V5OiAnS2V5VycsXG4gICAgICAgICAgICAgICAgbW9kaWZpZXJzOiBbJ0N0cmwnLCAnU2hpZnQnXSxcbiAgICAgICAgICAgICAgICBjb21tYW5kOiAndmF1bHRwaWxvdDpleGVjdXRlLXdvcmtmbG93JyxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ0V4ZWN1dGUgV29ya2Zsb3cnLFxuICAgICAgICAgICAgICAgIGNvbnRleHQ6ICdnbG9iYWwnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGtleTogJ0tleUEnLFxuICAgICAgICAgICAgICAgIG1vZGlmaWVyczogWydDdHJsJywgJ1NoaWZ0J10sXG4gICAgICAgICAgICAgICAgY29tbWFuZDogJ3ZhdWx0cGlsb3Q6YW5hbHl6ZS12YXVsdCcsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdBbmFseXplIEN1cnJlbnQgVmF1bHQnLFxuICAgICAgICAgICAgICAgIGNvbnRleHQ6ICdnbG9iYWwnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGtleTogJ0tleUQnLFxuICAgICAgICAgICAgICAgIG1vZGlmaWVyczogWydDdHJsJywgJ1NoaWZ0J10sXG4gICAgICAgICAgICAgICAgY29tbWFuZDogJ3ZhdWx0cGlsb3Q6b3Blbi1kYXNoYm9hcmQnLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnT3BlbiBWYXVsdFBpbG90IERhc2hib2FyZCcsXG4gICAgICAgICAgICAgICAgY29udGV4dDogJ2dsb2JhbCdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAga2V5OiAnS2V5UCcsXG4gICAgICAgICAgICAgICAgbW9kaWZpZXJzOiBbJ0N0cmwnLCAnU2hpZnQnXSxcbiAgICAgICAgICAgICAgICBjb21tYW5kOiAndmF1bHRwaWxvdDpwbGFuLW15LWRheScsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdQbGFuIE15IERheScsXG4gICAgICAgICAgICAgICAgY29udGV4dDogJ2dsb2JhbCdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBWYXVsdCBNYW5hZ2VtZW50IHNob3J0Y3V0c1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGtleTogJ0tleVYnLFxuICAgICAgICAgICAgICAgIG1vZGlmaWVyczogWydDdHJsJywgJ1NoaWZ0J10sXG4gICAgICAgICAgICAgICAgY29tbWFuZDogJ3ZhdWx0cGlsb3Q6dmF1bHQtc3RydWN0dXJlJyxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ1ZpZXcgVmF1bHQgU3RydWN0dXJlJyxcbiAgICAgICAgICAgICAgICBjb250ZXh0OiAnZ2xvYmFsJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBrZXk6ICdLZXlGJyxcbiAgICAgICAgICAgICAgICBtb2RpZmllcnM6IFsnQ3RybCcsICdTaGlmdCddLFxuICAgICAgICAgICAgICAgIGNvbW1hbmQ6ICd2YXVsdHBpbG90OmZpbGUtb3BlcmF0aW9ucycsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdGaWxlIE9wZXJhdGlvbnMnLFxuICAgICAgICAgICAgICAgIGNvbnRleHQ6ICdnbG9iYWwnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGtleTogJ0tleU8nLFxuICAgICAgICAgICAgICAgIG1vZGlmaWVyczogWydDdHJsJywgJ1NoaWZ0J10sXG4gICAgICAgICAgICAgICAgY29tbWFuZDogJ3ZhdWx0cGlsb3Q6dmF1bHQtb3JnYW5pemVyJyxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ1ZhdWx0IE9yZ2FuaXplcicsXG4gICAgICAgICAgICAgICAgY29udGV4dDogJ2dsb2JhbCdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAga2V5OiAnS2V5QicsXG4gICAgICAgICAgICAgICAgbW9kaWZpZXJzOiBbJ0N0cmwnLCAnU2hpZnQnXSxcbiAgICAgICAgICAgICAgICBjb21tYW5kOiAndmF1bHRwaWxvdDpiYXRjaC1vcGVyYXRpb25zJyxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ0JhdGNoIE9wZXJhdGlvbnMnLFxuICAgICAgICAgICAgICAgIGNvbnRleHQ6ICdnbG9iYWwnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gRW5oYW5jZWQgc2hvcnRjdXRzXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAga2V5OiAnS2V5SCcsXG4gICAgICAgICAgICAgICAgbW9kaWZpZXJzOiBbJ0N0cmwnLCAnU2hpZnQnXSxcbiAgICAgICAgICAgICAgICBjb21tYW5kOiAndmF1bHRwaWxvdDpzaG93LXNob3J0Y3V0cycsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdTaG93IEtleWJvYXJkIFNob3J0Y3V0cycsXG4gICAgICAgICAgICAgICAgY29udGV4dDogJ2dsb2JhbCdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAga2V5OiAnS2V5UicsXG4gICAgICAgICAgICAgICAgbW9kaWZpZXJzOiBbJ0N0cmwnLCAnU2hpZnQnXSxcbiAgICAgICAgICAgICAgICBjb21tYW5kOiAndmF1bHRwaWxvdDpyZWZyZXNoLWNhY2hlJyxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ1JlZnJlc2ggQ2FjaGUnLFxuICAgICAgICAgICAgICAgIGNvbnRleHQ6ICdnbG9iYWwnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGtleTogJ0tleU0nLFxuICAgICAgICAgICAgICAgIG1vZGlmaWVyczogWydDdHJsJywgJ1NoaWZ0J10sXG4gICAgICAgICAgICAgICAgY29tbWFuZDogJ3ZhdWx0cGlsb3Q6cGVyZm9ybWFuY2UtbWV0cmljcycsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdTaG93IFBlcmZvcm1hbmNlIE1ldHJpY3MnLFxuICAgICAgICAgICAgICAgIGNvbnRleHQ6ICdnbG9iYWwnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gQWdlbnQgbWFuYWdlbWVudFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGtleTogJ0tleUcnLFxuICAgICAgICAgICAgICAgIG1vZGlmaWVyczogWydDdHJsJywgJ1NoaWZ0J10sXG4gICAgICAgICAgICAgICAgY29tbWFuZDogJ3ZhdWx0cGlsb3Q6YWdlbnQtbWFya2V0cGxhY2UnLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQWdlbnQgTWFya2V0cGxhY2UnLFxuICAgICAgICAgICAgICAgIGNvbnRleHQ6ICdnbG9iYWwnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGtleTogJ0tleUUnLFxuICAgICAgICAgICAgICAgIG1vZGlmaWVyczogWydDdHJsJywgJ1NoaWZ0J10sXG4gICAgICAgICAgICAgICAgY29tbWFuZDogJ3ZhdWx0cGlsb3Q6YWdlbnQtZXZvbHV0aW9uJyxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ0FnZW50IEV2b2x1dGlvbiBTdGF0dXMnLFxuICAgICAgICAgICAgICAgIGNvbnRleHQ6ICdnbG9iYWwnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gUXVpY2sgYWN0aW9uc1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGtleTogJ0tleVEnLFxuICAgICAgICAgICAgICAgIG1vZGlmaWVyczogWydBbHQnXSxcbiAgICAgICAgICAgICAgICBjb21tYW5kOiAndmF1bHRwaWxvdDpxdWljay1ub3RlJyxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ1F1aWNrIE5vdGUgQ3JlYXRpb24nLFxuICAgICAgICAgICAgICAgIGNvbnRleHQ6ICdnbG9iYWwnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGtleTogJ0tleUknLFxuICAgICAgICAgICAgICAgIG1vZGlmaWVyczogWydDdHJsJywgJ0FsdCddLFxuICAgICAgICAgICAgICAgIGNvbW1hbmQ6ICd2YXVsdHBpbG90Omluc2VydC10ZW1wbGF0ZScsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdJbnNlcnQgVGVtcGxhdGUnLFxuICAgICAgICAgICAgICAgIGNvbnRleHQ6ICdlZGl0b3InXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGtleTogJ0tleUwnLFxuICAgICAgICAgICAgICAgIG1vZGlmaWVyczogWydDdHJsJywgJ1NoaWZ0J10sXG4gICAgICAgICAgICAgICAgY29tbWFuZDogJ3ZhdWx0cGlsb3Q6bGluay1hbmFseXplcicsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdBbmFseXplIExpbmtzJyxcbiAgICAgICAgICAgICAgICBjb250ZXh0OiAnZWRpdG9yJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBrZXk6ICdLZXlUJyxcbiAgICAgICAgICAgICAgICBtb2RpZmllcnM6IFsnQ3RybCcsICdTaGlmdCddLFxuICAgICAgICAgICAgICAgIGNvbW1hbmQ6ICd2YXVsdHBpbG90OnRhZy1tYW5hZ2VyJyxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ1RhZyBNYW5hZ2VyJyxcbiAgICAgICAgICAgICAgICBjb250ZXh0OiAnZ2xvYmFsJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIERlbW8gc2hvcnRjdXRcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBrZXk6ICdLZXlaJyxcbiAgICAgICAgICAgICAgICBtb2RpZmllcnM6IFsnQ3RybCcsICdTaGlmdCddLFxuICAgICAgICAgICAgICAgIGNvbW1hbmQ6ICd2YXVsdHBpbG90OmVuaGFuY2VtZW50LWRlbW8nLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnRW5oYW5jZW1lbnQgRmVhdHVyZXMgRGVtbycsXG4gICAgICAgICAgICAgICAgY29udGV4dDogJ2dsb2JhbCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcblxuICAgICAgICBkZWZhdWx0U2hvcnRjdXRzLmZvckVhY2goc2hvcnRjdXQgPT4ge1xuICAgICAgICAgICAgdGhpcy5hZGRTaG9ydGN1dChzaG9ydGN1dCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFkZFNob3J0Y3V0KHNob3J0Y3V0OiBLZXlib2FyZFNob3J0Y3V0KSB7XG4gICAgICAgIGNvbnN0IGtleSA9IHRoaXMuZ2V0U2hvcnRjdXRLZXkoc2hvcnRjdXQpO1xuICAgICAgICB0aGlzLnNob3J0Y3V0cy5zZXQoa2V5LCBzaG9ydGN1dCk7XG4gICAgfVxuXG4gICAgcmVtb3ZlU2hvcnRjdXQoc2hvcnRjdXQ6IEtleWJvYXJkU2hvcnRjdXQpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gdGhpcy5nZXRTaG9ydGN1dEtleShzaG9ydGN1dCk7XG4gICAgICAgIHRoaXMuc2hvcnRjdXRzLmRlbGV0ZShrZXkpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0U2hvcnRjdXRLZXkoc2hvcnRjdXQ6IEtleWJvYXJkU2hvcnRjdXQpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gYCR7c2hvcnRjdXQubW9kaWZpZXJzLnNvcnQoKS5qb2luKCcrJyl9XyR7c2hvcnRjdXQua2V5fWA7XG4gICAgfVxuXG4gICAgaGFuZGxlS2V5RG93bihldmVudDogS2V5Ym9hcmRFdmVudCk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBtb2RpZmllcnMgPSBbXTtcbiAgICAgICAgaWYgKGV2ZW50LmN0cmxLZXkpIG1vZGlmaWVycy5wdXNoKCdDdHJsJyk7XG4gICAgICAgIGlmIChldmVudC5zaGlmdEtleSkgbW9kaWZpZXJzLnB1c2goJ1NoaWZ0Jyk7XG4gICAgICAgIGlmIChldmVudC5hbHRLZXkpIG1vZGlmaWVycy5wdXNoKCdBbHQnKTtcbiAgICAgICAgaWYgKGV2ZW50Lm1ldGFLZXkpIG1vZGlmaWVycy5wdXNoKCdNZXRhJyk7XG5cbiAgICAgICAgY29uc3Qga2V5ID0gZXZlbnQuY29kZTtcbiAgICAgICAgY29uc3Qgc2hvcnRjdXRLZXkgPSBgJHttb2RpZmllcnMuc29ydCgpLmpvaW4oJysnKX1fJHtrZXl9YDtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHNob3J0Y3V0ID0gdGhpcy5zaG9ydGN1dHMuZ2V0KHNob3J0Y3V0S2V5KTtcbiAgICAgICAgaWYgKHNob3J0Y3V0ICYmIChzaG9ydGN1dC5lbmFibGVkICE9PSBmYWxzZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmdldEN1cnJlbnRDb250ZXh0KCk7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1Nob3J0Y3V0VmFsaWRGb3JDb250ZXh0KHNob3J0Y3V0LCBjb250ZXh0KSkge1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5leGVjdXRlQ29tbWFuZChzaG9ydGN1dC5jb21tYW5kKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0Q3VycmVudENvbnRleHQoKTogJ2VkaXRvcicgfCAnZ2xvYmFsJyB8ICdtb2RhbCcge1xuICAgICAgICBjb25zdCBhY3RpdmVWaWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KTtcbiAgICAgICAgaWYgKGFjdGl2ZVZpZXcpIHtcbiAgICAgICAgICAgIHJldHVybiAnZWRpdG9yJztcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gQ2hlY2sgaWYgbW9kYWwgaXMgb3BlblxuICAgICAgICBjb25zdCBtb2RhbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubW9kYWwnKTtcbiAgICAgICAgaWYgKG1vZGFscy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gJ21vZGFsJztcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuICdnbG9iYWwnO1xuICAgIH1cblxuICAgIHByaXZhdGUgaXNTaG9ydGN1dFZhbGlkRm9yQ29udGV4dChzaG9ydGN1dDogS2V5Ym9hcmRTaG9ydGN1dCwgY29udGV4dDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICghc2hvcnRjdXQuY29udGV4dCkgcmV0dXJuIHRydWU7XG4gICAgICAgIHJldHVybiBzaG9ydGN1dC5jb250ZXh0ID09PSBjb250ZXh0IHx8IHNob3J0Y3V0LmNvbnRleHQgPT09ICdnbG9iYWwnO1xuICAgIH1cblxuICAgIHByaXZhdGUgZXhlY3V0ZUNvbW1hbmQoY29tbWFuZElkOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgY29tbWFuZCA9IGNvbW1hbmRJZC5yZXBsYWNlKCd2YXVsdHBpbG90OicsICcnKTtcbiAgICAgICAgXG4gICAgICAgIHN3aXRjaCAoY29tbWFuZCkge1xuICAgICAgICAgICAgY2FzZSAnb3Blbi1jaGF0JzpcbiAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5vcGVuQ2hhdE1vZGFsKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzbWFydC1zZWFyY2gnOlxuICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLm9wZW5TbWFydFNlYXJjaE1vZGFsKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdxdWljay1jaGF0JzpcbiAgICAgICAgICAgICAgICBjb25zdCBlZGl0b3IgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShNYXJrZG93blZpZXcpPy5lZGl0b3I7XG4gICAgICAgICAgICAgICAgaWYgKGVkaXRvcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5xdWlja0NoYXRXaXRoU2VsZWN0aW9uKGVkaXRvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnY29waWxvdC1jb21wbGV0ZSc6XG4gICAgICAgICAgICAgICAgY29uc3QgYWN0aXZlRWRpdG9yID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KT8uZWRpdG9yO1xuICAgICAgICAgICAgICAgIGlmIChhY3RpdmVFZGl0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uZ2V0Q29waWxvdENvbXBsZXRpb24oYWN0aXZlRWRpdG9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdleGVjdXRlLXdvcmtmbG93JzpcbiAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5vcGVuV29ya2Zsb3dNb2RhbCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnYW5hbHl6ZS12YXVsdCc6XG4gICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uYW5hbHl6ZVZhdWx0KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdvcGVuLWRhc2hib2FyZCc6XG4gICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uYWN0aXZhdGVGdWxsVGFiVmlldygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncGxhbi1teS1kYXknOlxuICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnBsYW5NeURheSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAndmF1bHQtc3RydWN0dXJlJzpcbiAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5vcGVuVmF1bHRTdHJ1Y3R1cmVNb2RhbCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZmlsZS1vcGVyYXRpb25zJzpcbiAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5vcGVuRmlsZU9wZXJhdGlvbnNNb2RhbCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAndmF1bHQtb3JnYW5pemVyJzpcbiAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5vcGVuVmF1bHRPcmdhbml6ZXJNb2RhbCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnYmF0Y2gtb3BlcmF0aW9ucyc6XG4gICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4ub3BlbkJhdGNoT3BlcmF0aW9uc01vZGFsKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzaG93LXNob3J0Y3V0cyc6XG4gICAgICAgICAgICAgICAgdGhpcy5zaG93U2hvcnRjdXRzSGVscCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncmVmcmVzaC1jYWNoZSc6XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoQ2FjaGUoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3BlcmZvcm1hbmNlLW1ldHJpY3MnOlxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd1BlcmZvcm1hbmNlTWV0cmljcygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnYWdlbnQtbWFya2V0cGxhY2UnOlxuICAgICAgICAgICAgICAgIHRoaXMub3BlbkFnZW50TWFya2V0cGxhY2UoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2FnZW50LWV2b2x1dGlvbic6XG4gICAgICAgICAgICAgICAgdGhpcy5zaG93QWdlbnRFdm9sdXRpb24oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3F1aWNrLW5vdGUnOlxuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlUXVpY2tOb3RlKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdpbnNlcnQtdGVtcGxhdGUnOlxuICAgICAgICAgICAgICAgIHRoaXMuaW5zZXJ0VGVtcGxhdGUoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2xpbmstYW5hbHl6ZXInOlxuICAgICAgICAgICAgICAgIHRoaXMuYW5hbHl6ZUxpbmtzKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd0YWctbWFuYWdlcic6XG4gICAgICAgICAgICAgICAgdGhpcy5vcGVuVGFnTWFuYWdlcigpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZW5oYW5jZW1lbnQtZGVtbyc6XG4gICAgICAgICAgICAgICAgdGhpcy5vcGVuRW5oYW5jZW1lbnREZW1vKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoYFVua25vd24gY29tbWFuZDogJHtjb21tYW5kfWApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzaG93U2hvcnRjdXRzSGVscCgpIHtcbiAgICAgICAgY29uc3Qgc2hvcnRjdXRzID0gQXJyYXkuZnJvbSh0aGlzLnNob3J0Y3V0cy52YWx1ZXMoKSk7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSB0aGlzLmdlbmVyYXRlU2hvcnRjdXRzSGVscENvbnRlbnQoc2hvcnRjdXRzKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IG1vZGFsID0gbmV3IE1vZGFsKHRoaXMuYXBwKTtcbiAgICAgICAgbW9kYWwudGl0bGVFbC50ZXh0Q29udGVudCA9ICdWYXVsdFBpbG90IEtleWJvYXJkIFNob3J0Y3V0cyc7XG4gICAgICAgIG1vZGFsLmNvbnRlbnRFbC5pbm5lckhUTUwgPSBjb250ZW50O1xuICAgICAgICBtb2RhbC5vcGVuKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZW5lcmF0ZVNob3J0Y3V0c0hlbHBDb250ZW50KHNob3J0Y3V0czogS2V5Ym9hcmRTaG9ydGN1dFtdKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgY2F0ZWdvcml6ZWQgPSB0aGlzLmNhdGVnb3JpemVTaG9ydGN1dHMoc2hvcnRjdXRzKTtcbiAgICAgICAgXG4gICAgICAgIGxldCBodG1sID0gJzxkaXYgY2xhc3M9XCJ2YXVsdHBpbG90LXNob3J0Y3V0cy1oZWxwXCI+JztcbiAgICAgICAgXG4gICAgICAgIGZvciAoY29uc3QgW2NhdGVnb3J5LCBjYXRlZ29yeVNob3J0Y3V0c10gb2YgT2JqZWN0LmVudHJpZXMoY2F0ZWdvcml6ZWQpKSB7XG4gICAgICAgICAgICBodG1sICs9IGA8ZGl2IGNsYXNzPVwic2hvcnRjdXQtY2F0ZWdvcnlcIj5gO1xuICAgICAgICAgICAgaHRtbCArPSBgPGgzPiR7Y2F0ZWdvcnl9PC9oMz5gO1xuICAgICAgICAgICAgaHRtbCArPSBgPGRpdiBjbGFzcz1cInNob3J0Y3V0LWxpc3RcIj5gO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjYXRlZ29yeVNob3J0Y3V0cy5mb3JFYWNoKHNob3J0Y3V0ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBrZXlDb21ibyA9IGAke3Nob3J0Y3V0Lm1vZGlmaWVycy5qb2luKCcgKyAnKX0gKyAke3Nob3J0Y3V0LmtleS5yZXBsYWNlKCdLZXknLCAnJyl9YDtcbiAgICAgICAgICAgICAgICBodG1sICs9IGA8ZGl2IGNsYXNzPVwic2hvcnRjdXQtaXRlbVwiPmA7XG4gICAgICAgICAgICAgICAgaHRtbCArPSBgPHNwYW4gY2xhc3M9XCJzaG9ydGN1dC1rZXlzXCI+JHtrZXlDb21ib308L3NwYW4+YDtcbiAgICAgICAgICAgICAgICBodG1sICs9IGA8c3BhbiBjbGFzcz1cInNob3J0Y3V0LWRlc2NcIj4ke3Nob3J0Y3V0LmRlc2NyaXB0aW9ufTwvc3Bhbj5gO1xuICAgICAgICAgICAgICAgIGh0bWwgKz0gYDwvZGl2PmA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaHRtbCArPSBgPC9kaXY+PC9kaXY+YDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaHRtbCArPSAnPC9kaXY+JztcbiAgICAgICAgcmV0dXJuIGh0bWw7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjYXRlZ29yaXplU2hvcnRjdXRzKHNob3J0Y3V0czogS2V5Ym9hcmRTaG9ydGN1dFtdKTogUmVjb3JkPHN0cmluZywgS2V5Ym9hcmRTaG9ydGN1dFtdPiB7XG4gICAgICAgIGNvbnN0IGNhdGVnb3JpZXM6IFJlY29yZDxzdHJpbmcsIEtleWJvYXJkU2hvcnRjdXRbXT4gPSB7XG4gICAgICAgICAgICAnQ29yZSBGZWF0dXJlcyc6IFtdLFxuICAgICAgICAgICAgJ1ZhdWx0IE1hbmFnZW1lbnQnOiBbXSxcbiAgICAgICAgICAgICdBZ2VudCBGZWF0dXJlcyc6IFtdLFxuICAgICAgICAgICAgJ1F1aWNrIEFjdGlvbnMnOiBbXSxcbiAgICAgICAgICAgICdTeXN0ZW0nOiBbXVxuICAgICAgICB9O1xuXG4gICAgICAgIHNob3J0Y3V0cy5mb3JFYWNoKHNob3J0Y3V0ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbW1hbmQgPSBzaG9ydGN1dC5jb21tYW5kLnJlcGxhY2UoJ3ZhdWx0cGlsb3Q6JywgJycpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoWydvcGVuLWNoYXQnLCAnY29waWxvdC1jb21wbGV0ZScsICdleGVjdXRlLXdvcmtmbG93JywgJ2FuYWx5emUtdmF1bHQnXS5pbmNsdWRlcyhjb21tYW5kKSkge1xuICAgICAgICAgICAgICAgIGNhdGVnb3JpZXNbJ0NvcmUgRmVhdHVyZXMnXS5wdXNoKHNob3J0Y3V0KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoWyd2YXVsdC1zdHJ1Y3R1cmUnLCAnZmlsZS1vcGVyYXRpb25zJywgJ3ZhdWx0LW9yZ2FuaXplcicsICdiYXRjaC1vcGVyYXRpb25zJ10uaW5jbHVkZXMoY29tbWFuZCkpIHtcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWVzWydWYXVsdCBNYW5hZ2VtZW50J10ucHVzaChzaG9ydGN1dCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFsnYWdlbnQtbWFya2V0cGxhY2UnLCAnYWdlbnQtZXZvbHV0aW9uJ10uaW5jbHVkZXMoY29tbWFuZCkpIHtcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWVzWydBZ2VudCBGZWF0dXJlcyddLnB1c2goc2hvcnRjdXQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChbJ3F1aWNrLW5vdGUnLCAnaW5zZXJ0LXRlbXBsYXRlJywgJ2xpbmstYW5hbHl6ZXInLCAndGFnLW1hbmFnZXInXS5pbmNsdWRlcyhjb21tYW5kKSkge1xuICAgICAgICAgICAgICAgIGNhdGVnb3JpZXNbJ1F1aWNrIEFjdGlvbnMnXS5wdXNoKHNob3J0Y3V0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcmllc1snU3lzdGVtJ10ucHVzaChzaG9ydGN1dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBjYXRlZ29yaWVzO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVmcmVzaENhY2hlKCkge1xuICAgICAgICAvLyBJbXBsZW1lbnQgY2FjaGUgcmVmcmVzaCBmdW5jdGlvbmFsaXR5XG4gICAgICAgIG5ldyBOb3RpY2UoJ0NhY2hlIHJlZnJlc2hlZCBzdWNjZXNzZnVsbHknKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNob3dQZXJmb3JtYW5jZU1ldHJpY3MoKSB7XG4gICAgICAgIC8vIFRoaXMgd2lsbCBiZSBpbXBsZW1lbnRlZCB3aXRoIFByb2dyZXNzSW5kaWNhdG9yVUlcbiAgICAgICAgbmV3IE5vdGljZSgnUGVyZm9ybWFuY2UgbWV0cmljcyBmZWF0dXJlIGNvbWluZyBzb29uJyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvcGVuQWdlbnRNYXJrZXRwbGFjZSgpIHtcbiAgICAgICAgLy8gVXNlIGV4aXN0aW5nIGFnZW50IG1hcmtldHBsYWNlIGlmIGF2YWlsYWJsZVxuICAgICAgICBuZXcgTm90aWNlKCdBZ2VudCBtYXJrZXRwbGFjZSBmZWF0dXJlIGNvbWluZyBzb29uJyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzaG93QWdlbnRFdm9sdXRpb24oKSB7XG4gICAgICAgIG5ldyBOb3RpY2UoJ0FnZW50IGV2b2x1dGlvbiBzdGF0dXMgZmVhdHVyZSBjb21pbmcgc29vbicpO1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlUXVpY2tOb3RlKCkge1xuICAgICAgICBjb25zdCBuZXdGaWxlID0gdGhpcy5hcHAudmF1bHQuY3JlYXRlKFxuICAgICAgICAgICAgYFF1aWNrIE5vdGUgJHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTkpfS5tZGAsXG4gICAgICAgICAgICAnIyBRdWljayBOb3RlXFxuXFxuJ1xuICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgbmV3RmlsZS50aGVuKGZpbGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYoKS5vcGVuRmlsZShmaWxlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbnNlcnRUZW1wbGF0ZSgpIHtcbiAgICAgICAgbmV3IE5vdGljZSgnVGVtcGxhdGUgaW5zZXJ0aW9uIGZlYXR1cmUgY29taW5nIHNvb24nKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFuYWx5emVMaW5rcygpIHtcbiAgICAgICAgbmV3IE5vdGljZSgnTGluayBhbmFseXplciBmZWF0dXJlIGNvbWluZyBzb29uJyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvcGVuVGFnTWFuYWdlcigpIHtcbiAgICAgICAgbmV3IE5vdGljZSgnVGFnIG1hbmFnZXIgZmVhdHVyZSBjb21pbmcgc29vbicpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb3BlbkVuaGFuY2VtZW50RGVtbygpIHtcbiAgICAgICAgLy8gSW1wb3J0IGRlbW8gY2xhc3MgZHluYW1pY2FsbHkgdG8gYXZvaWQgY2lyY3VsYXIgZGVwZW5kZW5jaWVzXG4gICAgICAgIGltcG9ydCgnLi9lbmhhbmNlbWVudC1kZW1vJykudGhlbigoeyBWYXVsdFBpbG90RW5oYW5jZW1lbnREZW1vIH0pID0+IHtcbiAgICAgICAgICAgIG5ldyBWYXVsdFBpbG90RW5oYW5jZW1lbnREZW1vKHRoaXMuYXBwLCB0aGlzLnBsdWdpbikub3BlbigpO1xuICAgICAgICB9KS5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gbG9hZCBlbmhhbmNlbWVudCBkZW1vOicsIGVycm9yKTtcbiAgICAgICAgICAgIG5ldyBOb3RpY2UoJ0VuaGFuY2VtZW50IGRlbW8gZmFpbGVkIHRvIGxvYWQnKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2V0U2hvcnRjdXRzKCk6IEtleWJvYXJkU2hvcnRjdXRbXSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuc2hvcnRjdXRzLnZhbHVlcygpKTtcbiAgICB9XG5cbiAgICBpc0VuYWJsZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHRNZW51RW5hYmxlZDtcbiAgICB9XG5cbiAgICBzZXRFbmFibGVkKGVuYWJsZWQ6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5jb250ZXh0TWVudUVuYWJsZWQgPSBlbmFibGVkO1xuICAgIH1cbn1cblxuLyoqXG4gKiBFbmhhbmNlZCBDb21tYW5kcyBGYWN0b3J5XG4gKiBDcmVhdGVzIGVuaGFuY2VkIGNvbW1hbmQgZGVmaW5pdGlvbnMgZm9yIFZhdWx0UGlsb3RcbiAqL1xuZXhwb3J0IGNsYXNzIEVuaGFuY2VkQ29tbWFuZHNGYWN0b3J5IHtcbiAgICBzdGF0aWMgY3JlYXRlRW5oYW5jZWRDb21tYW5kcyhwbHVnaW46IFZhdWx0UGlsb3RQbHVnaW4pOiBFbmhhbmNlZENvbW1hbmRbXSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWQ6ICd2YXVsdHBpbG90LWVuaGFuY2VkLWNoYXQnLFxuICAgICAgICAgICAgICAgIG5hbWU6ICdFbmhhbmNlZCBBSSBDaGF0JyxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ09wZW4gZW5oYW5jZWQgQUkgY2hhdCB3aXRoIHJlYWwtdGltZSBwcm9ncmVzcycsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHBsdWdpbi5vcGVuQ2hhdE1vZGFsKCksXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk6ICdBSSBGZWF0dXJlcycsXG4gICAgICAgICAgICAgICAgcHJpb3JpdHk6IDFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWQ6ICd2YXVsdHBpbG90LXNtYXJ0LXNlYXJjaCcsXG4gICAgICAgICAgICAgICAgbmFtZTogJ1NtYXJ0IFNlYXJjaCcsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdBSS1wb3dlcmVkIHNlYXJjaCB3aXRoIGNvbnRleHQgYXdhcmVuZXNzJyxcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogKCkgPT4gcGx1Z2luLm9wZW5TbWFydFNlYXJjaE1vZGFsKCksXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk6ICdTZWFyY2gnLFxuICAgICAgICAgICAgICAgIHByaW9yaXR5OiAyXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlkOiAndmF1bHRwaWxvdC1xdWljay1jb21wbGV0aW9uJyxcbiAgICAgICAgICAgICAgICBuYW1lOiAnUXVpY2sgQUkgQ29tcGxldGlvbicsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdHZXQgQUkgY29tcGxldGlvbiBmb3IgY3VycmVudCBjb250ZXh0JyxcbiAgICAgICAgICAgICAgICBlZGl0b3JDYWxsYmFjazogKGVkaXRvcjogRWRpdG9yKSA9PiBwbHVnaW4uZ2V0Q29waWxvdENvbXBsZXRpb24oZWRpdG9yKSxcbiAgICAgICAgICAgICAgICBjYXRlZ29yeTogJ0FJIEZlYXR1cmVzJyxcbiAgICAgICAgICAgICAgICBwcmlvcml0eTogM1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZDogJ3ZhdWx0cGlsb3Qtd29ya2Zsb3ctZW5oYW5jZWQnLFxuICAgICAgICAgICAgICAgIG5hbWU6ICdFbmhhbmNlZCBXb3JrZmxvdyBFeGVjdXRpb24nLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnRXhlY3V0ZSB3b3JrZmxvd3Mgd2l0aCBwcm9ncmVzcyB0cmFja2luZycsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHBsdWdpbi5vcGVuV29ya2Zsb3dNb2RhbCgpLFxuICAgICAgICAgICAgICAgIGNhdGVnb3J5OiAnQXV0b21hdGlvbicsXG4gICAgICAgICAgICAgICAgcHJpb3JpdHk6IDRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWQ6ICd2YXVsdHBpbG90LXZhdWx0LWFuYWx5c2lzJyxcbiAgICAgICAgICAgICAgICBuYW1lOiAnRW5oYW5jZWQgVmF1bHQgQW5hbHlzaXMnLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQ29tcHJlaGVuc2l2ZSB2YXVsdCBhbmFseXNpcyB3aXRoIG9wdGltaXphdGlvbicsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHBsdWdpbi5hbmFseXplVmF1bHQoKSxcbiAgICAgICAgICAgICAgICBjYXRlZ29yeTogJ0FuYWx5dGljcycsXG4gICAgICAgICAgICAgICAgcHJpb3JpdHk6IDVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWQ6ICd2YXVsdHBpbG90LWVuaGFuY2VtZW50LWRlbW8nLFxuICAgICAgICAgICAgICAgIG5hbWU6ICdFbmhhbmNlbWVudCBGZWF0dXJlcyBEZW1vJyxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ0RlbW9uc3RyYXRlIGtleWJvYXJkIHNob3J0Y3V0cywgcHJvZ3Jlc3MgaW5kaWNhdG9ycywgYW5kIHBlcmZvcm1hbmNlIGZlYXR1cmVzJyxcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpbXBvcnQoJy4vZW5oYW5jZW1lbnQtZGVtbycpLnRoZW4oKHsgVmF1bHRQaWxvdEVuaGFuY2VtZW50RGVtbyB9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgVmF1bHRQaWxvdEVuaGFuY2VtZW50RGVtbyhwbHVnaW4uYXBwLCBwbHVnaW4pLm9wZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgZW5oYW5jZW1lbnQgZGVtbzonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgTm90aWNlKCdFbmhhbmNlbWVudCBkZW1vIGZhaWxlZCB0byBsb2FkJyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk6ICdEZW1vJyxcbiAgICAgICAgICAgICAgICBwcmlvcml0eTogMTBcbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHsgS2V5Ym9hcmRTaG9ydGN1dEhhbmRsZXIsIEVuaGFuY2VkQ29tbWFuZHNGYWN0b3J5IH07XG4iLCJpbXBvcnQgeyBQbHVnaW4sIE5vdGljZSwgRWRpdG9yLCBNYXJrZG93blZpZXcsIFRGaWxlLCBFZGl0b3JQb3NpdGlvbiwgcmVxdWVzdCB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IFZhdWx0UGlsb3RTZXR0aW5nVGFiLCBERUZBVUxUX1NFVFRJTkdTIH0gZnJvbSAnLi9zZXR0aW5ncyc7XG5pbXBvcnQgeyBWSUVXX1RZUEVfVkFVTFRQSUxPVCwgVmF1bHRQaWxvdFZpZXcgfSBmcm9tICcuL3ZpZXcnO1xuaW1wb3J0IHsgVklFV19UWVBFX1ZBVUxUUElMT1RfRlVMTF9UQUIsIFZhdWx0UGlsb3RGdWxsVGFiVmlldyB9IGZyb20gJy4vZnVsbC10YWItdmlldyc7XG5pbXBvcnQgeyBDaGF0TW9kYWwgfSBmcm9tICcuL2NoYXQtbW9kYWwnO1xuaW1wb3J0IHsgV29ya2Zsb3dNb2RhbCB9IGZyb20gJy4vd29ya2Zsb3ctbW9kYWwnO1xuaW1wb3J0IHsgRXZvQWdlbnRYQ2xpZW50IH0gZnJvbSAnLi9hcGktY2xpZW50JztcbmltcG9ydCB7IFZhdWx0UGlsb3RTZXR0aW5ncywgQ29waWxvdFJlc3BvbnNlIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBmZXRjaFNjaGVkdWxlLCBpbmplY3RTY2hlZHVsZSwgdmFsaWRhdGVTY2hlZHVsZU1hcmtkb3duLCBmaW5kU2NoZWR1bGVTZWN0aW9uLCBmaW5kUGxhblNlY3Rpb24gfSBmcm9tICcuL3BsYW5uZXInO1xuaW1wb3J0IHsgcGxhbk15RGF5RGVidWdnZXIgfSBmcm9tICcuL3BsYW4tbXktZGF5LWRlYnVnJztcbmltcG9ydCB7IHNldEFwcCB9IGZyb20gJy4vdmF1bHQtdXRpbHMnO1xuaW1wb3J0IHsgVmF1bHRNYW5hZ2VtZW50Q2xpZW50IH0gZnJvbSAnLi92YXVsdC1hcGktY2xpZW50JztcbmltcG9ydCB7IGNyZWF0ZVZhdWx0TWFuYWdlbWVudENvbW1hbmRzIH0gZnJvbSAnLi92YXVsdC1jb21tYW5kcyc7XG5pbXBvcnQgeyBNb2RlbFNlbGVjdGlvblNlcnZpY2UgfSBmcm9tICcuL3NlcnZpY2VzL01vZGVsU2VsZWN0aW9uU2VydmljZSc7XG5pbXBvcnQgeyBFbnZpcm9ubWVudERldGVjdG9yIH0gZnJvbSAnLi91dGlscy9FbnZpcm9ubWVudERldGVjdG9yJztcbmltcG9ydCB7IFxuICBWYXVsdFN0cnVjdHVyZU1vZGFsLCBcbiAgU21hcnRTZWFyY2hNb2RhbCwgXG4gIEZpbGVPcGVyYXRpb25zTW9kYWxcbn0gZnJvbSAnLi92YXVsdC1tb2RhbHMnO1xuaW1wb3J0IHsgUGhhc2UzSW50ZWdyYXRpb24gfSBmcm9tICcuL2NvbXBvbmVudHMvUGhhc2UzSW50ZWdyYXRpb24nO1xuLy8gRW5oYW5jZWQgVUkgQ29tcG9uZW50c1xuaW1wb3J0IHsgVmF1bHRQaWxvdEVuaGFuY2VtZW50TWFuYWdlciB9IGZyb20gJy4vdmF1bHQtbWFuYWdlbWVudC9lbmhhbmNlZC11aS1jb21wb25lbnRzJztcbmltcG9ydCB7IEtleWJvYXJkU2hvcnRjdXRIYW5kbGVyLCBFbmhhbmNlZENvbW1hbmRzRmFjdG9yeSB9IGZyb20gJy4vdmF1bHQtbWFuYWdlbWVudC9lbmhhbmNlZC1jb21tYW5kcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZhdWx0UGlsb3RQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuICBzZXR0aW5ncyE6IFZhdWx0UGlsb3RTZXR0aW5ncztcbiAgYXBpQ2xpZW50ITogRXZvQWdlbnRYQ2xpZW50O1xuICB2YXVsdENsaWVudCE6IFZhdWx0TWFuYWdlbWVudENsaWVudDtcbiAgbW9kZWxTZWxlY3Rpb25TZXJ2aWNlPzogTW9kZWxTZWxlY3Rpb25TZXJ2aWNlO1xuICBwaGFzZTNJbnRlZ3JhdGlvbj86IFBoYXNlM0ludGVncmF0aW9uO1xuICBlbmhhbmNlbWVudE1hbmFnZXI/OiBWYXVsdFBpbG90RW5oYW5jZW1lbnRNYW5hZ2VyO1xuICBrZXlib2FyZEhhbmRsZXI/OiBLZXlib2FyZFNob3J0Y3V0SGFuZGxlcjtcbiAgcHJpdmF0ZSB3ZWJzb2NrZXRDb25uZWN0ZWQgPSBmYWxzZTtcbiAgcHJpdmF0ZSBjb3BpbG90RW5hYmxlZCA9IGZhbHNlO1xuXG4gIGFzeW5jIG9ubG9hZCgpIHtcbiAgICBhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuXG4gICAgLy8gTG9hZCBlbmhhbmNlZCBVSSBzdHlsZXNcbiAgICB0aGlzLmxvYWRFbmhhbmNlZFVJU3R5bGVzKCk7XG5cbiAgICAvLyBJbml0aWFsaXplIGFwcCBpbnN0YW5jZSBmb3IgdmF1bHQtdXRpbHNcbiAgICBzZXRBcHAodGhpcy5hcHApO1xuXG4gICAgLy8gSW5pdGlhbGl6ZSBBUEkgY2xpZW50XG4gICAgdGhpcy5hcGlDbGllbnQgPSBuZXcgRXZvQWdlbnRYQ2xpZW50KHRoaXMuc2V0dGluZ3MuYmFja2VuZFVybCwgdGhpcy5zZXR0aW5ncy5hcGlLZXkpO1xuXG4gICAgLy8gSW5pdGlhbGl6ZSB2YXVsdCBtYW5hZ2VtZW50IGlmIGVuYWJsZWRcbiAgICBpZiAodGhpcy5zZXR0aW5ncy52YXVsdE1hbmFnZW1lbnQ/LmVuYWJsZVZhdWx0TWFuYWdlbWVudCkge1xuICAgICAgdGhpcy5pbml0aWFsaXplVmF1bHRNYW5hZ2VtZW50KCk7XG4gICAgfVxuXG4gICAgLy8gSW5pdGlhbGl6ZSBtb2RlbCBzZWxlY3Rpb24gaWYgZW5hYmxlZCAod2l0aCBlcnJvciBoYW5kbGluZylcbiAgICBpZiAodGhpcy5zZXR0aW5ncy5tb2RlbFNlbGVjdGlvbj8uZW5hYmxlZCkge1xuICAgICAgLy8gRG9uJ3QgYXdhaXQgLSBpbml0aWFsaXplIGluIGJhY2tncm91bmQgdG8gYXZvaWQgYmxvY2tpbmcgcGx1Z2luIGxvYWRcbiAgICAgIHRoaXMuaW5pdGlhbGl6ZU1vZGVsU2VsZWN0aW9uKCkuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5kZWJ1Z01vZGUpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ01vZGVsIHNlbGVjdGlvbiBpbml0aWFsaXphdGlvbiBmYWlsZWQgZHVyaW5nIHBsdWdpbiBsb2FkOicsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTaWxlbnRseSBmYWlsIGR1cmluZyBwbHVnaW4gaW5pdGlhbGl6YXRpb25cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFRlc3QgYmFja2VuZCBjb25uZWN0aW9uXG4gICAgdHJ5IHtcbiAgICAgIGxldCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LmhlYWx0aENoZWNrKCk7XG4gICAgICBcbiAgICAgIC8vIElmIHRoZSBtYWluIGhlYWx0aCBjaGVjayBmYWlscyB3aXRoIGEgNDAwLCB0cnkgdGhlIHNpbXBsZSBjaGVja1xuICAgICAgaWYgKCFyZXNwb25zZS5zdWNjZXNzICYmIHJlc3BvbnNlLmVycm9yPy5pbmNsdWRlcygnNDAwJykpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdNYWluIGhlYWx0aCBjaGVjayBmYWlsZWQgd2l0aCA0MDAsIHRyeWluZyBhbHRlcm5hdGl2ZSBtZXRob2QnKTtcbiAgICAgICAgY29uc3Qgc2ltcGxlUmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5zaW1wbGVIZWFsdGhDaGVjaygpO1xuICAgICAgICBpZiAoc2ltcGxlUmVzcG9uc2Uuc3VjY2VzcyAmJiBzaW1wbGVSZXNwb25zZS5kYXRhKSB7XG4gICAgICAgICAgcmVzcG9uc2UgPSB7XG4gICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgZGF0YTogeyBzdGF0dXM6IHNpbXBsZVJlc3BvbnNlLmRhdGEuc3RhdHVzLCB2ZXJzaW9uOiAndW5rbm93bicgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICAgICAgbmV3IE5vdGljZSgn4pyFIFZhdWx0UGlsb3QgY29ubmVjdGVkIHRvIEV2b0FnZW50WCcsIDMwMDApO1xuICAgICAgICAvLyBDb25uZWN0IFdlYlNvY2tldCBpZiBlbmFibGVkXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmVuYWJsZVdlYlNvY2tldCkge1xuICAgICAgICAgIHRoaXMuY29ubmVjdFdlYlNvY2tldCgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdIZWFsdGggY2hlY2sgZmFpbGVkOicsIHJlc3BvbnNlLmVycm9yKTtcbiAgICAgICAgbmV3IE5vdGljZSgn4pqg77iPIEV2b0FnZW50WCBiYWNrZW5kIG9mZmxpbmUgLSBzb21lIGZlYXR1cmVzIG1heSBub3Qgd29yaycsIDUwMDApO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdIZWFsdGggY2hlY2sgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgbmV3IE5vdGljZSgn4pqg77iPIENhbm5vdCBjb25uZWN0IHRvIEV2b0FnZW50WCBiYWNrZW5kJywgNTAwMCk7XG4gICAgfVxuXG4gICAgLy8gUmVnaXN0ZXIgdmlld3NcbiAgICB0aGlzLnJlZ2lzdGVyVmlldyhcbiAgICAgIFZJRVdfVFlQRV9WQVVMVFBJTE9ULFxuICAgICAgKGxlYWYpID0+IG5ldyBWYXVsdFBpbG90VmlldyhsZWFmLCB0aGlzKVxuICAgICk7XG4gICAgXG4gICAgdGhpcy5yZWdpc3RlclZpZXcoXG4gICAgICBWSUVXX1RZUEVfVkFVTFRQSUxPVF9GVUxMX1RBQixcbiAgICAgIChsZWFmKSA9PiBuZXcgVmF1bHRQaWxvdEZ1bGxUYWJWaWV3KGxlYWYsIHRoaXMpXG4gICAgKTtcblxuICAgIC8vIEFkZCByaWJib24gaWNvblxuICAgIGNvbnN0IHJpYmJvbkljb25FbCA9IHRoaXMuYWRkUmliYm9uSWNvbignYm90JywgJ1ZhdWx0UGlsb3QnLCAoZXZ0OiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZ0LmN0cmxLZXkgfHwgZXZ0Lm1ldGFLZXkpIHtcbiAgICAgICAgLy8gT3BlbiBmdWxsIHRhYiB2aWV3IG9uIEN0cmwvQ21kICsgY2xpY2tcbiAgICAgICAgdGhpcy5hY3RpdmF0ZUZ1bGxUYWJWaWV3KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBEZWZhdWx0IGFjdGlvbjogb3BlbiBjaGF0IG1vZGFsXG4gICAgICAgIHRoaXMub3BlbkNoYXRNb2RhbCgpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJpYmJvbkljb25FbC5hZGRDbGFzcygndmF1bHRwaWxvdC1yaWJib24tY2xhc3MnKTtcbiAgICByaWJib25JY29uRWwudGl0bGUgPSAnVmF1bHRQaWxvdCAoQ3RybCtjbGljayBmb3IgRGFzaGJvYXJkKSc7XG5cbiAgICAvLyBSZWdpc3RlciBjb21tYW5kc1xuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogJ29wZW4tY2hhdCcsXG4gICAgICBuYW1lOiAnT3BlbiBDaGF0JyxcbiAgICAgIGNhbGxiYWNrOiAoKSA9PiB0aGlzLm9wZW5DaGF0TW9kYWwoKVxuICAgIH0pO1xuXG4gICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiAnZXhlY3V0ZS13b3JrZmxvdycsXG4gICAgICBuYW1lOiAnRXhlY3V0ZSBXb3JrZmxvdycsXG4gICAgICBjYWxsYmFjazogKCkgPT4gdGhpcy5vcGVuV29ya2Zsb3dNb2RhbCgpXG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgaWQ6ICdhbmFseXplLXZhdWx0JyxcbiAgICAgIG5hbWU6ICdBbmFseXplIEN1cnJlbnQgVmF1bHQnLFxuICAgICAgY2FsbGJhY2s6ICgpID0+IHRoaXMuYW5hbHl6ZVZhdWx0KClcbiAgICB9KTtcblxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogJ2NvcGlsb3QtY29tcGxldGUnLFxuICAgICAgbmFtZTogJ0dldCBBSSBDb21wbGV0aW9uJyxcbiAgICAgIGVkaXRvckNhbGxiYWNrOiAoZWRpdG9yOiBFZGl0b3IpID0+IHRoaXMuZ2V0Q29waWxvdENvbXBsZXRpb24oZWRpdG9yKVxuICAgIH0pO1xuXG4gICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiAncXVpY2stY2hhdCcsXG4gICAgICBuYW1lOiAnUXVpY2sgQ2hhdCB3aXRoIFNlbGVjdGlvbicsXG4gICAgICBlZGl0b3JDYWxsYmFjazogKGVkaXRvcjogRWRpdG9yKSA9PiB0aGlzLnF1aWNrQ2hhdFdpdGhTZWxlY3Rpb24oZWRpdG9yKVxuICAgIH0pO1xuXG4gICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiAncGxhbi10YXNrcycsXG4gICAgICBuYW1lOiAnUGxhbiBUYXNrcyBmcm9tIE5vdGUnLFxuICAgICAgZWRpdG9yQ2FsbGJhY2s6IChlZGl0b3I6IEVkaXRvcikgPT4gdGhpcy5wbGFuVGFza3NGcm9tTm90ZShlZGl0b3IpXG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgaWQ6ICdwbGFuLW15LWRheScsXG4gICAgICBuYW1lOiAnUGxhbiBNeSBEYXknLFxuICAgICAgY2FsbGJhY2s6ICgpID0+IHRoaXMucGxhbk15RGF5KClcbiAgICB9KTtcblxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogJ3BsYW4tbXktZGF5LWRlYnVnJyxcbiAgICAgIG5hbWU6ICdQbGFuIE15IERheSAtIERlYnVnIENvbm5lY3Rpb24nLFxuICAgICAgY2FsbGJhY2s6ICgpID0+IHRoaXMuZGVidWdQbGFuTXlEYXkoKVxuICAgIH0pO1xuXG4gICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiAndGVzdC1tb2RlbC1zZWxlY3Rpb24nLFxuICAgICAgbmFtZTogJ1Rlc3QgU21hcnQgTW9kZWwgU2VsZWN0aW9uJyxcbiAgICAgIGNhbGxiYWNrOiAoKSA9PiB0aGlzLnRlc3RNb2RlbFNlbGVjdGlvbigpXG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgaWQ6ICdzaG93LW1vZGVsLWhlYWx0aCcsXG4gICAgICBuYW1lOiAnU2hvdyBNb2RlbCBIZWFsdGggU3RhdHVzJyxcbiAgICAgIGNhbGxiYWNrOiAoKSA9PiB0aGlzLnNob3dNb2RlbEhlYWx0aCgpXG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgaWQ6ICdyZXRyeS1tb2RlbC1zZWxlY3Rpb24nLFxuICAgICAgbmFtZTogJ1JldHJ5IE1vZGVsIFNlbGVjdGlvbiBJbml0aWFsaXphdGlvbicsXG4gICAgICBjYWxsYmFjazogKCkgPT4gdGhpcy5yZXRyeU1vZGVsU2VsZWN0aW9uTWFudWFsKClcbiAgICB9KTtcblxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogJ2NoZWNrLXNlcnZpY2Utc3RhdHVzJyxcbiAgICAgIG5hbWU6ICdDaGVjayBWYXVsdFBpbG90IFNlcnZpY2UgU3RhdHVzJyxcbiAgICAgIGNhbGxiYWNrOiAoKSA9PiB0aGlzLmNoZWNrU2VydmljZVN0YXR1cygpXG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgaWQ6ICdvcGVuLXZhdWx0cGlsb3QtdmlldycsXG4gICAgICBuYW1lOiAnT3BlbiBWYXVsdFBpbG90IFZpZXcnLFxuICAgICAgY2FsbGJhY2s6ICgpID0+IHRoaXMuYWN0aXZhdGVWaWV3KClcbiAgICB9KTtcblxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogJ29wZW4tdmF1bHRwaWxvdC1mdWxsLXRhYicsXG4gICAgICBuYW1lOiAnT3BlbiBWYXVsdFBpbG90IERhc2hib2FyZCcsXG4gICAgICBjYWxsYmFjazogKCkgPT4gdGhpcy5hY3RpdmF0ZUZ1bGxUYWJWaWV3KClcbiAgICB9KTtcblxuICAgIC8vIFJlZ2lzdGVyIHZhdWx0IG1hbmFnZW1lbnQgY29tbWFuZHNcbiAgICB0aGlzLnJlZ2lzdGVyVmF1bHRNYW5hZ2VtZW50Q29tbWFuZHMoKTtcblxuICAgIC8vIEluaXRpYWxpemUgUGhhc2UgMyBmZWF0dXJlc1xuICAgIHRoaXMuaW5pdGlhbGl6ZVBoYXNlMygpO1xuXG4gICAgLy8gSW5pdGlhbGl6ZSBFbmhhbmNlbWVudCBNYW5hZ2VyIGFuZCBLZXlib2FyZCBTaG9ydGN1dHNcbiAgICB0aGlzLmluaXRpYWxpemVFbmhhbmNlbWVudE1hbmFnZXIoKTtcblxuICAgIC8vIFJlZ2lzdGVyIGVkaXRvciBldmVudHMgZm9yIGNvcGlsb3RcbiAgICBpZiAodGhpcy5zZXR0aW5ncy5lbmFibGVDb3BpbG90ICYmIHRoaXMuc2V0dGluZ3MuZW5hYmxlQXV0b0NvbXBsZXRlKSB7XG4gICAgICB0aGlzLnJlZ2lzdGVyRG9tRXZlbnQoZG9jdW1lbnQsICdrZXl1cCcsIHRoaXMuaGFuZGxlS2V5VXAuYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgLy8gQWRkIHNldHRpbmdzIHRhYlxuICAgIHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgVmF1bHRQaWxvdFNldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcbiAgfVxuXG4gIGFzeW5jIG9udW5sb2FkKCkge1xuICAgIHRoaXMuYXBwLndvcmtzcGFjZS5kZXRhY2hMZWF2ZXNPZlR5cGUoVklFV19UWVBFX1ZBVUxUUElMT1QpO1xuICAgIHRoaXMuYXBwLndvcmtzcGFjZS5kZXRhY2hMZWF2ZXNPZlR5cGUoVklFV19UWVBFX1ZBVUxUUElMT1RfRlVMTF9UQUIpO1xuICAgIHRoaXMuZGlzY29ubmVjdFdlYlNvY2tldCgpO1xuICAgIGF3YWl0IHRoaXMuZGlzY29ubmVjdE1vZGVsU2VsZWN0aW9uKCk7XG4gICAgdGhpcy5kaXNhYmxlUGhhc2UzKCk7XG4gICAgdGhpcy5kaXNhYmxlRW5oYW5jZW1lbnRNYW5hZ2VyKCk7XG4gIH1cblxuICAvLyBXZWJTb2NrZXQgTWFuYWdlbWVudFxuICBjb25uZWN0V2ViU29ja2V0KCkge1xuICAgIGlmICh0aGlzLndlYnNvY2tldENvbm5lY3RlZCkgcmV0dXJuO1xuXG4gICAgdGhpcy5hcGlDbGllbnQuY29ubmVjdFdlYlNvY2tldCh7XG4gICAgICBvbkNoYXQ6IChkYXRhKSA9PiB7XG4gICAgICAgIC8vIEhhbmRsZSByZWFsLXRpbWUgY2hhdCB1cGRhdGVzXG4gICAgICAgIGNvbnNvbGUubG9nKCdXZWJTb2NrZXQgY2hhdCB1cGRhdGU6JywgZGF0YSk7XG4gICAgICB9LFxuICAgICAgb25Xb3JrZmxvd1Byb2dyZXNzOiAoZGF0YSkgPT4ge1xuICAgICAgICAvLyBIYW5kbGUgd29ya2Zsb3cgcHJvZ3Jlc3MgdXBkYXRlc1xuICAgICAgICBuZXcgTm90aWNlKGBXb3JrZmxvdzogJHtkYXRhLnN0ZXB9YCwgMjAwMCk7XG4gICAgICB9LFxuICAgICAgb25Db3BpbG90OiAoZGF0YSkgPT4ge1xuICAgICAgICAvLyBIYW5kbGUgY29waWxvdCBzdWdnZXN0aW9uc1xuICAgICAgICB0aGlzLmhhbmRsZUNvcGlsb3RTdWdnZXN0aW9uKGRhdGEpO1xuICAgICAgfSxcbiAgICAgIG9uVmF1bHRTeW5jOiAoZGF0YSkgPT4ge1xuICAgICAgICAvLyBIYW5kbGUgdmF1bHQgc3luY2hyb25pemF0aW9uXG4gICAgICAgIGNvbnNvbGUubG9nKCdWYXVsdCBzeW5jIHVwZGF0ZTonLCBkYXRhKTtcbiAgICAgIH0sXG4gICAgICBvbkludGVudERlYnVnOiAoZGVidWcpID0+IHtcbiAgICAgICAgLy8gSGFuZGxlIGludGVudCBkZWJ1ZyBpbmZvIChvbmx5IGluIGRlYnVnIG1vZGUpXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLnNob3dJbnRlbnREZWJ1ZyAmJiB0aGlzLnNldHRpbmdzLmRlYnVnTW9kZSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdJbnRlbnQgZGVidWc6JywgZGVidWcpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgb25FcnJvcjogKGVycm9yKSA9PiB7XG4gICAgICAgIG5ldyBOb3RpY2UoYFdlYlNvY2tldCBlcnJvcjogJHtlcnJvcn1gLCA1MDAwKTtcbiAgICAgIH0sXG4gICAgICBvbkNvbm5lY3Q6ICgpID0+IHtcbiAgICAgICAgdGhpcy53ZWJzb2NrZXRDb25uZWN0ZWQgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5kZWJ1Z01vZGUpIHtcbiAgICAgICAgICBuZXcgTm90aWNlKCdXZWJTb2NrZXQgY29ubmVjdGVkJywgMjAwMCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvbkRpc2Nvbm5lY3Q6ICgpID0+IHtcbiAgICAgICAgdGhpcy53ZWJzb2NrZXRDb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZGVidWdNb2RlKSB7XG4gICAgICAgICAgbmV3IE5vdGljZSgnV2ViU29ja2V0IGRpc2Nvbm5lY3RlZCcsIDIwMDApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBkaXNjb25uZWN0V2ViU29ja2V0KCkge1xuICAgIHRoaXMuYXBpQ2xpZW50LmRpc2Nvbm5lY3RXZWJTb2NrZXQoKTtcbiAgICB0aGlzLndlYnNvY2tldENvbm5lY3RlZCA9IGZhbHNlO1xuICB9XG5cbiAgaXNXZWJTb2NrZXRDb25uZWN0ZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMud2Vic29ja2V0Q29ubmVjdGVkO1xuICB9XG5cbiAgLy8gTW9kYWwgTWFuYWdlbWVudFxuICBvcGVuQ2hhdE1vZGFsKCkge1xuICAgIG5ldyBDaGF0TW9kYWwodGhpcy5hcHAsIHRoaXMpLm9wZW4oKTtcbiAgfVxuXG4gIG9wZW5Xb3JrZmxvd01vZGFsKCkge1xuICAgIG5ldyBXb3JrZmxvd01vZGFsKHRoaXMuYXBwLCB0aGlzKS5vcGVuKCk7XG4gIH1cblxuICAvLyBDb21tYW5kIEltcGxlbWVudGF0aW9uc1xuICBhc3luYyBhbmFseXplVmF1bHQoKSB7XG4gICAgY29uc3Qgbm90aWNlID0gbmV3IE5vdGljZSgnQW5hbHl6aW5nIHZhdWx0Li4uJywgMCk7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIEdldCBhbGwgbWFya2Rvd24gZmlsZXNcbiAgICAgIGNvbnN0IGZpbGVzID0gdGhpcy5hcHAudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpO1xuICAgICAgbGV0IGNvbnRlbnQgPSAnJztcbiAgICAgIFxuICAgICAgLy8gSW5jbHVkZSB1cCB0byAxMCBmaWxlcyB0byBhdm9pZCBvdmVyd2hlbG1pbmcgdGhlIEFQSVxuICAgICAgZm9yIChjb25zdCBmaWxlIG9mIGZpbGVzLnNsaWNlKDAsIDEwKSkge1xuICAgICAgICBjb25zdCBmaWxlQ29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LnJlYWQoZmlsZSk7XG4gICAgICAgIGNvbnRlbnQgKz0gYD09PSAke2ZpbGUubmFtZX0gPT09XFxuJHtmaWxlQ29udGVudH1cXG5cXG5gO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LmFuYWx5emVWYXVsdENvbnRleHQoe1xuICAgICAgICBjb250ZW50LFxuICAgICAgICBhbmFseXNpc190eXBlOiAnaW5zaWdodHMnXG4gICAgICB9KTtcblxuICAgICAgbm90aWNlLmhpZGUoKTtcblxuICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MgJiYgcmVzcG9uc2UuZGF0YSkge1xuICAgICAgICAvLyBDcmVhdGUgYW5hbHlzaXMgbm90ZVxuICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXTtcbiAgICAgICAgY29uc3QgZmlsZW5hbWUgPSBgVmF1bHQgQW5hbHlzaXMgJHt0aW1lc3RhbXB9Lm1kYDtcbiAgICAgICAgXG4gICAgICAgIGxldCBhbmFseXNpc0NvbnRlbnQgPSBgIyBWYXVsdCBBbmFseXNpcyAtICR7dGltZXN0YW1wfVxcblxcbmA7XG4gICAgICAgIGFuYWx5c2lzQ29udGVudCArPSBgIyMgQW5hbHlzaXNcXG5cXG4ke3Jlc3BvbnNlLmRhdGEuYW5hbHlzaXN9XFxuXFxuYDtcbiAgICAgICAgXG4gICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmluc2lnaHRzICYmIHJlc3BvbnNlLmRhdGEuaW5zaWdodHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGFuYWx5c2lzQ29udGVudCArPSBgIyMgS2V5IEluc2lnaHRzXFxuXFxuYDtcbiAgICAgICAgICByZXNwb25zZS5kYXRhLmluc2lnaHRzLmZvckVhY2goaW5zaWdodCA9PiB7XG4gICAgICAgICAgICBhbmFseXNpc0NvbnRlbnQgKz0gYC0gJHtpbnNpZ2h0fVxcbmA7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYW5hbHlzaXNDb250ZW50ICs9ICdcXG4nO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEucmVjb21tZW5kYXRpb25zICYmIHJlc3BvbnNlLmRhdGEucmVjb21tZW5kYXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBhbmFseXNpc0NvbnRlbnQgKz0gYCMjIFJlY29tbWVuZGF0aW9uc1xcblxcbmA7XG4gICAgICAgICAgcmVzcG9uc2UuZGF0YS5yZWNvbW1lbmRhdGlvbnMuZm9yRWFjaChyZWMgPT4ge1xuICAgICAgICAgICAgYW5hbHlzaXNDb250ZW50ICs9IGAtICR7cmVjfVxcbmA7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBhd2FpdCB0aGlzLmFwcC52YXVsdC5jcmVhdGUoZmlsZW5hbWUsIGFuYWx5c2lzQ29udGVudCk7XG4gICAgICAgIG5ldyBOb3RpY2UoYFZhdWx0IGFuYWx5c2lzIHNhdmVkIGFzICR7ZmlsZW5hbWV9YCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzcG9uc2UuZXJyb3IgfHwgJ0FuYWx5c2lzIGZhaWxlZCcpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBub3RpY2UuaGlkZSgpO1xuICAgICAgbmV3IE5vdGljZShgQW5hbHlzaXMgZXJyb3I6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YCk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0Q29waWxvdENvbXBsZXRpb24oZWRpdG9yOiBFZGl0b3IpIHtcbiAgICBpZiAoIXRoaXMuc2V0dGluZ3MuZW5hYmxlQ29waWxvdCkge1xuICAgICAgbmV3IE5vdGljZSgnQ29waWxvdCBpcyBkaXNhYmxlZCBpbiBzZXR0aW5ncycpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGN1cnNvciA9IGVkaXRvci5nZXRDdXJzb3IoKTtcbiAgICBjb25zdCBjdXJyZW50TGluZSA9IGVkaXRvci5nZXRMaW5lKGN1cnNvci5saW5lKTtcbiAgICBjb25zdCB0ZXh0QmVmb3JlQ3Vyc29yID0gY3VycmVudExpbmUuc3Vic3RyaW5nKDAsIGN1cnNvci5jaCk7XG4gICAgY29uc3QgZnVsbFRleHQgPSBlZGl0b3IuZ2V0VmFsdWUoKTtcblxuICAgIC8vIENsaWVudC1zaWRlIHZhbGlkYXRpb24gdG8gcHJldmVudCA0MjIgZXJyb3JzXG4gICAgaWYgKCFmdWxsVGV4dCB8fCBmdWxsVGV4dC50cmltKCkubGVuZ3RoID09PSAwKSB7XG4gICAgICBuZXcgTm90aWNlKCdDYW5ub3QgY29tcGxldGUgZW1wdHkgdGV4dCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LmdldENvcGlsb3RDb21wbGV0aW9uKHtcbiAgICAgICAgdGV4dDogZnVsbFRleHQsXG4gICAgICAgIGN1cnNvcl9wb3NpdGlvbjogZWRpdG9yLnBvc1RvT2Zmc2V0KGN1cnNvciksXG4gICAgICAgIGZpbGVfdHlwZTogJ21hcmtkb3duJyxcbiAgICAgICAgY29udGV4dDogdGV4dEJlZm9yZUN1cnNvclxuICAgICAgfSk7XG5cbiAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzICYmIHJlc3BvbnNlLmRhdGEpIHtcbiAgICAgICAgLy8gSW5zZXJ0IGNvbXBsZXRpb24gYXQgY3Vyc29yXG4gICAgICAgIGVkaXRvci5yZXBsYWNlUmFuZ2UocmVzcG9uc2UuZGF0YS5jb21wbGV0aW9uLCBjdXJzb3IpO1xuICAgICAgICBuZXcgTm90aWNlKCdDb21wbGV0aW9uIGluc2VydGVkJywgMjAwMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXcgTm90aWNlKGBDb3BpbG90IGVycm9yOiAke3Jlc3BvbnNlLmVycm9yfWApO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBuZXcgTm90aWNlKGBDb3BpbG90IGVycm9yOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWApO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHF1aWNrQ2hhdFdpdGhTZWxlY3Rpb24oZWRpdG9yOiBFZGl0b3IpIHtcbiAgICBjb25zdCBzZWxlY3Rpb24gPSBlZGl0b3IuZ2V0U2VsZWN0aW9uKCk7XG4gICAgaWYgKCFzZWxlY3Rpb24pIHtcbiAgICAgIG5ldyBOb3RpY2UoJ05vIHRleHQgc2VsZWN0ZWQnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5jaGF0KHtcbiAgICAgICAgbWVzc2FnZTogYFBsZWFzZSBleHBsYWluIG9yIGFuYWx5emUgdGhpcyB0ZXh0OiBcIiR7c2VsZWN0aW9ufVwiYCxcbiAgICAgICAgdmF1bHRfY29udGV4dDogZWRpdG9yLmdldFZhbHVlKClcbiAgICAgIH0pO1xuXG4gICAgICBpZiAocmVzcG9uc2Uuc3VjY2VzcyAmJiByZXNwb25zZS5kYXRhKSB7XG4gICAgICAgIC8vIEluc2VydCByZXNwb25zZSBiZWxvdyBzZWxlY3Rpb25cbiAgICAgICAgY29uc3QgY3Vyc29yID0gZWRpdG9yLmdldEN1cnNvcigndG8nKTtcbiAgICAgICAgY29uc3QgbmV3TGluZSA9IGBcXG5cXG4qKlZhdWx0UGlsb3QgQW5hbHlzaXM6KipcXG4ke3Jlc3BvbnNlLmRhdGEucmVzcG9uc2V9XFxuXFxuYDtcbiAgICAgICAgZWRpdG9yLnJlcGxhY2VSYW5nZShuZXdMaW5lLCBjdXJzb3IpO1xuICAgICAgICBuZXcgTm90aWNlKCdBbmFseXNpcyBpbnNlcnRlZCcsIDIwMDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3IE5vdGljZShgQ2hhdCBlcnJvcjogJHtyZXNwb25zZS5lcnJvcn1gKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbmV3IE5vdGljZShgQ2hhdCBlcnJvcjogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBwbGFuVGFza3NGcm9tTm90ZShlZGl0b3I6IEVkaXRvcikge1xuICAgIGNvbnN0IGNvbnRlbnQgPSBlZGl0b3IuZ2V0VmFsdWUoKTtcbiAgICBjb25zdCBhY3RpdmVGaWxlID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcbiAgICBcbiAgICBpZiAoIWNvbnRlbnQudHJpbSgpKSB7XG4gICAgICBuZXcgTm90aWNlKCdObyBjb250ZW50IHRvIGFuYWx5emUnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBub3RpY2UgPSBuZXcgTm90aWNlKCdQbGFubmluZyB0YXNrcy4uLicsIDApO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGlDbGllbnQucGxhblRhc2tzKHtcbiAgICAgICAgZ29hbDogYENyZWF0ZSBhIHRhc2sgcGxhbiBiYXNlZCBvbiB0aGlzIG5vdGU6ICR7YWN0aXZlRmlsZT8ubmFtZSB8fCAnVW50aXRsZWQnfWAsXG4gICAgICAgIGNvbnRleHQ6IGNvbnRlbnQsXG4gICAgICAgIHRpbWVmcmFtZTogJzEgd2VlaydcbiAgICAgIH0pO1xuXG4gICAgICBub3RpY2UuaGlkZSgpO1xuXG4gICAgICBpZiAocmVzcG9uc2Uuc3VjY2VzcyAmJiByZXNwb25zZS5kYXRhKSB7XG4gICAgICAgIC8vIENyZWF0ZSB0YXNrIHBsYW4gbm90ZVxuICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXTtcbiAgICAgICAgY29uc3QgZmlsZW5hbWUgPSBgVGFzayBQbGFuIC0gJHthY3RpdmVGaWxlPy5iYXNlbmFtZSB8fCAnVW50aXRsZWQnfSAtICR7dGltZXN0YW1wfS5tZGA7XG4gICAgICAgIFxuICAgICAgICBsZXQgdGFza0NvbnRlbnQgPSBgIyAke3Jlc3BvbnNlLmRhdGEucGxhbi50aXRsZX1cXG5cXG5gO1xuICAgICAgICB0YXNrQ29udGVudCArPSBgJHtyZXNwb25zZS5kYXRhLnBsYW4uZGVzY3JpcHRpb259XFxuXFxuYDtcbiAgICAgICAgdGFza0NvbnRlbnQgKz0gYCoqRXN0aW1hdGVkIER1cmF0aW9uOioqICR7cmVzcG9uc2UuZGF0YS5wbGFuLmVzdGltYXRlZF9kdXJhdGlvbn1cXG5cXG5gO1xuICAgICAgICBcbiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEucGxhbi50YXNrcyAmJiByZXNwb25zZS5kYXRhLnBsYW4udGFza3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHRhc2tDb250ZW50ICs9IGAjIyBUYXNrc1xcblxcbmA7XG4gICAgICAgICAgcmVzcG9uc2UuZGF0YS5wbGFuLnRhc2tzLmZvckVhY2goKHRhc2s6IGFueSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2hlY2tib3ggPSB0YXNrLnN0YXR1cyA9PT0gJ2NvbXBsZXRlZCcgPyAnW3hdJyA6ICdbIF0nO1xuICAgICAgICAgICAgdGFza0NvbnRlbnQgKz0gYCR7Y2hlY2tib3h9ICoqJHt0YXNrLnRpdGxlfSoqICgke3Rhc2sucHJpb3JpdHl9IHByaW9yaXR5KVxcbmA7XG4gICAgICAgICAgICB0YXNrQ29udGVudCArPSBgICAgJHt0YXNrLmRlc2NyaXB0aW9ufVxcbmA7XG4gICAgICAgICAgICB0YXNrQ29udGVudCArPSBgICAgKkVzdGltYXRlZCB0aW1lOiAke3Rhc2suZXN0aW1hdGVkX3RpbWV9KlxcblxcbmA7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5taWxlc3RvbmVzICYmIHJlc3BvbnNlLmRhdGEubWlsZXN0b25lcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgdGFza0NvbnRlbnQgKz0gYCMjIE1pbGVzdG9uZXNcXG5cXG5gO1xuICAgICAgICAgIHJlc3BvbnNlLmRhdGEubWlsZXN0b25lcy5mb3JFYWNoKChtaWxlc3RvbmU6IGFueSkgPT4ge1xuICAgICAgICAgICAgdGFza0NvbnRlbnQgKz0gYC0gKioke21pbGVzdG9uZS50aXRsZX0qKiAoJHttaWxlc3RvbmUudGFyZ2V0X2RhdGV9KVxcbmA7XG4gICAgICAgICAgICB0YXNrQ29udGVudCArPSBgICAke21pbGVzdG9uZS5kZXNjcmlwdGlvbn1cXG5cXG5gO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgYXdhaXQgdGhpcy5hcHAudmF1bHQuY3JlYXRlKGZpbGVuYW1lLCB0YXNrQ29udGVudCk7XG4gICAgICAgIG5ldyBOb3RpY2UoYFRhc2sgcGxhbiBzYXZlZCBhcyAke2ZpbGVuYW1lfWApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlLmVycm9yIHx8ICdUYXNrIHBsYW5uaW5nIGZhaWxlZCcpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBub3RpY2UuaGlkZSgpO1xuICAgICAgbmV3IE5vdGljZShgVGFzayBwbGFubmluZyBlcnJvcjogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBwbGFuTXlEYXkoKSB7XG4gICAgY29uc29sZS5sb2coJ/CfmoAgW1BsYW4gTXkgRGF5XSBDb21tYW5kIHN0YXJ0ZWQnKTtcbiAgICBcbiAgICBjb25zdCBhY3RpdmVGaWxlID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcbiAgICBcbiAgICBpZiAoIWFjdGl2ZUZpbGUpIHtcbiAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIFtQbGFuIE15IERheV0gTm8gYWN0aXZlIGZpbGUgZm91bmQnKTtcbiAgICAgIG5ldyBOb3RpY2UoJ05vIGFjdGl2ZSBub3Rl4oCUb3BlbiB0b2RheVxcJ3MgZGFpbHkgbm90ZSBmaXJzdC4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZygn8J+TgSBbUGxhbiBNeSBEYXldIEFjdGl2ZSBmaWxlOicsIHtcbiAgICAgIG5hbWU6IGFjdGl2ZUZpbGUubmFtZSxcbiAgICAgIHBhdGg6IGFjdGl2ZUZpbGUucGF0aCxcbiAgICAgIGV4dGVuc2lvbjogYWN0aXZlRmlsZS5leHRlbnNpb25cbiAgICB9KTtcblxuICAgIGNvbnN0IG5vdGljZSA9IG5ldyBOb3RpY2UoJ1BsYW5uaW5nIHlvdXIgZGF5IHdpdGggQUkuLi4nLCAwKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+TliBbUGxhbiBNeSBEYXldIFJlYWRpbmcgZmlsZSBjb250ZW50Li4uJyk7XG4gICAgICBcbiAgICAgIC8vIFJlYWQgdGhlIGVudGlyZSBmaWxlIGNvbnRlbnRcbiAgICAgIGNvbnN0IGZpbGVUZXh0ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQucmVhZChhY3RpdmVGaWxlKTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ/Cfk50gW1BsYW4gTXkgRGF5XSBGaWxlIGNvbnRlbnQgcmVhZDonLCB7XG4gICAgICAgIGxlbmd0aDogZmlsZVRleHQubGVuZ3RoLFxuICAgICAgICBoYXNDb250ZW50OiBmaWxlVGV4dC50cmltKCkubGVuZ3RoID4gMCxcbiAgICAgICAgZmlyc3RMaW5lOiBmaWxlVGV4dC5zcGxpdCgnXFxuJylbMF0sXG4gICAgICAgIGxpbmVDb3VudDogZmlsZVRleHQuc3BsaXQoJ1xcbicpLmxlbmd0aFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFtQbGFuIE15IERheV0gQ2hlY2tpbmcgQVBJIGNsaWVudC4uLicpO1xuICAgICAgY29uc29sZS5sb2coJ/CflJcgW1BsYW4gTXkgRGF5XSBBUEkgY2xpZW50IHN0YXR1czonLCB7XG4gICAgICAgIGV4aXN0czogISF0aGlzLmFwaUNsaWVudCxcbiAgICAgICAgdHlwZTogdHlwZW9mIHRoaXMuYXBpQ2xpZW50LFxuICAgICAgICBpc0Nvbm5lY3RlZDogdGhpcy5hcGlDbGllbnQgPyAnYXZhaWxhYmxlJyA6ICdub3QgYXZhaWxhYmxlJ1xuICAgICAgfSk7XG5cbiAgICAgIGlmICghdGhpcy5hcGlDbGllbnQpIHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSAnQVBJIGNsaWVudCBub3QgaW5pdGlhbGl6ZWQuIENoZWNrIFZhdWx0UGlsb3Qgc2V0dGluZ3MgYW5kIGNvbm5lY3Rpb24uJztcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIFtQbGFuIE15IERheV0gRXJyb3I6JywgZXJyb3IpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygn8J+TpCBbUGxhbiBNeSBEYXldIEZldGNoaW5nIHNjaGVkdWxlIGZyb20gRXZvQWdlbnRYLi4uJyk7XG4gICAgICBcbiAgICAgIC8vIEZldGNoIHNjaGVkdWxlIGZyb20gRXZvQWdlbnRYIGluc3RlYWQgb2YgbG9jYWxob3N0OjMwMDBcbiAgICAgIGNvbnN0IHsgc2NoZWR1bGVNYXJrZG93biwgaGVhZGxpbmUgfSA9IGF3YWl0IGZldGNoU2NoZWR1bGUoZmlsZVRleHQsIHRoaXMuYXBpQ2xpZW50KTtcblxuICAgICAgY29uc29sZS5sb2coJ/Cfk4sgW1BsYW4gTXkgRGF5XSBTY2hlZHVsZSByZWNlaXZlZDonLCB7XG4gICAgICAgIG1hcmtkb3duTGVuZ3RoOiBzY2hlZHVsZU1hcmtkb3duLmxlbmd0aCxcbiAgICAgICAgaGVhZGxpbmU6IGhlYWRsaW5lLFxuICAgICAgICBmaXJzdExpbmU6IHNjaGVkdWxlTWFya2Rvd24uc3BsaXQoJ1xcbicpWzBdXG4gICAgICB9KTtcblxuICAgICAgY29uc29sZS5sb2coJ+KchSBbUGxhbiBNeSBEYXldIFZhbGlkYXRpbmcgc2NoZWR1bGUuLi4nKTtcbiAgICAgIFxuICAgICAgLy8gVmFsaWRhdGUgdGhlIHJldHVybmVkIHNjaGVkdWxlXG4gICAgICBpZiAoIXZhbGlkYXRlU2NoZWR1bGVNYXJrZG93bihzY2hlZHVsZU1hcmtkb3duKSkge1xuICAgICAgICBjb25zdCBlcnJvciA9ICdJbnZhbGlkIHNjaGVkdWxlIGRhdGEgcmVjZWl2ZWQgZnJvbSBBUEknO1xuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgW1BsYW4gTXkgRGF5XSBWYWxpZGF0aW9uIGZhaWxlZDonLCB7XG4gICAgICAgICAgc2NoZWR1bGVNYXJrZG93bjogc2NoZWR1bGVNYXJrZG93bi5zdWJzdHJpbmcoMCwgMjAwKSxcbiAgICAgICAgICBsZW5ndGg6IHNjaGVkdWxlTWFya2Rvd24ubGVuZ3RoXG4gICAgICAgIH0pO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IpO1xuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZygn8J+TnSBbUGxhbiBNeSBEYXldIEluamVjdGluZyBzY2hlZHVsZSBpbnRvIG5vdGUuLi4nKTtcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgaWYgbm90ZSBhbHJlYWR5IGhhcyBhIHBsYW4gc2VjdGlvbiAoY29tbWVudCB3cmFwcGVyKSBvciBzY2hlZHVsZSBzZWN0aW9uXG4gICAgICBjb25zdCBleGlzdGluZ1BsYW5TZWN0aW9uID0gZmluZFBsYW5TZWN0aW9uKGZpbGVUZXh0KTtcbiAgICAgIGNvbnN0IGV4aXN0aW5nU2NoZWR1bGVTZWN0aW9uID0gZmluZFNjaGVkdWxlU2VjdGlvbihmaWxlVGV4dCk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFtQbGFuIE15IERheV0gRXhpc3Rpbmcgc2VjdGlvbnM6Jywge1xuICAgICAgICBoYXNQbGFuV3JhcHBlcjogISFleGlzdGluZ1BsYW5TZWN0aW9uLFxuICAgICAgICBoYXNTY2hlZHVsZVNlY3Rpb246ICEhZXhpc3RpbmdTY2hlZHVsZVNlY3Rpb24sXG4gICAgICAgIHBsYW5Db250ZW50OiBleGlzdGluZ1BsYW5TZWN0aW9uPy5bMl0/LnN1YnN0cmluZygwLCA1MCksXG4gICAgICAgIHNjaGVkdWxlSGVhZGluZzogZXhpc3RpbmdTY2hlZHVsZVNlY3Rpb24/LlsxXT8uc3Vic3RyaW5nKDAsIDUwKVxuICAgICAgfSk7XG5cbiAgICAgIC8vIEluamVjdCB0aGUgc2NoZWR1bGUgaW50byB0aGUgbm90ZVxuICAgICAgY29uc3QgdXBkYXRlZFRleHQgPSBpbmplY3RTY2hlZHVsZShmaWxlVGV4dCwgc2NoZWR1bGVNYXJrZG93bik7XG5cbiAgICAgIGNvbnNvbGUubG9nKCfwn5K+IFtQbGFuIE15IERheV0gVXBkYXRpbmcgZmlsZS4uLicsIHtcbiAgICAgICAgb3JpZ2luYWxMZW5ndGg6IGZpbGVUZXh0Lmxlbmd0aCxcbiAgICAgICAgdXBkYXRlZExlbmd0aDogdXBkYXRlZFRleHQubGVuZ3RoLFxuICAgICAgICBjaGFuZ2VkOiBmaWxlVGV4dCAhPT0gdXBkYXRlZFRleHRcbiAgICAgIH0pO1xuXG4gICAgICAvLyBVcGRhdGUgdGhlIGZpbGVcbiAgICAgIGF3YWl0IHRoaXMuYXBwLnZhdWx0Lm1vZGlmeShhY3RpdmVGaWxlLCB1cGRhdGVkVGV4dCk7XG5cbiAgICAgIGNvbnNvbGUubG9nKCfinIUgW1BsYW4gTXkgRGF5XSBGaWxlIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG5cbiAgICAgIC8vIEhpZGUgdGhlIHByb2dyZXNzIG5vdGljZVxuICAgICAgbm90aWNlLmhpZGUoKTtcblxuICAgICAgLy8gU2hvdyBzdWNjZXNzIG5vdGljZVxuICAgICAgY29uc3Qgc3VjY2Vzc01lc3NhZ2UgPSBoZWFkbGluZSA/IGAke2hlYWRsaW5lfSDinIVgIDogJ1NjaGVkdWxlIGluc2VydGVkIOKchSc7XG4gICAgICBjb25zb2xlLmxvZygn8J+OiSBbUGxhbiBNeSBEYXldIFN1Y2Nlc3M6Jywgc3VjY2Vzc01lc3NhZ2UpO1xuICAgICAgbmV3IE5vdGljZShzdWNjZXNzTWVzc2FnZSk7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIFtQbGFuIE15IERheV0gT3BlcmF0aW9uIGZhaWxlZDonLCBlcnJvcik7XG4gICAgICBjb25zb2xlLmVycm9yKCfwn5SNIFtQbGFuIE15IERheV0gRXJyb3IgZGV0YWlsczonLCB7XG4gICAgICAgIG1lc3NhZ2U6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKSxcbiAgICAgICAgc3RhY2s6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5zdGFjayA6ICdObyBzdGFjayB0cmFjZScsXG4gICAgICAgIHR5cGU6IHR5cGVvZiBlcnJvcixcbiAgICAgICAgbmFtZTogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm5hbWUgOiAnVW5rbm93bidcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBub3RpY2UuaGlkZSgpO1xuICAgICAgXG4gICAgICAvLyBIYW5kbGUgZGlmZmVyZW50IHR5cGVzIG9mIGVycm9ycyBmcm9tIEV2b0FnZW50WFxuICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcbiAgICAgICAgY29uc29sZS5sb2coJ/CflI0gW1BsYW4gTXkgRGF5XSBBbmFseXppbmcgZXJyb3IgbWVzc2FnZTonLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgICBcbiAgICAgICAgaWYgKGVycm9yTWVzc2FnZS5pbmNsdWRlcygnQVBJIGNsaWVudCBub3QgaW5pdGlhbGl6ZWQnKSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBbUGxhbiBNeSBEYXldIEFQSSBjbGllbnQgbm90IGluaXRpYWxpemVkJyk7XG4gICAgICAgICAgbmV3IE5vdGljZSgnUGxhbm5pbmcgZXJyb3I6IFZhdWx0UGlsb3Qgbm90IGNvbm5lY3RlZCB0byBFdm9BZ2VudFguIENoZWNrIHNldHRpbmdzIGFuZCByZXN0YXJ0IHBsdWdpbi4nKTtcbiAgICAgICAgfSBlbHNlIGlmIChlcnJvck1lc3NhZ2UuaW5jbHVkZXMoJ2RvZXMgbm90IGhhdmUgcGxhblRhc2tzIG1ldGhvZCcpKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIFtQbGFuIE15IERheV0gQVBJIGNsaWVudCBtaXNzaW5nIHBsYW5UYXNrcyBtZXRob2QnKTtcbiAgICAgICAgICBuZXcgTm90aWNlKCdQbGFubmluZyBlcnJvcjogRXZvQWdlbnRYIEFQSSBjbGllbnQgb3V0ZGF0ZWQuIFBsZWFzZSB1cGRhdGUgVmF1bHRQaWxvdCBwbHVnaW4uJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXJyb3JNZXNzYWdlLmluY2x1ZGVzKCdKU09OJykgfHwgZXJyb3JNZXNzYWdlLmluY2x1ZGVzKCdJbnZhbGlkIHNjaGVkdWxlIGRhdGEnKSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBbUGxhbiBNeSBEYXldIEludmFsaWQgcmVzcG9uc2UgZm9ybWF0Jyk7XG4gICAgICAgICAgbmV3IE5vdGljZSgnUGxhbm5pbmcgZXJyb3I6IEludmFsaWQgcmVzcG9uc2UgZm9ybWF0IGZyb20gRXZvQWdlbnRYJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXJyb3JNZXNzYWdlLmluY2x1ZGVzKCdmZXRjaCcpIHx8IGVycm9yTWVzc2FnZS5pbmNsdWRlcygnbmV0d29yaycpIHx8IGVycm9yTWVzc2FnZS5pbmNsdWRlcygnRmFpbGVkIHRvIGZldGNoJykpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgW1BsYW4gTXkgRGF5XSBOZXR3b3JrIGVycm9yJyk7XG4gICAgICAgICAgbmV3IE5vdGljZSgnUGxhbm5pbmcgZXJyb3I6IFVuYWJsZSB0byBjb25uZWN0IHRvIEV2b0FnZW50WCBzZXJ2ZXIuIENoZWNrIHlvdXIgY29ubmVjdGlvbiBhbmQgc2VydmVyIHN0YXR1cy4nKTtcbiAgICAgICAgfSBlbHNlIGlmIChlcnJvck1lc3NhZ2UuaW5jbHVkZXMoJ0ZhaWxlZCB0byBnZW5lcmF0ZSBzY2hlZHVsZScpIHx8IGVycm9yTWVzc2FnZS5pbmNsdWRlcygnU2NoZWR1bGUgZmV0Y2ggZmFpbGVkJykpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgW1BsYW4gTXkgRGF5XSBTY2hlZHVsZSBnZW5lcmF0aW9uIGZhaWxlZCcpO1xuICAgICAgICAgIG5ldyBOb3RpY2UoJ1BsYW5uaW5nIGVycm9yOiBFdm9BZ2VudFggdGFzayBwbGFubmluZyBmYWlsZWQuIENoZWNrIHNlcnZlciBsb2dzIGZvciBkZXRhaWxzLicpO1xuICAgICAgICB9IGVsc2UgaWYgKGVycm9yTWVzc2FnZS5pbmNsdWRlcygnTm8gZGF0YSBpbiBBUEkgcmVzcG9uc2UnKSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBbUGxhbiBNeSBEYXldIEVtcHR5IEFQSSByZXNwb25zZScpO1xuICAgICAgICAgIG5ldyBOb3RpY2UoJ1BsYW5uaW5nIGVycm9yOiBFdm9BZ2VudFggcmV0dXJuZWQgZW1wdHkgcmVzcG9uc2UuIFRyeSBhZ2FpbiBvciBjaGVjayBzZXJ2ZXIgc3RhdHVzLicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBbUGxhbiBNeSBEYXldIFVuaGFuZGxlZCBlcnJvcicpO1xuICAgICAgICAgIG5ldyBOb3RpY2UoYFBsYW5uaW5nIGVycm9yOiAke2Vycm9yTWVzc2FnZS5zdWJzdHJpbmcoMCwgMTAwKX0ke2Vycm9yTWVzc2FnZS5sZW5ndGggPiAxMDAgPyAnLi4uJyA6ICcnfWApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgW1BsYW4gTXkgRGF5XSBOb24tRXJyb3Igb2JqZWN0IHRocm93bicpO1xuICAgICAgICBuZXcgTm90aWNlKCdQbGFubmluZyBlcnJvcjogVW5rbm93biBlcnJvciBvY2N1cnJlZCB3aXRoIEV2b0FnZW50WCcpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBBbHdheXMgbG9nIHRoZSBmdWxsIGVycm9yIGZvciBkZWJ1Z2dpbmdcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFtQbGFuIE15IERheV0gRnVsbCBlcnJvciBsb2cgY29tcGxldGVkJyk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZGVidWdQbGFuTXlEYXkoKSB7XG4gICAgY29uc29sZS5sb2coJ/CflI0gW1BsYW4gTXkgRGF5IERlYnVnXSBTdGFydGluZyBjb21wcmVoZW5zaXZlIGRlYnVnLi4uJyk7XG4gICAgcGxhbk15RGF5RGVidWdnZXIuY2xlYXJMb2dzKCk7XG4gICAgXG4gICAgY29uc3Qgbm90aWNlID0gbmV3IE5vdGljZSgnUnVubmluZyBQbGFuIE15IERheSBkaWFnbm9zdGljcy4uLicsIDApO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIFRlc3QgMTogQ2hlY2sgYWN0aXZlIGZpbGVcbiAgICAgIGNvbnN0IGFjdGl2ZUZpbGUgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpO1xuICAgICAgcGxhbk15RGF5RGVidWdnZXIubG9nKCfwn5OBIEFjdGl2ZSBmaWxlIGNoZWNrJywge1xuICAgICAgICBoYXNBY3RpdmVGaWxlOiAhIWFjdGl2ZUZpbGUsXG4gICAgICAgIGZpbGVOYW1lOiBhY3RpdmVGaWxlPy5uYW1lLFxuICAgICAgICBmaWxlRXh0ZW5zaW9uOiBhY3RpdmVGaWxlPy5leHRlbnNpb25cbiAgICAgIH0pO1xuXG4gICAgICAvLyBUZXN0IDI6IEFuYWx5emUgQVBJIGNsaWVudFxuICAgICAgY29uc3QgYXBpQW5hbHlzaXMgPSBwbGFuTXlEYXlEZWJ1Z2dlci5hbmFseXplQXBpQ2xpZW50KHRoaXMuYXBpQ2xpZW50KTtcbiAgICAgIHBsYW5NeURheURlYnVnZ2VyLmxvZygn8J+UlyBBUEkgY2xpZW50IGFuYWx5c2lzJywgYXBpQW5hbHlzaXMpO1xuXG4gICAgICAvLyBUZXN0IDM6IFRlc3QgRXZvQWdlbnRYIGNvbm5lY3Rpb25cbiAgICAgIGlmICh0aGlzLmFwaUNsaWVudCkge1xuICAgICAgICBjb25zdCBjb25uZWN0aW9uVGVzdCA9IGF3YWl0IHBsYW5NeURheURlYnVnZ2VyLnRlc3RDb25uZWN0aW9uKHRoaXMuYXBpQ2xpZW50KTtcbiAgICAgICAgcGxhbk15RGF5RGVidWdnZXIubG9nKCfwn4yQIENvbm5lY3Rpb24gdGVzdCByZXN1bHQnLCBjb25uZWN0aW9uVGVzdCk7XG5cbiAgICAgICAgLy8gVGVzdCA0OiBUZXN0IHRhc2sgcGxhbm5pbmcgZnVuY3Rpb25hbGl0eVxuICAgICAgICBpZiAoY29ubmVjdGlvblRlc3Quc3VjY2Vzcykge1xuICAgICAgICAgIGNvbnN0IHBsYW5uaW5nVGVzdCA9IGF3YWl0IHBsYW5NeURheURlYnVnZ2VyLnRlc3RUYXNrUGxhbm5pbmcoXG4gICAgICAgICAgICB0aGlzLmFwaUNsaWVudCwgXG4gICAgICAgICAgICAnVGVzdCBub3RlIHdpdGggc29tZSB0YXNrczpcXG4tIFdyaXRlIGNvZGVcXG4tIFRlc3QgZnVuY3Rpb25hbGl0eVxcbi0gUmV2aWV3IHJlc3VsdHMnXG4gICAgICAgICAgKTtcbiAgICAgICAgICBwbGFuTXlEYXlEZWJ1Z2dlci5sb2coJ/Cfk4sgVGFzayBwbGFubmluZyB0ZXN0IHJlc3VsdCcsIHBsYW5uaW5nVGVzdCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVGVzdCA1OiBDaGVjayBzZXR0aW5nc1xuICAgICAgcGxhbk15RGF5RGVidWdnZXIubG9nKCfimpnvuI8gUGx1Z2luIHNldHRpbmdzJywge1xuICAgICAgICBiYWNrZW5kVXJsOiB0aGlzLnNldHRpbmdzLmJhY2tlbmRVcmwsXG4gICAgICAgIGhhc0FwaUtleTogISF0aGlzLnNldHRpbmdzLmFwaUtleSxcbiAgICAgICAgZGVidWdNb2RlOiB0aGlzLnNldHRpbmdzLmRlYnVnTW9kZVxuICAgICAgfSk7XG5cbiAgICAgIG5vdGljZS5oaWRlKCk7XG5cbiAgICAgIC8vIFNob3cgcmVzdWx0cyBpbiBhIG1vZGFsIG9yIGNvbnNvbGVcbiAgICAgIGNvbnN0IGxvZ3MgPSBwbGFuTXlEYXlEZWJ1Z2dlci5nZXRMb2dzKCk7XG4gICAgICBjb25zb2xlLmxvZygn8J+UjSBbUGxhbiBNeSBEYXkgRGVidWddIENvbXBsZXRlIGRpYWdub3N0aWMgbG9nOicsIGxvZ3MpO1xuICAgICAgXG4gICAgICBjb25zdCBsb2dTdW1tYXJ5ID0gbG9ncy5zbGljZSgtNSkuam9pbignXFxuJyk7IC8vIExhc3QgNSBlbnRyaWVzXG4gICAgICBuZXcgTm90aWNlKGBEZWJ1ZyBjb21wbGV0ZSEgQ2hlY2sgY29uc29sZSBmb3IgZnVsbCBsb2dzLlxcblxcbkxhc3QgZW50cmllczpcXG4ke2xvZ1N1bW1hcnl9YCwgMTAwMDApO1xuXG4gICAgICAvLyBDcmVhdGUgYSBkZWJ1ZyBmaWxlIGlmIGFjdGl2ZSBmaWxlIGV4aXN0c1xuICAgICAgaWYgKGFjdGl2ZUZpbGUpIHtcbiAgICAgICAgY29uc3QgZGVidWdDb250ZW50ID0gYCMgUGxhbiBNeSBEYXkgRGVidWcgUmVwb3J0XFxuXFxuR2VuZXJhdGVkOiAke25ldyBEYXRlKCkudG9JU09TdHJpbmcoKX1cXG5cXG4jIyBEaWFnbm9zdGljIFJlc3VsdHNcXG5cXG5cXGBcXGBcXGBcXG4ke3BsYW5NeURheURlYnVnZ2VyLmV4cG9ydExvZ3MoKX1cXG5cXGBcXGBcXGBgO1xuICAgICAgICBhd2FpdCB0aGlzLmFwcC52YXVsdC5jcmVhdGUoYFBsYW4gTXkgRGF5IERlYnVnIC0gJHtEYXRlLm5vdygpfS5tZGAsIGRlYnVnQ29udGVudCk7XG4gICAgICAgIG5ldyBOb3RpY2UoJ0RlYnVnIHJlcG9ydCBzYXZlZCBhcyBuZXcgbm90ZSEnKTtcbiAgICAgIH1cblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBub3RpY2UuaGlkZSgpO1xuICAgICAgcGxhbk15RGF5RGVidWdnZXIuZXJyb3IoJ0RlYnVnIHByb2Nlc3MgZmFpbGVkJywgZXJyb3IpO1xuICAgICAgbmV3IE5vdGljZShgRGVidWcgZmFpbGVkOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBhY3RpdmF0ZVZpZXcoKSB7XG4gICAgY29uc3QgbGVhdmVzID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZShWSUVXX1RZUEVfVkFVTFRQSUxPVCk7XG4gICAgaWYgKGxlYXZlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnN0IHJpZ2h0TGVhZiA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRSaWdodExlYWYoZmFsc2UpO1xuICAgICAgaWYgKHJpZ2h0TGVhZikge1xuICAgICAgICBhd2FpdCByaWdodExlYWYuc2V0Vmlld1N0YXRlKHtcbiAgICAgICAgICB0eXBlOiBWSUVXX1RZUEVfVkFVTFRQSUxPVCxcbiAgICAgICAgICBhY3RpdmU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYXBwLndvcmtzcGFjZS5yZXZlYWxMZWFmKGxlYXZlc1swXSk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgYWN0aXZhdGVGdWxsVGFiVmlldygpIHtcbiAgICBjb25zdCBsZWF2ZXMgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKFZJRVdfVFlQRV9WQVVMVFBJTE9UX0ZVTExfVEFCKTtcbiAgICBpZiAobGVhdmVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgLy8gQ3JlYXRlIGEgbmV3IHRhYiBpbiB0aGUgbWFpbiB3b3Jrc3BhY2VcbiAgICAgIGNvbnN0IG5ld0xlYWYgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZigndGFiJyk7XG4gICAgICBpZiAobmV3TGVhZikge1xuICAgICAgICBhd2FpdCBuZXdMZWFmLnNldFZpZXdTdGF0ZSh7XG4gICAgICAgICAgdHlwZTogVklFV19UWVBFX1ZBVUxUUElMT1RfRlVMTF9UQUIsXG4gICAgICAgICAgYWN0aXZlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFwcC53b3Jrc3BhY2UucmV2ZWFsTGVhZihsZWF2ZXNbMF0pO1xuICAgIH1cbiAgfVxuXG4gIC8vID09PSBWQVVMVCBNQU5BR0VNRU5UIE1FVEhPRFMgPT09XG5cbiAgaW5pdGlhbGl6ZVZhdWx0TWFuYWdlbWVudCgpIHtcbiAgICBpZiAoIXRoaXMuc2V0dGluZ3MudmF1bHRNYW5hZ2VtZW50Py5lbmFibGVWYXVsdE1hbmFnZW1lbnQpIHJldHVybjtcbiAgICBcbiAgICB0aGlzLnZhdWx0Q2xpZW50ID0gbmV3IFZhdWx0TWFuYWdlbWVudENsaWVudChcbiAgICAgIHRoaXMuc2V0dGluZ3MuYmFja2VuZFVybCxcbiAgICAgIHRoaXMuc2V0dGluZ3MuYXBpS2V5XG4gICAgKTtcbiAgICBcbiAgICBpZiAodGhpcy5zZXR0aW5ncy5kZWJ1Z01vZGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdWYXVsdCBtYW5hZ2VtZW50IGluaXRpYWxpemVkJyk7XG4gICAgfVxuICB9XG5cbiAgZGlzYWJsZVZhdWx0TWFuYWdlbWVudCgpIHtcbiAgICB0aGlzLnZhdWx0Q2xpZW50ID0gbnVsbCBhcyBhbnk7XG4gICAgaWYgKHRoaXMuc2V0dGluZ3MuZGVidWdNb2RlKSB7XG4gICAgICBjb25zb2xlLmxvZygnVmF1bHQgbWFuYWdlbWVudCBkaXNhYmxlZCcpO1xuICAgIH1cbiAgfVxuXG4gIHJlZ2lzdGVyVmF1bHRNYW5hZ2VtZW50Q29tbWFuZHMoKSB7XG4gICAgY29uc3QgY29tbWFuZHMgPSBjcmVhdGVWYXVsdE1hbmFnZW1lbnRDb21tYW5kcygpO1xuICAgIGNvbW1hbmRzLmZvckVhY2goY29tbWFuZCA9PiB7XG4gICAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgICAuLi5jb21tYW5kLFxuICAgICAgICBjYWxsYmFjazogY29tbWFuZC5jYWxsYmFjaz8uYmluZCh0aGlzKSxcbiAgICAgICAgZWRpdG9yQ2FsbGJhY2s6IGNvbW1hbmQuZWRpdG9yQ2FsbGJhY2s/LmJpbmQodGhpcylcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gTW9kYWwgb3BlbmluZyBtZXRob2RzIGZvciB2YXVsdCBtYW5hZ2VtZW50XG4gIG9wZW5WYXVsdFN0cnVjdHVyZU1vZGFsKCkge1xuICAgIGlmICghdGhpcy52YXVsdENsaWVudCkge1xuICAgICAgbmV3IE5vdGljZSgnVmF1bHQgbWFuYWdlbWVudCBub3QgYXZhaWxhYmxlJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIG5ldyBWYXVsdFN0cnVjdHVyZU1vZGFsKHRoaXMuYXBwLCB0aGlzKS5vcGVuKCk7XG4gIH1cblxuICBvcGVuU21hcnRTZWFyY2hNb2RhbChxdWVyeT86IHN0cmluZywgdHlwZT86IHN0cmluZykge1xuICAgIGlmICghdGhpcy52YXVsdENsaWVudCkge1xuICAgICAgbmV3IE5vdGljZSgnVmF1bHQgbWFuYWdlbWVudCBub3QgYXZhaWxhYmxlJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG1vZGFsID0gbmV3IFNtYXJ0U2VhcmNoTW9kYWwodGhpcy5hcHAsIHRoaXMpO1xuICAgIGlmIChxdWVyeSkgbW9kYWwuc2V0SW5pdGlhbFF1ZXJ5KHF1ZXJ5LCB0eXBlIGFzIGFueSk7XG4gICAgbW9kYWwub3BlbigpO1xuICB9XG5cbiAgb3BlbkZpbGVPcGVyYXRpb25zTW9kYWwocGF0aD86IHN0cmluZywgb3BlcmF0aW9uPzogc3RyaW5nKSB7XG4gICAgaWYgKCF0aGlzLnZhdWx0Q2xpZW50KSB7XG4gICAgICBuZXcgTm90aWNlKCdWYXVsdCBtYW5hZ2VtZW50IG5vdCBhdmFpbGFibGUnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbW9kYWwgPSBuZXcgRmlsZU9wZXJhdGlvbnNNb2RhbCh0aGlzLmFwcCwgdGhpcyk7XG4gICAgaWYgKHBhdGgpIG1vZGFsLnNldEluaXRpYWxQYXRoKHBhdGgpO1xuICAgIGlmIChvcGVyYXRpb24pIG1vZGFsLnNldE9wZXJhdGlvbihvcGVyYXRpb24pO1xuICAgIG1vZGFsLm9wZW4oKTtcbiAgfVxuXG4gIG9wZW5WYXVsdE9yZ2FuaXplck1vZGFsKCkge1xuICAgIG5ldyBOb3RpY2UoJ1ZhdWx0IG9yZ2FuaXplciBtb2RhbCBub3QgeWV0IGltcGxlbWVudGVkJyk7XG4gIH1cblxuICBvcGVuQmF0Y2hPcGVyYXRpb25zTW9kYWwoKSB7XG4gICAgbmV3IE5vdGljZSgnQmF0Y2ggb3BlcmF0aW9ucyBtb2RhbCBub3QgeWV0IGltcGxlbWVudGVkJyk7XG4gIH1cblxuICAvLyA9PT0gRU5EIFZBVUxUIE1BTkFHRU1FTlQgTUVUSE9EUyA9PT1cblxuICAvLyA9PT0gUEhBU0UgMyBJTlRFR1JBVElPTiA9PT1cblxuICBpbml0aWFsaXplUGhhc2UzKCkge1xuICAgIC8vIEZvciBub3csIGFsd2F5cyBpbml0aWFsaXplIFBoYXNlIDMgZmVhdHVyZXNcbiAgICB0cnkge1xuICAgICAgdGhpcy5waGFzZTNJbnRlZ3JhdGlvbiA9IG5ldyBQaGFzZTNJbnRlZ3JhdGlvbih0aGlzLCB7XG4gICAgICAgIGF1dG9TaG93T25ib2FyZGluZzogIXRoaXMuc2V0dGluZ3Mub25ib2FyZGluZ0NvbXBsZXRlXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gTG9hZCB0aGUgUGhhc2UgMyBpbnRlZ3JhdGlvblxuICAgICAgdGhpcy5waGFzZTNJbnRlZ3JhdGlvbi5vbmxvYWQoKTtcbiAgICAgIFxuICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZGVidWdNb2RlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdQaGFzZSAzIGZlYXR1cmVzIGluaXRpYWxpemVkIHN1Y2Nlc3NmdWxseScpO1xuICAgICAgfVxuXG4gICAgICAvLyBTaG93IG9uYm9hcmRpbmcgZm9yIGZpcnN0LXRpbWUgdXNlcnNcbiAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5vbmJvYXJkaW5nQ29tcGxldGUpIHtcbiAgICAgICAgLy8gRGVsYXkgb25ib2FyZGluZyBzbGlnaHRseSB0byBsZXQgcGx1Z2luIGZ1bGx5IGxvYWRcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5waGFzZTNJbnRlZ3JhdGlvbj8uc2hvd09uYm9hcmRpbmdJZk5lZWRlZCgpO1xuICAgICAgICB9LCAxMDAwKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGluaXRpYWxpemUgUGhhc2UgMyBmZWF0dXJlczonLCBlcnJvcik7XG4gICAgICBpZiAodGhpcy5zZXR0aW5ncy5kZWJ1Z01vZGUpIHtcbiAgICAgICAgbmV3IE5vdGljZSgnUGhhc2UgMyBmZWF0dXJlcyBmYWlsZWQgdG8gaW5pdGlhbGl6ZSAtIGNoZWNrIGNvbnNvbGUgZm9yIGRldGFpbHMnLCA1MDAwKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBkaXNhYmxlUGhhc2UzKCkge1xuICAgIGlmICh0aGlzLnBoYXNlM0ludGVncmF0aW9uKSB7XG4gICAgICB0aGlzLnBoYXNlM0ludGVncmF0aW9uLm9udW5sb2FkKCk7XG4gICAgICB0aGlzLnBoYXNlM0ludGVncmF0aW9uID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAodGhpcy5zZXR0aW5ncy5kZWJ1Z01vZGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdQaGFzZSAzIGZlYXR1cmVzIGRpc2FibGVkJyk7XG4gICAgfVxuICB9XG5cbiAgLy8gPT09IEVORCBQSEFTRSAzIElOVEVHUkFUSU9OID09PVxuXG4gIC8vID09PSBFTkhBTkNFTUVOVCBNQU5BR0VSIElOVEVHUkFUSU9OID09PVxuXG4gIGluaXRpYWxpemVFbmhhbmNlbWVudE1hbmFnZXIoKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEluaXRpYWxpemUgRW5oYW5jZW1lbnQgTWFuYWdlclxuICAgICAgdGhpcy5lbmhhbmNlbWVudE1hbmFnZXIgPSBuZXcgVmF1bHRQaWxvdEVuaGFuY2VtZW50TWFuYWdlcih0aGlzKTtcbiAgICAgIFxuICAgICAgLy8gSW5pdGlhbGl6ZSB0aGUgZW5oYW5jZW1lbnQgbWFuYWdlclxuICAgICAgdGhpcy5lbmhhbmNlbWVudE1hbmFnZXIuaW5pdGlhbGl6ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5kZWJ1Z01vZGUpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnVmF1bHRQaWxvdCBFbmhhbmNlbWVudCBNYW5hZ2VyIGluaXRpYWxpemVkIHN1Y2Nlc3NmdWxseScpO1xuICAgICAgICB9XG4gICAgICB9KS5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBpbml0aWFsaXplIEVuaGFuY2VtZW50IE1hbmFnZXI6JywgZXJyb3IpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIEluaXRpYWxpemUgS2V5Ym9hcmQgU2hvcnRjdXQgSGFuZGxlclxuICAgICAgdGhpcy5rZXlib2FyZEhhbmRsZXIgPSBuZXcgS2V5Ym9hcmRTaG9ydGN1dEhhbmRsZXIodGhpcyk7XG4gICAgICBcbiAgICAgIC8vIFJlZ2lzdGVyIGdsb2JhbCBrZXlib2FyZCBldmVudCBsaXN0ZW5lclxuICAgICAgdGhpcy5yZWdpc3RlckRvbUV2ZW50KGRvY3VtZW50LCAna2V5ZG93bicsIChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5rZXlib2FyZEhhbmRsZXI/LmhhbmRsZUtleURvd24oZXZlbnQpKSB7XG4gICAgICAgICAgLy8gRXZlbnQgd2FzIGhhbmRsZWQgYnkga2V5Ym9hcmQgc2hvcnRjdXRzXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8gUmVnaXN0ZXIgZW5oYW5jZWQgY29tbWFuZHNcbiAgICAgIGNvbnN0IGVuaGFuY2VkQ29tbWFuZHMgPSBFbmhhbmNlZENvbW1hbmRzRmFjdG9yeS5jcmVhdGVFbmhhbmNlZENvbW1hbmRzKHRoaXMpO1xuICAgICAgZW5oYW5jZWRDb21tYW5kcy5mb3JFYWNoKGNvbW1hbmQgPT4ge1xuICAgICAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgICAgIGlkOiBjb21tYW5kLmlkLFxuICAgICAgICAgIG5hbWU6IGNvbW1hbmQubmFtZSxcbiAgICAgICAgICBjYWxsYmFjazogY29tbWFuZC5jYWxsYmFjayxcbiAgICAgICAgICBlZGl0b3JDYWxsYmFjazogY29tbWFuZC5lZGl0b3JDYWxsYmFjayxcbiAgICAgICAgICBjaGVja0NhbGxiYWNrOiBjb21tYW5kLmNoZWNrQ2FsbGJhY2tcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZGVidWdNb2RlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdLZXlib2FyZCBzaG9ydGN1dHMgYW5kIGVuaGFuY2VkIGNvbW1hbmRzIGluaXRpYWxpemVkJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBpbml0aWFsaXplIEVuaGFuY2VtZW50IE1hbmFnZXI6JywgZXJyb3IpO1xuICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZGVidWdNb2RlKSB7XG4gICAgICAgIG5ldyBOb3RpY2UoJ0VuaGFuY2VtZW50IGZlYXR1cmVzIGZhaWxlZCB0byBpbml0aWFsaXplIC0gY2hlY2sgY29uc29sZSBmb3IgZGV0YWlscycsIDUwMDApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGRpc2FibGVFbmhhbmNlbWVudE1hbmFnZXIoKSB7XG4gICAgaWYgKHRoaXMuZW5oYW5jZW1lbnRNYW5hZ2VyKSB7XG4gICAgICB0aGlzLmVuaGFuY2VtZW50TWFuYWdlci51bmxvYWQoKTtcbiAgICAgIHRoaXMuZW5oYW5jZW1lbnRNYW5hZ2VyID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBcbiAgICBpZiAodGhpcy5rZXlib2FyZEhhbmRsZXIpIHtcbiAgICAgIHRoaXMua2V5Ym9hcmRIYW5kbGVyID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnNldHRpbmdzLmRlYnVnTW9kZSkge1xuICAgICAgY29uc29sZS5sb2coJ0VuaGFuY2VtZW50IE1hbmFnZXIgZGlzYWJsZWQnKTtcbiAgICB9XG4gIH1cblxuICAvLyA9PT0gRU5EIEVOSEFOQ0VNRU5UIE1BTkFHRVIgSU5URUdSQVRJT04gPT09XG5cbiAgLy8gQXV0by1jb21wbGV0aW9uIGhhbmRsaW5nXG4gIHByaXZhdGUgaGFuZGxlS2V5VXAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAgICBpZiAoIXRoaXMuc2V0dGluZ3MuZW5hYmxlQXV0b0NvbXBsZXRlIHx8ICF0aGlzLnNldHRpbmdzLmVuYWJsZUNvcGlsb3QpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgaWYgKCF0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjbS1jb250ZW50JykpIHJldHVybjtcblxuICAgIC8vIE9ubHkgdHJpZ2dlciBvbiBzcGVjaWZpYyBrZXlzIGFuZCBjb25kaXRpb25zXG4gICAgaWYgKCF0aGlzLnNob3VsZFRyaWdnZXJBdXRvQ29tcGxldGUoZXZlbnQpKSByZXR1cm47XG5cbiAgICAvLyBEZWJvdW5jZSBhdXRvLWNvbXBsZXRpb24gcmVxdWVzdHMgd2l0aCBsb25nZXIgZGVsYXlcbiAgICBjbGVhclRpbWVvdXQoKHRoaXMgYXMgYW55KS5hdXRvQ29tcGxldGVUaW1lb3V0KTtcbiAgICAodGhpcyBhcyBhbnkpLmF1dG9Db21wbGV0ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMudHJpZ2dlckF1dG9Db21wbGV0aW9uKCk7XG4gICAgfSwgMzAwMCk7IC8vIEluY3JlYXNlZCB0byAzIHNlY29uZHNcbiAgfVxuXG4gIHByaXZhdGUgc2hvdWxkVHJpZ2dlckF1dG9Db21wbGV0ZShldmVudDogS2V5Ym9hcmRFdmVudCk6IGJvb2xlYW4ge1xuICAgIC8vIERvbid0IHRyaWdnZXIgb24gbmF2aWdhdGlvbiBvciBtb2RpZmllciBrZXlzXG4gICAgY29uc3Qgbm9uVHJpZ2dlcktleXMgPSBbJ0Fycm93VXAnLCAnQXJyb3dEb3duJywgJ0Fycm93TGVmdCcsICdBcnJvd1JpZ2h0JywgJ1RhYicsICdTaGlmdCcsICdDb250cm9sJywgJ0FsdCcsICdNZXRhJywgJ0VzY2FwZSddO1xuICAgIGlmIChub25UcmlnZ2VyS2V5cy5pbmRleE9mKGV2ZW50LmtleSkgIT09IC0xKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgYWN0aXZlVmlldyA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKE1hcmtkb3duVmlldyk7XG4gICAgaWYgKCFhY3RpdmVWaWV3KSByZXR1cm4gZmFsc2U7XG5cbiAgICBjb25zdCBlZGl0b3IgPSBhY3RpdmVWaWV3LmVkaXRvcjtcbiAgICBjb25zdCBjdXJzb3IgPSBlZGl0b3IuZ2V0Q3Vyc29yKCk7XG4gICAgY29uc3QgY3VycmVudExpbmUgPSBlZGl0b3IuZ2V0TGluZShjdXJzb3IubGluZSk7XG4gICAgXG4gICAgLy8gT25seSB0cmlnZ2VyIGF0IHRoZSBlbmQgb2YgYSBsaW5lXG4gICAgaWYgKGN1cnNvci5jaCAhPT0gY3VycmVudExpbmUubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgXG4gICAgLy8gQ2hlY2sgZm9yIHNlbnRlbmNlLWVuZGluZyB0cmlnZ2Vyc1xuICAgIGNvbnN0IHRyaWdnZXJDaGFycyA9IFsnLicsICchJywgJz8nLCAnOicsICdcXG4nXTtcbiAgICBjb25zdCBsYXN0Q2hhciA9IGN1cnJlbnRMaW5lLnNsaWNlKC0xKTtcbiAgICBcbiAgICAvLyBUcmlnZ2VyIGFmdGVyIHNlbnRlbmNlIGVuZGluZ3Mgd2l0aCBzcGFjZVxuICAgIGlmICh0cmlnZ2VyQ2hhcnMuaW5kZXhPZihsYXN0Q2hhcikgIT09IC0xICYmIGV2ZW50LmtleSA9PT0gJyAnKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgXG4gICAgLy8gVHJpZ2dlciBhZnRlciBFbnRlciBrZXkgKG5ldyBsaW5lKVxuICAgIGlmIChldmVudC5rZXkgPT09ICdFbnRlcicgJiYgY3VycmVudExpbmUudHJpbSgpLmxlbmd0aCA+IDEwKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyB0cmlnZ2VyQXV0b0NvbXBsZXRpb24oKSB7XG4gICAgY29uc3QgYWN0aXZlVmlldyA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKE1hcmtkb3duVmlldyk7XG4gICAgaWYgKCFhY3RpdmVWaWV3KSByZXR1cm47XG5cbiAgICBjb25zdCBlZGl0b3IgPSBhY3RpdmVWaWV3LmVkaXRvcjtcbiAgICBjb25zdCBjdXJzb3IgPSBlZGl0b3IuZ2V0Q3Vyc29yKCk7XG4gICAgY29uc3QgY3VycmVudExpbmUgPSBlZGl0b3IuZ2V0TGluZShjdXJzb3IubGluZSk7XG4gICAgY29uc3QgZnVsbFRleHQgPSBlZGl0b3IuZ2V0VmFsdWUoKTtcbiAgICBcbiAgICAvLyBNb3JlIHJlc3RyaWN0aXZlIGNvbmRpdGlvbnMgZm9yIGF1dG8tY29tcGxldGlvblxuICAgIGlmIChjdXJyZW50TGluZS50cmltKCkubGVuZ3RoIDwgMTAgfHwgY3Vyc29yLmNoICE9PSBjdXJyZW50TGluZS5sZW5ndGgpIHJldHVybjtcbiAgICBcbiAgICAvLyBQcmV2ZW50IDQyMiBlcnJvcnMgZnJvbSBlbXB0eSB0ZXh0XG4gICAgaWYgKCFmdWxsVGV4dCB8fCBmdWxsVGV4dC50cmltKCkubGVuZ3RoID09PSAwKSByZXR1cm47XG5cbiAgICAvLyBBZGQgY29vbGRvd24gdG8gcHJldmVudCB0b28gZnJlcXVlbnQgcmVxdWVzdHNcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgIGNvbnN0IGxhc3RSZXF1ZXN0ID0gKHRoaXMgYXMgYW55KS5sYXN0QXV0b0NvbXBsZXRlUmVxdWVzdCB8fCAwO1xuICAgIGlmIChub3cgLSBsYXN0UmVxdWVzdCA8IDEwMDAwKSByZXR1cm47IC8vIDEwIHNlY29uZCBjb29sZG93blxuICAgIFxuICAgICh0aGlzIGFzIGFueSkubGFzdEF1dG9Db21wbGV0ZVJlcXVlc3QgPSBub3c7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaUNsaWVudC5nZXRDb3BpbG90Q29tcGxldGlvbih7XG4gICAgICAgIHRleHQ6IGZ1bGxUZXh0LFxuICAgICAgICBjdXJzb3JfcG9zaXRpb246IGVkaXRvci5wb3NUb09mZnNldChjdXJzb3IpLFxuICAgICAgICBmaWxlX3R5cGU6ICdtYXJrZG93bidcbiAgICAgIH0pO1xuXG4gICAgICBpZiAocmVzcG9uc2Uuc3VjY2VzcyAmJiByZXNwb25zZS5kYXRhICYmIHJlc3BvbnNlLmRhdGEuc3VnZ2VzdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyBTaG93IHN1Z2dlc3Rpb25zIChmb3Igbm93IGp1c3Qgc2hvdyBmaXJzdCBzdWdnZXN0aW9uKVxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5kZWJ1Z01vZGUpIHtcbiAgICAgICAgICBuZXcgTm90aWNlKGBBdXRvLXN1Z2dlc3Rpb246ICR7cmVzcG9uc2UuZGF0YS5zdWdnZXN0aW9uc1swXX1gLCAzMDAwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyBTaWxlbnRseSBmYWlsIGZvciBhdXRvLWNvbXBsZXRpb25cbiAgICAgIGlmICh0aGlzLnNldHRpbmdzLmRlYnVnTW9kZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdBdXRvLWNvbXBsZXRpb24gZXJyb3I6JywgZXJyb3IpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlQ29waWxvdFN1Z2dlc3Rpb24oZGF0YTogQ29waWxvdFJlc3BvbnNlKSB7XG4gICAgLy8gSGFuZGxlIHJlYWwtdGltZSBjb3BpbG90IHN1Z2dlc3Rpb25zIGZyb20gV2ViU29ja2V0XG4gICAgaWYgKHRoaXMuc2V0dGluZ3MuZGVidWdNb2RlKSB7XG4gICAgICBuZXcgTm90aWNlKGBMaXZlIHN1Z2dlc3Rpb246ICR7ZGF0YS5jb21wbGV0aW9ufWAsIDIwMDApO1xuICAgIH1cbiAgfVxuXG4gIC8vIFNldHRpbmdzIG1hbmFnZW1lbnRcbiAgYXN5bmMgbG9hZFNldHRpbmdzKCkge1xuICAgIHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xuICB9XG5cbiAgYXN5bmMgc2F2ZVNldHRpbmdzKCkge1xuICAgIGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XG4gICAgXG4gICAgLy8gVXBkYXRlIEFQSSBjbGllbnQgaWYgVVJMIGNoYW5nZWRcbiAgICB0aGlzLmFwaUNsaWVudCA9IG5ldyBFdm9BZ2VudFhDbGllbnQodGhpcy5zZXR0aW5ncy5iYWNrZW5kVXJsLCB0aGlzLnNldHRpbmdzLmFwaUtleSk7XG4gICAgXG4gICAgLy8gUmVpbml0aWFsaXplIHZhdWx0IG1hbmFnZW1lbnQgaWYgc2V0dGluZ3MgY2hhbmdlZFxuICAgIGlmICh0aGlzLnNldHRpbmdzLnZhdWx0TWFuYWdlbWVudD8uZW5hYmxlVmF1bHRNYW5hZ2VtZW50KSB7XG4gICAgICB0aGlzLmluaXRpYWxpemVWYXVsdE1hbmFnZW1lbnQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kaXNhYmxlVmF1bHRNYW5hZ2VtZW50KCk7XG4gICAgfVxuICAgIFxuICAgIC8vIFJlaW5pdGlhbGl6ZSBtb2RlbCBzZWxlY3Rpb24gaWYgc2V0dGluZ3MgY2hhbmdlZFxuICAgIGlmICh0aGlzLnNldHRpbmdzLm1vZGVsU2VsZWN0aW9uPy5lbmFibGVkKSB7XG4gICAgICBhd2FpdCB0aGlzLmluaXRpYWxpemVNb2RlbFNlbGVjdGlvbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhd2FpdCB0aGlzLmRpc2Nvbm5lY3RNb2RlbFNlbGVjdGlvbigpO1xuICAgIH1cbiAgICBcbiAgICAvLyBSZWNvbm5lY3QgV2ViU29ja2V0IGlmIHNldHRpbmdzIGNoYW5nZWRcbiAgICBpZiAodGhpcy5zZXR0aW5ncy5lbmFibGVXZWJTb2NrZXQgJiYgIXRoaXMud2Vic29ja2V0Q29ubmVjdGVkKSB7XG4gICAgICB0aGlzLmNvbm5lY3RXZWJTb2NrZXQoKTtcbiAgICB9IGVsc2UgaWYgKCF0aGlzLnNldHRpbmdzLmVuYWJsZVdlYlNvY2tldCAmJiB0aGlzLndlYnNvY2tldENvbm5lY3RlZCkge1xuICAgICAgdGhpcy5kaXNjb25uZWN0V2ViU29ja2V0KCk7XG4gICAgfVxuICB9XG5cbiAgLy8gTW9kZWwgU2VsZWN0aW9uIE1hbmFnZW1lbnQgTWV0aG9kc1xuICBhc3luYyBpbml0aWFsaXplTW9kZWxTZWxlY3Rpb24oKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCF0aGlzLnNldHRpbmdzLm1vZGVsU2VsZWN0aW9uPy5lbmFibGVkKSB7XG4gICAgICBpZiAodGhpcy5zZXR0aW5ncy5kZWJ1Z01vZGUpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ01vZGVsIHNlbGVjdGlvbiBkaXNhYmxlZCBpbiBzZXR0aW5ncycpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAvLyBWYWxpZGF0ZSBlbnZpcm9ubWVudFxuICAgICAgY29uc3QgZW52ID0gRW52aXJvbm1lbnREZXRlY3Rvci5kZXRlY3QoKTtcbiAgICAgIGlmICghZW52Lmhhc0hUVFApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdIVFRQIHRyYW5zcG9ydCBub3QgYXZhaWxhYmxlJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIEluaXRpYWxpemUgc2VydmljZSB3aXRoIGVycm9yIGJvdW5kYXJ5XG4gICAgICB0aGlzLm1vZGVsU2VsZWN0aW9uU2VydmljZSA9IG5ldyBNb2RlbFNlbGVjdGlvblNlcnZpY2UoXG4gICAgICAgIHRoaXMuc2V0dGluZ3MuYmFja2VuZFVybCxcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5tb2RlbFNlbGVjdGlvbi5kZXZwaXBlUGF0aCxcbiAgICAgICAge1xuICAgICAgICAgIG1vbml0b3JpbmdfaW50ZXJ2YWw6IHRoaXMuc2V0dGluZ3MubW9kZWxTZWxlY3Rpb24ubW9uaXRvcmluZ0ludGVydmFsLFxuICAgICAgICAgIGZhbGxiYWNrX2VuYWJsZWQ6IHRoaXMuc2V0dGluZ3MubW9kZWxTZWxlY3Rpb24uZmFsbGJhY2tFbmFibGVkLFxuICAgICAgICAgIGNhY2hlX2R1cmF0aW9uOiB0aGlzLnNldHRpbmdzLm1vZGVsU2VsZWN0aW9uLmNhY2hlRHVyYXRpb24sXG4gICAgICAgICAgcmV0cnlfYXR0ZW1wdHM6IHRoaXMuc2V0dGluZ3MubW9kZWxTZWxlY3Rpb24ucmV0cnlBdHRlbXB0cyxcbiAgICAgICAgICB0aW1lb3V0OiB0aGlzLnNldHRpbmdzLm1vZGVsU2VsZWN0aW9uLnRpbWVvdXQsXG4gICAgICAgICAgZGVidWdfbW9kZTogdGhpcy5zZXR0aW5ncy5tb2RlbFNlbGVjdGlvbi5kZWJ1Z01vZGVcbiAgICAgICAgfVxuICAgICAgKTtcblxuICAgICAgYXdhaXQgdGhpcy5tb2RlbFNlbGVjdGlvblNlcnZpY2UudXBkYXRlUHJlZmVyZW5jZXMoe1xuICAgICAgICBwcmlvcml0eTogdGhpcy5zZXR0aW5ncy5tb2RlbFNlbGVjdGlvbi51c2VyUHJlZmVyZW5jZXMucHJpb3JpdHksXG4gICAgICAgIG1heF9jb3N0X3Blcl9yZXF1ZXN0OiB0aGlzLnNldHRpbmdzLm1vZGVsU2VsZWN0aW9uLnVzZXJQcmVmZXJlbmNlcy5tYXhDb3N0UGVyUmVxdWVzdCxcbiAgICAgICAgcHJlZmVycmVkX3Byb3ZpZGVyczogdGhpcy5zZXR0aW5ncy5tb2RlbFNlbGVjdGlvbi51c2VyUHJlZmVyZW5jZXMucHJlZmVycmVkUHJvdmlkZXJzLFxuICAgICAgICBmYWxsYmFja19lbmFibGVkOiB0aGlzLnNldHRpbmdzLm1vZGVsU2VsZWN0aW9uLmZhbGxiYWNrRW5hYmxlZCxcbiAgICAgICAgcXVhbGl0eV90aHJlc2hvbGQ6IHRoaXMuc2V0dGluZ3MubW9kZWxTZWxlY3Rpb24udXNlclByZWZlcmVuY2VzLnF1YWxpdHlUaHJlc2hvbGQsXG4gICAgICAgIHRpbWVvdXRfcHJlZmVyZW5jZTogdGhpcy5zZXR0aW5ncy5tb2RlbFNlbGVjdGlvbi50aW1lb3V0XG4gICAgICB9KTtcblxuICAgICAgYXdhaXQgdGhpcy5tb2RlbFNlbGVjdGlvblNlcnZpY2UuaW5pdGlhbGl6ZSgpO1xuXG4gICAgICBpZiAodGhpcy5zZXR0aW5ncy5kZWJ1Z01vZGUpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ01vZGVsU2VsZWN0aW9uU2VydmljZSBpbml0aWFsaXplZCBzdWNjZXNzZnVsbHknKTtcbiAgICAgIH1cblxuICAgICAgbmV3IE5vdGljZSgn8J+kliBTbWFydCBtb2RlbCBzZWxlY3Rpb24gZW5hYmxlZCcsIDMwMDApO1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBpbml0aWFsaXplIE1vZGVsU2VsZWN0aW9uU2VydmljZTonLCBlcnJvcik7XG4gICAgICBcbiAgICAgIC8vIFNob3cgdXNlci1mcmllbmRseSBlcnJvciBtZXNzYWdlXG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICBpZiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnbm90IGFjY2Vzc2libGUnKSB8fCBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdGYWlsZWQgdG8gZmV0Y2gnKSkge1xuICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmRlYnVnTW9kZSkge1xuICAgICAgICAgICAgbmV3IE5vdGljZSgn4pqg77iPIE1vZGVsIHNlbGVjdGlvbiBzZXJ2aWNlIHVuYXZhaWxhYmxlIC0gdXNpbmcgZmFsbGJhY2sgbW9kZScsIDQwMDApO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBEb24ndCBzaG93IGVycm9yIHRvIHVzZXIgaW4gcHJvZHVjdGlvbiAtIGp1c3QgbG9nIGl0XG4gICAgICAgIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcygndHJhbnNwb3J0IG5vdCBhdmFpbGFibGUnKSkge1xuICAgICAgICAgIG5ldyBOb3RpY2UoJ+KaoO+4jyBNb2RlbCBzZWxlY3Rpb24gbm90IHN1cHBvcnRlZCBpbiB0aGlzIGVudmlyb25tZW50JywgNTAwMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZGVidWdNb2RlKSB7XG4gICAgICAgICAgICBuZXcgTm90aWNlKCfimqDvuI8gTW9kZWwgc2VsZWN0aW9uIGluaXRpYWxpemF0aW9uIGZhaWxlZCcsIDMwMDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBTZXQgdXAgcmV0cnkgbWVjaGFuaXNtXG4gICAgICBpZiAodGhpcy5zZXR0aW5ncy5tb2RlbFNlbGVjdGlvbi5yZXRyeUF0dGVtcHRzID4gMCkge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLnJldHJ5TW9kZWxTZWxlY3Rpb25Jbml0KDEpO1xuICAgICAgICB9LCAxMDAwMCk7IC8vIFJldHJ5IGFmdGVyIDEwIHNlY29uZHNcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHJldHJ5TW9kZWxTZWxlY3Rpb25Jbml0KGF0dGVtcHQ6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmIChhdHRlbXB0ID4gKHRoaXMuc2V0dGluZ3MubW9kZWxTZWxlY3Rpb24/LnJldHJ5QXR0ZW1wdHMgfHwgMykpIHtcbiAgICAgIGlmICh0aGlzLnNldHRpbmdzLmRlYnVnTW9kZSkge1xuICAgICAgICBjb25zb2xlLmxvZygnTW9kZWwgc2VsZWN0aW9uIGluaXRpYWxpemF0aW9uIHJldHJ5IGxpbWl0IHJlYWNoZWQnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZGVidWdNb2RlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBSZXRyeWluZyBtb2RlbCBzZWxlY3Rpb24gaW5pdGlhbGl6YXRpb24gKGF0dGVtcHQgJHthdHRlbXB0fSlgKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgYXdhaXQgdGhpcy5pbml0aWFsaXplTW9kZWxTZWxlY3Rpb24oKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gRXhwb25lbnRpYWwgYmFja29mZiBmb3IgcmV0cmllc1xuICAgICAgY29uc3QgZGVsYXkgPSBNYXRoLm1pbigzMDAwMCwgNTAwMCAqIE1hdGgucG93KDIsIGF0dGVtcHQgLSAxKSk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5yZXRyeU1vZGVsU2VsZWN0aW9uSW5pdChhdHRlbXB0ICsgMSk7XG4gICAgICB9LCBkZWxheSk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgY2hlY2tTZXJ2aWNlU3RhdHVzKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IG5vdGljZSA9IG5ldyBOb3RpY2UoJ0NoZWNraW5nIFZhdWx0UGlsb3Qgc2VydmljZSBzdGF0dXMuLi4nLCAwKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgbGV0IHN0YXR1c1RleHQgPSAn8J+UjSBWYXVsdFBpbG90IFNlcnZpY2UgU3RhdHVzOlxcblxcbic7XG4gICAgICBcbiAgICAgIC8vIENoZWNrIG1haW4gYmFja2VuZCBjb25uZWN0aW9uXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpQ2xpZW50LmhlYWx0aENoZWNrKCk7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XG4gICAgICAgICAgc3RhdHVzVGV4dCArPSAn4pyFIE1haW4gQmFja2VuZDogQ29ubmVjdGVkXFxuJztcbiAgICAgICAgICBzdGF0dXNUZXh0ICs9IGAgICBTZXJ2ZXI6ICR7dGhpcy5zZXR0aW5ncy5iYWNrZW5kVXJsfVxcbmA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RhdHVzVGV4dCArPSAn4p2MIE1haW4gQmFja2VuZDogRmFpbGVkXFxuJztcbiAgICAgICAgICBzdGF0dXNUZXh0ICs9IGAgICBFcnJvcjogJHtyZXNwb25zZS5lcnJvcn1cXG5gO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBzdGF0dXNUZXh0ICs9ICfinYwgTWFpbiBCYWNrZW5kOiBDb25uZWN0aW9uIEVycm9yXFxuJztcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgV2ViU29ja2V0IGNvbm5lY3Rpb25cbiAgICAgIGlmICh0aGlzLmlzV2ViU29ja2V0Q29ubmVjdGVkKCkpIHtcbiAgICAgICAgc3RhdHVzVGV4dCArPSAn4pyFIFdlYlNvY2tldDogQ29ubmVjdGVkXFxuJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXR1c1RleHQgKz0gJ+KdjCBXZWJTb2NrZXQ6IERpc2Nvbm5lY3RlZFxcbic7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENoZWNrIG1vZGVsIHNlbGVjdGlvbiBzZXJ2aWNlXG4gICAgICBpZiAodGhpcy5zZXR0aW5ncy5tb2RlbFNlbGVjdGlvbj8uZW5hYmxlZCkge1xuICAgICAgICBpZiAodGhpcy5tb2RlbFNlbGVjdGlvblNlcnZpY2UgJiYgdGhpcy5tb2RlbFNlbGVjdGlvblNlcnZpY2UuaXNDb25uZWN0ZWQoKSkge1xuICAgICAgICAgIHN0YXR1c1RleHQgKz0gJ+KchSBNb2RlbCBTZWxlY3Rpb246IENvbm5lY3RlZFxcbic7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RhdHVzVGV4dCArPSAn4p2MIE1vZGVsIFNlbGVjdGlvbjogTm90IEF2YWlsYWJsZVxcbic7XG4gICAgICAgICAgaWYgKCF0aGlzLm1vZGVsU2VsZWN0aW9uU2VydmljZSkge1xuICAgICAgICAgICAgc3RhdHVzVGV4dCArPSAnICAgUmVhc29uOiBTZXJ2aWNlIG5vdCBpbml0aWFsaXplZFxcbic7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0YXR1c1RleHQgKz0gJyAgIFJlYXNvbjogU2VydmljZSBkaXNjb25uZWN0ZWRcXG4nO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RhdHVzVGV4dCArPSAn4pqg77iPIE1vZGVsIFNlbGVjdGlvbjogRGlzYWJsZWQgaW4gc2V0dGluZ3NcXG4nO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBDaGVjayB2YXVsdCBtYW5hZ2VtZW50XG4gICAgICBpZiAodGhpcy5zZXR0aW5ncy52YXVsdE1hbmFnZW1lbnQ/LmVuYWJsZVZhdWx0TWFuYWdlbWVudCkge1xuICAgICAgICBpZiAodGhpcy52YXVsdENsaWVudCkge1xuICAgICAgICAgIHN0YXR1c1RleHQgKz0gJ+KchSBWYXVsdCBNYW5hZ2VtZW50OiBFbmFibGVkXFxuJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdGF0dXNUZXh0ICs9ICfinYwgVmF1bHQgTWFuYWdlbWVudDogRmFpbGVkIHRvIGluaXRpYWxpemVcXG4nO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0dXNUZXh0ICs9ICfimqDvuI8gVmF1bHQgTWFuYWdlbWVudDogRGlzYWJsZWQgaW4gc2V0dGluZ3NcXG4nO1xuICAgICAgfVxuICAgICAgXG4gICAgICBub3RpY2UuaGlkZSgpO1xuICAgICAgbmV3IE5vdGljZShzdGF0dXNUZXh0LCAxNTAwMCk7XG4gICAgICBcbiAgICAgIGlmICh0aGlzLnNldHRpbmdzLmRlYnVnTW9kZSkge1xuICAgICAgICBjb25zb2xlLmxvZygnVmF1bHRQaWxvdCBTZXJ2aWNlIFN0YXR1czonLCBzdGF0dXNUZXh0KTtcbiAgICAgIH1cbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBub3RpY2UuaGlkZSgpO1xuICAgICAgbmV3IE5vdGljZShg4p2MIEZhaWxlZCB0byBjaGVjayBzZXJ2aWNlIHN0YXR1czogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gLCA1MDAwKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyByZXRyeU1vZGVsU2VsZWN0aW9uTWFudWFsKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICh0aGlzLm1vZGVsU2VsZWN0aW9uU2VydmljZSAmJiB0aGlzLm1vZGVsU2VsZWN0aW9uU2VydmljZS5pc0Nvbm5lY3RlZCgpKSB7XG4gICAgICBuZXcgTm90aWNlKCdNb2RlbCBzZWxlY3Rpb24gYWxyZWFkeSBjb25uZWN0ZWQnLCAzMDAwKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBub3RpY2UgPSBuZXcgTm90aWNlKCdSZXRyeWluZyBtb2RlbCBzZWxlY3Rpb24gaW5pdGlhbGl6YXRpb24uLi4nLCAwKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgYXdhaXQgdGhpcy5pbml0aWFsaXplTW9kZWxTZWxlY3Rpb24oKTtcbiAgICAgIG5vdGljZS5oaWRlKCk7XG4gICAgICBuZXcgTm90aWNlKCfinIUgTW9kZWwgc2VsZWN0aW9uIGNvbm5lY3RlZCBzdWNjZXNzZnVsbHknLCAzMDAwKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbm90aWNlLmhpZGUoKTtcbiAgICAgIG5ldyBOb3RpY2UoYOKdjCBNb2RlbCBzZWxlY3Rpb24gcmV0cnkgZmFpbGVkOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWAsIDUwMDApO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGRpc2Nvbm5lY3RNb2RlbFNlbGVjdGlvbigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAodGhpcy5tb2RlbFNlbGVjdGlvblNlcnZpY2UpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHRoaXMubW9kZWxTZWxlY3Rpb25TZXJ2aWNlLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgdGhpcy5tb2RlbFNlbGVjdGlvblNlcnZpY2UgPSB1bmRlZmluZWQ7XG4gICAgICAgIFxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5kZWJ1Z01vZGUpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnTW9kZWxTZWxlY3Rpb25TZXJ2aWNlIGRpc2Nvbm5lY3RlZCcpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkaXNjb25uZWN0aW5nIE1vZGVsU2VsZWN0aW9uU2VydmljZTonLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgdGVzdE1vZGVsU2VsZWN0aW9uKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghdGhpcy5tb2RlbFNlbGVjdGlvblNlcnZpY2UpIHtcbiAgICAgIG5ldyBOb3RpY2UoJ+KdjCBNb2RlbCBzZWxlY3Rpb24gc2VydmljZSBub3QgaW5pdGlhbGl6ZWQnLCA1MDAwKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBub3RpY2UgPSBuZXcgTm90aWNlKCfwn6SWIFRlc3RpbmcgbW9kZWwgc2VsZWN0aW9uLi4uJywgMCk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgdGFza3MgPSBbXG4gICAgICAgIHsgdHlwZTogJ3RleHQtZ2VuZXJhdGlvbicsIHF1YWxpdHk6ICdtZWRpdW0nIGFzIGNvbnN0IH0sXG4gICAgICAgIHsgdHlwZTogJ2NvZGUtZ2VuZXJhdGlvbicsIHF1YWxpdHk6ICdoaWdoJyBhcyBjb25zdCB9LFxuICAgICAgICB7IHR5cGU6ICdjaGF0JywgcXVhbGl0eTogJ2xvdycgYXMgY29uc3QgfSxcbiAgICAgICAgeyB0eXBlOiAnc3VtbWFyaXphdGlvbicsIHF1YWxpdHk6ICdtZWRpdW0nIGFzIGNvbnN0IH1cbiAgICAgIF07XG5cbiAgICAgIGxldCByZXN1bHRzID0gW107XG4gICAgICBmb3IgKGNvbnN0IHRhc2sgb2YgdGFza3MpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBzZWxlY3Rpb24gPSBhd2FpdCB0aGlzLm1vZGVsU2VsZWN0aW9uU2VydmljZS5zZWxlY3RGb3JUYXNrKHRhc2sudHlwZSwgdGFzay5xdWFsaXR5KTtcbiAgICAgICAgICByZXN1bHRzLnB1c2goYOKchSAke3Rhc2sudHlwZX06ICR7c2VsZWN0aW9uLnNlbGVjdGVkX21vZGVsLm5hbWV9ICgkJHtzZWxlY3Rpb24uZXN0aW1hdGVkX2Nvc3QudG9GaXhlZCg0KX0pYCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgcmVzdWx0cy5wdXNoKGDinYwgJHt0YXNrLnR5cGV9OiBGYWlsZWQgLSAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG5vdGljZS5oaWRlKCk7XG4gICAgICBjb25zdCByZXN1bHRUZXh0ID0gcmVzdWx0cy5qb2luKCdcXG4nKTtcbiAgICAgIG5ldyBOb3RpY2UoYE1vZGVsIFNlbGVjdGlvbiBUZXN0IFJlc3VsdHM6XFxuJHtyZXN1bHRUZXh0fWAsIDEwMDAwKTtcblxuICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZGVidWdNb2RlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdNb2RlbCBzZWxlY3Rpb24gdGVzdCByZXN1bHRzOicsIHJlc3VsdHMpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBub3RpY2UuaGlkZSgpO1xuICAgICAgbmV3IE5vdGljZShg4p2MIE1vZGVsIHNlbGVjdGlvbiB0ZXN0IGZhaWxlZDogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gLCA1MDAwKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBzaG93TW9kZWxIZWFsdGgoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCF0aGlzLm1vZGVsU2VsZWN0aW9uU2VydmljZSkge1xuICAgICAgbmV3IE5vdGljZSgn4p2MIE1vZGVsIHNlbGVjdGlvbiBzZXJ2aWNlIG5vdCBpbml0aWFsaXplZCcsIDUwMDApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG5vdGljZSA9IG5ldyBOb3RpY2UoJ/Cfj6UgQ2hlY2tpbmcgbW9kZWwgaGVhbHRoLi4uJywgMCk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgaGVhbHRoID0gYXdhaXQgdGhpcy5tb2RlbFNlbGVjdGlvblNlcnZpY2UuZ2V0TW9kZWxIZWFsdGgoKTtcbiAgICAgIFxuICAgICAgbm90aWNlLmhpZGUoKTtcblxuICAgICAgaWYgKGhlYWx0aC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgbmV3IE5vdGljZSgn4pqg77iPIE5vIG1vZGVsIGhlYWx0aCBpbmZvcm1hdGlvbiBhdmFpbGFibGUnLCA1MDAwKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBoZWFsdGhJbmZvID0gaGVhbHRoLm1hcChoID0+IHtcbiAgICAgICAgY29uc3Qgc3RhdHVzID0gaC5zdGF0dXMgPT09ICdoZWFsdGh5JyA/ICfinIUnIDogaC5zdGF0dXMgPT09ICdkZWdyYWRlZCcgPyAn4pqg77iPJyA6ICfinYwnO1xuICAgICAgICByZXR1cm4gYCR7c3RhdHVzfSAke2gubW9kZWxfaWR9OiAke2guc3RhdHVzfSAoJHtoLnJlc3BvbnNlX3RpbWV9bXMsICR7aC5hdmFpbGFiaWxpdHlfcGVyY2VudGFnZX0lKWA7XG4gICAgICB9KS5qb2luKCdcXG4nKTtcblxuICAgICAgbmV3IE5vdGljZShgTW9kZWwgSGVhbHRoIFN0YXR1czpcXG4ke2hlYWx0aEluZm99YCwgMTUwMDApO1xuXG4gICAgICBpZiAodGhpcy5zZXR0aW5ncy5kZWJ1Z01vZGUpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ01vZGVsIGhlYWx0aCBzdGF0dXM6JywgaGVhbHRoKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbm90aWNlLmhpZGUoKTtcbiAgICAgIG5ldyBOb3RpY2UoYOKdjCBGYWlsZWQgdG8gZ2V0IG1vZGVsIGhlYWx0aDogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gLCA1MDAwKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXRCZXN0TW9kZWxGb3JUYXNrKHRhc2tUeXBlOiBzdHJpbmcsIHF1YWxpdHk6ICdsb3cnIHwgJ21lZGl1bScgfCAnaGlnaCcgPSAnbWVkaXVtJykge1xuICAgIC8vIENoZWNrIGlmIG1vZGVsIHNlbGVjdGlvbiBzZXJ2aWNlIGlzIGF2YWlsYWJsZSBhbmQgY29ubmVjdGVkXG4gICAgaWYgKHRoaXMubW9kZWxTZWxlY3Rpb25TZXJ2aWNlICYmIHRoaXMubW9kZWxTZWxlY3Rpb25TZXJ2aWNlLmlzQ29ubmVjdGVkKCkpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IGF3YWl0IHRoaXMubW9kZWxTZWxlY3Rpb25TZXJ2aWNlLnNlbGVjdEZvclRhc2sodGFza1R5cGUsIHF1YWxpdHkpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZGVidWdNb2RlKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYFNlbGVjdGVkIG1vZGVsICR7c2VsZWN0aW9uLnNlbGVjdGVkX21vZGVsLm5hbWV9IGZvciAke3Rhc2tUeXBlfSB0YXNrYCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiBzZWxlY3Rpb247XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5kZWJ1Z01vZGUpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ01vZGVsIHNlbGVjdGlvbiBmYWlsZWQsIHVzaW5nIGRlZmF1bHQ6JywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBJZiBlbmFibGVkLCB0cnkgdG8gcmVpbml0aWFsaXplIHRoZSBzZXJ2aWNlXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLm1vZGVsU2VsZWN0aW9uPy5lbmFibGVkICYmICF0aGlzLm1vZGVsU2VsZWN0aW9uU2VydmljZS5pc0Nvbm5lY3RlZCgpKSB7XG4gICAgICAgICAgdGhpcy5yZXRyeU1vZGVsU2VsZWN0aW9uSW5pdCgxKS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAvLyBTaWxlbnRseSBmYWlsIHJldHJ5XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMuc2V0dGluZ3MubW9kZWxTZWxlY3Rpb24/LmVuYWJsZWQgJiYgIXRoaXMubW9kZWxTZWxlY3Rpb25TZXJ2aWNlKSB7XG4gICAgICAvLyBTZXJ2aWNlIG5vdCBpbml0aWFsaXplZCwgdHJ5IHRvIGluaXRpYWxpemUgaXRcbiAgICAgIGlmICh0aGlzLnNldHRpbmdzLmRlYnVnTW9kZSkge1xuICAgICAgICBjb25zb2xlLmxvZygnTW9kZWwgc2VsZWN0aW9uIHNlcnZpY2Ugbm90IGluaXRpYWxpemVkLCBhdHRlbXB0aW5nIGluaXRpYWxpemF0aW9uLi4uJyk7XG4gICAgICB9XG4gICAgICB0aGlzLmluaXRpYWxpemVNb2RlbFNlbGVjdGlvbigpLmNhdGNoKCgpID0+IHtcbiAgICAgICAgLy8gU2lsZW50bHkgZmFpbCBpbml0aWFsaXphdGlvblxuICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLy8gPT09IEVOSEFOQ0VEIFVJIFNUWUxFUyA9PT1cblxuICBwcml2YXRlIGxvYWRFbmhhbmNlZFVJU3R5bGVzKCkge1xuICAgIC8vIExvYWQgZW5oYW5jZWQgVUkgc3R5bGVzIGZvciBwcm9ncmVzcyBpbmRpY2F0b3JzIGFuZCBrZXlib2FyZCBzaG9ydGN1dHNcbiAgICBjb25zdCBzdHlsZUlkID0gJ3ZhdWx0cGlsb3QtZW5oYW5jZWQtdWktc3R5bGVzJztcbiAgICBcbiAgICAvLyBSZW1vdmUgZXhpc3Rpbmcgc3R5bGVzIGlmIHRoZXkgZXhpc3RcbiAgICBjb25zdCBleGlzdGluZ1N0eWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc3R5bGVJZCk7XG4gICAgaWYgKGV4aXN0aW5nU3R5bGUpIHtcbiAgICAgIGV4aXN0aW5nU3R5bGUucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIG5ldyBzdHlsZSBlbGVtZW50XG4gICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgIHN0eWxlLmlkID0gc3R5bGVJZDtcbiAgICBzdHlsZS50ZXh0Q29udGVudCA9IGBcbiAgICAgIC8qIFZhdWx0UGlsb3QgRW5oYW5jZWQgVUkgU3R5bGVzICovXG4gICAgICBAaW1wb3J0IHVybChcImFwcDovL29ic2lkaWFuLm1kL3ZhdWx0LW1hbmFnZW1lbnQvZW5oYW5jZWQtdWktc3R5bGVzLmNzc1wiKTtcbiAgICAgIFxuICAgICAgLyogRmFsbGJhY2sgc3R5bGVzIGluIGNhc2UgaW1wb3J0IGZhaWxzICovXG4gICAgICAudmF1bHRwaWxvdC1wcm9ncmVzcy1jb250YWluZXIge1xuICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICAgIHRvcDogMjBweDtcbiAgICAgICAgcmlnaHQ6IDIwcHg7XG4gICAgICAgIHotaW5kZXg6IDEwMDAwO1xuICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgICAgICAgbWF4LXdpZHRoOiA0MDBweDtcbiAgICAgICAgZm9udC1mYW1pbHk6IHZhcigtLWZvbnQtaW50ZXJmYWNlKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLnZhdWx0cGlsb3QtcHJvZ3Jlc3MtaXRlbSB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgICAgICBwYWRkaW5nOiAxMnB4IDE2cHg7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDhweDtcbiAgICAgICAgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDAsIDAsIDAsIDAuMTUpO1xuICAgICAgICBtaW4td2lkdGg6IDMwMHB4O1xuICAgICAgICBwb2ludGVyLWV2ZW50czogYXV0bztcbiAgICAgICAgYW5pbWF0aW9uOiBzbGlkZUluUmlnaHQgMC4zcyBlYXNlLW91dDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgQGtleWZyYW1lcyBzbGlkZUluUmlnaHQge1xuICAgICAgICBmcm9tIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDEwMCUpOyBvcGFjaXR5OiAwOyB9XG4gICAgICAgIHRvIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOyBvcGFjaXR5OiAxOyB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIEBrZXlmcmFtZXMgc2xpZGVPdXRSaWdodCB7XG4gICAgICAgIGZyb20geyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7IG9wYWNpdHk6IDE7IH1cbiAgICAgICAgdG8geyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMTAwJSk7IG9wYWNpdHk6IDA7IH1cbiAgICAgIH1cbiAgICBgO1xuICAgIFxuICAgIC8vIEFkZCB0byBkb2N1bWVudCBoZWFkXG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gICAgXG4gICAgaWYgKHRoaXMuc2V0dGluZ3MuZGVidWdNb2RlKSB7XG4gICAgICBjb25zb2xlLmxvZygnRW5oYW5jZWQgVUkgc3R5bGVzIGxvYWRlZCcpO1xuICAgIH1cbiAgfVxufVxuIiwiLyoqXG4gKiBDb21tYW5kIERlZmluaXRpb25zIGZvciBWYXVsdFBpbG90IFZhdWx0IE1hbmFnZW1lbnRcbiAqL1xuXG5pbXBvcnQgeyBDb21tYW5kLCBOb3RpY2UsIEVkaXRvciB9IGZyb20gJ29ic2lkaWFuJztcblxuLy8gRGVmaW5lIGEgdHlwZSBmb3IgcGx1Z2luIGluc3RhbmNlIHdpdGggdmF1bHQgbWFuYWdlbWVudCBtZXRob2RzXG5pbnRlcmZhY2UgVmF1bHRNYW5hZ2VtZW50UGx1Z2luIHtcbiAgdmF1bHRDbGllbnQ/OiBhbnk7XG4gIG9wZW5WYXVsdFN0cnVjdHVyZU1vZGFsPzogKCkgPT4gdm9pZDtcbiAgb3BlblNtYXJ0U2VhcmNoTW9kYWw/OiAocXVlcnk/OiBzdHJpbmcsIHR5cGU/OiBzdHJpbmcpID0+IHZvaWQ7XG4gIG9wZW5GaWxlT3BlcmF0aW9uc01vZGFsPzogKCkgPT4gdm9pZDtcbiAgb3BlblZhdWx0T3JnYW5pemVyTW9kYWw/OiAoKSA9PiB2b2lkO1xuICBvcGVuQmF0Y2hPcGVyYXRpb25zTW9kYWw/OiAoKSA9PiB2b2lkO1xufVxuXG4vKipcbiAqIFZhdWx0IE1hbmFnZW1lbnQgQ29tbWFuZHNcbiAqIFRoZXNlIHdpbGwgYmUgcmVnaXN0ZXJlZCBpbiB0aGUgbWFpbiBwbHVnaW4gZmlsZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVmF1bHRNYW5hZ2VtZW50Q29tbWFuZHMoKTogQ29tbWFuZFtdIHtcbiAgcmV0dXJuIFtcbiAgICB7XG4gICAgICBpZDogJ3ZhdWx0cGlsb3QtdmF1bHQtc3RydWN0dXJlJyxcbiAgICAgIG5hbWU6ICdWaWV3IFZhdWx0IFN0cnVjdHVyZScsXG4gICAgICBjYWxsYmFjazogZnVuY3Rpb24odGhpczogVmF1bHRNYW5hZ2VtZW50UGx1Z2luKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdPcGVuaW5nIHZhdWx0IHN0cnVjdHVyZSBtb2RhbCcpO1xuICAgICAgICBpZiAodGhpcy5vcGVuVmF1bHRTdHJ1Y3R1cmVNb2RhbCkge1xuICAgICAgICAgIHRoaXMub3BlblZhdWx0U3RydWN0dXJlTW9kYWwoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXcgTm90aWNlKCdWYXVsdCBzdHJ1Y3R1cmUgZmVhdHVyZSBub3QgYXZhaWxhYmxlJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiAndmF1bHRwaWxvdC1zbWFydC1zZWFyY2gnLFxuICAgICAgbmFtZTogJ1NtYXJ0IFZhdWx0IFNlYXJjaCcsXG4gICAgICBjYWxsYmFjazogZnVuY3Rpb24odGhpczogVmF1bHRNYW5hZ2VtZW50UGx1Z2luKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdPcGVuaW5nIHNtYXJ0IHNlYXJjaCBtb2RhbCcpO1xuICAgICAgICBpZiAodGhpcy5vcGVuU21hcnRTZWFyY2hNb2RhbCkge1xuICAgICAgICAgIHRoaXMub3BlblNtYXJ0U2VhcmNoTW9kYWwoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXcgTm90aWNlKCdTbWFydCBzZWFyY2ggZmVhdHVyZSBub3QgYXZhaWxhYmxlJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiAndmF1bHRwaWxvdC1maWxlLW9wZXJhdGlvbnMnLFxuICAgICAgbmFtZTogJ0ZpbGUgT3BlcmF0aW9ucyBNYW5hZ2VyJyxcbiAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbih0aGlzOiBWYXVsdE1hbmFnZW1lbnRQbHVnaW4pIHtcbiAgICAgICAgY29uc29sZS5sb2coJ09wZW5pbmcgZmlsZSBvcGVyYXRpb25zIG1vZGFsJyk7XG4gICAgICAgIGlmICh0aGlzLm9wZW5GaWxlT3BlcmF0aW9uc01vZGFsKSB7XG4gICAgICAgICAgdGhpcy5vcGVuRmlsZU9wZXJhdGlvbnNNb2RhbCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5ldyBOb3RpY2UoJ0ZpbGUgb3BlcmF0aW9ucyBmZWF0dXJlIG5vdCBhdmFpbGFibGUnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6ICd2YXVsdHBpbG90LW9yZ2FuaXplLXZhdWx0JyxcbiAgICAgIG5hbWU6ICdBSSBWYXVsdCBPcmdhbml6YXRpb24nLFxuICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKHRoaXM6IFZhdWx0TWFuYWdlbWVudFBsdWdpbikge1xuICAgICAgICBjb25zb2xlLmxvZygnT3BlbmluZyB2YXVsdCBvcmdhbml6ZXIgbW9kYWwnKTtcbiAgICAgICAgaWYgKHRoaXMub3BlblZhdWx0T3JnYW5pemVyTW9kYWwpIHtcbiAgICAgICAgICB0aGlzLm9wZW5WYXVsdE9yZ2FuaXplck1vZGFsKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3IE5vdGljZSgnVmF1bHQgb3JnYW5pemVyIGZlYXR1cmUgbm90IGF2YWlsYWJsZScpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogJ3ZhdWx0cGlsb3QtYmF0Y2gtb3BlcmF0aW9ucycsXG4gICAgICBuYW1lOiAnQmF0Y2ggRmlsZSBPcGVyYXRpb25zJyxcbiAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbih0aGlzOiBWYXVsdE1hbmFnZW1lbnRQbHVnaW4pIHtcbiAgICAgICAgY29uc29sZS5sb2coJ09wZW5pbmcgYmF0Y2ggb3BlcmF0aW9ucyBtb2RhbCcpO1xuICAgICAgICBpZiAodGhpcy5vcGVuQmF0Y2hPcGVyYXRpb25zTW9kYWwpIHtcbiAgICAgICAgICB0aGlzLm9wZW5CYXRjaE9wZXJhdGlvbnNNb2RhbCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5ldyBOb3RpY2UoJ0JhdGNoIG9wZXJhdGlvbnMgZmVhdHVyZSBub3QgYXZhaWxhYmxlJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiAndmF1bHRwaWxvdC1xdWljay1zZWFyY2gtc2VsZWN0aW9uJyxcbiAgICAgIG5hbWU6ICdRdWljayBTZWFyY2ggU2VsZWN0ZWQgVGV4dCcsXG4gICAgICBlZGl0b3JDYWxsYmFjazogZnVuY3Rpb24odGhpczogVmF1bHRNYW5hZ2VtZW50UGx1Z2luLCBlZGl0b3I6IEVkaXRvcikge1xuICAgICAgICBjb25zdCBzZWxlY3Rpb24gPSBlZGl0b3IuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgIGlmIChzZWxlY3Rpb24udHJpbSgpKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1F1aWNrIHNlYXJjaCBmb3I6Jywgc2VsZWN0aW9uLnRyaW0oKSk7XG4gICAgICAgICAgaWYgKHRoaXMub3BlblNtYXJ0U2VhcmNoTW9kYWwpIHtcbiAgICAgICAgICAgIHRoaXMub3BlblNtYXJ0U2VhcmNoTW9kYWwoc2VsZWN0aW9uLnRyaW0oKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5ldyBOb3RpY2UoJ1NtYXJ0IHNlYXJjaCBmZWF0dXJlIG5vdCBhdmFpbGFibGUnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3IE5vdGljZSgnUGxlYXNlIHNlbGVjdCB0ZXh0IHRvIHNlYXJjaCBmb3InKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6ICd2YXVsdHBpbG90LXZhdWx0LWhlYWx0aC1jaGVjaycsXG4gICAgICBuYW1lOiAnVmF1bHQgSGVhbHRoIENoZWNrJyxcbiAgICAgIGNhbGxiYWNrOiBhc3luYyBmdW5jdGlvbih0aGlzOiBWYXVsdE1hbmFnZW1lbnRQbHVnaW4pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoIXRoaXMudmF1bHRDbGllbnQpIHtcbiAgICAgICAgICAgIG5ldyBOb3RpY2UoJ1ZhdWx0IG1hbmFnZW1lbnQgbm90IGluaXRpYWxpemVkJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIG5ldyBOb3RpY2UoJ1J1bm5pbmcgdmF1bHQgaGVhbHRoIGNoZWNrLi4uJyk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gVGVzdCBiYXNpYyBmdW5jdGlvbmFsaXR5XG4gICAgICAgICAgY29uc3QgY29ubmVjdGlvblRlc3QgPSBhd2FpdCB0aGlzLnZhdWx0Q2xpZW50LnRlc3RDb25uZWN0aW9uKCk7XG4gICAgICAgICAgaWYgKCFjb25uZWN0aW9uVGVzdC5zdWNjZXNzKSB7XG4gICAgICAgICAgICBuZXcgTm90aWNlKGBIZWFsdGggY2hlY2sgZmFpbGVkOiAke2Nvbm5lY3Rpb25UZXN0Lm1lc3NhZ2V9YCwgNTAwMCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIEdldCBiYXNpYyBzdHJ1Y3R1cmUgdG8gdGVzdCBmdW5jdGlvbmFsaXR5XG4gICAgICAgICAgY29uc3Qgc3RydWN0dXJlID0gYXdhaXQgdGhpcy52YXVsdENsaWVudC5nZXRWYXVsdFN0cnVjdHVyZSh7IFxuICAgICAgICAgICAgaW5jbHVkZV9jb250ZW50OiBmYWxzZSwgXG4gICAgICAgICAgICBtYXhfZGVwdGg6IDEgXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gVGVzdCBzZWFyY2ggZnVuY3Rpb25hbGl0eVxuICAgICAgICAgIGNvbnN0IHNlYXJjaFRlc3QgPSBhd2FpdCB0aGlzLnZhdWx0Q2xpZW50LnNlYXJjaFZhdWx0KHsgXG4gICAgICAgICAgICBxdWVyeTogJ3Rlc3QnLCBcbiAgICAgICAgICAgIG1heF9yZXN1bHRzOiAxIFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIG5ldyBOb3RpY2UoYOKchSBWYXVsdCBIZWFsdGggQ2hlY2sgUGFzc2VkXG7wn5OBICR7c3RydWN0dXJlLnRvdGFsX2ZpbGVzfSBmaWxlcywgJHtzdHJ1Y3R1cmUudG90YWxfZm9sZGVyc30gZm9sZGVyc1xu8J+UjSBTZWFyY2g6ICR7c2VhcmNoVGVzdC5yZXN1bHRzLmxlbmd0aH0gcmVzdWx0c1xu8J+SviBTaXplOiAkeyhzdHJ1Y3R1cmUudG90YWxfc2l6ZSAvIDEwMjQgLyAxMDI0KS50b0ZpeGVkKDIpfSBNQmAsIDgwMDApO1xuICAgICAgICAgIFxuICAgICAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignVmF1bHQgaGVhbHRoIGNoZWNrIGZhaWxlZDonLCBlcnJvcik7XG4gICAgICAgICAgbmV3IE5vdGljZShg4p2MIEhlYWx0aCBjaGVjayBmYWlsZWQ6ICR7ZXJyb3IubWVzc2FnZX1gLCA1MDAwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6ICd2YXVsdHBpbG90LXZhdWx0LWJhY2t1cCcsXG4gICAgICBuYW1lOiAnQ3JlYXRlIFZhdWx0IEJhY2t1cCcsXG4gICAgICBjYWxsYmFjazogYXN5bmMgZnVuY3Rpb24odGhpczogVmF1bHRNYW5hZ2VtZW50UGx1Z2luKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKCF0aGlzLnZhdWx0Q2xpZW50KSB7XG4gICAgICAgICAgICBuZXcgTm90aWNlKCdWYXVsdCBtYW5hZ2VtZW50IG5vdCBpbml0aWFsaXplZCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBuZXcgTm90aWNlKCdDcmVhdGluZyB2YXVsdCBiYWNrdXAuLi4nKTtcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCBiYWNrdXAgPSBhd2FpdCB0aGlzLnZhdWx0Q2xpZW50LmJhY2t1cFZhdWx0KHtcbiAgICAgICAgICAgIGluY2x1ZGVfc2V0dGluZ3M6IHRydWUsXG4gICAgICAgICAgICBjb21wcmVzc2lvbjogdHJ1ZSxcbiAgICAgICAgICAgIGJhY2t1cF9uYW1lOiBgdmF1bHRwaWxvdC1iYWNrdXAtJHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXX1gXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgbmV3IE5vdGljZShg4pyFIEJhY2t1cCBjcmVhdGVkIHN1Y2Nlc3NmdWxseVxu8J+TpiAke2JhY2t1cC5maWxlc19iYWNrZWRfdXB9IGZpbGVzXG7wn5K+IFNpemU6ICR7KGJhY2t1cC5iYWNrdXBfc2l6ZSAvIDEwMjQgLyAxMDI0KS50b0ZpeGVkKDIpfSBNQlxu8J+TgSBMb2NhdGlvbjogJHtiYWNrdXAuYmFja3VwX3BhdGh9YCwgODAwMCk7XG4gICAgICAgICAgXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdCYWNrdXAgZmFpbGVkOicsIGVycm9yKTtcbiAgICAgICAgICBuZXcgTm90aWNlKGDinYwgQmFja3VwIGZhaWxlZDogJHtlcnJvci5tZXNzYWdlfWAsIDUwMDApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogJ3ZhdWx0cGlsb3Qtc2VhcmNoLWNvbnRlbnQnLFxuICAgICAgbmFtZTogJ1NlYXJjaCBDb250ZW50JyxcbiAgICAgIGVkaXRvckNhbGxiYWNrOiBmdW5jdGlvbih0aGlzOiBWYXVsdE1hbmFnZW1lbnRQbHVnaW4sIGVkaXRvcjogRWRpdG9yKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IGVkaXRvci5nZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSBzZWxlY3Rpb24udHJpbSgpIHx8ICdFbnRlciBzZWFyY2ggcXVlcnknO1xuICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMub3BlblNtYXJ0U2VhcmNoTW9kYWwpIHtcbiAgICAgICAgICB0aGlzLm9wZW5TbWFydFNlYXJjaE1vZGFsKHF1ZXJ5LCAnY29udGVudCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5ldyBOb3RpY2UoJ1NtYXJ0IHNlYXJjaCBmZWF0dXJlIG5vdCBhdmFpbGFibGUnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6ICd2YXVsdHBpbG90LXNlYXJjaC1maWxlbmFtZXMnLFxuICAgICAgbmFtZTogJ1NlYXJjaCBGaWxlbmFtZXMnLFxuICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKHRoaXM6IFZhdWx0TWFuYWdlbWVudFBsdWdpbikge1xuICAgICAgICBpZiAodGhpcy5vcGVuU21hcnRTZWFyY2hNb2RhbCkge1xuICAgICAgICAgIHRoaXMub3BlblNtYXJ0U2VhcmNoTW9kYWwoJycsICdmaWxlbmFtZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5ldyBOb3RpY2UoJ1NtYXJ0IHNlYXJjaCBmZWF0dXJlIG5vdCBhdmFpbGFibGUnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6ICd2YXVsdHBpbG90LXJlY2VudC1maWxlcycsXG4gICAgICBuYW1lOiAnVmlldyBSZWNlbnQgRmlsZXMnLFxuICAgICAgY2FsbGJhY2s6IGFzeW5jIGZ1bmN0aW9uKHRoaXM6IFZhdWx0TWFuYWdlbWVudFBsdWdpbikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmICghdGhpcy52YXVsdENsaWVudCkge1xuICAgICAgICAgICAgbmV3IE5vdGljZSgnVmF1bHQgbWFuYWdlbWVudCBub3QgaW5pdGlhbGl6ZWQnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3Qgc3RydWN0dXJlID0gYXdhaXQgdGhpcy52YXVsdENsaWVudC5nZXRWYXVsdFN0cnVjdHVyZSh7IFxuICAgICAgICAgICAgaW5jbHVkZV9jb250ZW50OiBmYWxzZSBcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoc3RydWN0dXJlLnJlY2VudF9maWxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIG5ldyBOb3RpY2UoJ05vIHJlY2VudCBmaWxlcyBmb3VuZCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCByZWNlbnRMaXN0ID0gc3RydWN0dXJlLnJlY2VudF9maWxlc1xuICAgICAgICAgICAgLnNsaWNlKDAsIDEwKVxuICAgICAgICAgICAgLm1hcCgoZmlsZTogYW55KSA9PiBg4oCiICR7ZmlsZS5uYW1lfSAoJHtmaWxlLm1vZGlmaWVkfSlgKVxuICAgICAgICAgICAgLmpvaW4oJ1xcbicpO1xuICAgICAgICAgIFxuICAgICAgICAgIG5ldyBOb3RpY2UoYPCfk50gUmVjZW50IEZpbGVzOlxcbiR7cmVjZW50TGlzdH1gLCAxMDAwMCk7XG4gICAgICAgICAgXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZ2V0IHJlY2VudCBmaWxlczonLCBlcnJvcik7XG4gICAgICAgICAgbmV3IE5vdGljZShg4p2MIEZhaWxlZCB0byBnZXQgcmVjZW50IGZpbGVzOiAke2Vycm9yLm1lc3NhZ2V9YCwgNTAwMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIF07XG59XG5cbi8qKlxuICogSG90a2V5IGRlZmluaXRpb25zIGZvciB2YXVsdCBtYW5hZ2VtZW50IGNvbW1hbmRzXG4gKi9cbmV4cG9ydCBjb25zdCBWQVVMVF9NQU5BR0VNRU5UX0hPVEtFWVM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICd2YXVsdHBpbG90LXZhdWx0LXN0cnVjdHVyZSc6ICdDdHJsK1NoaWZ0K1YnLFxuICAndmF1bHRwaWxvdC1zbWFydC1zZWFyY2gnOiAnQ3RybCtTaGlmdCtGJyxcbiAgJ3ZhdWx0cGlsb3QtcXVpY2stc2VhcmNoLXNlbGVjdGlvbic6ICdDdHJsK1NoaWZ0K1MnLFxuICAndmF1bHRwaWxvdC1maWxlLW9wZXJhdGlvbnMnOiAnQ3RybCtTaGlmdCtPJyxcbiAgJ3ZhdWx0cGlsb3Qtb3JnYW5pemUtdmF1bHQnOiAnQ3RybCtTaGlmdCtHJyxcbiAgJ3ZhdWx0cGlsb3QtdmF1bHQtaGVhbHRoLWNoZWNrJzogJ0N0cmwrU2hpZnQrSCdcbn07XG5cbi8qKlxuICogUmliYm9uIGljb24gZGVmaW5pdGlvbnMgZm9yIGNvbW1vbmx5IHVzZWQgY29tbWFuZHNcbiAqL1xuZXhwb3J0IGNvbnN0IFZBVUxUX01BTkFHRU1FTlRfUklCQk9OX0lDT05TID0gW1xuICB7XG4gICAgaWNvbjogJ2ZvbGRlci10cmVlJyxcbiAgICB0aXRsZTogJ1ZhdWx0IFN0cnVjdHVyZScsXG4gICAgY29tbWFuZElkOiAndmF1bHRwaWxvdC12YXVsdC1zdHJ1Y3R1cmUnXG4gIH0sXG4gIHtcbiAgICBpY29uOiAnc2VhcmNoJyxcbiAgICB0aXRsZTogJ1NtYXJ0IFNlYXJjaCcsXG4gICAgY29tbWFuZElkOiAndmF1bHRwaWxvdC1zbWFydC1zZWFyY2gnXG4gIH0sXG4gIHtcbiAgICBpY29uOiAnZm9sZGVyLXBsdXMnLFxuICAgIHRpdGxlOiAnRmlsZSBPcGVyYXRpb25zJyxcbiAgICBjb21tYW5kSWQ6ICd2YXVsdHBpbG90LWZpbGUtb3BlcmF0aW9ucydcbiAgfVxuXTtcblxuLyoqXG4gKiBDb21tYW5kIG1lbnUgaXRlbXMgZm9yIGNvbnRleHQgbWVudXNcbiAqL1xuZXhwb3J0IGNvbnN0IFZBVUxUX01BTkFHRU1FTlRfTUVOVV9JVEVNUyA9IFtcbiAge1xuICAgIHRpdGxlOiAnQW5hbHl6ZSBTdHJ1Y3R1cmUnLFxuICAgIGNvbW1hbmRJZDogJ3ZhdWx0cGlsb3QtdmF1bHQtc3RydWN0dXJlJyxcbiAgICBzZWN0aW9uOiAndmF1bHQtYW5hbHlzaXMnXG4gIH0sXG4gIHtcbiAgICB0aXRsZTogJ1NtYXJ0IFNlYXJjaCcsXG4gICAgY29tbWFuZElkOiAndmF1bHRwaWxvdC1zbWFydC1zZWFyY2gnLFxuICAgIHNlY3Rpb246ICd2YXVsdC1zZWFyY2gnXG4gIH0sXG4gIHtcbiAgICB0aXRsZTogJ0ZpbGUgT3BlcmF0aW9ucycsXG4gICAgY29tbWFuZElkOiAndmF1bHRwaWxvdC1maWxlLW9wZXJhdGlvbnMnLFxuICAgIHNlY3Rpb246ICd2YXVsdC1vcGVyYXRpb25zJ1xuICB9LFxuICB7XG4gICAgdGl0bGU6ICdPcmdhbml6ZSBWYXVsdCcsXG4gICAgY29tbWFuZElkOiAndmF1bHRwaWxvdC1vcmdhbml6ZS12YXVsdCcsXG4gICAgc2VjdGlvbjogJ3ZhdWx0LW9yZ2FuaXphdGlvbidcbiAgfSxcbiAge1xuICAgIHRpdGxlOiAnSGVhbHRoIENoZWNrJyxcbiAgICBjb21tYW5kSWQ6ICd2YXVsdHBpbG90LXZhdWx0LWhlYWx0aC1jaGVjaycsXG4gICAgc2VjdGlvbjogJ3ZhdWx0LW1haW50ZW5hbmNlJ1xuICB9LFxuICB7XG4gICAgdGl0bGU6ICdDcmVhdGUgQmFja3VwJyxcbiAgICBjb21tYW5kSWQ6ICd2YXVsdHBpbG90LXZhdWx0LWJhY2t1cCcsXG4gICAgc2VjdGlvbjogJ3ZhdWx0LW1haW50ZW5hbmNlJ1xuICB9XG5dO1xuXG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbiB0byByZWdpc3RlciBhbGwgdmF1bHQgbWFuYWdlbWVudCBjb21tYW5kc1xuICovXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJWYXVsdE1hbmFnZW1lbnRDb21tYW5kcyhwbHVnaW46IGFueSkge1xuICBjb25zdCBjb21tYW5kcyA9IGNyZWF0ZVZhdWx0TWFuYWdlbWVudENvbW1hbmRzKCk7XG4gIGNvbW1hbmRzLmZvckVhY2goKGNvbW1hbmQ6IENvbW1hbmQpID0+IHtcbiAgICBwbHVnaW4uYWRkQ29tbWFuZCh7XG4gICAgICAuLi5jb21tYW5kLFxuICAgICAgY2FsbGJhY2s6IGNvbW1hbmQuY2FsbGJhY2s/LmJpbmQocGx1Z2luKSxcbiAgICAgIGVkaXRvckNhbGxiYWNrOiBjb21tYW5kLmVkaXRvckNhbGxiYWNrPy5iaW5kKHBsdWdpbilcbiAgICB9KTtcbiAgfSk7XG4gIFxuICAvLyBBZGQgaG90a2V5cyBpZiBkZWZpbmVkXG4gIE9iamVjdC5lbnRyaWVzKFZBVUxUX01BTkFHRU1FTlRfSE9US0VZUykuZm9yRWFjaCgoW2NvbW1hbmRJZCwgaG90a2V5XSkgPT4ge1xuICAgIGNvbnN0IGNvbW1hbmQgPSBwbHVnaW4uY29tbWFuZHM/Lltjb21tYW5kSWRdO1xuICAgIGlmIChjb21tYW5kKSB7XG4gICAgICBjb21tYW5kLmhvdGtleXMgPSBbeyBtb2RpZmllcnM6IFtdLCBrZXk6IGhvdGtleSB9XTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbiB0byBhZGQgdmF1bHQgbWFuYWdlbWVudCByaWJib24gaWNvbnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZFZhdWx0TWFuYWdlbWVudFJpYmJvbkljb25zKHBsdWdpbjogYW55KSB7XG4gIFZBVUxUX01BTkFHRU1FTlRfUklCQk9OX0lDT05TLmZvckVhY2goKHsgaWNvbiwgdGl0bGUsIGNvbW1hbmRJZCB9KSA9PiB7XG4gICAgY29uc3QgcmliYm9uSWNvbiA9IHBsdWdpbi5hZGRSaWJib25JY29uKGljb24sIHRpdGxlLCAoKSA9PiB7XG4gICAgICBwbHVnaW4uYXBwLmNvbW1hbmRzLmV4ZWN1dGVDb21tYW5kQnlJZChjb21tYW5kSWQpO1xuICAgIH0pO1xuICAgIHJpYmJvbkljb24uYWRkQ2xhc3MoJ3ZhdWx0cGlsb3QtdmF1bHQtbWFuYWdlbWVudC1yaWJib24nKTtcbiAgfSk7XG59XG4iXSwibmFtZXMiOlsiREVGQVVMVF9WQVVMVF9NQU5BR0VNRU5UX1NFVFRJTkdTIiwiZW5hYmxlVmF1bHRNYW5hZ2VtZW50IiwiYXV0b1N5bmNWYXVsdFN0cnVjdHVyZSIsInNlYXJjaFJlc3VsdHNMaW1pdCIsImVuYWJsZVNtYXJ0U2VhcmNoIiwiYmF0Y2hPcGVyYXRpb25UaW1lb3V0Iiwic2hvd1ZhdWx0U3RhdHMiLCJtYXhTZWFyY2hSZXN1bHRzIiwiZGVmYXVsdFNlYXJjaFR5cGUiLCJlbmFibGVGaWxlT3BlcmF0aW9ucyIsImNvbmZpcm1EZXN0cnVjdGl2ZU9wZXJhdGlvbnMiLCJhdXRvQmFja3VwQmVmb3JlT3BlcmF0aW9ucyIsIkRFRkFVTFRfU0VUVElOR1MiLCJiYWNrZW5kVXJsIiwiYXBpS2V5IiwiZW5hYmxlV2ViU29ja2V0IiwiZW5hYmxlQ29waWxvdCIsImVuYWJsZUF1dG9Db21wbGV0ZSIsImRlZmF1bHRBZ2VudCIsImRlZmF1bHRNb2RlIiwiY2hhdEhpc3RvcnlMaW1pdCIsImRlYnVnTW9kZSIsInNob3dJbnRlbnREZWJ1ZyIsInZhdWx0TWFuYWdlbWVudCIsIm1vZGVsU2VsZWN0aW9uIiwiZW5hYmxlZCIsImRldnBpcGVQYXRoIiwibW9uaXRvcmluZ0ludGVydmFsIiwiZmFsbGJhY2tFbmFibGVkIiwiY2FjaGVEdXJhdGlvbiIsInJldHJ5QXR0ZW1wdHMiLCJ0aW1lb3V0IiwidXNlclByZWZlcmVuY2VzIiwicHJpb3JpdHkiLCJtYXhDb3N0UGVyUmVxdWVzdCIsInByZWZlcnJlZFByb3ZpZGVycyIsInF1YWxpdHlUaHJlc2hvbGQiLCJWYXVsdFBpbG90U2V0dGluZ1RhYiIsIlBsdWdpblNldHRpbmdUYWIiLCJjb25zdHJ1Y3RvciIsImFwcCIsInBsdWdpbiIsInN1cGVyIiwidGhpcyIsImRpc3BsYXkiLCJjb250YWluZXJFbCIsImVtcHR5IiwiY3JlYXRlRWwiLCJ0ZXh0IiwiU2V0dGluZyIsInNldE5hbWUiLCJzZXREZXNjIiwiYWRkVGV4dCIsInNldFBsYWNlaG9sZGVyIiwic2V0VmFsdWUiLCJzZXR0aW5ncyIsIm9uQ2hhbmdlIiwidmFsdWUiLCJfX2F3YWl0ZXIiLCJzYXZlU2V0dGluZ3MiLCJhZGRCdXR0b24iLCJidXR0b24iLCJzZXRCdXR0b25UZXh0Iiwib25DbGljayIsInRlc3RDb25uZWN0aW9uIiwiYWRkVG9nZ2xlIiwidG9nZ2xlIiwiY29ubmVjdFdlYlNvY2tldCIsImRpc2Nvbm5lY3RXZWJTb2NrZXQiLCJhZGREcm9wZG93biIsImRyb3Bkb3duIiwiYWRkT3B0aW9uIiwiYWRkU2xpZGVyIiwic2xpZGVyIiwic2V0TGltaXRzIiwic2V0RHluYW1pY1Rvb2x0aXAiLCJfYiIsIl9hIiwiT2JqZWN0IiwiYXNzaWduIiwiaW5pdGlhbGl6ZVZhdWx0TWFuYWdlbWVudCIsImRpc2FibGVWYXVsdE1hbmFnZW1lbnQiLCJTdHJpbmciLCJwYXJzZUludCIsInNldEN0YSIsInZhdWx0Q2xpZW50Iiwic2V0VGltZW91dCIsInNldERpc2FibGVkIiwic3VjY2VzcyIsImVycm9yIiwic2V0V2FybmluZyIsInNldHRpbmdzVGFiIiwic2V0dGluZyIsImFjdGl2ZVRhYiIsImFkZFZhdWx0TWFuYWdlbWVudFNldHRpbmdzIiwiaW5pdGlhbGl6ZU1vZGVsU2VsZWN0aW9uIiwiZGlzY29ubmVjdE1vZGVsU2VsZWN0aW9uIiwiY2xzIiwiaW5uZXJIVE1MIiwibm90aWNlIiwiTm90aWNlIiwicmVzcG9uc2UiLCJhcGlDbGllbnQiLCJoZWFsdGhDaGVjayIsImluY2x1ZGVzIiwiY29uc29sZSIsIndhcm4iLCJzaW1wbGVSZXNwb25zZSIsInNpbXBsZUhlYWx0aENoZWNrIiwiZGF0YSIsInN0YXR1cyIsInZlcnNpb24iLCJoaWRlIiwiRXJyb3IiLCJtZXNzYWdlIiwiVklFV19UWVBFX1ZBVUxUUElMT1QiLCJWYXVsdFBpbG90VmlldyIsIkl0ZW1WaWV3IiwibGVhZiIsImdldFZpZXdUeXBlIiwiZ2V0RGlzcGxheVRleHQiLCJnZXRJY29uIiwib25PcGVuIiwiY29udGFpbmVyIiwiYWRkQ2xhc3MiLCJoZWFkZXJFbCIsInN0YXR1c0VsIiwidXBkYXRlU3RhdHVzIiwicXVpY2tBY3Rpb25zRWwiLCJjcmVhdGVRdWlja0FjdGlvbnMiLCJ2YXVsdFN0YXRzRWwiLCJ1cGRhdGVWYXVsdFN0YXRzIiwiYWN0aXZpdGllc0VsIiwiYWRkU3R5bGVzIiwic3RhdHVzQ29udGFpbmVyIiwiYmFja2VuZFN0YXR1cyIsImJhY2tlbmRJbmRpY2F0b3IiLCJ3c1N0YXR1cyIsImlzV2ViU29ja2V0Q29ubmVjdGVkIiwiY2hlY2tCYWNrZW5kU3RhdHVzIiwiaW5kaWNhdG9yIiwidGV4dENvbnRlbnQiLCJjbGFzc05hbWUiLCJhY3Rpb25zR3JpZCIsIm9uY2xpY2siLCJvcGVuQ2hhdE1vZGFsIiwiYWN0aXZhdGVGdWxsVGFiVmlldyIsIm9wZW5Xb3JrZmxvd01vZGFsIiwiYW5hbHl6ZVZhdWx0IiwiYWN0aXZlVmlldyIsIndvcmtzcGFjZSIsImdldEFjdGl2ZVZpZXdPZlR5cGUiLCJNYXJrZG93blZpZXciLCJnZXRDb3BpbG90Q29tcGxldGlvbiIsImVkaXRvciIsInN0YXRzQ29udGFpbmVyIiwiZmlsZXMiLCJ2YXVsdCIsImdldEZpbGVzIiwibWFya2Rvd25GaWxlcyIsImdldE1hcmtkb3duRmlsZXMiLCJsYWJlbCIsImxlbmd0aCIsInRvU3RyaW5nIiwiZ2V0QWxsTG9hZGVkRmlsZXMiLCJmaWx0ZXIiLCJmIiwiVEZvbGRlciIsImZvckVhY2giLCJzdGF0Iiwic3RhdEVsIiwibG9hZEFnZW50SW5mbyIsImxvZyIsImdldEFnZW50cyIsImFnZW50cyIsIkFycmF5IiwiaXNBcnJheSIsImRhdGFPYmoiLCJhZ2VudENvdW50IiwiYWN0aXZlQWdlbnRzIiwiYWdlbnQiLCJhY3RpdmUiLCJhZ2VudFN0YXRzRWwiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwic3R5bGVFbCIsImNyZWF0ZUVsZW1lbnQiLCJpZCIsImhlYWQiLCJhcHBlbmRDaGlsZCIsIm9uQ2xvc2UiLCJWSUVXX1RZUEVfVkFVTFRQSUxPVF9GVUxMX1RBQiIsIlZhdWx0UGlsb3RGdWxsVGFiVmlldyIsInN0eWxlIiwiaGVpZ2h0Iiwib3ZlcmZsb3ciLCJtYWluTGF5b3V0IiwibGVmdFNpZGViYXIiLCJjcmVhdGVMZWZ0U2lkZWJhciIsIm1haW5Db250ZW50IiwiY3JlYXRlTWFpbkNvbnRlbnQiLCJyaWdodFNpZGViYXIiLCJjcmVhdGVSaWdodFNpZGViYXIiLCJhZGRGdWxsVGFiU3R5bGVzIiwic2lkZWJhciIsImNvbnRlbnQiLCJ0YWJOYXYiLCJjaGF0VGFiIiwid29ya2Zsb3dUYWIiLCJhbmFseXRpY3NUYWIiLCJ0YWJDb250ZW50IiwiY2hhdEVsIiwiY3JlYXRlQ2hhdFNlY3Rpb24iLCJ3b3JrZmxvd0VsIiwiY3JlYXRlV29ya2Zsb3dTZWN0aW9uIiwiYW5hbHl0aWNzRWwiLCJjcmVhdGVBbmFseXRpY3NTZWN0aW9uIiwic3dpdGNoVGFiIiwicmVjZW50RmlsZXNFbCIsInVwZGF0ZVJlY2VudEZpbGVzIiwiYWdlbnRTdGF0dXNFbCIsInVwZGF0ZUFnZW50U3RhdHVzIiwiYWN0aXZpdHlFbCIsImNyZWF0ZUFjdGl2aXR5RmVlZCIsImNoYXRDb250ZW50IiwiY2hhdEhpc3RvcnkiLCJjaGF0SW5wdXQiLCJ0ZXh0YXJlYSIsInBsYWNlaG9sZGVyIiwic2VuZEJ1dHRvbiIsInRyaW0iLCJzZW5kQ2hhdE1lc3NhZ2UiLCJvbmtleWRvd24iLCJlIiwia2V5Iiwic2hpZnRLZXkiLCJwcmV2ZW50RGVmYXVsdCIsImNsaWNrIiwid29ya2Zsb3dDb250ZW50Iiwid29ya2Zsb3dHcmlkIiwibmFtZSIsImljb24iLCJkZXNjcmlwdGlvbiIsIndvcmtmbG93Iiwid29ya2Zsb3dDYXJkIiwicnVuV29ya2Zsb3ciLCJhbmFseXRpY3NDb250ZW50IiwiY2hhcnRzQ29udGFpbmVyIiwiZmlsZVR5cGVDaGFydCIsInRpbWVsaW5lQ2hhcnQiLCJ0YWdDaGFydCIsIndvcmRDb3VudENoYXJ0IiwibGlua0NoYXJ0IiwiYWN0aXZpdHlDaGFydCIsInRhYk5hbWUiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYnRuIiwicmVtb3ZlQ2xhc3MiLCJzZWN0aW9uIiwicXVlcnlTZWxlY3RvciIsInRoaW5raW5nTWVzc2FnZSIsInNjcm9sbFRvcCIsInNjcm9sbEhlaWdodCIsInNlbmRDaGF0IiwiY29udGV4dCIsInJlbW92ZSIsIndvcmtmbG93TmFtZSIsInBsYW5NeURheSIsImFjdGl2YXRlVmlldyIsInNvcnQiLCJhIiwiYiIsIm10aW1lIiwic2xpY2UiLCJmaWxlIiwiZmlsZUVsIiwiYmFzZW5hbWUiLCJvcGVuTGlua1RleHQiLCJwYXRoIiwiYWdlbnRJbmZvIiwiYWdlbnRFbCIsInRpbWUiLCJhY3Rpdml0eSIsImdldEFjdGl2ZU1hcmtkb3duIiwiZ2V0QWN0aXZlRmlsZSIsInJlYWQiLCJDaGF0TW9kYWwiLCJNb2RhbCIsImN1cnJlbnRDb252ZXJzYXRpb25JZCIsIm1lc3NhZ2VzIiwiY29udGVudEVsIiwidG9vbGJhckVsIiwiY2xlYXJDaGF0IiwiYWdlbnRTZWxlY3QiLCJsb2FkQWdlbnRzIiwiY2hhdENvbnRhaW5lciIsIm1lc3NhZ2VzRWwiLCJpbnB1dENvbnRhaW5lciIsImlucHV0RWwiLCJ0eXBlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInNlbmRNZXNzYWdlIiwiZm9jdXMiLCJsb2FkQ29udmVyc2F0aW9uSGlzdG9yeSIsInNlbGVjdEVsIiwiZGlzYWJsZWQiLCJnZXRDb252ZXJzYXRpb25IaXN0b3J5IiwicmVuZGVyTWVzc2FnZXMiLCJhZGRNZXNzYWdlIiwiaW50ZW50UmVzIiwiUHJvbWlzZSIsImFsbCIsImNsYXNzaWZ5SW50ZW50IiwicGF5bG9hZCIsImludGVudCIsInJlc3VsdCIsImNvbnZlcnNhdGlvbl9pZCIsInVuZGVmaW5lZCIsImFnZW50X2lkIiwiZ2V0U2VsZWN0ZWRBZ2VudCIsImVycm9yTXNnIiwicm9sZSIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInB1c2giLCJyZW5kZXJNZXNzYWdlIiwic2Nyb2xsVG9Cb3R0b20iLCJtZXNzYWdlRWwiLCJyZW5kZXJNYXJrZG93biIsInRvTG9jYWxlVGltZVN0cmluZyIsInJlcGxhY2UiLCJkZWJ1Z0VsIiwiV29ya2Zsb3dNb2RhbCIsImlzRXhlY3V0aW5nIiwiZm9ybUVsIiwiZ29hbENvbnRhaW5lciIsImdvYWxJbnB1dCIsImNvbnRleHRDb250YWluZXIiLCJjb250ZXh0SW5wdXQiLCJvcHRpb25zQ29udGFpbmVyIiwiaW5jbHVkZUFjdGl2ZUZpbGUiLCJhY3RpdmVGaWxlQ2hlY2tib3giLCJjcmVhdGVTcGFuIiwiaW5jbHVkZUFsbEZpbGVzIiwiYWxsRmlsZXNDaGVja2JveCIsImV4ZWN1dGVCdXR0b24iLCJleGVjdXRlV29ya2Zsb3ciLCJjaGVja2VkIiwicHJvZ3Jlc3NDb250YWluZXIiLCJyZXN1bHRzQ29udGFpbmVyIiwiZ29hbCIsInZhdWx0Q29udGVudCIsImFjdGl2ZUZpbGUiLCJyZXF1ZXN0IiwidmF1bHRfY29udGVudCIsInNldHVwUHJvZ3Jlc3NMaXN0ZW5lciIsImRpc3BsYXlSZXN1bHRzIiwiZGlzcGxheUVycm9yIiwiZGlzcGxheVByb2dyZXNzIiwiZXhlY3V0aW9uX3RpbWUiLCJyZXN1bHRFbCIsInN0ZXBzX3Rha2VuIiwic3RlcHNFbCIsInN0ZXBzTGlzdCIsInN0ZXAiLCJhcnRpZmFjdHMiLCJhcnRpZmFjdHNFbCIsImFydGlmYWN0IiwiaW5kZXgiLCJhcnRpZmFjdEVsIiwidGl0bGUiLCJzYXZlQXJ0aWZhY3RBc05vdGUiLCJzYXZlQ29tcGxldGVSZXN1bHRzQXNOb3RlIiwiZmlsZW5hbWUiLCJjcmVhdGUiLCJzcGxpdCIsIkV2b0FnZW50WENsaWVudCIsImJhc2VVcmwiLCJ3c0NhbGxiYWNrcyIsIk1hcCIsIm1ha2VSZXF1ZXN0IiwiZW5kcG9pbnRfMSIsImVuZHBvaW50Iiwib3B0aW9ucyIsInVybCIsImhlYWRlcnMiLCJBY2NlcHQiLCJmZXRjaCIsIm1vZGUiLCJjcmVkZW50aWFscyIsImNvbnRlbnRUeXBlIiwiZ2V0IiwianNvbiIsIm9rIiwiZXJyb3JNZXNzYWdlIiwic3RhdHVzVGV4dCIsIm1ldGhvZCIsImNoYXQiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImNvbnZlcnNhdGlvbklkXzEiLCJjb252ZXJzYXRpb25JZCIsImxpbWl0IiwicmVxdWVzdEJvZHkiLCJpbmNsdWRlX21lc3NhZ2VzIiwiZGVsZXRlQ29udmVyc2F0aW9uIiwidmF1bHRfY29udGV4dCIsImNyZWF0ZUFnZW50IiwiZXhlY3V0ZUFnZW50IiwiYW5hbHl6ZVZhdWx0Q29udGV4dCIsInBsYW5UYXNrcyIsInBhcnNlSW50ZWxsaWdlbmNlIiwiY29uZmlkZW5jZSIsImV4cGxhaW5JbnRlbnQiLCJpbmNsdWRlX2RlYnVnIiwicmVhc29uaW5nIiwidXBkYXRlTWVtb3J5IiwiY2FsbGJhY2tzIiwid3NVcmwiLCJ3ZWJzb2NrZXQiLCJXZWJTb2NrZXQiLCJvbm9wZW4iLCJvbkNvbm5lY3QiLCJjYWxsIiwib25tZXNzYWdlIiwiZXZlbnQiLCJwYXJzZSIsIm9uQ2hhdCIsIm9uV29ya2Zsb3dQcm9ncmVzcyIsIl9jIiwib25Db3BpbG90IiwiX2QiLCJvblZhdWx0U3luYyIsIl9lIiwib25JbnRlbnREZWJ1ZyIsIl9mIiwib25FcnJvciIsIl9nIiwib25jbG9zZSIsImNvZGUiLCJyZWFzb24iLCJvbkRpc2Nvbm5lY3QiLCJvbmVycm9yIiwiY2xvc2UiLCJzZW5kV2ViU29ja2V0TWVzc2FnZSIsInJlYWR5U3RhdGUiLCJPUEVOIiwic2VuZCIsImZpbmRQbGFuU2VjdGlvbiIsIm1hdGNoIiwiZmluZFNjaGVkdWxlU2VjdGlvbiIsInNjaGVkdWxlUmVnZXgiLCJQbGFuTXlEYXlEZWJ1Z2dlciIsImxvZ3MiLCJtYXhMb2dzIiwiZ2V0SW5zdGFuY2UiLCJpbnN0YW5jZSIsImxvZ0VudHJ5IiwiZXJyb3JEYXRhIiwic3RhY2siLCJnZXRMb2dzIiwiY2xlYXJMb2dzIiwiZXhwb3J0TG9ncyIsImpvaW4iLCJhbmFseXplQXBpQ2xpZW50IiwiYXZhaWxhYmxlIiwibWV0aG9kcyIsImdldE93blByb3BlcnR5TmFtZXMiLCJnZXRQcm90b3R5cGVPZiIsImhhc1BsYW5UYXNrcyIsImhhc0hlYWx0aENoZWNrIiwidGVzdFRhc2tQbGFubmluZyIsImFwaUNsaWVudF8xIiwidGVzdE5vdGUiLCJ0aW1lZnJhbWUiLCJoYXNEYXRhIiwiaGFzUGxhbiIsInBsYW4iLCJ0YXNrQ291bnQiLCJ0YXNrcyIsInBsYW5NeURheURlYnVnZ2VyIiwiVmF1bHRNYW5hZ2VtZW50RXJyb3IiLCJmZWF0dXJlIiwiVmF1bHRNYW5hZ2VtZW50Q2xpZW50IiwiZ2V0VmF1bHRTdHJ1Y3R1cmUiLCJoYW5kbGVWYXVsdE1hbmFnZW1lbnRFcnJvciIsInBlcmZvcm1GaWxlT3BlcmF0aW9uIiwidmFsaWRhdGVGaWxlT3BlcmF0aW9uUmVxdWVzdCIsInBlcmZvcm1CYXRjaE9wZXJhdGlvbnMiLCJvcGVyYXRpb25zIiwib3AiLCJlcnIiLCJzZWFyY2hWYXVsdCIsInF1ZXJ5Iiwib3JnYW5pemVWYXVsdCIsImJhY2t1cFZhdWx0IiwiY3JlYXRlRmlsZSIsImZpbGVQYXRoXzEiLCJjb250ZW50XzEiLCJhcmd1bWVudHMiLCJmaWxlUGF0aCIsImJhY2t1cCIsIm9wZXJhdGlvbiIsImZpbGVfcGF0aCIsInVwZGF0ZUZpbGUiLCJkZWxldGVGaWxlIiwibW92ZUZpbGUiLCJmcm9tUGF0aF8xIiwidG9QYXRoXzEiLCJmcm9tUGF0aCIsInRvUGF0aCIsIm5ld19wYXRoIiwiY29weUZpbGUiLCJxdWlja1NlYXJjaCIsInF1ZXJ5XzEiLCJtYXhSZXN1bHRzIiwic2VhcmNoX3R5cGUiLCJtYXhfcmVzdWx0cyIsImluY2x1ZGVfY29udGVudCIsInJlcXVlc3RPcHRpb25zIiwibWF4X2RlcHRoIiwiRW52aXJvbm1lbnREZXRlY3RvciIsImRldGVjdCIsImluZm8iLCJwbGF0Zm9ybSIsImhhc0ZpbGVTeXN0ZW0iLCJoYXNXZWJTb2NrZXQiLCJoYXNIVFRQIiwiY2FwYWJpbGl0aWVzIiwid2luZG93IiwiZ2xvYmFsVGhpcyIsInByb2Nlc3MiLCJ2ZXJzaW9ucyIsIm5vZGUiLCJyZXF1aXJlIiwiaXNPYnNpZGlhbiIsImNhblVzZUZpbGVTeXN0ZW0iLCJjYW5Vc2VXZWJTb2NrZXQiLCJnZXRPcHRpbWFsVHJhbnNwb3J0IiwiZW52IiwiRGV2UGlwZUNsaWVudCIsImNvbmZpZyIsImlzQ29ubmVjdGVkIiwibWVzc2FnZUlkIiwicGVuZGluZ1JlcXVlc3RzIiwiZXZlbnRMaXN0ZW5lcnMiLCJlbnZpcm9ubWVudCIsInNlcnZlclVybCIsInNlcnZlcl91cmwiLCJkZWJ1Z19tb2RlIiwib24iLCJsaXN0ZW5lciIsImhhcyIsInNldCIsIm9mZiIsImxpc3RlbmVycyIsImluZGV4T2YiLCJzcGxpY2UiLCJlbWl0IiwiaW5pdGlhbGl6ZSIsInRyYW5zcG9ydCIsInNpZ25hbCIsIkFib3J0U2lnbmFsIiwiZmFsbGJhY2tFcnJvciIsInR5cGVfMSIsInBheWxvYWRfMSIsImdlbmVyYXRlTWVzc2FnZUlkIiwic2VuZGVyIiwicmVjaXBpZW50IiwicmVzb2x2ZSIsInJlamVjdCIsInRpbWVvdXRIYW5kbGUiLCJkZWxldGUiLCJzZW5kTWVzc2FnZVRvU2VydmVyIiwiY2F0Y2giLCJjbGVhclRpbWVvdXQiLCJwZW5kaW5nUmVxdWVzdCIsIm5vdyIsImRpc2Nvbm5lY3QiLCJwZW5kaW5nRW50cmllcyIsImZyb20iLCJlbnRyaWVzIiwiY2xlYXIiLCJpc1JlYWR5IiwiZ2V0UGVuZGluZ1JlcXVlc3RDb3VudCIsInNpemUiLCJNb2RlbFNlbGVjdGlvbkVycm9yIiwiZGV0YWlscyIsInN1Z2dlc3Rpb25zIiwiTW9kZWxTZWxlY3Rpb25TZXJ2aWNlIiwiZGV2UGlwZVBhdGgiLCJjYWNoZWRIZWFsdGgiLCJsYXN0SGVhbHRoVXBkYXRlIiwiZGV2cGlwZV9wYXRoIiwibW9uaXRvcmluZ19pbnRlcnZhbCIsImZhbGxiYWNrX2VuYWJsZWQiLCJjYWNoZV9kdXJhdGlvbiIsInJldHJ5X2F0dGVtcHRzIiwiZGV2UGlwZUNsaWVudCIsIm1heF9jb3N0X3Blcl9yZXF1ZXN0IiwicHJlZmVycmVkX3Byb3ZpZGVycyIsInF1YWxpdHlfdGhyZXNob2xkIiwidGltZW91dF9wcmVmZXJlbmNlIiwic2V0dXBFdmVudExpc3RlbmVycyIsImhlYWx0aERhdGEiLCJtZXRyaWNzIiwicmVmcmVzaE1vZGVsSGVhbHRoIiwic3RhcnRIZWFsdGhNb25pdG9yaW5nIiwic2VsZWN0TW9kZWwiLCJwZXJmb3JtU2VsZWN0aW9uIiwiZmFsbGJhY2tTZWxlY3Rpb24iLCJlbmhhbmNlZFJlcXVlc3QiLCJ1c2VyX3ByZWZlcmVuY2VzIiwidGltZW91dF9tcyIsIm9yaWdpbmFsRXJyb3IiLCJjYWNoZWQiLCJnZXRDYWNoZWRTZWxlY3Rpb24iLCJzdGF0aWNNb2RlbFNlbGVjdGlvbiIsImRlZmF1bHRNb2RlbHMiLCJjb3N0Iiwic3VtbWFyaXphdGlvbiIsInRyYW5zbGF0aW9uIiwiZGVmYXVsdE1vZGVsIiwidGFza190eXBlIiwic2VsZWN0ZWRfbW9kZWwiLCJwcm92aWRlciIsInNjb3JlIiwiY29zdF9wZXJfdG9rZW4iLCJtYXhfdG9rZW5zIiwicmVzcG9uc2VfdGltZV9hdmdfbXMiLCJhdmFpbGFiaWxpdHlfc2NvcmUiLCJxdWFsaXR5X3Njb3JlIiwiZmFsbGJhY2tfbW9kZWxzIiwiZXN0aW1hdGVkX2Nvc3QiLCJlc3RpbWF0ZWRfdGltZV9tcyIsInNlbGVjdGlvbl9tZXRhZGF0YSIsInNlbGVjdGlvbl90aW1lX21zIiwiZmFjdG9yc19jb25zaWRlcmVkIiwiY29uZmlkZW5jZV9zY29yZSIsInNlbGVjdE1vZGVsX09MRCIsImdldE1vZGVsSGVhbHRoIiwiaGVhbHRoIiwidXBkYXRlUHJlZmVyZW5jZXMiLCJwcmVmZXJlbmNlcyIsImdldFByZWZlcmVuY2VzIiwic2V0SW50ZXJ2YWwiLCJzZWxlY3RGb3JUYXNrIiwidGFza1R5cGVfMSIsInRhc2tUeXBlIiwicXVhbGl0eSIsInF1YWxpdHlfcmVxdWlyZW1lbnQiLCJzZWxlY3RDb3N0T3B0aW1pemVkIiwibWF4Q29zdCIsIm1heF9jb3N0Iiwic2VsZWN0SGlnaFBlcmZvcm1hbmNlIiwiZ2V0Q29uZmlnIiwiVmF1bHRTdHJ1Y3R1cmVNb2RhbCIsInNldEZvY3VzUGF0aCIsImZvY3VzUGF0aCIsInJlZnJlc2hCdXR0b24iLCJsb2FkaW5nRWwiLCJjcmVhdGVEaXYiLCJzZXRUZXh0Iiwic3RydWN0dXJlIiwicmVuZGVyU3RydWN0dXJlIiwidG90YWxfZmlsZXMiLCJ0b3RhbF9mb2xkZXJzIiwidG90YWxfc2l6ZSIsInRvRml4ZWQiLCJ0cmVlQ29udGFpbmVyIiwidHJlZUVsIiwicmVuZGVyRm9sZGVyIiwicmVjZW50X2ZpbGVzIiwicmVjZW50Q29udGFpbmVyIiwicmVjZW50RWwiLCJtb2RpZmllZCIsInRvTG9jYWxlRGF0ZVN0cmluZyIsIm9ycGhhbmVkX2ZpbGVzIiwib3JwaGFuZWRDb250YWluZXIiLCJvcnBoYW5lZEVsIiwiZm9sZGVyIiwibGV2ZWwiLCJmb2xkZXJFbCIsImF0dHIiLCJjaGlsZHJlbiIsImNoaWxkcmVuRWwiLCJ0b2dnbGVFbCIsImlzT3BlbiIsImNoaWxkIiwiU21hcnRTZWFyY2hNb2RhbCIsInNldEluaXRpYWxRdWVyeSIsImluaXRpYWxRdWVyeSIsInNlYXJjaFR5cGUiLCJzZWFyY2hGb3JtIiwicXVlcnlJbnB1dCIsInNlYXJjaFR5cGVTZWxlY3QiLCJvcHRpb24iLCJzZWxlY3RlZCIsInNlYXJjaEJ1dHRvbiIsInBlcmZvcm1TZWFyY2giLCJyZXN1bHRzIiwicmVuZGVyU2VhcmNoUmVzdWx0cyIsInRvdGFsX2ZvdW5kIiwiaW5zaWdodHMiLCJyZXN1bHRzTGlzdCIsImZpbGVfbmFtZSIsIm1hdGNoX3R5cGUiLCJwcmV2aWV3IiwibWF0Y2hlcyIsInN1Z2dlc3RlZF9xdWVyaWVzIiwic3VnZ2VzdGlvbnNFbCIsInN1Z2dlc3Rpb25zTGlzdCIsInN1Z2dlc3Rpb24iLCJkaXNwYXRjaEV2ZW50IiwiS2V5Ym9hcmRFdmVudCIsIkZpbGVPcGVyYXRpb25zTW9kYWwiLCJzZXRJbml0aWFsUGF0aCIsImluaXRpYWxQYXRoIiwic2V0T3BlcmF0aW9uIiwidXBkYXRlT3BlcmF0aW9uRm9ybSIsImZvcm1Db250YWluZXIiLCJhZGRUZXh0QXJlYSIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwiZXhlY3V0ZU9wZXJhdGlvbiIsInBhdGhJbnB1dCIsIm5ld1BhdGhJbnB1dCIsImNvbnRlbnRUZXh0YXJlYSIsImJhY2t1cFRvZ2dsZSIsIlRyYW5zcG9ydFR5cGUiLCJUcmFuc3BvcnRFdmVudCIsIk9uYm9hcmRpbmdTdGVwIiwiUmVjb21tZW5kYXRpb25UeXBlIiwiQ2lyY3VpdEJyZWFrZXIiLCJzdGF0ZSIsImZhaWx1cmVDb3VudCIsImxhc3RGYWlsdXJlVGltZSIsIm5leHRBdHRlbXB0IiwiZXhlY3V0ZSIsIm9uU3VjY2VzcyIsIm9uRmFpbHVyZSIsImZhaWx1cmVUaHJlc2hvbGQiLCJyZXNldFRpbWVvdXQiLCJnZXRTdGF0ZSIsIkJhc2VUcmFuc3BvcnQiLCJjb25uZWN0ZWQiLCJpbml0aWFsaXplZCIsIk1hdGgiLCJyYW5kb20iLCJzdWJzdHIiLCJoZWFsdGhTdGF0dXMiLCJsYXN0Q2hlY2siLCJsYXRlbmN5IiwiZXJyb3JSYXRlIiwiY29uc2VjdXRpdmVGYWlsdXJlcyIsInVwdGltZSIsImNpcmN1aXRCcmVha2VyIiwibW9uaXRvcmluZ1BlcmlvZCIsIm1lc3NhZ2VzU2VudCIsIm1lc3NhZ2VzUmVjZWl2ZWQiLCJlcnJvcnMiLCJ0b3RhbExhdGVuY3kiLCJsYXN0QWN0aXZpdHkiLCJkZWJ1ZyIsImV2ZW50S2V5IiwicGVyZm9ybUhlYWx0aENoZWNrIiwic3RhcnRUaW1lIiwiZG9IZWFsdGhDaGVjayIsIkhFQUxUSF9DSEVDSyIsImV4ZWN1dGVXaXRoQ2lyY3VpdEJyZWFrZXIiLCJvcGVyYXRpb25OYW1lIiwidXBkYXRlTWV0cmljcyIsImFyZ3MiLCJjYWxjdWxhdGVSZWxpYWJpbGl0eSIsInRvdGFsIiwiaXNBdmFpbGFibGUiLCJnZXRIZWFsdGhTdGF0dXMiLCJkb0luaXRpYWxpemUiLCJkZXN0cm95IiwiQ29ubmVjdGlvblBvb2wiLCJhY3RpdmVDb25uZWN0aW9ucyIsInF1ZXVlIiwibWF4Q29ubmVjdGlvbnMiLCJhY3F1aXJlIiwibmV4dCIsInNoaWZ0IiwiSFRUUFRyYW5zcG9ydCIsIkhUVFAiLCJtZXNzYWdlUXVldWUiLCJwcm9jZXNzaW5nUXVldWUiLCJodHRwQ29uZmlnIiwiaHR0cCIsImVuYWJsZVNTRSIsImtlZXBBbGl2ZSIsImNvbXByZXNzaW9uIiwiY29ubmVjdGlvblBvb2wiLCJjb25uZWN0Iiwic2V0dXBTU0UiLCJDT05ORUNURUQiLCJFUlJPUiIsInJlcXVlc3RzIiwidmFsdWVzIiwic3NlQ29ubmVjdGlvbiIsIkRJU0NPTk5FQ1RFRCIsInNlbmRIdHRwUmVxdWVzdCIsInBlcmZvcm1IdHRwUmVxdWVzdCIsImZldGNoUmVzcG9uc2UiLCJkZXZQaXBlUmVzcG9uc2UiLCJzc2VVcmwiLCJFdmVudFNvdXJjZSIsImhhbmRsZVNTRU1lc3NhZ2UiLCJDT05ORUNUSU5HIiwiUkVDT05ORUNUSU5HIiwiTUVTU0FHRSIsImdldENhcGFiaWxpdGllcyIsInN1cHBvcnRzUmVhbHRpbWUiLCJzdXBwb3J0c0JpZGlyZWN0aW9uYWwiLCJzdXBwb3J0c0ZpbGVTeXN0ZW0iLCJzdXBwb3J0c1N0cmVhbWluZyIsIm1heE1lc3NhZ2VTaXplIiwiYXZlcmFnZUxhdGVuY3kiLCJtYXhDb25jdXJyZW50Q29ubmVjdGlvbnMiLCJyZWxpYWJpbGl0eSIsInN1cHBvcnRlZEVudmlyb25tZW50cyIsIlJlY29ubmVjdGluZ1dlYlNvY2tldCIsInByb3RvY29scyIsInJlY29ubmVjdEF0dGVtcHRzIiwic2hvdWxkUmVjb25uZWN0IiwibWF4UmVjb25uZWN0QXR0ZW1wdHMiLCJyZWNvbm5lY3REZWxheSIsIndzIiwicmVjb25uZWN0IiwicG93IiwiRXZlbnQiLCJDTE9TRUQiLCJXZWJTb2NrZXRUcmFuc3BvcnQiLCJXRUJTT0NLRVQiLCJyZXNwb25zZUhhbmRsZXJzIiwid3NDb25maWciLCJoZWFydGJlYXRJbnRlcnZhbCIsInBlcnNpc3RNZXNzYWdlcyIsIm1heFNpemUiLCJwZXJzaXN0VG9EaXNrIiwiY29ubmVjdGlvblRpbWVvdXQiLCJzdGFydEhlYXJ0YmVhdCIsImhhbmRsZU1lc3NhZ2UiLCJzdG9wSGVhcnRiZWF0IiwiaGFuZGxlcnMiLCJoYW5kbGVyIiwicmVwbHlUbyIsImNsZWFySW50ZXJ2YWwiLCJwaW5nSWQiLCJGaWxlTG9ja01hbmFnZXIiLCJsb2NrVGltZW91dCIsImxvY2tzIiwiU2V0IiwiYWNxdWlyZUxvY2siLCJhdHRlbXB0TG9jayIsImFkZCIsInJlbGVhc2VMb2NrIiwiRmlsZVdhdGNoZXIiLCJ3YXRjaGVycyIsIndhdGNoIiwiY2FsbGJhY2siLCJ3YXRjaGVyIiwiZmlsZUV4aXN0cyIsInJlYWRGaWxlIiwidW53YXRjaCIsImFkYXB0ZXIiLCJleGlzdHMiLCJmcyIsInByb21pc2VzIiwiYWNjZXNzIiwiRmlsZVN5c3RlbVRyYW5zcG9ydCIsIkZJTEVTWVNURU0iLCJmc0NvbmZpZyIsImZpbGVzeXN0ZW0iLCJ3YXRjaEludGVydmFsIiwibWF4UXVldWVTaXplIiwiZmlsZVdhdGNoZXIiLCJsb2NrTWFuYWdlciIsImVuc3VyZURpcmVjdG9yeUV4aXN0cyIsInNldHVwSW5jb21pbmdNZXNzYWdlV2F0Y2hlciIsInJlc3BvbnNlRmlsZSIsInNlbmRGaWxlTWVzc2FnZSIsInJlcXVlc3RGaWxlIiwid3JpdGVSZXF1ZXN0RmlsZSIsIndyaXRlRmlsZSIsIm1rZGlyIiwicmVjdXJzaXZlIiwid3JpdGUiLCJ0ZXN0RmlsZSIsInVubGluayIsIkRlZmF1bHRNZXRyaWNzQ29sbGVjdG9yIiwibGF0ZW5jeUhpc3RvcnkiLCJNQVhfSElTVE9SWV9TSVpFIiwicmVjb3JkTGF0ZW5jeSIsImdldE9yQ3JlYXRlTWV0cmljcyIsImhpc3RvcnkiLCJnZXRPckNyZWF0ZUhpc3RvcnkiLCJyZWR1Y2UiLCJzdW0iLCJ2YWwiLCJtaW5MYXRlbmN5IiwibWluIiwibWF4TGF0ZW5jeSIsIm1heCIsInJlY29yZFN1Y2Nlc3MiLCJ0b3RhbFJlcXVlc3RzIiwic3VjY2Vzc2Z1bFJlcXVlc3RzIiwicmVjb3JkRmFpbHVyZSIsImZhaWxlZFJlcXVlc3RzIiwiZ2V0TWV0cmljcyIsIkluZmluaXR5IiwiVHJhbnNwb3J0SGVhbHRoTW9uaXRvciIsIm1ldHJpY3NDb2xsZWN0b3IiLCJzY2hlZHVsZXMiLCJzdGFydE1vbml0b3JpbmciLCJpbnRlcnZhbCIsInNjaGVkdWxlIiwiYXNzZXNzVHJhbnNwb3J0SGVhbHRoIiwic3RhcnRQZXJpb2RpY0NoZWNrcyIsInN0b3BNb25pdG9yaW5nIiwiYXZhaWxhYmlsaXR5IiwiY2FsY3VsYXRlQXZhaWxhYmlsaXR5U2NvcmUiLCJjYWxjdWxhdGVMYXRlbmN5U2NvcmUiLCJjYWxjdWxhdGVSZWxpYWJpbGl0eVNjb3JlIiwiY2FsY3VsYXRlRXJyb3JSYXRlU2NvcmUiLCJyZWNvbW1lbmRhdGlvbiIsImZhaWx1cmVQZW5hbHR5IiwiZ2V0TWV0cmljc0NvbGxlY3RvciIsIlRyYW5zcG9ydFNlbGVjdG9yIiwiY3JpdGVyaWEiLCJjYWxjdWxhdGVTY29yZSIsImNhcGFiaWxpdHlTY29yZSIsInJlcXVpcmVzUmVhbHRpbWUiLCJsYXRlbmN5U2NvcmUiLCJyZWxpYWJpbGl0eVNjb3JlIiwiY29zdFNjb3JlIiwiYXZhaWxhYmlsaXR5TXVsdGlwbGllciIsIndlaWdodGVkU2NvcmUiLCJsYXRlbmN5V2VpZ2h0IiwicmVsaWFiaWxpdHlXZWlnaHQiLCJjYXBhYmlsaXR5V2VpZ2h0IiwiY29zdFdlaWdodCIsInNlbGVjdEJlc3QiLCJzY29yZWRUcmFuc3BvcnRzIiwibWFwIiwiVHJhbnNwb3J0TWFuYWdlciIsInRyYW5zcG9ydHMiLCJmYWlsb3ZlckluUHJvZ3Jlc3MiLCJmYWxsYmFja0NoYWluIiwiaGVhbHRoTW9uaXRvciIsInNlbGVjdG9yIiwic2VsZWN0aW9uQ3JpdGVyaWEiLCJpbml0aWFsaXplVHJhbnNwb3J0cyIsInNldHVwSGVhbHRoTW9uaXRvcmluZyIsImh0dHBUcmFuc3BvcnQiLCJ0cmFuc3BvcnRDb25maWdzIiwid3NUcmFuc3BvcnQiLCJmc1RyYW5zcG9ydCIsInNldHVwVHJhbnNwb3J0RXZlbnRIYW5kbGVycyIsImFjdGl2ZVRyYW5zcG9ydCIsImF1dG9GYWlsb3ZlciIsImhhbmRsZVRyYW5zcG9ydEZhaWx1cmUiLCJoZWFsdGhDaGVja0ludGVydmFsIiwiYXNzZXNzbWVudCIsInNlbGVjdE9wdGltYWxUcmFuc3BvcnQiLCJhdmFpbGFibGVUcmFuc3BvcnRzIiwic2VsZWN0ZWRUcmFuc3BvcnQiLCJzd2l0Y2hUcmFuc3BvcnQiLCJuZXdUcmFuc3BvcnQiLCJvbGRUcmFuc3BvcnQiLCJ0byIsImZhaWxlZFRyYW5zcG9ydCIsInRyYW5zcG9ydFR5cGUiLCJmYWxsYmFja1RyYW5zcG9ydCIsImRpc2Nvbm5lY3RQcm9taXNlcyIsImdldEFjdGl2ZVRyYW5zcG9ydCIsImdldEF2YWlsYWJsZVRyYW5zcG9ydHMiLCJnZXRUcmFuc3BvcnRIZWFsdGgiLCJhc3Nlc3NtZW50cyIsIk9uYm9hcmRpbmdXaXphcmQiLCJjdXJyZW50U3RlcCIsInRvdGFsU3RlcHMiLCJzdGVwRWxlbWVudHMiLCJ0cmFuc3BvcnRDb25maWciLCJ0cmFuc3BvcnRNYW5hZ2VyIiwicHJvZ3Jlc3MiLCJjb21wbGV0ZWRTdGVwcyIsImZpbGwiLCJlbmFibGVSZWFsVGltZVVwZGF0ZXMiLCJwZXJmb3JtYW5jZU1vZGUiLCJlbmFibGVBbmFseXRpY3MiLCJtb2RhbEVsIiwiY3JlYXRlSGVhZGVyIiwiY3JlYXRlUHJvZ3Jlc3NCYXIiLCJjcmVhdGVOYXZpZ2F0aW9uIiwicmVuZGVyQ3VycmVudFN0ZXAiLCJoZWFkZXIiLCJzdGVwc0NvbnRhaW5lciIsImkiLCJwcm9ncmVzc0JhciIsIndpZHRoIiwibmF2aWdhdGlvbiIsInByZXZpb3VzQnV0dG9uIiwiQnV0dG9uQ29tcG9uZW50Iiwic2V0Q2xhc3MiLCJwcmV2aW91c1N0ZXAiLCJza2lwQnV0dG9uIiwic2tpcE9uYm9hcmRpbmciLCJuZXh0QnV0dG9uIiwibmV4dFN0ZXAiLCJ1cGRhdGVOYXZpZ2F0aW9uU3RhdGUiLCJzdGVwQ29udGFpbmVyIiwidXBkYXRlUHJvZ3Jlc3NJbmRpY2F0b3JzIiwiV0VMQ09NRSIsInJlbmRlcldlbGNvbWVTdGVwIiwiRU5WSVJPTk1FTlRfREVURUNUSU9OIiwicmVuZGVyRW52aXJvbm1lbnRTdGVwIiwiUFJFRkVSRU5DRVMiLCJyZW5kZXJQcmVmZXJlbmNlc1N0ZXAiLCJWQUxJREFUSU9OIiwicmVuZGVyVmFsaWRhdGlvblN0ZXAiLCJDT01QTEVUSU9OIiwicmVuZGVyQ29tcGxldGlvblN0ZXAiLCJmZWF0dXJlcyIsImZlYXR1cmVMaXN0Iiwic2tpcEVudmlyb25tZW50RGV0ZWN0aW9uIiwiZGV0ZWN0ZWRDYXBhYmlsaXRpZXMiLCJyZW5kZXJFbnZpcm9ubWVudFJlc3VsdHMiLCJkZXRlY3RFbnZpcm9ubWVudCIsInJlbmRlckVudmlyb25tZW50RXJyb3IiLCJlbnZJbmZvIiwid2ViU29ja2V0U3VwcG9ydGVkIiwiZmlsZVN5c3RlbUFjY2VzcyIsImh0dHBDYXBhYmlsaXRpZXMiLCJyZWNvbW1lbmRlZFRyYW5zcG9ydCIsInBlcmZvcm1hbmNlRXN0aW1hdGUiLCJjYXBhYmlsaXRpZXNMaXN0Iiwid3NDYXBhYmlsaXR5IiwiaHR0cENhcGFiaWxpdHkiLCJmc0NhcGFiaWxpdHkiLCJlcnJvckNvbnRhaW5lciIsInByZWZlcmVuY2VzQ29udGFpbmVyIiwic2tpcFZhbGlkYXRpb24iLCJ2YWxpZGF0aW9uUmVzdWx0cyIsInJlbmRlclZhbGlkYXRpb25SZXN1bHRzIiwidmFsaWRhdGVDb25maWd1cmF0aW9uIiwicmVuZGVyVmFsaWRhdGlvbkVycm9yIiwidHJhbnNwb3J0c1dvcmtpbmciLCJ0cmFuc3BvcnRzRmFpbGluZyIsInJlY29tbWVuZGVkQ29uZmlndXJhdGlvbiIsInBlcmZvcm1hbmNlQmFzZWxpbmUiLCJhdmdSZXNwb25zZVRpbWUiLCJ0aHJvdWdocHV0Iiwid29ya2luZ0NvbnRhaW5lciIsIndvcmtpbmdMaXN0IiwicGVyZm9ybWFuY2VDb250YWluZXIiLCJwZXJmTGlzdCIsInN1bW1hcnkiLCJzdW1tYXJ5TGlzdCIsIm5leHRTdGVwcyIsIm5leHRMaXN0IiwiZWxlbWVudCIsInByb2dyZXNzRmlsbCIsImJ1dHRvbkVsIiwiZmluaXNoT25ib2FyZGluZyIsImNvbmZpcm0iLCJza2lwcGVkIiwiYXBwbHlDb25maWd1cmF0aW9uIiwib25ib2FyZGluZ0NvbXBsZXRlIiwiZ2V0U2VsZWN0aW9uQ3JpdGVyaWFGb3JNb2RlIiwiYnVpbGRGYWxsYmFja0NoYWluIiwid2ViU29ja2V0VXJsIiwiYmFzZVBhdGgiLCJjaGFpbiIsIlRyYW5zcG9ydERhc2hib2FyZCIsIkNvbXBvbmVudCIsInVwZGF0ZUludGVydmFsIiwic2hvd0FkdmFuY2VkTWV0cmljcyIsInN0YXR1c0NhcmRzIiwiaXNSZWFsVGltZUVuYWJsZWQiLCJvbmxvYWQiLCJpbml0aWFsaXplRGFzaGJvYXJkIiwic3RhcnRSZWFsVGltZVVwZGF0ZXMiLCJ1cGRhdGVEYXNoYm9hcmQiLCJvbnVubG9hZCIsInN0b3BSZWFsVGltZVVwZGF0ZXMiLCJyZW1vdmVFdmVudExpc3RlbmVycyIsImNyZWF0ZVN5c3RlbUhlYWx0aFNlY3Rpb24iLCJjcmVhdGVUcmFuc3BvcnRTdGF0dXNTZWN0aW9uIiwiY3JlYXRlUGVyZm9ybWFuY2VNZXRyaWNzU2VjdGlvbiIsImNyZWF0ZUNoYXJ0c1NlY3Rpb24iLCJjcmVhdGVDb250cm9sc1NlY3Rpb24iLCJsYXN0VXBkYXRlIiwic3lzdGVtSGVhbHRoQ29udGFpbmVyIiwicmVuZGVyU3lzdGVtSGVhbHRoUGxhY2Vob2xkZXIiLCJjYXJkc0NvbnRhaW5lciIsImNhcmQiLCJjcmVhdGVUcmFuc3BvcnRDYXJkIiwicmVzcG9uc2VUaW1lIiwic3VjY2Vzc1JhdGUiLCJlcnJvckNvdW50IiwiYWN0aW9ucyIsInRlc3RUcmFuc3BvcnQiLCJzd2l0Y2hUb1RyYW5zcG9ydCIsIm1ldHJpY3NDb250YWluZXIiLCJyZW5kZXJQZXJmb3JtYW5jZU1ldHJpY3NQbGFjZWhvbGRlciIsInJlbmRlckNoYXJ0c1BsYWNlaG9sZGVyIiwiY29udHJvbHMiLCJtYW51YWxSZWZyZXNoIiwiZXhwb3J0RGF0YSIsIm9wZW5EYXNoYm9hcmRTZXR0aW5ncyIsInJlYWx0aW1lVG9nZ2xlIiwib25jaGFuZ2UiLCJ0b2dnbGVSZWFsVGltZVVwZGF0ZXMiLCJjdXJyZW50SGVhbHRoIiwiZ2V0U3lzdGVtSGVhbHRoIiwicmVuZGVyU3lzdGVtSGVhbHRoIiwidXBkYXRlVHJhbnNwb3J0U3RhdHVzZXMiLCJjdXJyZW50TWV0cmljcyIsImdldFBlcmZvcm1hbmNlTWV0cmljcyIsInJlbmRlclBlcmZvcm1hbmNlTWV0cmljcyIsInVwZGF0ZVRpbWVzdGFtcCIsInJlbmRlckVycm9yIiwib3ZlcmFsbCIsImxhc3RIZWFsdGhDaGVjayIsInN0YXJ0ZWQiLCJmbG9vciIsInRvdGFsRXJyb3JzIiwiYXZlcmFnZVJlc3BvbnNlVGltZSIsInA5NVJlc3BvbnNlVGltZSIsInJlcXVlc3RzUGVyTWludXRlIiwidHJhbnNwb3J0RGlzdHJpYnV0aW9uIiwidHJlbmRzIiwiZ2VuZXJhdGVUcmVuZERhdGEiLCJ0aW1lc3RhbXBzIiwiZ2VuZXJhdGVUaW1lc3RhbXBzIiwiYmFzZWxpbmUiLCJ2YXJpYW5jZSIsInBvaW50cyIsImdldFRpbWUiLCJzdXBwb3J0ZWRUcmFuc3BvcnRzIiwiZ2V0VHJhbnNwb3J0U3RhdHVzIiwidXBkYXRlVHJhbnNwb3J0Q2FyZCIsImlzQWN0aXZlIiwibGFzdFJlc3BvbnNlVGltZSIsImdldFRyYW5zcG9ydENhcGFiaWxpdGllcyIsImNvbm5lY3Rpb25TdGF0ZSIsImxhc3RFcnJvciIsImNvbm5lY3Rpb25FbCIsImhlYWx0aEdyaWQiLCJvdmVyYWxsSGVhbHRoIiwiZm9ybWF0VXB0aW1lIiwidG9Mb2NhbGVTdHJpbmciLCJyYXRlIiwibWV0cmljc0dyaWQiLCJhdmdSZXNwb25zZSIsInA5NVJlc3BvbnNlIiwicnBtIiwiZGlzdHJpYnV0aW9uIiwiZGlzdHJpYnV0aW9uQmFycyIsInBlcmNlbnRhZ2UiLCJiYXIiLCJzZWNvbmRzIiwibWludXRlcyIsImhvdXJzIiwiZGF5cyIsInRpbWVzdGFtcEVsIiwib25UcmFuc3BvcnRTd2l0Y2hlZCIsIm9uSGVhbHRoQ2hhbmdlZCIsIm9uRXJyb3JPY2N1cnJlZCIsInBlcmZvcm1UcmFuc3BvcnRUZXN0Iiwic3lzdGVtSGVhbHRoIiwicGVyZm9ybWFuY2VNZXRyaWNzIiwiZXhwb3J0ZWRCeSIsImJsb2IiLCJCbG9iIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiaHJlZiIsImRvd25sb2FkIiwicmV2b2tlT2JqZWN0VVJMIiwiQWR2YW5jZWRTZXR0aW5ncyIsInNob3dFeHBlcnRPcHRpb25zIiwiZW5hYmxlUmVhbFRpbWVWYWxpZGF0aW9uIiwiYWxsb3dJbXBvcnRFeHBvcnQiLCJwcm9maWxlcyIsImhhc1Vuc2F2ZWRDaGFuZ2VzIiwiY3VycmVudENvbmZpZ3VyYXRpb24iLCJnZXREZWZhdWx0Q29uZmlndXJhdGlvbiIsImxvYWRQcm9maWxlcyIsImluaXRpYWxpemVJbnRlcmZhY2UiLCJsb2FkQ3VycmVudENvbmZpZ3VyYXRpb24iLCJyZW5kZXJTZXR0aW5ncyIsInN0YXJ0UmVhbFRpbWVWYWxpZGF0aW9uIiwidmFsaWRhdGlvblRpbWVvdXQiLCJzYXZlQ29uZmlndXJhdGlvbiIsImNyZWF0ZVByb2ZpbGVNYW5hZ2VtZW50IiwiY3JlYXRlVmFsaWRhdGlvblNlY3Rpb24iLCJjcmVhdGVDb25maWd1cmF0aW9uU2VjdGlvbnMiLCJjcmVhdGVQcmV2aWV3U2VjdGlvbiIsImNyZWF0ZUFjdGlvbkJ1dHRvbnMiLCJleHBlcnRMYWJlbCIsImV4cGVydENoZWNrYm94IiwidXBkYXRlRXhwZXJ0T3B0aW9uc1Zpc2liaWxpdHkiLCJwcm9maWxlQ29udHJvbHMiLCJzZWxlY3RvckNvbnRhaW5lciIsInByb2ZpbGVTZWxlY3RvciIsInVwZGF0ZVByb2ZpbGVTZWxlY3RvciIsImxvYWRQcm9maWxlIiwicHJvZmlsZUFjdGlvbnMiLCJzaG93U2F2ZVByb2ZpbGVNb2RhbCIsImRlbGV0ZUN1cnJlbnRQcm9maWxlIiwiaW1wb3J0Q29uZmlndXJhdGlvbiIsImV4cG9ydENvbmZpZ3VyYXRpb24iLCJ2YWxpZGF0aW9uQ29udGFpbmVyIiwicmVuZGVyVmFsaWRhdGlvblBsYWNlaG9sZGVyIiwiY29uZmlndXJhdGlvbkNvbnRhaW5lciIsImNyZWF0ZVRyYW5zcG9ydFNldHRpbmdzIiwiY3JlYXRlUGVyZm9ybWFuY2VTZXR0aW5ncyIsImNyZWF0ZU1vbml0b3JpbmdTZXR0aW5ncyIsImNyZWF0ZVVJU2V0dGluZ3MiLCJjcmVhdGVQcml2YWN5U2V0dGluZ3MiLCJzZXR0aW5nc0NvbnRhaW5lciIsInByaW1hcnlUcmFuc3BvcnQiLCJvbkNvbmZpZ3VyYXRpb25DaGFuZ2UiLCJjcmVhdGVGYWxsYmFja0NoYWluQ29uZmlnIiwiY3JlYXRlU2VsZWN0aW9uQ3JpdGVyaWFDb25maWciLCJjcmVhdGVUaW1lb3V0Q29uZmlnIiwiY3JlYXRlUmV0cnlQb2xpY3lDb25maWciLCJmYWxsYmFja0NvbnRhaW5lciIsImNvbnRyb2xFbCIsImNoYWluRGlzcGxheSIsInVwZGF0ZUZhbGxiYWNrQ2hhaW5EaXNwbGF5IiwiYWRkQnV0dG9ucyIsIml0ZW0iLCJjcml0ZXJpYUNvbnRhaW5lciIsIm5vcm1hbGl6ZVNlbGVjdGlvbkNyaXRlcmlhIiwidGltZW91dENvbnRhaW5lciIsInRpbWVvdXRzIiwiY29ubmVjdGlvbiIsInBhcnNlZCIsImlzTmFOIiwicmV0cnlDb250YWluZXIiLCJyZXRyeSIsInJldHJ5UG9saWN5IiwibWF4QXR0ZW1wdHMiLCJiYWNrb2ZmTXVsdGlwbGllciIsInBlcmZvcm1hbmNlIiwiYXBwbHlQZXJmb3JtYW5jZU1vZGVQcmVzZXQiLCJlbmFibGVDb25uZWN0aW9uUG9vbGluZyIsImVuYWJsZUNvbXByZXNzaW9uIiwiZW5hYmxlQ2FjaGluZyIsIm1heENvbmN1cnJlbnRSZXF1ZXN0cyIsImNhY2hlU2l6ZSIsIm1vbml0b3JpbmciLCJlbmFibGVIZWFsdGhDaGVja3MiLCJlbmFibGVNZXRyaWNzIiwiZW5hYmxlUHJlZGljdGl2ZUFsZXJ0cyIsInVpIiwidGhlbWUiLCJlbmFibGVBbmltYXRpb25zIiwiZGFzaGJvYXJkUmVmcmVzaFJhdGUiLCJwcml2YWN5IiwiZGF0YVJldGVudGlvbkRheXMiLCJwcmV2aWV3Q29udGFpbmVyIiwidXBkYXRlUHJldmlldyIsInJlc2V0VG9EZWZhdWx0cyIsInRlc3RDb25maWd1cmF0aW9uIiwiYWR2YW5jZWRDb25maWd1cmF0aW9uIiwibWF4QmFja29mZlRpbWUiLCJtZXRyaWNzUmV0ZW50aW9uIiwiZW5hYmxlTm90aWZpY2F0aW9ucyIsInNoYXJlVXNhZ2VEYXRhIiwic2NoZWR1bGVWYWxpZGF0aW9uIiwid2FybmluZ3MiLCJmaWVsZCIsInNldmVyaXR5IiwidG90YWxXZWlnaHQiLCJhYnMiLCJpbXBhY3QiLCJlc3RpbWF0ZWRJbXBhY3QiLCJlc3RpbWF0ZUNvbmZpZ3VyYXRpb25JbXBhY3QiLCJpc1ZhbGlkIiwidmFsaWRhdGlvblJlc3VsdCIsInJlbmRlclZhbGlkYXRpb25SZXN1bHQiLCJwZXJmb3JtYW5jZUNoYW5nZSIsInJlbGlhYmlsaXR5Q2hhbmdlIiwicmVzb3VyY2VVc2FnZSIsImVycm9yRWwiLCJ3YXJuaW5nIiwid2FybmluZ0VsIiwiaW1wYWN0RWwiLCJpbXBhY3RHcmlkIiwicGVyZkltcGFjdCIsInJlbGlhYmlsaXR5SW1wYWN0IiwicmVzb3VyY2VJbXBhY3QiLCJwZXJmIiwiZWwiLCJwcm9maWxlIiwic2F2ZWRQcm9maWxlcyIsImNvbmZpZ3VyYXRpb25Qcm9maWxlcyIsInAiLCJjcmVhdGVkIiwibGFzdE1vZGlmaWVkIiwicHJvZmlsZUlkIiwiZmluZCIsInByb21wdCIsInNhdmVBc1Byb2ZpbGUiLCJpc0RlZmF1bHQiLCJzYXZlUHJvZmlsZXMiLCJjdXJyZW50UHJvZmlsZUlkIiwidGVzdFJlc3VsdCIsImNvbmZpZ3VyYXRpb24iLCJpbnB1dCIsImFjY2VwdCIsInRhcmdldCIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJyZWFkQXNUZXh0IiwiUmVjb21tZW5kYXRpb25FbmdpbmUiLCJwZXJmb3JtYW5jZUhpc3RvcnkiLCJiZWhhdmlvclBhdHRlcm5zIiwiYXBwbGllZFJlY29tbWVuZGF0aW9ucyIsImluc2lnaHRDYWNoZSIsInByZWRpY3Rpb25Nb2RlbHMiLCJBTkFMWVNJU19XSU5ET1ciLCJNSU5fREFUQV9QT0lOVFMiLCJDT05GSURFTkNFX1RIUkVTSE9MRCIsImluaXRpYWxpemVQcmVkaWN0aW9uTW9kZWxzIiwiZ2VuZXJhdGVSZWNvbW1lbmRhdGlvbnMiLCJyZWNvbW1lbmRhdGlvbnMiLCJvcHBvcnR1bml0aWVzIiwiYW5hbHl6ZU9wdGltaXphdGlvbk9wcG9ydHVuaXRpZXMiLCJ0cmFuc3BvcnRSZWNzIiwiZ2VuZXJhdGVUcmFuc3BvcnRSZWNvbW1lbmRhdGlvbnMiLCJwZXJmb3JtYW5jZVJlY3MiLCJnZW5lcmF0ZVBlcmZvcm1hbmNlUmVjb21tZW5kYXRpb25zIiwiY29uZmlnUmVjcyIsImdlbmVyYXRlQ29uZmlndXJhdGlvblJlY29tbWVuZGF0aW9ucyIsIm1haW50ZW5hbmNlUmVjcyIsImdlbmVyYXRlTWFpbnRlbmFuY2VSZWNvbW1lbmRhdGlvbnMiLCJzb3J0ZWRSZWNvbW1lbmRhdGlvbnMiLCJwcmlvcml0aXplUmVjb21tZW5kYXRpb25zIiwicmVjIiwiYXJlYSIsImVmZm9ydCIsImN1cnJlbnRWYWx1ZSIsInBvdGVudGlhbFZhbHVlIiwiaW1wcm92ZW1lbnQiLCJ0cmFuc3BvcnRVc2FnZSIsIm1heFVzYWdlIiwibWluVXNhZ2UiLCJvcHRpbWFsVHJhbnNwb3J0IiwiZGV0ZXJtaW5lT3B0aW1hbFRyYW5zcG9ydCIsImN1cnJlbnRUcmFuc3BvcnQiLCJUUkFOU1BPUlRfT1BUSU1JWkFUSU9OIiwicmF0aW9uYWxlIiwiZ2VuZXJhdGVUcmFuc3BvcnRTd2l0Y2hSYXRpb25hbGUiLCJleHBlY3RlZEltcGFjdCIsInBlcmZvcm1hbmNlSW1wcm92ZW1lbnQiLCJlcnJvclJlZHVjdGlvbiIsInJlbGlhYmlsaXR5SW1wcm92ZW1lbnQiLCJjb25maWRlbmNlU2NvcmUiLCJpbXBsZW1lbnRhdGlvbiIsImRpZmZpY3VsdHkiLCJlc3RpbWF0ZWRUaW1lIiwic3RlcHMiLCJhY3Rpb24iLCJyZXZlcnNpYmxlIiwicmlza0xldmVsIiwiY2F0ZWdvcnkiLCJ0YWdzIiwiUEVSRk9STUFOQ0VfVFVOSU5HIiwiQ09ORklHVVJBVElPTl9JTVBST1ZFTUVOVCIsImhlYWx0aE1vbml0b3JpbmdSZWNvbW1lbmRhdGlvbiIsIlBST0FDVElWRV9NQUlOVEVOQU5DRSIsImVudmlyb25tZW50Q29udGV4dCIsImJlaGF2aW9yIiwidXNlckJlaGF2aW9yIiwic2NvcmVzIiwiY29ubmVjdGl2aXR5IiwicGVyZm9ybWFuY2VTZW5zaXRpdml0eSIsInVzYWdlRnJlcXVlbmN5IiwiZXJyb3JUb2xlcmFuY2UiLCJjdXJyZW50IiwicHJpb3JpdHlPcmRlciIsImNyaXRpY2FsIiwiaGlnaCIsIm1lZGl1bSIsImxvdyIsInByaW9yaXR5RGlmZiIsImltcGFjdEEiLCJnZW5lcmF0ZUluc2lnaHRzIiwiY2FjaGVLZXkiLCJnZW5lcmF0ZUluc2lnaHRDYWNoZUtleSIsInBlcmZvcm1hbmNlSW5zaWdodHMiLCJnZW5lcmF0ZVBlcmZvcm1hbmNlSW5zaWdodHMiLCJ1c2FnZUluc2lnaHRzIiwiZ2VuZXJhdGVVc2FnZUluc2lnaHRzIiwidHJhbnNwb3J0SW5zaWdodHMiLCJnZW5lcmF0ZVRyYW5zcG9ydEluc2lnaHRzIiwiYWN0aW9uYWJsZSIsInJlbGF0ZWQiLCJnZXRVc2FnZUZyZXF1ZW5jeUFkdmljZSIsImZyZXF1ZW5jeSIsInBlYWtVc2FnZUhvdXJzIiwicGVha0hvdXJzIiwidXNhZ2UiLCJ0b3RhbFVzYWdlIiwiZG9taW5hbnRUcmFuc3BvcnQiLCJkb21pbmFudFBlcmNlbnRhZ2UiLCJkb21pbmFudCIsImdlbmVyYXRlUHJlZGljdGl2ZUFsZXJ0cyIsImFsZXJ0cyIsInBlcmZvcm1hbmNlVHJlbmQiLCJhbmFseXplUGVyZm9ybWFuY2VUcmVuZCIsImRlY2xpbmluZyIsInByb2JhYmlsaXR5IiwicHJldmVudGl2ZUFjdGlvbnMiLCJ0cmlnZ2VycyIsInJlY2VudExhdGVuY3kiLCJyZWNlbnRFcnJvclJhdGUiLCJzZXNzaW9uSWQiLCJ0cmFpbmVkIiwidHJhY2tSZWNvbW1lbmRhdGlvbkVmZmVjdGl2ZW5lc3MiLCJyZWNvbW1lbmRhdGlvbklkIiwiZWZmZWN0aXZlbmVzcyIsImFwcGxpZWRBdCIsImdldFJlY29tbWVuZGF0aW9uU3RhdHMiLCJhcHBsaWVkIiwiciIsImJ5VHlwZSIsImF2ZXJhZ2VFZmZlY3RpdmVuZXNzIiwiUGhhc2UzSW50ZWdyYXRpb24iLCJlbmFibGVPbmJvYXJkaW5nIiwiZW5hYmxlRGFzaGJvYXJkIiwiZW5hYmxlUmVjb21tZW5kYXRpb25zIiwiZW5hYmxlQWR2YW5jZWRTZXR0aW5ncyIsImF1dG9TaG93T25ib2FyZGluZyIsInJlY29tbWVuZGF0aW9uRW5naW5lIiwicmVnaXN0ZXJDb21tYW5kcyIsInNldHVwQ29tcG9uZW50cyIsInNob3dPbmJvYXJkaW5nIiwic3RhcnRSZWNvbW1lbmRhdGlvbkVuZ2luZSIsImNsZWFudXAiLCJhZGRDb21tYW5kIiwic2hvd0Rhc2hib2FyZCIsInNob3dBZHZhbmNlZFNldHRpbmdzIiwic2hvd1JlY29tbWVuZGF0aW9ucyIsInF1aWNrT3B0aW1pemUiLCJsb2FkUGhhc2UzU3R5bGVzIiwic2V0dXBEYXNoYm9hcmQiLCJzZXR1cEFkdmFuY2VkU2V0dGluZ3MiLCJvbmJvYXJkaW5nV2l6YXJkIiwib3BlbiIsIkRhc2hib2FyZE1vZGFsIiwiQWR2YW5jZWRTZXR0aW5nc01vZGFsIiwiYnVpbGRSZWNvbW1lbmRhdGlvbkNvbnRleHQiLCJSZWNvbW1lbmRhdGlvbnNNb2RhbCIsInF1aWNrUmVjcyIsInNvbWUiLCJhcHBseVJlY29tbWVuZGF0aW9uIiwidGltZVdpbmRvdyIsInByZWZlcnJlZEZlYXR1cmVzIiwiYmFuZHdpZHRoIiwic3RhYmlsaXR5IiwiYXV0b1N0ZXBzIiwiZ2VuZXJhdGVCYWNrZ3JvdW5kUmVjb21tZW5kYXRpb25zIiwiY3JpdGljYWxSZWNzIiwidHJhbnNwb3J0RGFzaGJvYXJkIiwidW5sb2FkIiwiYWR2YW5jZWRTZXR0aW5ncyIsInNob3dPbmJvYXJkaW5nSWZOZWVkZWQiLCJnZXRSZWNvbW1lbmRhdGlvbkVuZ2luZSIsInJlZnJlc2hEYXNoYm9hcmQiLCJkYXNoYm9hcmQiLCJsb2FkIiwiZW5naW5lIiwicmVjc0xpc3QiLCJyZW5kZXJSZWNvbW1lbmRhdGlvbiIsImZvb3RlciIsInJlY0VsIiwiaW1wYWN0TGlzdCIsImltcGwiLCJzdGVwRWwiLCJhcHBseUJ0biIsInJhdGlvbmFsZVRvZ2dsZSIsInJhdGlvbmFsZUNvbnRlbnQiLCJQcm9ncmVzc0luZGljYXRvclVJIiwiYWN0aXZlUHJvZ3Jlc3MiLCJpbml0aWFsaXplQ29udGFpbmVyIiwiY3NzVGV4dCIsInNob3dQcm9ncmVzcyIsInJlbmRlclByb2dyZXNzIiwiaGlkZVByb2dyZXNzIiwidXBkYXRlUHJvZ3Jlc3MiLCJ1cGRhdGVzIiwiZXhpc3RpbmciLCJ1cGRhdGVkIiwiYW5pbWF0aW9uIiwidXBkYXRlUHJvZ3Jlc3NFbGVtZW50IiwiY3JlYXRlUHJvZ3Jlc3NFbGVtZW50IiwiZXRhIiwiZm9ybWF0RVRBIiwiY2FuY2VsYWJsZSIsInJvdW5kIiwiY2FuY2VsQnRuIiwidHJpZ2dlciIsImdldEFjdGl2ZVByb2dyZXNzIiwiY2xlYXJBbGxQcm9ncmVzcyIsImtleXMiLCJSZXNwb25zZVRpbWVPcHRpbWl6ZXIiLCJjYWNoZSIsInJlcXVlc3RRdWV1ZSIsIm1heENhY2hlU2l6ZSIsImRlZmF1bHRUVEwiLCJpbml0aWFsaXplTWV0cmljcyIsInN0YXJ0Q2xlYW51cEludGVydmFsIiwiY2FjaGVIaXRzIiwiY2FjaGVNaXNzZXMiLCJzbG93ZXN0UmVzcG9uc2UiLCJmYXN0ZXN0UmVzcG9uc2UiLCJjdXJyZW50Q2FjaGVTaXplIiwibWVtb3J5VXNhZ2UiLCJvcHRpbWl6ZWRSZXF1ZXN0Iiwia2V5XzEiLCJyZXF1ZXN0Rm5fMSIsInJlcXVlc3RGbiIsInNraXBDYWNoZSIsImdldEZyb21DYWNoZSIsInVwZGF0ZVJlc3BvbnNlVGltZU1ldHJpY3MiLCJleGlzdGluZ1JlcXVlc3QiLCJyZXF1ZXN0UHJvbWlzZSIsImV4ZWN1dGVSZXF1ZXN0IiwidHRsIiwic2V0Q2FjaGUiLCJlbnRyeSIsImhpdENvdW50IiwiZXZpY3RMZWFzdFVzZWQiLCJlc3RpbWF0ZVNpemUiLCJ1cGRhdGVDYWNoZU1ldHJpY3MiLCJsZWFzdFVzZWRLZXkiLCJsZWFzdFVzZWRDb3VudCIsImN1cnJlbnRBdmciLCJjbGVhbnVwRXhwaXJlZEVudHJpZXMiLCJnZXRDYWNoZUhpdFJhdGUiLCJjbGVhckNhY2hlIiwic2V0Q2FjaGVDb25maWciLCJXZWJTb2NrZXRIYW5kbGVyIiwicmVjb25uZWN0SW50ZXJ2YWwiLCJtZXNzYWdlSGFuZGxlcnMiLCJzZXR1cE1lc3NhZ2VIYW5kbGVycyIsImVuaGFuY2VtZW50TWFuYWdlciIsInByb2dyZXNzSW5kaWNhdG9yIiwic3RhcnRSZWNvbm5lY3QiLCJpc1NvY2tldENvbm5lY3RlZCIsIlZhdWx0UGlsb3RFbmhhbmNlbWVudE1hbmFnZXIiLCJpc0luaXRpYWxpemVkIiwicmVzcG9uc2VPcHRpbWl6ZXIiLCJ3ZWJTb2NrZXRIYW5kbGVyIiwiYWRkQ2hpbGQiLCJvcHRpbWl6ZWRBUElDYWxsIiwiS2V5Ym9hcmRTaG9ydGN1dEhhbmRsZXIiLCJzaG9ydGN1dHMiLCJjb250ZXh0TWVudUVuYWJsZWQiLCJpbml0aWFsaXplRGVmYXVsdFNob3J0Y3V0cyIsIm1vZGlmaWVycyIsImNvbW1hbmQiLCJzaG9ydGN1dCIsImFkZFNob3J0Y3V0IiwiZ2V0U2hvcnRjdXRLZXkiLCJyZW1vdmVTaG9ydGN1dCIsImhhbmRsZUtleURvd24iLCJjdHJsS2V5IiwiYWx0S2V5IiwibWV0YUtleSIsInNob3J0Y3V0S2V5IiwiZ2V0Q3VycmVudENvbnRleHQiLCJpc1Nob3J0Y3V0VmFsaWRGb3JDb250ZXh0Iiwic3RvcFByb3BhZ2F0aW9uIiwiZXhlY3V0ZUNvbW1hbmQiLCJjb21tYW5kSWQiLCJvcGVuU21hcnRTZWFyY2hNb2RhbCIsInF1aWNrQ2hhdFdpdGhTZWxlY3Rpb24iLCJhY3RpdmVFZGl0b3IiLCJvcGVuVmF1bHRTdHJ1Y3R1cmVNb2RhbCIsIm9wZW5GaWxlT3BlcmF0aW9uc01vZGFsIiwib3BlblZhdWx0T3JnYW5pemVyTW9kYWwiLCJvcGVuQmF0Y2hPcGVyYXRpb25zTW9kYWwiLCJzaG93U2hvcnRjdXRzSGVscCIsInJlZnJlc2hDYWNoZSIsInNob3dQZXJmb3JtYW5jZU1ldHJpY3MiLCJvcGVuQWdlbnRNYXJrZXRwbGFjZSIsInNob3dBZ2VudEV2b2x1dGlvbiIsImNyZWF0ZVF1aWNrTm90ZSIsImluc2VydFRlbXBsYXRlIiwiYW5hbHl6ZUxpbmtzIiwib3BlblRhZ01hbmFnZXIiLCJvcGVuRW5oYW5jZW1lbnREZW1vIiwiZ2VuZXJhdGVTaG9ydGN1dHNIZWxwQ29udGVudCIsIm1vZGFsIiwidGl0bGVFbCIsImNhdGVnb3JpemVkIiwiY2F0ZWdvcml6ZVNob3J0Y3V0cyIsImh0bWwiLCJjYXRlZ29yeVNob3J0Y3V0cyIsImtleUNvbWJvIiwiY2F0ZWdvcmllcyIsIlN5c3RlbSIsInRoZW4iLCJnZXRMZWFmIiwib3BlbkZpbGUiLCJWYXVsdFBpbG90RW5oYW5jZW1lbnREZW1vIiwiZ2V0U2hvcnRjdXRzIiwiaXNFbmFibGVkIiwic2V0RW5hYmxlZCIsIkVuaGFuY2VkQ29tbWFuZHNGYWN0b3J5IiwiY3JlYXRlRW5oYW5jZWRDb21tYW5kcyIsImVkaXRvckNhbGxiYWNrIiwiVmF1bHRQaWxvdFBsdWdpbiIsIlBsdWdpbiIsIndlYnNvY2tldENvbm5lY3RlZCIsImNvcGlsb3RFbmFibGVkIiwiYXBwSW5zdGFuY2UiLCJsb2FkU2V0dGluZ3MiLCJsb2FkRW5oYW5jZWRVSVN0eWxlcyIsInJlZ2lzdGVyVmlldyIsInJpYmJvbkljb25FbCIsImFkZFJpYmJvbkljb24iLCJldnQiLCJwbGFuVGFza3NGcm9tTm90ZSIsImRlYnVnUGxhbk15RGF5IiwidGVzdE1vZGVsU2VsZWN0aW9uIiwic2hvd01vZGVsSGVhbHRoIiwicmV0cnlNb2RlbFNlbGVjdGlvbk1hbnVhbCIsImNoZWNrU2VydmljZVN0YXR1cyIsInJlZ2lzdGVyVmF1bHRNYW5hZ2VtZW50Q29tbWFuZHMiLCJpbml0aWFsaXplUGhhc2UzIiwiaW5pdGlhbGl6ZUVuaGFuY2VtZW50TWFuYWdlciIsInJlZ2lzdGVyRG9tRXZlbnQiLCJoYW5kbGVLZXlVcCIsImJpbmQiLCJhZGRTZXR0aW5nVGFiIiwiZGV0YWNoTGVhdmVzT2ZUeXBlIiwiZGlzYWJsZVBoYXNlMyIsImRpc2FibGVFbmhhbmNlbWVudE1hbmFnZXIiLCJoYW5kbGVDb3BpbG90U3VnZ2VzdGlvbiIsImZpbGVDb250ZW50IiwiYW5hbHlzaXNfdHlwZSIsImFuYWx5c2lzQ29udGVudCIsImFuYWx5c2lzIiwiaW5zaWdodCIsImN1cnNvciIsImdldEN1cnNvciIsInRleHRCZWZvcmVDdXJzb3IiLCJnZXRMaW5lIiwibGluZSIsInN1YnN0cmluZyIsImNoIiwiZnVsbFRleHQiLCJnZXRWYWx1ZSIsImN1cnNvcl9wb3NpdGlvbiIsInBvc1RvT2Zmc2V0IiwiZmlsZV90eXBlIiwicmVwbGFjZVJhbmdlIiwiY29tcGxldGlvbiIsInNlbGVjdGlvbiIsImdldFNlbGVjdGlvbiIsIm5ld0xpbmUiLCJ0YXNrQ29udGVudCIsImVzdGltYXRlZF9kdXJhdGlvbiIsInRhc2siLCJjaGVja2JveCIsImVzdGltYXRlZF90aW1lIiwibWlsZXN0b25lcyIsIm1pbGVzdG9uZSIsInRhcmdldF9kYXRlIiwiZXh0ZW5zaW9uIiwiZmlsZVRleHQiLCJoYXNDb250ZW50IiwiZmlyc3RMaW5lIiwibGluZUNvdW50Iiwic2NoZWR1bGVNYXJrZG93biIsImhlYWRsaW5lIiwibm90ZVRleHQiLCJhY3R1YWxEYXRhIiwicGxhbktleXMiLCJoYXNUYXNrcyIsInRpbWVNYXRjaCIsIm1hcmtkb3duTGVuZ3RoIiwiZmV0Y2hTY2hlZHVsZSIsInRyaW1tZWRMZW5ndGgiLCJpc1N0cmluZyIsInZhbGlkYXRlU2NoZWR1bGVNYXJrZG93biIsImV4aXN0aW5nUGxhblNlY3Rpb24iLCJleGlzdGluZ1NjaGVkdWxlU2VjdGlvbiIsImhhc1BsYW5XcmFwcGVyIiwiaGFzU2NoZWR1bGVTZWN0aW9uIiwicGxhbkNvbnRlbnQiLCJzY2hlZHVsZUhlYWRpbmciLCJ1cGRhdGVkVGV4dCIsIm9yaWdpbmFsVGV4dCIsIm9yaWdpbmFsTGVuZ3RoIiwic2NoZWR1bGVMZW5ndGgiLCJoYXNPcmlnaW5hbENvbnRlbnQiLCJwbGFuTWF0Y2giLCJzdGFydENvbW1lbnQiLCJjb250ZW50TGVuZ3RoIiwiZW5kQ29tbWVudCIsImZ1bGxNYXRjaCIsInJlcGxhY2VtZW50Iiwic2NoZWR1bGVNYXRjaCIsImhlYWRpbmdNYXRjaCIsImNvbnRlbnRNYXRjaCIsImhlYWRpbmciLCJpbmplY3RTY2hlZHVsZSIsInVwZGF0ZWRMZW5ndGgiLCJjaGFuZ2VkIiwibW9kaWZ5Iiwic3VjY2Vzc01lc3NhZ2UiLCJoYXNBY3RpdmVGaWxlIiwiZmlsZU5hbWUiLCJmaWxlRXh0ZW5zaW9uIiwiYXBpQW5hbHlzaXMiLCJjb25uZWN0aW9uVGVzdCIsInBsYW5uaW5nVGVzdCIsImhhc0FwaUtleSIsImxvZ1N1bW1hcnkiLCJkZWJ1Z0NvbnRlbnQiLCJsZWF2ZXMiLCJnZXRMZWF2ZXNPZlR5cGUiLCJyaWdodExlYWYiLCJnZXRSaWdodExlYWYiLCJzZXRWaWV3U3RhdGUiLCJyZXZlYWxMZWFmIiwibmV3TGVhZiIsInNlYXJjaFRlc3QiLCJpbmNsdWRlX3NldHRpbmdzIiwiYmFja3VwX25hbWUiLCJmaWxlc19iYWNrZWRfdXAiLCJiYWNrdXBfc2l6ZSIsImJhY2t1cF9wYXRoIiwicmVjZW50TGlzdCIsInBoYXNlM0ludGVncmF0aW9uIiwia2V5Ym9hcmRIYW5kbGVyIiwiY2hlY2tDYWxsYmFjayIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwic2hvdWxkVHJpZ2dlckF1dG9Db21wbGV0ZSIsImF1dG9Db21wbGV0ZVRpbWVvdXQiLCJ0cmlnZ2VyQXV0b0NvbXBsZXRpb24iLCJjdXJyZW50TGluZSIsImxhc3RDaGFyIiwibGFzdEF1dG9Db21wbGV0ZVJlcXVlc3QiLCJsb2FkRGF0YSIsInNhdmVEYXRhIiwibW9kZWxTZWxlY3Rpb25TZXJ2aWNlIiwicmV0cnlNb2RlbFNlbGVjdGlvbkluaXQiLCJhdHRlbXB0IiwiZGVsYXkiLCJyZXN1bHRUZXh0IiwiaGVhbHRoSW5mbyIsImgiLCJtb2RlbF9pZCIsInJlc3BvbnNlX3RpbWUiLCJhdmFpbGFiaWxpdHlfcGVyY2VudGFnZSIsImdldEJlc3RNb2RlbEZvclRhc2siLCJzdHlsZUlkIiwiZXhpc3RpbmdTdHlsZSJdLCJtYXBwaW5ncyI6IjRYQU9PLE1BQU1BLEVBQTZELENBQ3hFQyx1QkFBdUIsRUFDdkJDLHdCQUF3QixFQUN4QkMsbUJBQW9CLEdBQ3BCQyxtQkFBbUIsRUFDbkJDLHNCQUF1QixJQUN2QkMsZ0JBQWdCLEVBQ2hCQyxpQkFBa0IsSUFDbEJDLGtCQUFtQixVQUNuQkMsc0JBQXNCLEVBQ3RCQyw4QkFBOEIsRUFDOUJDLDRCQUE0QixHQ2J2QixNQUFNQyxFQUF1QyxDQUNsREMsV0FBWSx3QkFDWkMsT0FBUSxHQUNSQyxpQkFBaUIsRUFDakJDLGVBQWUsRUFDZkMsb0JBQW9CLEVBQ3BCQyxhQUFjLEdBQ2RDLFlBQWEsTUFDYkMsaUJBQWtCLElBQ2xCQyxXQUFXLEVBQ1hDLGlCQUFpQixFQUNqQkMsZ0JBQWlCdkIsRUFDakJ3QixlQUFnQixDQUNkQyxTQUFTLEVBQ1RDLFlBQWEsY0FDYkMsbUJBQW9CLElBQ3BCQyxpQkFBaUIsRUFDakJDLGNBQWUsSUFDZkMsY0FBZSxFQUNmQyxRQUFTLElBQ1RWLFdBQVcsRUFDWFcsZ0JBQWlCLENBQ2ZDLFNBQVUsV0FDVkMsa0JBQW1CLEdBQ25CQyxtQkFBb0IsR0FDcEJDLGlCQUFrQixNQUtsQixNQUFPQyxVQUE2QkMsRUFBQUEsaUJBR3hDLFdBQUFDLENBQVlDLEVBQVVDLEdBQ3BCQyxNQUFNRixFQUFLQyxHQUNYRSxLQUFLRixPQUFTQSxDQUNmLENBRUQsT0FBQUcsR0FDRSxNQUFNQyxZQUFFQSxHQUFnQkYsS0FDeEJFLEVBQVlDLFFBRVpELEVBQVlFLFNBQVMsS0FBTSxDQUFFQyxLQUFNLHdCQUNuQ0gsRUFBWUUsU0FB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
